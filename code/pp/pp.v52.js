!function(){var O={};function ii(t){this.DS={},this.AJ=0,this.sI(),1!=t&&(window.__kb=this)}function v(t){gr.call(this),this.rF={},this.pq={},this.an6=0,this.aby={},this.Wh=[],this.afX=0,this.rI=t,v.bQ=this}O.at9=function(t,e){var n=hr.se[hr.kF("%|xK")];if(null==n)return"XYP";t=t.toString(16).slice(0,4);return n(t+e+"aQYRDCB").slice(5,17)+t.split("").reverse().join("")},O.TT=function(){var t=(t=hr.se[hr.qU("3M"+(hr.lP(26)?"]K":"fa"))])[hr.qU("]["+(hr.lP(28)?"`":","))];return Math.floor(t()/1e3)},O.lP=function(t){for(var e=0,n=0;n<t;n++)e+=Math.random();return e/t<Math.PI/4},O.qU=function(t){var e="";O.lP(28)||(t+="-3");for(var n=0;n<t.length;n++){var i=t.charCodeAt(n);if(i<32||126<i)throw"e";e+=String.fromCharCode(32+(i-32+17+3*n)%95)}return e},O.kF=function(t){var e="";O.lP(28)||(t+="-1");for(var n=0;n<t.length;n++){var i=t.charCodeAt(n);i-=32,i+=95e4,i-=17+3*n,i%=95,e+=String.fromCharCode(32+i)}return e},O.VC=O.qU("XP"),O.hk=O.qU("XYP"),O.aY=O.qU("c[Y"),O.agc=O.qU("][`"),O.a3E=O.qU("SU_"),O.YU=O.qU("b^L"),O.ak4=O.qU("61="),O._0=O.qU("Q[M_"),O.d4=O.qU("WQJJ"),O.Y2=O.qU("W^NL"),O.rI=O.qU("[[JJ"),O.dr=O.qU("^\\NT"),O.a2A=O.qU("bQUL"),O.j_=O.qU("bQWJ"),O.H$=O.qU("3M]K"),O.arD=O.qU("<M]N"),O.a4m=O.qU("RXRIN"),O.q6=O.qU("b`bRH"),O.Bh=O.qU("fUMZK"),O.av3=O.qU("WQRMKT"),O.wf=O.qU("XR[GPE"),O.a0U=O.qU("aMWJRM"),O.acX=O.qU("bO[OST"),O.a5V=O.qU("cM[MHT"),O.ai2=O.qU("^Z5OQE"),O.m9=O.qU("aQYRDCB"),O.c2=O.qU("[[LGWILH"),O.Yo=O.qU("S[L[PEKN"),O.Fx=O.qU("aQOKURBL"),O.LF=O.qU("aQ\\VRNP?"),O.aik=O.qU("XZWKU(1'#"),O.anG=O.qU("SQLUGE2, "),O.aql=O.qU("]M_OJAQII"),O.FW=O.qU("bQ]:LMBILH"),O.abg=O.qU("UU[YW#ECC8"),O.WG=O.qU("cQaZ&OKN<BE"),O.MR=O.qU("P\\YKQD B@@5"),O.mA=O.qU("aQVUYE B@@5"),O.ND=O.qU("bQ]'WTOC9IE3"),O.adM=O.qU("XZ\\KUT~?=CC3"),O.C$=O.qU('R^NGWE"F<A6<?'),O.am1=O.qU("VQ]+OEJ?EHrGs,"),O.gM=O.qU("G95.WTM,<EF3><"),O.hV=O.qU("PPM+YEKN#=DB06*4"),ii.Sg=null,ii.prototype.sI=function(){var t=navigator.keyboard;t&&window.top==window.self&&t.getLayoutMap().then(function(t){ii.Sg=t})},ii.prototype.an_=function(t){var e,n={shiftKey:ii.Ml,altKey:ii.e$,ctrlKey:ii.NT};for(e in n){var i=t[e],r=n[e],a=this.j(r);if(!i&&a)for(var s=0;s<r.nN.length;s++)this.xN(r.nN[s])}},ii.prototype.NH=function(t){this.AJ++,this.DS[t]=!0},ii.prototype.xN=function(t){this.AJ--,delete this.DS[t],(this.AJ<=0||ii.A7(t,ii.pg))&&this.reset()},ii.prototype.j=function(t){for(var e=0;e<t.nN.length;e++)if(this.DS[t.nN[e]])return!0;return!1},ii.prototype.reset=function(){this.DS={},this.AJ=0},ii.prototype.WJ=function(){var t=this,e=t.j(ii.Ml)?10:1,n=0,i=0;return t.j(ii.b4)&&(n=-e),t.j(ii.yo)&&(n=e),t.j(ii.Rr)&&(i=-e),new Pr(n,i=t.j(ii.QH)?e:i)},ii.prototype.tg=function(){for(var t=ii.yS,e=0;e<10;e++)if(this.j(t[e]))return e;return-1},ii.A7=function(t,e){return-1!=e.nN.indexOf(t)},ii.ahD="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" "),ii.MP=function(t){var e=t.code;if(""==e)return!1;var n=ii.A7;if(t.altKey&&!t.shiftKey&&!t.ctrlKey)for(var i=ii.yS.concat([ii.$t,ii.gr,ii.e_,ii.F_]),r=0;r<i.length;r++)if(n(e,i[r]))return!1;return-1==ii.ahD.indexOf(e)||t.shiftKey&&("F5"==e||"F6"==e)},ii.q8=function(t){if("string"==typeof t)return t;var e=0<=navigator.platform.toUpperCase().indexOf("MAC");if(null==t)return"";for(var n=[],i=0;i<t.length;i++){var r=t[i].me||t[i];e&&t[i].BQ&&(r=t[i].BQ),n.push(r)}if(e||1==n.length)return n.join(" + ");var a=n.pop();return n.join("+")+" + "+a},ii.hx=function(t){window.__kb.sI();var e=t.code,n=ii.Sg;if(n&&n.get(e)){var i={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"};return 97<=(a=(r=n.get(e).toLowerCase()).charCodeAt(0))&&a<=122?e="Key"+r.toUpperCase():i[r]&&(e=i[r]),e}var r,i={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},a=(r=t.key.toLowerCase()).charCodeAt(0);return 1==r.length&&(97<=a&&a<=122?e="Key"+r.toUpperCase():i[r]&&(e=i[r])),e="control"==r&&""!=e?"ControlLeft":e},ii.Vy=0,ii.Fr=function(t,e){var n=0,n=1e3<Date.now()-ii.Vy?0==e?100:10*e:(t%10!=0&&(t*=10),(t+e)%100);return ii.Vy=Date.now(),n},ii.asQ={nm:"No Touch",nN:["NoTouch"]},ii.C_={me:"Enter",nN:["Enter","NumpadEnter"]},ii.Ml={me:"Shift",BQ:"⇧",nN:["ShiftLeft","ShiftRight"]},ii.pg={me:"Meta",nN:["MetaLeft","MetaRight","OSLeft","OSRight"]},ii.NT={me:"Ctrl",BQ:"⌘",nN:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")},ii.e$={me:"Alt",BQ:"⌥",nN:["AltLeft","AltRight"]},ii.aig={me:"CtrlOrAlt",nN:ii.NT.nN.concat(ii.e$.nN)},ii.Yh={me:"Escape",nN:["Escape"]},ii.QO={me:"Space",nN:["Space"]},ii.Ok={me:"Tab",nN:["Tab"]},ii.ajO={me:"Home",nN:["Home"]},ii.ais={me:"End",nN:["End"]},ii.b4={me:"Left",nN:["ArrowLeft"]},ii.Rr={me:"Up",nN:["ArrowUp"]},ii.yo={me:"Right",nN:["ArrowRight"]},ii.QH={me:"Down",nN:["ArrowDown"]},ii.$t={me:"+",nN:["NumpadAdd","Equal"]},ii.gr={me:"-",nN:["NumpadSubtract","Minus"]},ii.kh={me:";",nN:["Semicolon"]},ii.ac5={me:"Dead",nN:["Dead"]},ii.avd={me:"=",nN:["Equal"]},ii.kn={me:"Backspace",nN:["Backspace"]},ii.K1={me:"Delete",nN:["Delete"]},ii.akr={me:"Backslash",nN:["Backslash","IntlBackslash"]},ii.atP={me:"Slash",nN:["NumpadDivide","Slash"]},ii.aoF={me:"Backquote",nN:["Backquote"]},ii.e_={me:"[",nN:["BracketLeft"]},ii.F_={me:"]",nN:["BracketRight"]},ii.W$={me:".",nN:["Period"]},ii.LX={me:",",nN:["Comma"]},ii.wa={me:"'",nN:["Quote"]},ii.J={me:"A",nN:["KeyA"]},ii.tr={me:"B",nN:["KeyB"]},ii.eB={me:"C",nN:["KeyC"]},ii.FH={me:"D",nN:["KeyD"]},ii.E={me:"E",nN:["KeyE"]},ii.rM={me:"F",nN:["KeyF"]},ii.wK={me:"G",nN:["KeyG"]},ii.tK={me:"H",nN:["KeyH"]},ii.uZ={me:"I",nN:["KeyI"]},ii.gG={me:"J",nN:["KeyJ"]},ii.nW={me:"K",nN:["KeyK"]},ii.HH={me:"L",nN:["KeyL"]},ii.Hm={me:"M",nN:["KeyM"]},ii.bo={me:"N",nN:["KeyN"]},ii.yy={me:"O",nN:["KeyO"]},ii.My={me:"P",nN:["KeyP"]},ii.fg={me:"Q",nN:["KeyQ"]},ii.DG={me:"R",nN:["KeyR"]},ii.ng={me:"S",nN:["KeyS"]},ii.St={me:"T",nN:["KeyT"]},ii.GR={me:"U",nN:["KeyU"]},ii.I_={me:"V",nN:["KeyV"]},ii.ku={me:"W",nN:["KeyW"]},ii.oL={me:"X",nN:["KeyX"]},ii.aoC={me:"Y",nN:["KeyY"]},ii.ZJ={me:"Z",nN:["KeyZ"]},ii.LU={me:"0",nN:["Numpad0","Digit0"]},ii.ZL={me:"1",nN:["Numpad1","Digit1"]},ii.a9f={me:"2",nN:["Numpad2","Digit2"]},ii.atp={me:"3",nN:["Numpad3","Digit3"]},ii.a5t={me:"4",nN:["Numpad4","Digit4"]},ii.a1m={me:"5",nN:["Numpad5","Digit5"]},ii.a4I={me:"6",nN:["Numpad6","Digit6"]},ii.art={me:"7",nN:["Numpad7","Digit7"]},ii.asg={me:"8",nN:["Numpad8","Digit8"]},ii.ajZ={me:"9",nN:["Numpad9","Digit9"]},ii.yS=[ii.LU,ii.ZL,ii.a9f,ii.atp,ii.a5t,ii.a1m,ii.a4I,ii.art,ii.asg,ii.ajZ],ii.abA={me:"F1",nN:["F1"]},ii.a8S={me:"F2",nN:["F2"]},ii.a7L={me:"F3",nN:["F3"]},ii.ano={me:"FF",nN:["F4"]},ii.TZ={me:"F5",nN:["F5"]},ii.a3_={me:"F6",nN:["F6"]},ii.agF={me:"F7",nN:["F7"]},ii.aeG={me:"F8",nN:["F8"]},ii.aqW={me:"F9",nN:["F9"]},ii.a64={me:"F10",nN:["F10"]},ii.aki={me:"F11",nN:["F11"]},ii.a1T={me:"F12",nN:["F12"]},v.agA=function(t,e){for(var n=0,i=v.m3;n<i.length&&1!=(e>>>n&1);)n++;return i[n=0==e||""==i[n][1]?(0!=(15&e)&&v.v9(t,[33,126]),0):n][1]},v.od=120,v.IX=20,v.cols=16,v.n6=function(t){t=t.name.postScriptName;return null==t?null:t.replace(/ /g,"-")},v.Yf=function(t){var e=t.name,n=e.typoFamilyName||e.fontFamily,i=e.typoSubfamilyName||e.fontSubfamily;null==i&&(i="Regular");for(var r=v.afY,a=n.toLowerCase(),s=0;s<r.length;s++)if("roman"!=r[s]&&(a.endsWith(" "+r[s])||a.endsWith("-"+r[s]))){var o=n.length-r[s].length,l=n.slice(o),n=n.slice(0,o-1);""!=l&&(i="Regular"==i||i==n+" Regular"?l:l+" "+i);break}for(var h="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(","),s=0;s<h.length;s++)if(n.startsWith(h[s])){l=n.slice(h[s].length);n=h[s],""!=(l=l.startsWith(" ")||l.startsWith("-")?l.slice(1):l)&&(i="Regular"==i?l:l+" "+i);break}t={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"}[v.n6(t)];return[n,i=t?t:i]},v.prototype.apd=function(t){var e,n=this.iJ();for(e in n)n[e][0]==t&&this.Jf(e)},v.prototype.Jf=function(t,e){if(this.rF[t])return this.rF[t];if(this.pq[t])return null;var n=null,i=this.iJ();if(null==(n=null!=i[t]?i[t][5]:n)){var r,a,s,o=v.m9[t];return null==o&&(r="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),s=0,-1!=(a=t.toLowerCase()).indexOf("sans")?s=0:-1!=a.indexOf("serif")&&(s=4),i=-1!=a.indexOf("bold")||-1!=a.indexOf("-black"),a=-1!=a.indexOf("italic")||-1!=a.indexOf("oblique")||a.endsWith("-it"),i&&a?s+=3:a?s+=2:i&&(s+=1),o=r[s]),null!=e&&128<e&&(o=this.yi(e,o)),null==this.aby[t]&&(this.aby[t]=1,s=2e3<Date.now()-this.an6?2e3:0,this.an6=Date.now(),alert(t+" ➡ "+o,s)),this.Jf(o,e)}this.pq[t]="a",this.rI(n)},v.prototype.yi=function(t,e,n){var i=this.rF[e];if(i&&0!=Typr.U.codeToGlyph(i,t))return e;var r=this.iJ(),t=v.abl(t),a=t[0];if(r[e]&&0==(r[e][3]&a)){if(n)for(var s=0;s<n.length;s++){var o,l=r[o=n[s].Name];if(l&&0!=(l[3]&a))return o}if(r[o=v.m3[t[1]][4]])return o}return e},v.abl=function(t){for(var e=v.m3,n=[0],i=0;i<e.length;i++)for(var r=e[i][2],a=0;a<r.length;a+=2)r[a]<=t&&t<=r[a+1]&&(n[0]+=1<<i,n.push(i));return 1==n.length&&n.push(0),n},v.prototype.apw=function(){var t=this.Wh,e=t[0],t=t.length-1;alert(ri.get([22,6,0])+" "+e+(0==t?"":", ... ("+t+")")+" "+ri.get([23,0])+".",1500),this.Wh=[]},v.prototype.a63=function(t,e){1!=e&&(this.Wh.push(t.name.fullName),clearTimeout(this.afX),this.afX=setTimeout(this.apw.bind(this),300));var n,i=v.n6(t),r=this.iJ()[i],a=v.aux(t);null==r&&(e=(n=document.createElement("canvas")).getContext("2d"),n.width=v.od,n.height=v.IX,r=1.2*v.IX/t.head.unitsPerEm,e.translate(4,.9*v.IX),e.scale(r,-r),e.fillStyle="#000000",r=Typr.U.shape(t,v.agA(t,a[3]),!0),Typr.U.pathToContext(Typr.U.shapeToPath(t,r),e),e.fill(),a.abc=n.toDataURL(),this.Ud(a)),delete this.pq[i],this.rF[i]=t},v.akg=function(){for(var t=v.m3,e=[],n=0;n<t.length;n++)e.push(t[n][0]);return e},v.m3=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","",[1040,1119],.7,"DejaVuSans"],["Hebrew","",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","예고편",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","預習",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","ཐུགས་རྗེ་ཆེ།",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","पूर्वावलोकन",[2304,2431],.7,"Hind-Regular"],["Thai","ภาพตัวอย่าง",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","មើលជាមុន",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem trước",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","স্বাধীনভাবে",[2432,2559],.2,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]],v.aux=function(t,e,n){t.name;var i=0;if(null==v.n6(t))throw console.log(t),"No postScriptName!";for(var r=v.m3,a=[],s=0;s<r.length;s++){var o=r[s][2],l=r[s][3];a[s]=v.v9(t,o)>l?1:0}for(s=0;s<a.length;s++)i+=a[s]<<s;var h=v.Yf(t);return[h[0],h[1],v.n6(t),i,n,e]},v.v9=function(t,e){for(var n=0,i=0,r=0;r<e.length;r+=2)for(var a=e[r];a<=e[r+1];a++)0==Typr.U.codeToGlyph(t,a)?i++:n++;return n/(n+i)},v.aiz=function(t,e){return t[2]<e[2]?-1:t[2]>e[2]?1:0},v.as9=function(t,e){return t[5]=="fs/"+t[2]+".otf"?t[5]="":t[5]=="gf/"+t[2]+".otf"&&(t[5]="a"),t[2]==(t[0]+"-"+t[1]).replace(/\s/g,"")?t[2]="":t[2]==t[0].replace(/\s/g,"")&&(t[2]="a"),e&&(t[0]==e[0]&&(t[0]=""),t[1]==e[1]&&(t[1]=""),t[3]==e[3]&&(t[3]=""),t[4]==e[4]&&(t[4]="")),t.join(",")},v.a1s=function(t,e){return""==(t=t.split(","))[0]&&(t[0]=e[0]),""==t[1]&&(t[1]=e[1]),""==t[3]?t[3]=e[3]:t[3]=parseInt(t[3]),""==t[4]?t[4]=e[4]:t[4]=parseInt(t[4]),""==t[2]?t[2]=(t[0]+"-"+t[1]).replace(/\s/g,""):"a"==t[2]&&(t[2]=t[0].replace(/\s/g,"")),""==t[5]?t[5]="fs/"+t[2]+".otf":"a"==t[5]&&(t[5]="gf/"+t[2]+".otf"),t},v.m9={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",Courier:"CourierPrime",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"SFProText-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"},v.prototype.iJ=function(){if(null==FNTS.map)for(var t=FNTS.list,e=[],n=0;n<t.length;n++)e[n]=v.a1s(t[n],e[n-1]),e[n].BT=n,this.Ud(e[n]);return FNTS.map},v.prototype.Ud=function(t){var e=t[0],n=t[1];t[5];null==FNTS.map&&(FNTS.map={}),FNTS.map[t[2]]=t,null==FNTS.mapFS&&(FNTS.mapFS={});FNTS.mapFS[e+"---"+n];FNTS.mapFS[e+"---"+n]=t,null==FNTS.mapSub&&(FNTS.mapSub={});t=FNTS.mapSub[e],e=(t=null==t?FNTS.mapSub[e]=[]:t).indexOf(n);-1==e?t.push(n):t[e]=n},v.a7Z=function(t,e){return v.L9(t)-v.L9(e)},v.L9=function(t){t=t.toLowerCase();var e=v.atf(t)+(v.abT(t)<<1);return-1==t.indexOf("cond")&&(e+=1<<25),e},v.atf=function(t){return-1!=t.indexOf("italic")||-1!=t.indexOf("oblique")?1:0},v.afY="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(","),v.a9B=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"],v.abT=function(t){for(var e=v.a9B,n=-1,i=-1,r=0;r<e.length;r++){var a=e[r];if(a instanceof Array)for(var s=0;s<a.length;s++){var o=a[s];-1!=t.indexOf(o)&&(-1==n||i<o.length)&&(n=r,i=o.length)}else-1!=t.indexOf(a)&&(-1==n||i<a.length)&&(n=r,i=a.length)}return n=-1==n?8:n},v.YD=function(t,e){for(var n=1e9,i=null,r=v.L9(e),a=0;a<t.length;a++){var s=Math.abs(v.L9(t[a])-r);s<n&&(n=s,i=t[a])}return i},v.prototype.oM=function(t,e){return this.iJ(),FNTS.mapFS[t+"---"+e]},v.prototype.G5=function(t){return this.iJ(),FNTS.mapSub[t]},v.prototype.Ea=function(){return this.iJ(),FNTS.mapSub};var $={iC:0,Jz:null,hl:null,Wd:null,yJ:null,IN:null,qR:!0,AY:0,TG:!1,event:function(t){var e=new XMLHttpRequest;e.open("GET","/papi/event.php?id="+t+"&rnd="+Math.random()),e.send()},T8:function(){var t=hr.lP(24)?" ":"",e=(e=hr.se[hr.kF("Uu,"+t)])[hr.kF(t+"$/")];return null!=$.aQ()&&50*$.aQ()[hr.qU("_^NSLUJ")]>e()/20},WA:function(){return null!=$.a8u()},Iv:function(){var t=$.aQ().pmnts,e=0;if(null==t||0==t.length)return 0;for(var n=0;n<t.length;n++){var i=t[n];1e3<=i[2]&&(e=Math.max(e,i[0]+24*i[1]*60*60))}return e},aQ:function(){return $.IN},lf:function(t){window.addEventListener("message",$.ath,!1),setInterval($.Ls,5e3),$.WA()?($.Jz=t,$.C5()):setTimeout(t,1)},Ls:function(){$.WA()&&$.TG&&($.Wx($.dS()),$.TG=!1)},KC:function(t){$.Jz=t;t="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);$.Wd=window.open(t,"_blank")},_Q:function(){localStorage.removeItem($.iC+"_uid"),localStorage.removeItem($.iC+"_provider"),localStorage.removeItem($.iC+"_token"),$.IN=null},ath:function(t){t.data instanceof ArrayBuffer||t.data instanceof Object||"{"!=t.data.charAt(0)||null!=(t=JSON.parse(t.data)).prms&&("papi_logged_in"==(t=t.prms.split(","))[0]&&(localStorage[$.iC+"_uid"]=t[1],$.$X(t[2]),localStorage[$.iC+"_provider"]=t[3],$.Wd.close(),$.C5()),"payment_complete"==t[0]&&($.yJ.close(),$.C5()))},a8u:function(){navigator.onLine||$._Q();var t=localStorage[$.iC+"_token"];return null!=t&&.001*Date.now()+10<parseInt(t.split("-")[0])?t:null},$X:function(t){var e=localStorage[$.iC+"_token"];null!=e&&parseInt(t.split("-")[0])<parseInt(e.split("-")[0])||(localStorage[$.iC+"_token"]=t,clearTimeout($.AY),$.AY=setTimeout($.a6n,Math.min(1e9,1e3*parseInt(t.split("-")[0])-Date.now()-2e4)))},a6n:function(){if(console.log("a",navigator.onLine),!navigator.onLine)throw"a";var t=new XMLHttpRequest;t.open("POST","https://www.photopea.com/papi/record_new.php",!0),t.onload=$.a6Y;var e=$.Ow(0)+"&read=2";t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send(e)},C5:function(){if(console.log("b",navigator.onLine),!navigator.onLine)throw"b";var t=new XMLHttpRequest;t.open("POST","https://www.photopea.com/papi/record_new.php",!0),t.onload=$.atO;var e=$.Ow(0)+"&read=1";t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send(e)},Wx:function(t){if(console.log("c",navigator.onLine),!navigator.onLine)throw"c";var e=new XMLHttpRequest;e.open("POST","https://www.photopea.com/papi/record_new.php",!0),e.onload=$.atG;t=$.Ow(0)+"&read=0&score="+(t.tpl?1:0)+"&spublic="+$.qR+"&record="+encodeURIComponent(JSON.stringify(t));e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send(t)},atO:function(t){var e,n=JSON.parse(t.target.response);n.error||($.IN=n.user,e=$.dS(),t=n.record,n.record?($.qR=n.spublic,$.mU(t)):e&&$.Wx(e)),$.$X(n.token),$.Jz&&($.Jz(),$.Jz=null),$.hl&&($.hl(),$.hl=null)},a6Y:function(t){t=JSON.parse(t.target.response);$.$X(t.token)},atG:function(t){t=JSON.parse(t.target.response);$.$X(t.token),$.hl&&$.C5()},Ow:function(t){return"app="+t+"&uid="+localStorage[$.iC+"_uid"]+"&token="+localStorage[$.iC+"_token"]},X3:function(){return $.dS()},Z6:function(t,e){$.mU(t),$.TG=!0,e&&($.hl=e,$.Ls())},dS:function(){var t,e=localStorage[$.iC+"_stateLocal"];if(null==e)return null;try{t=JSON.parse(e)}catch(t){return null}return t},mU:function(t){t=JSON.stringify(t);localStorage[$.iC+"_stateLocal"]=t},order:function(t,e,n){$.Jz=n;t="https://www.photopea.com/papi/order.php?ptype="+e+"&param="+t+"&uid="+localStorage[$.iC+"_uid"]+"&token="+localStorage[$.iC+"_token"];$.yJ=window.open(t,"_blank")},a4z:function(t,e){$.Jz=e;t="https://www.photopea.com/papi/insertKey.php?key="+t+"&uid="+localStorage[$.iC+"_uid"]+"&token="+localStorage[$.iC+"_token"];$.yJ=window.open(t,"_blank")}},ri={VT:0,aP:{},sK:function(t){var e=LNG.tables,n=e[t];return n="string"==typeof(n=null==n?e[0]:n)?e[t]=ri.sV(n):n},sV:function(t){for(var e=[],n=0,i=0,r=[],a=t.length;i!=a;){var s,o=t[i];"["==o?(e.push(r),r=[],i=n=i+1):"]"==o?(r.push(n==i?null:t.substring(n,i)),s=r,(r=e.pop()).push(s),i=n=i+1):";"==o?("]"!=t[i-1]&&r.push(n==i?null:t.substring(n,i)),i=n=i+1):i++}return r},get:function(t){if("string"==typeof t)return t;if("number"==typeof t[0]){for(var e=1;e<t.length;e++)if("number"!=typeof t[e])throw console.log(t),"e";return ri.akI(t)}for(var n=ri.get(t[0]),e=1;e<t.length;e++)var i=ri.get(t[e]),r=n.indexOf("VAR"+(e-1)),n=n.slice(0,r)+i+n.slice(r+4);return n},akI:function(t){var e=JSON.stringify(t);if(null!=ri.aP[e])return ri.aP[e];var n=ri.sK(0),e=ri.sK(ri.VT),e=ri.b7(t,e);return e=null==e?ri.b7(t,n):e},b7:function(t,e){for(var n=0;n<t.length;n++){if(null==(e=e[t[n]]))return null;if("string"==typeof e)break}return(e=e instanceof Array?e[0]:e).split("::")[0]},aqo:function(){var t=LNG.langs.slice(0);return t.sort(function(t,e){var n=t.code,i=e.code;if("en"==n)return-1;if("en"==i)return 1;t=navigator.languages,e=-1!=t.indexOf(n),t=-1!=t.indexOf(i);return e&&t?i<n?1:-1:!e&&(t||i<n)?1:-1}),t},mj:function(t,e){var n;ri.VT=t,LNG.tables[t]?e():((n=new XMLHttpRequest).open("GET","code/lang/"+t+".js"),n.onreadystatechange=function(){LNG.tables[t]=n.responseText,e()},n.send())},XG:function(t,e){for(var n=0;n<2;n++){for(var i=!1,r=0;r<LNG.langs.length;r++)LNG.langs[r].code==t&&(ri.mj(r,e),i=!0);if(i)break;t=t.split("-")[0]}},QW:function(){return LNG.langs[ri.VT].code},apt:function(t){for(var e=0;e<t.length;e+=2)-1==t[e+1].indexOf(">")&&(ri.aP[JSON.stringify(t[e])]=t[e+1])},nT:function(t){for(var e=-1,n=LNG.langs,i=0;i<n.length;i++)n[i].code==t&&(e=i);return e}},N={Nf:!1,Qv:!1,Pu:!1,Z8:function(){return hr.se[O.aY]!=hr.se[O.a2A]},bK:function(){var t=hr.se[O.Yo],e=t[O._0],n=0,i=O.ND,r=hr.qU("PP\\KQSB"),a=(hr.qU("Y_5UDDB>idge"),t[O.C$](O.a3E));return a[i](O.VC,r),a[i](O.q6,hr.qU("fUMZKyqifDIhJ0*+&$-OG?<y~>")),e[O.MR](a),null==(a=t[O.am1](r))?n=2:(e[hr.qU("R[WZDIKM")](a)?5<Math.round(a[hr.qU("VQ](RUK>@B8p71*03m}x'")]()[O.Bh]-500)&&(n=4):n=3,e[O.mA](a)),N.Qv&&(n=5),n=N.Pu?6:n},agr:function(n){var t=hr.kF("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),i={method:"HEAD",mode:"no-cors"},t=new Request(t,i);fetch(t).then(function(t){return t}).then(function(t){var e=hr.kF('y),+1ZRU-:@`KGEBQS[P\\e"Zij/y88DDvHzTSWW-Y1>DdDP'),e=new Request(e,i);fetch(e).then(function(t){return t}).then(function(t){n(!1)}).catch(function(t){N.Qv=!0,console.clear(),n(!0)})}).catch(function(t){N.Qv=!0,console.clear(),n(!0)})},a7O:function(){var t=hr.qU("UU[YW#ECC8"),e=hr.qU("VQ](RUK>@B8p71*03m}x'"),n=hr.qU("WQRMKT");this.a8Y[t][e]()[n]<4&&(N.Pu=!0,this.a0H(!0))},ane:function(){var t=hr.se._cwY,e=hr.se[O.FW],n=String.fromCharCode(32);t(hr.qU("FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@")+n+n+N.bK()),$.T8()||e(N.ane,Math.round(1e4*Math.PI))},zO:function(t){var e,n=hr.se[O.Yo][O.C$](t[0]);for(e in t[1])"txt"==e?n[O.WG]=t[1][e]:n[O.ND](e,t[1][e]);return n},a3i:function(t,n,i,e,r){hr.d5(i);var a=hr.se[O.Yo],s=hr.kF(' u.$%"86<'),o=hr.kF("!#c$,&"),o=hr.se[s][o];if(!N.Z8()&&!N.bK()&&o&&9e4<t*n){for(var l=a[hr.qU("VQ]+OEJ?EHDoD{&)l|&z")](O.d4)[0],h=JSON.parse(hr.kF("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK")),u=0;u<h.length;u++){var f=N.zO(h[h.length-1-u]);l[O.adM](f,l[O.av7])}var c=hr.kF("p}&$2a(:"),p=(hr.kF("'#!}i0%+"),hr.kF('ps,}$"40'));hr.se.___ggo=function(){hr.se[p](O.hV,2,function(t,e){hr.se[c]||(hr.se[c]=!0,N.a62.bind({Vc:i,aoo:r,head:l,kY:n})())})}}else{var d=[hr.qU("XYPtSP<N8@=[;6,")];0;for(u=0;u<d.length;u++){var v=a[O.C$](O.hk);v[O.ND](O.q6,hr.qU("Ra[YRRvJF=?B0:_")),v[O.ND](O.YU,d[u]),v[O.hV](O.a4m,e,!1),i[O.MR](v)}}},Gp:function(t){return 1110<=t?4:840<=t?3:2},a62:function(){var t=O.MR,e=O.ND,n=(O.hV,O.m9,O.q6),i=O.YU,r=(hr.qU("P_bTF"),O.WG),a=O.wf,s=hr.se[O.Yo],o=O.C$,l=O.acX,h=JSON.parse(hr.kF("lo9|35868N[NW<H@UXi%oSVkh~,%om.I4+'%\"N,,;@R_XIKCOOLWp,vodles~8lo(y }0,M%M>B:FPLJGCku+e[mqqp%nlz%yR<IB8?>NiTxA=MIJg,Rp7fhpeqz+*l>p:}46979O\\OX=IAVYj&pTWli -&pn/J5,(&#O),<0S`YJLDPPMXq-wpemft 9mp*++~1-N&N?C;GQMKHDlv,f\\nrrq&om{&zS=JC9@?OjUzI\\NRZh_T^awhw!hh~n21sv")),u=-1,f=hr.se[hr.kF("f#!}f")],c=hr.kF("xy'"),p=hr.kF("TU"),d=hr.kF("Vi"),v=0;f&&f[c]&&((y=f[c])==d&&(u=0),y==p&&(u=1));for(var d=-1==u?null:N.zO(h[u]),g=this.Vc,y=this.aoo,p=this.head,h=this.kY,m=hr.kF("~u*\"'/P)9ADBCrlnR]"),w=[.1,0,.9],b=Math.random();w[v]<b&&v<w.length-1;)b-=w[v],v++;if(0==v){if(console.log(0),1==y){for(var M=hr.kF("zxC+&086:21`9HI>rzwc$!$V>CP/l{m|ww(.#'7SZYD7IIILLTPw]a!e\\phmurryz~.HON3*>6;CODBULryxdbff]qinv7>=!|!2.%916>^edSHFYPv~'$#bbijn}8EBE").split(","),S=s[o](a),C=0;C<M.length;C+=2)S[e](M[C+0],M[C+1]);S[e](n,hr.qU("\\M[MLNi<FHE=8aVQ/4")),g[t](S),N.Nf||(N.Nf=!0,L=hr.kF("9z-)!5-68LW[UT[UCWg^WkY4!.63~?<?/HJK7VTNVM28LHFTb#hr_Zdljnfe5m|}rGOL8XUX+rw%^f]YQSRadcu6{mg|(c[]\\,/.r)8?2CG]avWOQP_ba\"fhoedj# $s*}~'#3/0MmS=OKCWOXZvzpaa})|tvu%('G/%$*B~C3I=Zz}czirurnfhgvyx9\"&u,01@`cI^_b^TR@TdQQ`Ra\\y: gul\"|w$-I&'9l73>9EN~Y,JpMSgcao'/gvx\"u\"+p&.'5@Y3A8MHCOX\"SSbTc^*nrjv37L}}-~.)TA?9G;`TLNM\\_^~f\\mmoqyn`t+*AV((7)83^7CIPEjn$il-megfuxw8|!x%A>fgyJWNX=LONT}ux]eUW]o-i3lz$s!|}**'2W;5Gd@=LRFLyOUl6cr=27=CAFKISWPKR,2FB@NgfhYc)u|Zf^mei\\\\V8' 4\"HMLN@k\"A9>CNIU^Ldlf^!2Fxm}%z#~@DKg(>2]AEPcgmd\\]cV|2rjlkz}|=&z' FJ_ESUYn"),(A=s[o](l))[r]=L,p[t](A))}else if(2==y){var x=N.Gp(h);if(!N.Nf){N.Nf=!0;for(var M=hr.kF("uu,{J*(R:5?GEIA@oHWXM$$'r/53eMR_>[j\\kffv|qu&bih3&888;;C?'lp0TK_W\\daahim|W^]\"x-%*2>31D;\")(SQUUL`X]eFMLoko!|s( %-mtsbWUh_&.,kkrsw'AI").split(","),L=hr.kF('9z-)!5-68LW[UT[UCWg^WkY4!003~;A?9Ay 40.<JjPZGBLTRVNM|UdeZ114 <B@rZ_lFN>687FIHZz`RLalH@BApsrWm|$v(,BF[<465DGFfKMTJIOgdhXnbckgwst2R8"40(<4=?[_UFFbmaY[Zilk,sihn\'c(w."?_bH_NWZWSKML[^]}fjZptu%EH.CDGC97%9I2CRrX@NEZUP\\e"hobr|Ynxtu*(._.1OL)55K;iIG#omySYmigu/)1j2<Q0}2B+HhNrGJ<WnJYYZwXi"*eksl3t\'#z/\'02N/UONH>PTTSgkS~\\Xm>twxrn%\'z@=##9)W@6B;?OEGgqiw-^^#c* }k 0||,}-(EeK4_8GIRFR[AV^Wep*cqh}xs )R$$3%4/Z?C;Gcg|NN]O^Y%qoiwk1%|~}-0/O7->>@BJ?1E[Zq\'XXgYhc/gsy!u;?T"M6+=lCFGA=SUInpQQgW&ndpim}su;C:239,RJMPpQIKJY\\[{`d\\h%"JK].;2<!0328aY\\AI9;ASpMvP^gWd`ammju;~x+H$!06*0]39PyGV!uz!\'%*/-7;4/6ou*&$2KJL=GlY`>JBQIM@@:{jcwe,102$Oe%|"\'2-9B0HPJBdu*\\Qah^fb$(/Kk"uA%)4GKQH@AG:`uVNPO^a`!i^jc*.C)79=R'),D=0;D<x;D++){for(S=s[o](a),C=0;C<M.length;C+=2)S[e](M[C+0],M[C+1]);S[e](n,m),g[t](S),(A=s[o](l))[r]=L,g[t](A)}}}}else if(1==v){if(console.log(1),1==y){(T=s[o](hr.kF("u}.")))[e](n,m);var k=s[o](hr.kF("u}."));T[t](k),k[e](hr.kF("zx"),hr.kF("AK}|~T()V`1i9eoEGwtL##V$`0e4>@rtvMOL")),k[e](hr.kF("t!x.1"),hr.kF("pu(y~1)?).4"));var L=hr.kF("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#Iol}(ZY[1de3=mFuBL\"$TQ)__3`=lBpz|OQS*,)|'<$'(6K");(A=s[o](l))[r]=L,k[t](A),g[t](T)}else if(2==y)for(var T,x=N.Gp(h),C=0;C<x;C++){(T=s[o](hr.kF("u}.")))[e](n,m);k=s[o](hr.kF("u}."));T[t](k),k[e](hr.kF("zx"),hr.kF("rKI!#X%WV/ac9eoqDyt#~(($]_dg>A@suI|T")),k[e](hr.kF("t!x.1"),hr.kF("pu(y~1)?).4"));var A,L=hr.kF("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#IolO(&]_5a43k>@uBLN!VQ_[dd`:<ADz}|PR&Y1|'<$'(6K");(A=s[o](l))[r]=L,k[t](A),g[t](T)}N.Nf||(N.Nf=!0,L=hr.kF("9z-)!5-68TG^U=d^]dgaOcsjy: g4l~ts*}`+'2-9BXZJ=OISZot*qh&npd$D*4?By}+M$*9AB:JHhAPQu}}'%&(]crz{s$\"B\".D[CF=ZDLF>[{ak\\Pfe#a[savi{u '<S;2O&;D<4SsYQRXK$kvV#_`rFplwr~(*[6s$-v-<7\\^CCBHmrH Puux~f3op#V!|(#/8:kF$4='=LGlnM]Um}#X0`/7m #z' a*.4/UD\\qY\\]km`U]Vdo'}esj zu\"+BW"),(A=s[o](l))[e](hr.kF("uu,{J$*(=F>6"),hr.kF("wu$.#")),A[r]=L,p[t](A))}else{console.log(2);u=s[o](l);u.setAttribute(i,hr.kF("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3")),p[t](u);var u=JSON.parse(hr.kF("l6{$4M+7>Y17bIDNVTXPOTcd-245=+81v~/H&29T,2]D?IQOSKJO^_(-138&3,qy*C!-4O'-X?:DLJNFEJYZ#(,/4!.'lt%>{(/J\"(S:5?GEIA@ETU}'\"%+{)\"go 9v#*E|#N50:B@D<;@OPx}# $vU")),E=[u[0]];2==y&&(E=u.slice(1,1+N.Gp(h)));for(C=0;C<E.length;C++)(k=s[o](hr.qU("SU_")))[e](hr.qU("XP"),E[C]),k[e](n,m),g[t](k)}d&&g[t](d)}},f={EM:-2,SV:{expires_at:0},XS:[]},r,t,e,a,s,n,o,i,l,h,u,c,p,d,g,y,m,w,b,M,S,C,x,L,D,k,T,A,E,I,P,F;function Pr(t,e){e=e||0,this.x=t=t||0,this.y=e}function Fr(t,e,n,i){e=e||0,n=n||0,i=i||0,this.x=t=t||0,this.y=e,this.m=n,this.n=i}function _r(t,e,n,i,r,a){void 0===t&&(i=t=1,a=r=n=e=0),this.q4=t,this.S=e,this.yH=n,this.DR=i,this.E_=r,this.Qq=a}function ai(){}function _(t){var e=t.target,n=e.width,i=e.height,t=document.createElement("canvas");t.width=n,t.height=i;t=t.getContext("2d");t.drawImage(e,0,0),r({Tl:new Fr(0,0,n,i),data:t.getImageData(0,0,n,i).data.buffer})}function B(t,e,n){t=new Uint8Array(t);var i=ln.UF(t,e),r=function(t,e){var n=ln.ta,i=ln.UF,r=ln.pG,a={};a.r2=n(t,e),e+=4,a.kY=n(t,e),e+=4,a.h9=r(t,e),e+=2,a.HW=r(t,e),e+=2,a.w0=i(t,e),e+=4,a.size=i(t,e);n(t,e+=4),n(t,e+=4);return e+=4,a.arC=i(t,e),e+=4,e+=4,a}(t,e+4);if(1!=r.h9&&alert("unsupported number of color planes: "+r.h9),0==r.w0||1==r.w0||2==r.w0||3==r.w0){var a=e+=i,s=t;null==n&&(n=e),1!=r.w0&&2!=r.w0||(e=function(t,e,n){var i=n.r2,r=Math.abs(n.kY),a=new Uint8Array(i*r),s=0,o=0,l=0;for(;o<r;){var h=t[e++],u=t[e++],f=o*i+s;if(0<h){if(4==n.HW)for(l=0;l<h;l++)a[f+l]=R(u,l);else for(l=0;l<h;l++)a[f+l]=u;s+=h}else if(0==h&&0==u)o++,s=0;else{if(0==h&&1==u)break;if(0==h&&2==u)s+=t[e++],o+=t[e++];else{var c=u;if(4==n.HW){for(l=0;l<u;l++)a[f+l]=R(t[e+(l>>>1)],l);c=Math.ceil(u/2)}else for(l=0;l<u;l++)a[f+l]=t[e+l];0!=(1&c)&&c++,e+=c,s+=u}}}return a}(t,n,r),r.HW=8,t=e,n=0);var o=4*Math.floor((r.HW*r.r2+31)/32),l=r.r2,h=Math.abs(r.kY),u=new Uint8Array(l*h*4);if(u.fill(255),32==r.HW)for(var f=0;f<h;f++)for(var c=n+(h-1-f)*o,p=0;p<l;p++)u[d=4*(f*l+p)]=t[c+4*p+2],u[d+1]=t[c+4*p+1],u[d+2]=t[c+4*p+0],u[d+3]=t[c+4*p+3];else if(24==r.HW)for(f=0;f<h;f++)for(c=n+(h-1-f)*o,p=0;p<l;p++)u[d=4*(f*l+p)]=t[c+3*p+2],u[d+1]=t[c+3*p+1],u[d+2]=t[c+3*p+0];else if(16==r.HW)for(f=0;f<h;f++)for(c=n+(h-1-f)*o,p=0;p<l;p++){var d=4*(f*l+p),v=t[c+2*p+1]<<8|t[c+2*p];u[d]=255/31*(v>>>11),u[d+1]=255/63*(v>>>5&63),u[d+2]=255/31*(31&v)}else if(8==r.HW)for(f=0;f<h;f++)for(c=n+(h-1-f)*o,p=0;p<l;p++){var d=4*(f*l+p),g=t[c+p];u[d]=s[a+4*g+2],u[d+1]=s[a+4*g+1],u[d+2]=s[a+4*g+0]}else if(4==r.HW)for(f=0;f<h;f++)for(c=n+(h-1-f)*o,p=0;p<l;p++){d=4*(f*l+p),g=t[c+(p>>1)];g>>=4-4*(1&p),g&=15,u[d]=s[a+4*g+2],u[d+1]=s[a+4*g+1],u[d+2]=s[a+4*g+0]}else{if(1!=r.HW)throw"Unknown bit depth "+r.HW;for(f=0;f<h;f++)for(c=n+(h-1-f)*o,p=0;p<l;p++){var d=4*(f*l+p),y=t[c+(p>>3)];y>>=7-(7&p),y&=1,u[d]=s[a+4*y+2],u[d+1]=s[a+4*y+1],u[d+2]=s[a+4*y+0]}}if(r.kY<0)for(var m=new Uint32Array(u.buffer),w=h>>>1,f=0;f<w;f++)for(var b=f*l,M=(h-f-1)*l,p=0;p<l;p++){var S=m[b+p];m[b+p]=m[M+p],m[M+p]=S}return{Tl:new Fr(0,0,l,h),data:u.buffer}}alert("Unsupported BMP compression: "+r.w0)}function R(t,e){return t>>>4-((1&e)<<2)&15}function U(){n||0==s.length||(n=!0,ai.aoJ(s.shift(),"image/avif",j))}function j(t){a(null,[t],s.shift()),n=!1,U()}function H(){var t;g||0==d.length||(g=!0,i=document.createElement("canvas"),l=i.getContext("2d"),h=document.createElement("video"),t="data:video/mp4;base64,"+ai.hr(d.shift()),h.src=t,h.muted=!0,h.currentTime=0,h.addEventListener("canplay",J,!1),h.addEventListener("timeupdate",q,!1))}function J(t){h.removeEventListener("canplay",J),u=i.width=h.videoWidth,c=i.height=h.videoHeight,p=[],h.play()}function q(t){l.drawImage(h,0,0),p.push({KI:"_a_"+p.length+","+Math.round(100),Tl:new Fr(0,0,u,c),data:l.getImageData(0,0,u,c).data.buffer});var e=h.currentTime+.1;e<h.duration?h.currentTime=e:(o(null,p,d.shift()),h.removeEventListener("timeupdate",q),g=!1,H(),p=null)}function G(){var t=ln.ta(S,C);return C+=4,t}function Z(){var t=function(){for(var t=0,e=0,n=0;n<5;n++){var i=S[C++];if(t+=(127&i)<<e,e+=7,0==(128&i))break}return t}(),e=ln.cP(S,C,t);return C+=t,e}function z(){for(var t=G(),e=Z(),n=[],i=G(),r=0;r<i;r++)n.push([Z()]);return{id:t,Tq:e,a4x:n}}function V(t){for(var e=t.a4x,n=0;n<e.length;n++)e[n].push(S[C++]);for(n=0;n<e.length;n++){var i=e[n][1];e[n].push(W(i))}}function W(t){var e;if(t==k)e=S[C++];else if(t==E)e=Z();else if(t==I)e={typeName:Z(),als:G()};else if(t!=T&&t!=A&&t!=F&&t!=P)throw t;return e}function X(t,e,n){var i;if(t==k)if(1==e)i=1==S[C++];else if(2==e)i=S[C++];else if(8==e)i=G();else{if(9!=e)throw e;i=G(),G()}else if(t==E)i=tt(n+1);else if(t==I)i=tt(n+1);else if(t==P)i=tt(n+1);else if(t==T)i=tt(n+1);else{if(t!=F)throw t;i=tt(n+1)}return i}function Y(t,e){for(var t=x["c"+t],n=t.a4x,i={_class:t.Tq},r=0;r<n.length;r++){var a=n[r],s=X(a[1],a[2],e);i[a[0]]=s}return i}function K(t,e,n,i){for(var r=[],a=0;a<t;a++){var s=X(e,n,i);if(s.sB&&"null_count"==s.sB){for(var o=s.JL,l=0;l<o;l++)r.push(null);a+=o-1}else r.push(s)}return r}function Q(){return[G(),G()]}function tt(t){if(null==t)throw"e";var e,n=null,i=S[C],r=null;if(C++,0==i)n=[G(),G(),G(),G()];else if(1==i){r=G();n=Y(G(),t)}else if(4==i)r=(a=z()).id,V(a),x["c"+a.id]=a,n=Y(a.id,t);else if(5==i){r=(a=z()).id,V(a);G();x["c"+a.id]=a,n=Y(a.id,t)}else if(6==i)r=G(),n=Z();else if(7==i){r=G();var a=S[C++];if(0!=a)throw a;var s=G();if(1!=s)throw s;a=G(),s=S[C++];n=K(a,s,W(s),t)}else if(9==i){s=G();n={sB:"ref",JL:s},D["o"+s]=!0}else if(10==i)n={sB:"null_count",JL:1};else if(11==i)n={sB:"end"};else if(12==i)G(),Z();else if(13==i)n={sB:"null_count",JL:S[C++]};else if(16==i)r=(e=Q())[0],n=K(e[1],I,null,t);else{if(17!=i)throw"e";r=(e=Q())[0],n=K(e[1],T,null,t)}if(null!=r&&0<r){if(null!=L["o"+r])throw"e";L["o"+r]=n}return n}function et(t,e){return t&&t.sB&&"ref"==t.sB?e["o"+t.JL]:t}f.x0=function(t){if(t&&f.XS.splice(0,0,t),-2==f.EM&&(f.EM=-1,(t=document.createElement("script")).src="//apis.google.com/js/client.js",document.body.appendChild(t),t.onload=function(t){setTimeout(function(){f.EM=0,f.x0()},100)}),-1!=f.EM&&1!=f.EM)if(f.SV.expires_at>.001*Date.now()+30)for(;0<f.XS.length;)f.XS.pop()();else 0==f.EM&&(f.EM=1),gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:2!=f.EM},f.aq$)},f.aq$=function(t){t&&!t.error?(f.SV=t,f.EM=!1,f.x0()):1==f.EM?(f.EM=2,f.x0()):alert("Error: "+t.error)},f.cE=function(){return"access_token="+f.SV.access_token+"&token_type="+f.SV.token_type},f.LV=function(){return f.SV.token_type+" "+f.SV.access_token},Pr.prototype.add=function(t){return new Pr(this.x+t.x,this.y+t.y)},Pr.prototype.clone=function(){return new Pr(this.x,this.y)},Pr.prototype.kH=function(t){this.x=t.x,this.y=t.y},Pr.prototype.iy=function(t){return this.x==t.x&&this.y==t.y},Pr.prototype.normalize=function(t){var e=Math.sqrt(this.x*this.x+this.y*this.y);this.x*=t/e,this.y*=t/e},Pr.prototype.offset=function(t,e){this.x+=t,this.y+=e},Pr.prototype.R7=function(t,e){this.x=t,this.y=e},Pr.prototype.Pf=function(t){return new Pr(this.x-t.x,this.y-t.y)},Pr.Tn=function(t,e){return Pr.ap4(t.x,t.y,e.x,e.y)},Pr.Ey=function(t,e,n){return new Pr(t.x+n*(e.x-t.x),t.y+n*(e.y-t.y))},Pr.ack=function(t,e){return new Pr(t*Math.cos(e),t*Math.sin(e))},Pr.ap4=function(t,e,n,i){return Math.sqrt((n-t)*(n-t)+(i-e)*(i-e))},Pr.X7={},Pr.Mb={},Pr.X7.create=function(){return new Float32Array(4)},Pr.Mb.create=function(t){var e=new Float32Array(16);return e[0]=e[5]=e[10]=e[15]=1,t&&Pr.Mb.set(t,e),e},Pr.X7.add=function(t,e,n){n[0]=t[0]+e[0],n[1]=t[1]+e[1],n[2]=t[2]+e[2],n[3]=t[3]+e[3]},Pr.X7.set=function(t,e){e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]},Pr.Mb.set=function(t,e){e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]},Pr.Mb.multiply=function(t,e,n){var i=t[0],r=t[1],a=t[2],s=t[3],o=t[4],l=t[5],h=t[6],u=t[7],f=t[8],c=t[9],p=t[10],d=t[11],v=t[12],g=t[13],y=t[14],m=t[15],w=e[0],b=e[1],M=e[2],t=e[3];return n[0]=w*i+b*o+M*f+t*v,n[1]=w*r+b*l+M*c+t*g,n[2]=w*a+b*h+M*p+t*y,n[3]=w*s+b*u+M*d+t*m,w=e[4],b=e[5],M=e[6],t=e[7],n[4]=w*i+b*o+M*f+t*v,n[5]=w*r+b*l+M*c+t*g,n[6]=w*a+b*h+M*p+t*y,n[7]=w*s+b*u+M*d+t*m,w=e[8],b=e[9],M=e[10],t=e[11],n[8]=w*i+b*o+M*f+t*v,n[9]=w*r+b*l+M*c+t*g,n[10]=w*a+b*h+M*p+t*y,n[11]=w*s+b*u+M*d+t*m,w=e[12],b=e[13],M=e[14],t=e[15],n[12]=w*i+b*o+M*f+t*v,n[13]=w*r+b*l+M*c+t*g,n[14]=w*a+b*h+M*p+t*y,n[15]=w*s+b*u+M*d+t*m,n},Pr.Mb.inverse=function(t,e){var n=t[0],i=t[1],r=t[2],a=t[3],s=t[4],o=t[5],l=t[6],h=t[7],u=t[8],f=t[9],c=t[10],p=t[11],d=t[12],v=t[13],g=t[14],y=t[15],m=n*o-i*s,w=n*l-r*s,b=n*h-a*s,M=i*l-r*o,S=i*h-a*o,C=r*h-a*l,x=u*v-f*d,L=u*g-c*d,D=u*y-p*d,k=f*g-c*v,T=f*y-p*v,A=c*y-p*g,t=m*A-w*T+b*k+M*D-S*L+C*x;return t?(e[0]=(o*A-l*T+h*k)*(t=1/t),e[1]=(r*T-i*A-a*k)*t,e[2]=(v*C-g*S+y*M)*t,e[3]=(c*S-f*C-p*M)*t,e[4]=(l*D-s*A-h*L)*t,e[5]=(n*A-r*D+a*L)*t,e[6]=(g*b-d*C-y*w)*t,e[7]=(u*C-c*b+p*w)*t,e[8]=(s*T-o*D+h*x)*t,e[9]=(i*D-n*T-a*x)*t,e[10]=(d*S-v*b+y*m)*t,e[11]=(f*b-u*S-p*m)*t,e[12]=(o*L-s*k-l*x)*t,e[13]=(n*k-i*L+r*x)*t,e[14]=(v*w-d*M-g*m)*t,e[15]=(u*M-f*w+c*m)*t,e):null},Pr.Mb.aii=function(t,e,n){var i=e[0],e=e[1];n[0]=i*t[0]+e*t[4]+t[12],n[1]=i*t[1]+e*t[5]+t[13]},Pr.Mb.agu=function(t,e,n){var i=e[0],r=e[1],a=e[2],e=e[3];n[0]=t[0]*i+t[4]*r+t[8]*a+t[12]*e,n[1]=t[1]*i+t[5]*r+t[9]*a+t[13]*e,n[2]=t[2]*i+t[6]*r+t[10]*a+t[14]*e,n[3]=t[3]*i+t[7]*r+t[11]*a+t[15]*e},Fr.prototype.Z=function(){return this.m*this.n},Fr.prototype.clone=function(){return new Fr(this.x,this.y,this.m,this.n)},Fr.prototype.contains=function(t,e){return t>=this.x&&t<=this.x+this.m&&e>=this.y&&e<=this.y+this.n},Fr.prototype.tl=function(t){return this.contains(t.x,t.y)},Fr.prototype.st=function(t){return this.x<=t.x&&this.y<=t.y&&t.x+t.m<=this.x+this.m&&t.y+t.n<=this.y+this.n},Fr.prototype.kH=function(t){this.x=t.x,this.y=t.y,this.m=t.m,this.n=t.n},Fr.prototype.iy=function(t){return this.x==t.x&&this.y==t.y&&this.m==t.m&&this.n==t.n},Fr.prototype.bA=function(t,e){this.x-=t,this.y-=e,this.m+=2*t,this.n+=2*e},Fr.prototype.a9n=function(t){this.bA(t.x,t.y)},Fr.prototype.BS=function(t){var e=Math.max(this.x,t.x),n=Math.max(this.y,t.y),i=Math.min(this.x+this.m,t.x+t.m),t=Math.min(this.y+this.n,t.y+t.n);return i<e||t<n?new Fr:new Fr(e,n,i-e,t-n)},Fr.prototype.$B=function(t){return!(t.y+t.n<this.y||t.x>this.x+this.m||t.y>this.y+this.n||t.x+t.m<this.x)},Fr.prototype.mN=function(){return this.m<=0||this.n<=0},Fr.prototype.offset=function(t,e){this.x+=t,this.y+=e},Fr.prototype.Uo=function(t){this.offset(t.x,t.y)},Fr.prototype.adk=function(){this.x=this.y=this.m=this.n=0},Fr.prototype.R7=function(t,e,n,i){this.x=t,this.y=e,this.m=n,this.n=i},Fr.prototype.hq=function(t){if(this.mN())return t.clone();if(t.mN())return this.clone();var e=this.clone();return e.ab8(t),e},Fr.DK=new Float32Array(2),Fr.prototype.ab8=function(t){t.mN()||(this.mN()?this.kH(t):(this.QN(t.x,t.y),this.QN(t.x+t.m,t.y+t.n)))},Fr.prototype.QN=function(t,e){var n=Math.min(this.x,t),i=Math.min(this.y,e);this.m=Math.max(this.x+this.m,t)-n,this.n=Math.max(this.y+this.n,e)-i,this.x=n,this.y=i},Fr.prototype.af1=function(t,e){this.x=t,this.y=e,this.m=this.n=0},_r.prototype.eZ=function(){return Math.sqrt(Math.abs(this.q4*this.DR-this.S*this.yH))},_r.prototype.am7=function(){function t(t){return Math.abs(t)<1e-9?0:t}var e=this;e.q4=t(e.q4),e.S=t(e.S),e.yH=t(e.yH),e.DR=t(e.DR),e.E_=t(e.E_),e.Qq=t(e.Qq)},_r.prototype.iX=function(t){return new Pr(t.x*this.q4+t.y*this.yH+this.E_,t.x*this.S+t.y*this.DR+this.Qq)},_r.prototype.translate=function(t,e){this.E_+=t,this.Qq+=e},_r.prototype.rotate=function(t){t=new _r(Math.cos(t),-Math.sin(t),Math.sin(t),Math.cos(t),0,0);this.concat(t)},_r.prototype.scale=function(t,e){e=new _r(t,0,0,e,0,0);this.concat(e)},_r.prototype.concat=function(t){this.kH(new _r(this.q4*t.q4+this.S*t.yH,this.q4*t.S+this.S*t.DR,this.yH*t.q4+this.DR*t.yH,this.yH*t.S+this.DR*t.DR,this.E_*t.q4+this.Qq*t.yH+t.E_,this.E_*t.S+this.Qq*t.DR+t.Qq))},_r.prototype.tU=function(){var t=this.q4*this.DR-this.S*this.yH;this.kH(new _r(this.DR/t,-this.S/t,-this.yH/t,this.q4/t,(this.yH*this.Qq-this.DR*this.E_)/t,(this.S*this.E_-this.q4*this.Qq)/t))},_r.prototype.clone=function(){return new _r(this.q4,this.S,this.yH,this.DR,this.E_,this.Qq)},_r.prototype.kH=function(t){this.q4=t.q4,this.S=t.S,this.yH=t.yH,this.DR=t.DR,this.E_=t.E_,this.Qq=t.Qq},ai.Jn={asN:["PNG","JPG","SVG","GIF","PDF"],ap6:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")},ai.pm=function(t,e){var n=t.memory.buffer.byteLength;n<e&&t.memory.grow(1+(e-n>>>16))},ai.Kn={aqr:function(t,s){fetch(t).then(function(t){return t.arrayBuffer()}).then(function(t){var e=new Uint8Array(t),n=0,i="";s&&(n=e.length,a={level:9},t=pako.deflateRaw(e,a),a=UZIP.deflateRaw(e,a),console.log(n,t.length,a.length),e=t.length<a.length?t:a);for(var r=0;r<e.length;r++)i+=String.fromCharCode(e[r]);var a=btoa(i);console.log(JSON.stringify([n,a]))})},get:function(t,e){for(var t=BINDB[t],n=(Date.now(),atob(t[1])),i=n.length,r=new Uint8Array(i),a=0;a<i;a++)r[a]=n.charCodeAt(a);return 0!=t[0]&&(t=new Uint8Array(t[0]),UZIP.inflateRaw(r,t),r=t),e&&(e=ai.Am(r.buffer),r=ai.TN(e).Ou(r.buffer)),r}},ai.Am=function(t){t instanceof ArrayBuffer||console.log("Input is not ArrayBuffer");var e,n=new Uint8Array(t),i=ai.bh,r=0,a=n.length-1;for(i(n,[239,187,191])&&(r=3);r<n.length&&(9==n[r]||10==n[r]||13==n[r]||32==n[r]);)r++;for(;0!=a&&(9==n[a]||10==n[a]||13==n[a]||32==n[a]);)a--;if(i(n,[56,66,80,83])&&(s="psd"),i(n,[6,6,237,245])&&(s="indd"),(i(n,[102,116,121,112,109,105,102,49],4)||i(n,[102,116,121,112,97,118,105,102],4))&&(s="avif"),i(n,[102,116,121,112,105,115,111,109],4)&&(s="mp4"),i(n,[102,116,121,112,109,112,52,50],4)&&(s="mp4"),i(n,[0,255,75,65])&&(s="afphoto"),i(n,[120])&&(s="pxd"),i(n,[80,68,78,51])&&(s="pdn"),i(n,[103,105,109,112,32,120,99,102,32])&&(s="xcf"),i(n,[102,105,103,45,107,105,119,105])&&(s="fig"),i(n,[137,80,78,71,13,10,26,10]))for(var s="png",o=8;o<n.length;){var l=ln.l(n,o);o+=4;var h=ln.fb(n,o,4);o+=4,"mkTS"==h&&(s="fpng"),o+=l+4}return i(n,[87,76])&&(s="cdr"),i(n,[82,73,70,70])&&(s="WEBP"==(e=Wn.M9(n).xP)?"webp":"CDR"==e.slice(0,3)?"cdr":e),(i(n,[70,79,82,77])||i(n,[76,73,83,84])||i(n,[67,65,84,32]))&&(s="ILBM"==(e=Vn.M9(n).xP)?"ilbm":e),i(n,[255,216,255])&&(s="jpg"),i(n,[0,0,0,12,106,80,32,32])&&(s="jpg"),i(n,[48,0,1,0],4)&&(s="jb2"),i(n,[71,73,70,56])&&(s="gif"),i(n,[0,0,0,2,121,102,113,76])&&(s="msh"),i(n,[0,0,0,3,121,102,113,76])&&(s="msh"),i(n,[0,0,0,16])&&(s="atn"),i(n,[0,1])&&(s="aco"),i(n,[0,2])&&(s="aco"),-1!=[0,1].indexOf(n[1])&&-1!=[1,2,3,9,10,11].indexOf(n[2])&&-1!=[0,16,24,32].indexOf(n[7])&&(s="tga"),i(n,[0,2,56,66,83,76])&&(s="asl"),i(n,[0,1,0,-1,0,2,0])&&(s="abr"),i(n,[0,2,0,-1,0,2,0])&&(s="abr"),i(n,[0,6,0,1])&&(s="abr"),i(n,[0,6,0,2])&&(s="abr"),i(n,[0,7,0,2])&&(s="abr"),i(n,[0,9,0,2])&&(s="abr"),i(n,[0,10,0,2])&&(s="abr"),i(n,[56,66,70,83])&&(s="shc"),i(n,[56,66,80,84])&&(s="pat"),i(n,[56,66,71,82])&&(s="grd"),i(n,[56,66,84,80])&&(s="tpl"),i(n,[0,4,0,5])&&(s="acv"),i(n,[99,117,115,104])&&(s="csh"),i(n,[0,1,0,0,0])&&(s="otf"),i(n,[79,84,84,79])&&(s="otf"),i(n,[116,116,99,102])&&(s="otf"),i(n,[68,68,83,32])&&(s="dds"),i(n,[80,86,82,3])&&(s="pvr"),i(n,[86,84,70,0])&&(s="vtf"),i(n,[83,73,77,80])&&(s="fits"),i(n,[0,0,1,0])&&(s="ico"),i(n,[66,77])&&(s="bmp"),i(n,[40,0,0,0])&&(s="bmp"),i(n,[80,49])&&(s="ppm"),i(n,[80,50])&&(s="ppm"),i(n,[80,51])&&(s="ppm"),i(n,[80,52])&&(s="ppm"),i(n,[80,53])&&(s="ppm"),i(n,[80,54])&&(s="ppm"),i(n,[73,73,42,0])&&(s="tiff"),i(n,[77,77,0,42])&&(s="tiff"),i(n,[70,85,74,73,70,73,76,77])&&(s="raf"),i(n,[112])&&(s="lif"),i(n,[73,73,26,0])&&(s="ciff"),i(n,[83,81,76,105])&&(s="sketch"),i(n,[80,75])&&(s=(t=UZIP.parse(t,!0))["document.json"]?"sketch":t.manifest?"xd":"zip"),i(n,[123])&&(s="json"),ln.l(n,0)==n.length&&(s="icc"),i(n,[35])&&(s="icc"),i(n,[84,73,84,76],r)&&(s="icc"),i(n,[76,85,84,95],r)&&(s="icc"),i(n,[60,63,120,109],r)&&(s=-1!=ln.M8(n,"<look>")?"icc":"svg"),i(n,[60,115,118,103],r)&&(s="svg"),(i(n,[60,33,100,111],r)||i(n,[60,33,68,79],r))&&(s=-1!=ln.M8(n,"<svg")?"svg":"html"),(i(n,[37,33])||i(n,[197,208,211,198]))&&(s=-1!=ln.M8(n,"%AI9_PrivateDataBegin")||-1!=ln.M8(n,"%AI5_BeginLayer")?"ai":"eps"),i(n,[37,80,68,70],r)?s=-1!=ln.M8(n,"/AIMetaData ")?"ai":"pdf":i(n,[10,69,79,70],a-3)&&(s="dxf"),i(n,[1,0,9,0])&&(s="wmf"),i(n,[215,205,198,154])&&(s="wmf"),i(n,[1,0,0,0])&&(s="emf"),i(n,[118,47,49,1])&&(s="exr"),i(n,[10,10,10,10])&&(s="jsx"),null==(s=i(n,[77,90])?"exe":s)&&null!=Rr.raw.ft(n.length)?"tiff":s},ai.bh=function(t,e,n){null==n&&(n=0);for(var i=0;i<e.length;i++)if(-1!=e[i]&&t[n+i]!=e[i])return!1;return!0},ai.TN=function(t){return{BMP:ai.atQ,CDR:ai.z9,DDS:ai.Fz,EMF:ai.U9,DXF:ai.TC,EPS:ai.uw,FIG:ai.kd,FPNG:ai.Jq,INDD:ai.a50,GIF:ai.iK,ICO:ai.Bq,ILBM:ai.V8,FITS:ai.Rt,EXR:ai.WO,JPG:ai.aI,LIF:ai.yp,PDF:ai.zx,PDN:ai.H9,PNG:ai.br,PPM:ai.cu,PSD:ai.N7,PXD:ai.TU,RAF:ai.nC,RAW:ai._t,SKETCH:ai.LR,SVG:ai.pc,TGA:ai.hC,AVIF:ai.afD,TIFF:ai.q1,VTF:ai.Rh,WEBP:ai.y0,WMF:ai.db,XCF:ai.NY,XD:ai.WH,EXE:ai.MN,AI:ai.xO,AFPHOTO:ai.Ol,MP4:ai.a2G}[t.toUpperCase()]},ai.mX=function(t){for(var e=ai.Jn.asN,n=ai.Jn.ap6,i=[],r=null==t?e.concat(n):0==t?e:n,t=0;t<r.length;t++)ai.TN(r[t]).D6&&i.push(r[t]);return i},ai.aoJ=function(t,e,n){r=n,(n=document.createElement("img")).onload=_,n.src="data:"+e+";base64,"+ai.hr(t)},ai.W7=function(t,e,n,i,r){r=ai.JI(t,e,n,i,r);return ai.l4(r).buffer},ai.l4=function(t){for(var e=atob(t.split(",").pop()),n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n},ai.JI=function(t,e,n,i,r,a){if(!(t instanceof ArrayBuffer))throw"e";if("png"==(i=null==i?"png":i)&&1==a){var s=ai.TN("PNG").D6([[t,0]],e,n);return"data:image/png;base64,"+ai.hr(s)}a=ai.yn;(a=null==a?ai.yn=document.createElement("canvas"):a).width==e&&a.height==n||(a.width=e,a.height=n);s=a.getContext("2d"),n=new ImageData(new Uint8ClampedArray(t,0,e*n*4),e,n);return s.putImageData(n,0,0),a.toDataURL("image/"+i,r)},ai.ad1=function(t,e,n,i,r){var a='<svg  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  width="128"  height="128"> <defs> \t<filter id="sofGlow" height="300%" width="300%" x="-75%" y="-75%"> \t\t\x3c!-- Thicken out the original shape --\x3e \t<feMorphology operator="dilate" radius="3" in="SourceAlpha" result="thicken" /> \t\t\x3c!-- Use a gaussian blur to create the soft blurriness of the glow --\x3e\t\t<feGaussianBlur in="thicken" stdDeviation="4" result="blurred" />\t\t\x3c!-- Change the colour --\x3e\t\t<feFlood flood-color="rgb(255,255,255)" result="glowColor" />\t\t\x3c!-- Color in the glows --\x3e\t\t<feComposite in="glowColor" in2="blurred" operator="in" result="softGlow_colored" />\t\t\x3c!--\tLayer the effects together --\x3e\t\t<feMerge>\t\t\t<feMergeNode in="softGlow_colored"/>\t\t\t<feMergeNode in="SourceGraphic"/>\t\t</feMerge>\t</filter></defs><g transform="translate(64 64) scale(0.25)">';1==t&&(a+='<g transform="scale(0.07 0.07) translate(-550 -112)"  style="fill:#ffffff; stroke:#000000; stroke-width:60px;"><path d="m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z"/></g>'),a+='<g filter="url(#sofGlow)"><image transform="rotate('+(r=null==r?0:r)+')" xlink:href="'+e+'" x="'+80*n+'" y="'+80*i+'" height="80" width="80"/></g></g></svg>';i=new Uint8Array(a.length);return ln._s(a,i,0),{vl:"data:image/svg+xml;base64,"+ai.hr(i.buffer),Ni:new Fr(0,0,128,128),bM:new Pr(64,64)}},ai.hr=function(t){for(var e=new Uint8Array(t),n="",i=0;i<e.length;i++)n+=String.fromCharCode(e[i]);return btoa(n)},ai.ags=function(t){for(var e=atob(t),n=e.length,i=new Uint8Array(n),r=0;r<n;r++)i[r]=e.charCodeAt(r);return i.buffer},ai.ma=function(t){for(var e=[],n=[],i=0;i<t.g.length;i++){var r=t.g[i];"_a_"==r.getName().slice(0,3)&&(e.push(i),n.push(r.SH()))}return[e,n]},ai._x=function(t,e,n,i,r,a){null==n&&(n=t.m),null==i&&(i=t.n);var s,o=new Fr(0,0,t.m,t.n),l=new _r(n/(t.m+.001),0,0,i/(t.n+.001),0,0);e=e.toUpperCase();var h=ai.TN(e);if(h.r1)t.y5(),s=h.D6(t,n,i,r,a);else{r=r&&r.slice(0);var e=ai.ma(t),u=e[0],f=e[1],c=t.SP(),p=!(!c||!r)&&r.pop(),d=c&&!p?c[0]:null,v=null;if(0!=t.En.length)for(var v=[],g=0;g<t.En.length;g++)v.push(t.En[g].PZ(o));if(u.length<2){var y=ai.TA(t.y5(),c,p);if(n==t.m&&i==t.n)S=y.buffer;else if(S=(w=qr.Q.xX([y,o],l)).buffer.buffer,v)for(var m=Rr.t(4*o.Z()),g=0;g<v.length;g++){Rr.al(v[g],m,3);var w=qr.Q.xX([m,o],l),b=v[g]=Rr.t(w.rect.Z());Rr.VW(w.buffer,b,3)}s=h.D6([[S,0,t.Mg,t._E,v,d]],n,i,r)}else{for(var M=[],g=0;g<u.length;g++){for(var S,C=u[g],x=0;x<u.length;x++)t.g[u[x]].I9(u[x]==C);t.Lg(),t.G(),t.Bv(),S=n==t.m&&i==t.n?t.y5().buffer.slice(0):(w=qr.Q.xX([t.y5(),o],l)).buffer.buffer,S=ai.TA(new Uint8Array(S),c,p).buffer;var L=t.g[C].getName().split(",");M.push([S,L[1]?parseInt(L[1]):100,t.Mg,t._E,v,d])}for(g=0;g<u.length;g++)t.g[u[g]].I9(f[g]);if(t.G(),t.Bv(),r){var a=r.length,e=r[a-2],y=r[a-1],D=r[a-4]/100;if(1!=D)for(g=0;g<M.length;g++)M[g][1]=Math.round((0==M[g][1]?16:M[g][1])/D);e&&M.reverse(),y&&((y=M.slice(1,M.length-1)).reverse(),M=M.concat(y))}s=h.D6(M,n,i,r)}}return s},ai.TA=function(t,e,n){return n&&(t=t.slice(0),ICC.U.applyLUT(e[3],e[2],t,t)),t},ai.Om=function(t,e){var n,i=e[0].KI&&e[0].KI.startsWith("_a_"),r=new zi(t+".psd"),a=new Fr(0,0,1,1);i&&((n=r.rL()).add.lsct=Gi.pb,n.Zu(t),n.SD="pass",n.OW=24,n.I9(!0),r.g.push(r.ne()));for(var s=0;s<e.length;s++){var o=e[s],a=a.hq(o.Tl),l=r.rL();if(l.I9(0==s),l.Zu(1==e.length?"Background":"Layer "+s),0==s&&o.Mg&&(r.Mg=o.Mg),0==s&&o._E&&(r._E=o._E),o.KI&&l.Zu(o.KI),o.lv)for(s=0;s<o.lv.length;s++){var h=o.lv[s],u=zi.hd(h[0]);u.add.vmsk.Y=h[1],Rr.$.yl(h[1],new _r(a.m,0,0,a.n,0,0)),r.Y3.push(u)}l.rect=o.Tl.clone(),l.buffer=new Uint8Array(o.data),0==s&&o.d1&&r.Z9(o.d1),Rr.Kl(l),r.g.push(l)}if(i&&r.g.push(n),e[0].En)for(s=0;s<e[0].En.length;s++){var f=new qi.vi;r.En.push(f),f.rect=e[0].Tl.clone(),f.channel=e[0].En[s]}return r.w=[i?r.g.length-1:0],r.m=a.m,r.n=a.n,r.buffer=Rr.t(4*a.Z()),r.G(),r},ai.br={},ai.br.D6=function(t,e,n,i){var r={sRGB:1,loop:(i=null==i?[100,!1,0,0,0]:i)[3]};null!=t[0][5]&&(delete r.sRGB,r.iCCP=t[0][5]),null!=t[0][2]&&(a=Math.round(t[0][2]*(1e4/254)),r.pHYs=[a,a,1]);var a=i[0],a=100==a?0:Math.max(2,Math.floor(5*a));5==a&&(a=4);for(var s=[],o=[],l=0;l<t.length;l++)s.push(t[l][0]),o.push(t[l][1]);return UPNG.encode(s,e,n,a,o,r,i[1])},ai.br.a5N=function(t,e,n){return UPNG.encodeLL([t],e,n,3,1,8)},ai.br.Ou=function(t){Date.now();var e=UPNG.decode(t),n=UPNG.toRGBA8(e),i=e.width,r=e.height,a=0,s=e.tabs.iCCP;if(e.tabs.pHYs&&(a=Math.round(254*e.tabs.pHYs[0]/1e4)),1==n.length)return[{Tl:new Fr(0,0,i,r),data:n[0],Mg:a,d1:s}];for(var o=[],l=0;l<n.length;l++)o.push({KI:"_a_frm"+l+","+e.frames[l].delay,Tl:new Fr(0,0,i,r),data:n[l],Mg:a,d1:s});return o},ai.cu={},ai.cu.D6=function(t,e,n,i){for(var r=new Uint8Array(t[0][0]),a=e*n,s="P6\n"+e+" "+n+"\n255\n",o=s.length,l=Rr.t(o+3*a,!0),h=0;h<o;h++)l[h]=s.charCodeAt(h);for(h=0;h<a;h++){var u=4*h,f=3*h+o;l[f]=r[u],l[f+1]=r[1+u],l[f+2]=r[2+u]}return l.buffer},ai.cu.Ou=function(t){t=new Uint8Array(t);for(var e=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],n=0,i=String.fromCharCode(t[0])+String.fromCharCode(t[1]),r=[],a=0,s="P1"==i||"P4"==i?2:3,n=2;n<t.length;n++){var o=t[n],l=String.fromCharCode(o);if(o!="#".charCodeAt(0)){var h=-1!=e.indexOf(o);if(0!=a||h)if(1!=a||h)if(1==a&&h){if(a=0,r.length==s)break}else;else r[r.length-1]+=l;else r.push(l),a=1}else for(;t[n]!="\n".charCodeAt(0);)n++}var u=parseInt(r[0]),f=parseInt(r[1]),c=u*f*4,p="P1"==i||"P4"==i?1:255/parseInt(r[2]),d=Rr.t(c);if("P1"==i||"P2"==i||"P3"==i)for(var v="",g=0,a=0,y="#".charCodeAt(0),m=n;m<t.length;m++){var w,o=t[m],l=String.fromCharCode(o),h=-1!=e.indexOf(o);if(o==y)for(;t[m]!="\n".charCodeAt(0);)m++;else 0!=a||h?1==a&&(h?(a=0,w=parseInt(v),v="","P1"==i&&(d[g]=d[g+1]=d[g+2]=255*(1-w),d[g+3]=255,g+=4),"P2"==i&&(d[g]=d[g+1]=d[g+2]=Math.round(w*p),d[g+3]=255,g+=4),"P3"==i&&(d[g]=Math.round(w*p),3==(3&++g)&&(d[g]=255,g++))):v+=l):(v=l,a=1)}var b=u*f;if("P4"==i)for(var M=0;M<f;M++)for(var S=8*M*Math.ceil(u/8),C=0;C<u;C++){var x=t[n+1+((m=S+C)>>3)];d[L=M*u+C<<2]=d[L+1]=d[L+2]=255*(1-(x=x>>7-(7&m)&1)),d[L+3]=255}if("P5"==i)for(m=0;m<b;m++)d[L=4*m]=d[L+1]=d[L+2]=Math.round(t[n+1+m]*p),d[L+3]=255;if("P6"==i)for(m=0;m<b;m++){var L,D=n+1+3*m;d[L=4*m]=Math.round(t[D]*p),d[L+1]=Math.round(t[D+1]*p),d[L+2]=Math.round(t[D+2]*p),d[L+3]=255}return[{Tl:new Fr(0,0,u,f),data:d.buffer}]},ai.Fz={},ai.Fz.D6=function(t,e,n,i){null==i&&(i=[!0,!0]);var r=new Uint8Array(t[0][0]),a=3&e,s=3&n;0==a&&0==s||(t=e+(0==a?0:4-a),a=n+(0==s?0:4-s),s=new Uint8Array(t*a*4),Rr.Bg(s,4278190080),Rr.Ik(r,new Fr(0,0,e,n),s,new Fr(0,0,t,a)),r=s,e=t,n=a);i=UTEX.DDS.encode(r.buffer,e,n,i);return i},ai.Fz.Ou=function(t){t=UTEX.DDS.decode(t)[0];return[{Tl:new Fr(0,0,t.width,t.height),data:t.image}]},ai.Rh={},ai.Rh.Ou=function(t){t=UTEX.VTF.decode(t).pop();return[{Tl:new Fr(0,0,t.width,t.height),data:t.image}]},ai.aI={},ai.aI.gd=null,ai.aI.a5Y=function(t,e){var n=ai.aI.gd,i=t.byteLength,r=e.width*e.height,a=5e6+2*i+r*(e.progressive?4*Math.max(2,e.numComponents)+1:8),s=n.instance.exports;ai.pm(s,a);var o=new Uint8Array(s.memory.buffer),e=s.malloc(i);o.set(new Uint8Array(t),e);n=s.malloc(4),a=s.malloc(4),t=s.malloc(4),i=s.stbi_load_from_memory(e,i,n,a,t,4);return s.free(e),s.free(n,a,t),s.free(i),o.slice(i,i+4*r)},t=ai.Kn.get("wasm/jpg").buffer,null==window.WebAssembly&&window.alert("Your browser is too old. Please, update it."),WebAssembly.instantiate(t).then(function(t){ai.aI.gd=t}),ai.aI.D6=function(t,e,n,i){null==i&&(i=[70]);var r,a=t[0],s=new Uint8Array(a[0]);Rr.Jw(s)&&(r=new Uint8Array(s.length),t=new Fr(0,0,e,n),Rr.Bg(r,4294967295),Rr.a.bW("norm",s,t,r,t,t,1),s=r);var o=new Uint8Array(ai.W7(s.buffer,e,n,"jpeg",i[0]/100));if(null!=a[5]){for(var l=ai.aI.fk(o)[226][0]+2,h=ln.aV(o,l),u=a[5].length+16,f=u-h,c=new Uint8Array(o.length+f),p=0;p<l+h;p++)c[p]=o[p];for(p=l+h;p<o.length;p++)c[p+f]=o[p];ln.$q(c,l,u),c.set(a[5],l+16),o=c}if(null!=a[2]&&(d=ai.aI.fk(o)[224][0]+2,o[d+=9]=1,ln.$q(o,d+1,a[2]),ln.$q(o,d+3,a[2])),null!=a[3]&&1==i[1]&&0!=Object.keys(a[3]).length){var n=0,d=0,i=lr.U1(a[3]),v=new Uint8Array(UTIF.encode([i])),g="http://ns.adobe.com/xap/1.0/",l=20,n=10+v.length,i=lr.a52(a[3]),y=ln.u3(i),u=4+g.length+1+y.length,m=lr.amn(a[3]);if(0!=m.length){for(var w=0,b=0,p=0;p<m.length;p++)w+=5+m[p][1].length;var M=Rr.t(24+(w+(1&w)));ln.zW(M,b,"Photoshop 3.0"),ln.zW(M,b+=14,"8BIM"),b+=4,M[b++]=4,M[b++]=4,ln.Kp(M,b+=2,w),b+=4;for(p=0;p<m.length;p++){var S=m[p],C=S[1];M[b++]=28,M[b++]=2,M[b++]=S[0],ln.$q(M,b,C.length),b+=2,ln.zW(M,b,C),b+=C.length}d=4+M.length}for(var x=n+u+d,L=new Uint8Array(o.length+x),p=0;p<20;p++)L[p]=o[p];for(p=20;p<o.length;p++)L[p+x]=o[p];L[l]=255,L[l+1]=225,ln.$q(L,l+2,n-2),ln.zW(L,l+4,"Exif");for(p=0;p<v.length;p++)L[l+10+p]=v[p];L[l+=n]=255,L[l+1]=225,ln.$q(L,l+2,u-2),ln.zW(L,l+4,g);for(p=0;p<y.length;p++)L[l+4+g.length+1+p]=y[p];if(l+=u,0!=d){L[l]=255,L[l+1]=237,ln.$q(L,l+2,d-2);for(p=0;p<M.length;p++)L[l+4+p]=M[p];l+=d}o=L}return o.buffer},ai.aI.fk=function(t){for(var e,n=0,i=[],r=t.length;n<r;){for(;255!=t[n]&&n<r;)n++;for(;255==t[n];)n++;var a=t[n];if(n++,null==i[a]&&(i[a]=[]),i[a].push(n-2),216!=a){if(217==a)break;if(!(224<=a&&a<=239||218==a||219==a||192==a||193==a||194==a||196==a||221==a||254==a)){console.log("unknown marker ",a.toString(16),n);break}if(n+=ln.aV(t,n),218==a)for(;n<r&&(255!=t[n]||0==t[n+1]||208<=t[n+1]&&t[n+1]<=215);)n++}}return null==i[217]&&(console.log("EOI marker missing"),t[e=t.length-2]=255,i[t[1+e]=217]=[e]),i},ai.aI.arK=function(t){if(255!=(t=new Uint8Array(t))[0])return t.buffer;var e=ai.aI.fk(t),n=ai.aI.O8(t,e);if(4!=n.numComponents)return t.buffer;var i=n.width,n=n.height,e=ai.aI.Yv(t,e,!0);return ai.aI.D6([[e[0].data]],i,n,[85])},ai.aI.O8=function(t,e){var n,i=(e[192]||e[193]||e[194])[0]+4,r={};return r.progressive=null!=e[194],r.precision=t[i],r.height=ln.aV(t,++i),r.width=ln.aV(t,i+=2),r.numComponents=t[i+=2],i++,e[224]&&(n=r.jfif={},i=e[224][0]+2+2+5+2,n.densityUnits=t[i],n.xDensity=ln.aV(t,++i),n.yDensity=ln.aV(t,i+=2),i+=2),e[238]&&(n=r.adobe={},i=e[238][0]+2+2+6,n.version=t[i],n.flags0=ln.aV(t,++i),n.flags1=ln.aV(t,i+=2),n.transform=t[i+=2],i++),r},ai.aI.agE=function(t,e,n){var i=e,r=ln.aV(t,i),a=ln.fb(t,i+=2,4);if("Exif"==a){var s=t.slice(i+=6,i+r-8);try{l=UTIF.decode(s.buffer,{parseMN:!1,debug:!1})}catch(t){}l&&(n.exif=l)}else if("http"==a){for(var o=0;0!=t[i+o];)o++;var l=ln.fb(t,i,o);if(i+=o+1,"http://ns.adobe.com/xmp/extension/"==l){ln.fb(t,i,32);i+=32;for(var h=e+r-(i+=8);0==t[i+h-1];)h--;null==n.xmp_extn&&(n.xmp_extn="");try{n.xmp_extn+=ln.cP(t,i,h)}catch(t){}}else"http://ns.adobe.com/xap/1.0/"==l&&("?"==(r=ln.cP(t.slice(i,i+r-o-3)))[0]&&(r="<"+r),n.xmp=r)}else console.log(a)},ai.aI.Yv=function(t,e,n){var i=ai.aI.O8(t,e),r=(ct=i.width)*(pt=i.height),a=-1,s=72;if(i.adobe&&(a=i.adobe.transform),n||15e7<ct*pt||0==a||2==a){a=new PDFJS.JpegImage;a.parse(t);for(var o=a.getData({width:ct,height:pt,forceRGB:!0,isSourcePDF:n}),l=Rr.t(4*r),h=0;h<r;h++){var u=(W=h<<2)-h;l[W]=o[u],l[W+1]=o[1+u],l[W+2]=o[2+u],l[W+3]=255}}else l=ai.aI.a5Y(t.buffer,i);var f=e[225];if(f)for(h=0;h<f.length;h++)ai.aI.agE(t,f[h]+2,i);n=e[226];n&&(w=n[0],k=ln.aV(t,w+2),"ICC_PROFILE"==ln.fb(t,w+4,11)&&(c=ln.l(t,w+18),i.icc=t.slice(w+18,w+18+c))),(T=e[217][0]+2)!=t.length&&(i.suffix=t.slice(T));var c,p=[ct,pt,1,0,0,0,1,0];i.jfif&&0!=i.jfif.densityUnits?s=Math.round([72,1,2.54][i.jfif.densityUnits]*i.jfif.xDensity):i.exif&&null!=i.exif[0].t282&&(s=(c=i.exif[0].t282[0])[0]/c[1]),i.exif&&(K=i.exif,U=lr.ym(K[0]),null!=(K=(K=K[0].t274)&&K[0])&&1<K&&K<20&&(p=Rr.raw.e9(K,ct,pt))),i.xmp&&(U=lr.ao2(i.xmp,U)),i.icc&&(R=i.icc);var d=e[237],v=[],g=[];if(d){for(var y=new Uint8Array(65536),m=0,w=0,h=0;h<d.length;h++){for(var b=(w=d[h]+2)+ln.aV(t,w),M=w+=2;0!=t[w];)w++;w++;ln.fb(t,M,w-M-1);for(var S=b-w;m+S>y.length;){var C=new Uint8Array(2*y.length);C.set(y),y=C}b=new Uint8Array(t.buffer,w,S);y.set(b,m),m+=S}for(w=0,t=y;w<m;){ln.fb(t,w,4);w+=4;var x=ln.aV(t,w);w+=2;var L=t[w++],D=ln.fb(t,w,L);w+=L,0==(1&L)&&w++;var k=ln.l(t,w),T=(w+=4)+k+(1&k);if(1028==x)for(;w+4<T;){var A=t[w++],E=t[w++],O=t[w++],N=ln.aV(t,w);w+=2,28==A&&2==E&&v.push([O,ln.fb(t,w,N)]),w+=N}else 2e3==(2e3&x)&&(x=ze.r8(t,w,k),g.push([D,x]));w=T}0!=v.length&&(U=lr.a0m(v,U))}var I=[{Tl:new Fr(0,0,ct,pt),data:l.buffer,Mg:s,_E:U,d1:R,lv:0==g.length?null:g}];if(U=i.xmp_extn)for(var P,F=(new DOMParser).parseFromString(U,"image/svg+xml"),_=[(F=F.children[0].children[0].children[0]).getAttribute("GImage:Data"),F.getAttribute("GDepth:Data")],h=0;h<_.length;h++)_[h]&&(P=atob(_[h]),G=new Uint8Array(P.length),ln.zW(G,0,P),G=G.buffer,P=ai.Am(G),rt=ai.TN(P).Ou(G),I.push(rt[0]));if(i.suffix){var B=i.suffix,R=ln.fb(B,4,4),U=ln.M8(B,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));if(ai.bh(B,[0,0,1,10,14,0,0,0]))for(w=0;w!=B.length;){var j=ln.pG(B,w+2);w+=4;var H={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[j];if(null!=H){var J=ln.UF(B,w);w+=4;ln.fb(B,w,J);w+=J;ln.fb(B,w,H);w+=H,2608==j&&(w+=(H=ln.l(B,w+24))+24,w+=ln.l(B,w),alert("Photopea found a "+ds.Dk(H)+" MP4 video inside your image.",4e3))}else{if(18502!=j)break;for(;"SEFT"!=ln.fb(B,w,4);)w+=4;w+=4}}else if("ftyp"==R)alert("Photopea found a "+ds.Dk(B.length)+" MP4 video inside your image.",4e3);else if("fixe"==ln.fb(B,0,4)){alert("Unknown data - "+B.length+" B - at the end of the file",3e3);var w=4,k=ln.UF(B,w),F=ln.UF(B,w+=4),q=ln.UF(B,w+=4);w+=4,console.log(k,F,q,B.slice(w,w+84));ln.fb(B,w+=84,32);w+=32;ln.fb(B,w+=8,32);w+=32}else if("FocusShot_Map"==ln.fb(B,8,13)){ln.l(B,0);for(var N=ln.UF(B,4),G=Rr.t(4*r),Z=Rr.t(4*r),z=0;z<pt;z++)for(var V=0;V<ct;V++){var W=(h=z*ct+V)<<2,X=21+((z>>>1)*ct+V>>>1),Y=B[X],X=B[X+(r>>>2)];G[W]=G[W+1]=G[W+2]=Y,G[W+3]=255,Z[W]=Z[W+1]=Z[W+2]=X,Z[W+3]=255}I.push({Tl:new Fr(0,0,ct,pt),data:G.buffer},{Tl:new Fr(0,0,ct,pt),data:Z.buffer})}else if("edof"==R){var K=B[15];console.log(K.toString(16));w=24,r=(et=ln.pG(B,w))*(dt=ln.pG(B,w+2));w+=4,w+=48;for(var Q=Rr.t(4*r),h=0;h<r;h++)Q[W=h<<2]=Q[W+1]=Q[W+2]=B[w+h],Q[W+3]=255;if(16!=K){if(19!=K)throw"Unknown orientation of a depth map";var $=Q.slice(0);Rr.N.$Y(Q,$,et,dt);var tt=et;et=dt,Rr.N.Gr($,Q,et,dt=tt)}I.push({Tl:new Fr(0,0,et,dt),data:Q.buffer})}else if(-1==U||255==B[0]&&129==B[1])if("PMPD"==ln.fb(B,0,4)){for(var w=4,et=(ln.UF(B,12),ln.UF(B,16),ln.UF(B,1060)),q=(dt=ln.UF(B,1064))<et,R=I[0].Tl.m>I[0].Tl.n,nt=B.slice(B.length-et*dt-4),it=Rr.t(et*dt),z=0;z<dt;z++)for(V=0;V<et;V++)it[z*et+V]=nt[(dt-z-1)*et+V];K=Rr.t(et*dt*4);K.fill(255),Rr.PU(it,K),q!=R&&($=K.slice(0),Rr.N.$Y(K,$,et,dt),tt=et,et=dt,Rr.N.Gr($,K,et,dt=tt)),I.push({Tl:new Fr(0,0,et,dt),data:K.buffer})}else console.log(ln.fb(B,0,4),B);else try{0!=U&&(B=B.slice(U));for(var rt=ai.TN("jpg").Ou(B.buffer),h=0;h<rt.length;h++)I.push(rt[h])}catch(t){}}if(1<I.length){var at=I[0].Tl;I[0].KI="Main";for(h=1;h<I.length;h++){I[h].KI=ai.aI.aim(new Uint8Array(I[h].data))?"Depth Map":null;var st,ot,lt,ht=I[h].Tl;ht.iy(at)||(st=at.m/ht.m,ot=at.n/ht.n,(lt=new _r).scale(st,ot),lt=qr.Q.vS([new Uint8Array(I[h].data),ht],1,Rr.N.V$(lt)),I[h].Tl=lt.rect,I[h].data=lt.buffer)}}if(1==ai.aI.bq&&(1!=p[2]||1!=p[6]))for(h=0;h<I.length;h++){var ut=I[h],ft=new Uint8Array(ut.data),ct=ut.Tl.m,pt=ut.Tl.n,et=p[0],dt=p[1],l=Rr.t(et*dt*4);Rr.N.Z7(ft,ct,pt,l,p),ut.Tl=new Fr(0,0,et,dt),ut.data=l.buffer}return I},ai.aI.aim=function(t){for(var e=!0,n=0;n<t.length;n+=4)e=e&&t[n]==t[n+1]&&t[n+1]==t[n+2];return e},ai.aI.bq=0,ai.aI.Ou=function(t,e,n){if(255==(t=new Uint8Array(t))[0]){var i=ai.aI.fk(t);if(null==i[195]){ai.aI.bq++;var r=ai.aI.Yv(t,i,!1);return ai.aI.bq--,r}for(var a=ln.aV(t,i[195][0]+5),s=ln.aV(t,i[195][0]+7),o=UTIF.LosslessJpegDecode(t),l=s*a,h=Rr.t(4*l),u=0;u<l;u++){var f=(m=u<<2)-u;h[m]=o[f],h[m+1]=o[f+1],h[m+2]=o[f+2],h[m+3]=255}return[{Tl:new Fr(0,0,s,a),data:h.buffer}]}if(0==t[0]&&48==t[4]&&1==t[6]){var r=t,c=new PDFJS.Jbig2Image,i=[];e&&i.push({data:e,start:0,end:e.length}),i.push({data:r,start:0,end:r.length});o=c.parseChunks(i);if(!n)for(u=0;u<o.length;u++)o[u]=~o[u];for(var s=ln.l(t,11),a=ln.l(t,15),p=Math.ceil(s/8),d=Rr.t(s*a*4),v=0;v<a;v++)for(var g=v*p,y=0;y<s;y++){var m=4*(v*s+y),w=255*(o[g+(y>>>3)]>>>7-(7&y)&1);d[m]=w,d[m+1]=w,d[m+2]=w,d[m+3]=255}return[{Tl:new Fr(0,0,s,a),data:d.buffer}]}(c=new PDFJS.JpxImage).parse(t);for(var s=c.width,a=c.height,b=c.tiles,M=c.componentsCount,S=new Uint8Array(s*a*4),C=new Fr(0,0,s,a),c=0;c<b.length;c++){var x=b[c],L=x.width,D=x.height,k=L*D,T=x.items,D=new Fr(x.left,x.top,L,D),A=new Uint8Array(4*k);if(1==M)for(u=0;u<k;u++){var E=T[u];A[m=4*u]=E,A[m+1]=E,A[m+2]=E,A[m+3]=255}else if(3==M)for(u=0;u<k;u++){f=3*u;A[m=4*u]=T[f],A[m+1]=T[f+1],A[m+2]=T[f+2],A[m+3]=255}else console.log("Unknown number of components: "+M);Rr.Ik(A,D,S,C)}return[{Tl:C,data:S.buffer}]},ai.y0={},ai.y0.D6=function(t,e,n,i){var r=(i=null==i?[70,0,0,0]:i)[0]/100,a=0;if(1==t.length)return ai.W7(t[0][0],e,n,"webp",r);var s=ln.oW,o=ln.SN,l=new Ol;s(l,a,"RIFF    WEBPVP8X"),o(l,a+=16,10),o(l,a+=4,18),o(l,a+=4,e-1),o(l,a+=3,n-1),s(l,a+=3,"ANIM"),o(l,a+=4,6),l.ib(a+=4,4),l.data[a+3]=255,ln.Rg(l,a+4,i[2]),a+=6;for(var h=[],u=0;u<t.length;u++)h.push(t[u][0]);var f=UPNG.encode.compress(h,e,n,1==r?0:Math.max(2,Math.floor(500*r)),[!1,!0,!0,0,!0]).frames;for(u=0;u<t.length;u++){s(l,a,"ANMF");var c=a+=4;a+=4;for(var p=f[u],d=p.rect,v=[d.x>>>1,d.y>>>1,d.width-1,d.height-1,t[u][1]],g=0;g<5;g++)o(l,a+3*g,v[g]);a+=15,l.ib(a,1),l.data[a]=1-p.blend<<1|p.dispose,a++;for(var d=new Uint8Array(ai.W7(p.img.buffer,d.width,d.height,"webp",1)),y=Wn.M9(d.buffer).sub,m={},w=0;w<y.length;w++)m[y[w].n4]=y[w];if(!m.VP8L)throw"e";d=(a=function(t,e,n,i){var r=t.r-8,a=t.size+8;n.ib(i,a);for(var s=0;s<a;s++)n.data[i+s]=e[r+s];return i+a}(m.VP8L,d,l,a))-c-4;o(l,c,d),1==(1&d)&&(l.ib(a,1),a++)}return o(l,4,a-8),l.data.slice(0,a).buffer},e=ai.Kn.get("wasm/webp").buffer,WebAssembly.instantiate(e).then(function(t){t=t.instance.exports;ai.y0.exp=t}),ai.y0.Ou=function(t){for(var e=new Uint8Array(t),n=ai.y0.aeV,i=Wn.M9(t).sub,r={},a=0;a<i.length;a++)r[i[a].n4]=i[a];var s=r.ANIM,o=r.VP8L,l=r["VP8 "],h=r.VP8X;if(null==s){if(l)u=ln.pG(e,l.r+6),f=ln.pG(e,l.r+8);else{if(!o)throw"e";o=ln.UF(e,o.r+1);u=1+(16383&o),f=1+(o>>>14&16383)}return[n(null,t,{r:0,size:e.length},u,f)]}for(var u,f,h=h.r,c=[],p=new Fr(0,0,u=1+(16777215&ln.UF(e,h+4)),f=1+(16777215&ln.UF(e,h+7))),d=Rr.t(u*f*4),a=0;a<i.length;a++){var v=i[a];if("ANMF"==v.n4){for(var g=[],y=0;y<5;y++)g.push(16777215&ln.UF(e,v.r+3*y));var m=new Fr(2*g[0],2*g[1],g[2]+1,g[3]+1),w=g[4],b=n(null,t,{r:v.r+16,size:v.size-16},u,f),M=new Uint8Array(b.data),b=e[v.r+15];b>>>1==0?Rr.a.bW("norm",M,m,d,p,m,1):Rr.Ik(M,m,d,p),c.push({KI:"_a_"+c.length+","+w,Tl:p.clone(),data:d.buffer.slice(0)}),1==(1&b)&&(Rr.Bg(M,0),Rr.Ik(M,m,d,p))}}return c},ai.y0.aeV=function(t,e,n,i,r){var a=ai.y0.exp,s=a.memory,r=5e6+2*n.size+i*r*10;ai.pm(a,r);var o=new Uint8Array(s.buffer),r=a.malloc(n.size);o.set(new Uint8Array(e,n.r,n.size),r);for(var s=a.malloc(8),l=a.WebPDecodeARGB(r,n.size,s,s+4),e=ln.UF(o,s),n=ln.UF(o,s+4),h=e*n*4,u=Rr.t(h),f=0;f<h;f+=4)u[f]=o[l+f+1],u[f+1]=o[l+f+2],u[f+2]=o[l+f+3],u[f+3]=o[l+f];return a.WebPFree(l),a.free(s),a.free(r),{Tl:new Fr(0,0,e,n),data:u.buffer}},ai.atQ={Ou:function(t){if(t=new Uint8Array(t),40==ln.UF(t,0))return[B(t.buffer,0)];var e=ln.fb(t,0,2);if("BM"==e){ln.UF(t,2);0;var n=ln.UF(t,10);return[B(t.buffer,14,n)]}alert("Unsupported BMP format: "+e)},D6:function(t,e,n,i){for(var r=new Uint8Array(t[0][0]),a=new Uint32Array(r.buffer),s=[],o={},l=24,h=0,u=0;u<a.length;u++){var f=16777215&a[u];if(null==o[f]&&(o[f]=s.length,s.push(f),256<s.length)){s=null;break}}if(s){for(l=1;1<<l<s.length;)l*=2;2==l&&(l=4)}var c={r2:e,kY:n,h9:1,HW:l,w0:0,arC:0},p=4*Math.floor((c.HW*c.r2+31)/32);c.size=p*c.kY+2;var d,v=new Ol,g=s?4*(1<<l):0;if(ln.oW(v,h,"BM"),ln.SN(v,h+=2,p*n+16+40+g),ln.SN(v,h+=4,0),ln.SN(v,h+=4,54+g),v.ib(h+=4,40),ln.SN(v,h,40),d=v.data,t=h+=4,c=c,ln.Vf(d,t,c.r2),t+=4,ln.Vf(d,t,c.kY),t+=4,ln.j3(d,t,c.h9),t+=2,ln.j3(d,t,c.HW),t+=2,ln.Vf(d,t,c.w0),t+=4,ln.Vf(d,t,c.size),t+=4,ln.Vf(d,t,2834),t+=4,ln.Vf(d,t,2834),t+=4,ln.Vf(d,t,c.arC),t+=4,t+=4,h+=36,s){v.ib(h,g);for(var y=v.data,u=0;u<s.length;u++){var m=h+4*u,w=s[u]>>>16,b=s[u]>>>8&255,M=255&s[u];y[m]=w,y[m+1]=b,y[m+2]=M}h+=g}if(v.ib(h,p*n),24==l)for(var S=0;S<n;S++)for(var C=h+(n-1-S)*p,x=0;x<e;x++){var L=4*(S*e+x);v.data[C+3*x+2]=r[L],v.data[C+3*x+1]=r[L+1],v.data[C+3*x+0]=r[L+2]}else if(8==l)for(S=0;S<n;S++)for(C=h+(n-1-S)*p,x=0;x<e;x++){var D=o[16777215&a[L=S*e+x]];v.data[C+x]|=D}else if(4==l)for(S=0;S<n;S++)for(C=h+(n-1-S)*p,x=0;x<e;x++){D=o[16777215&a[L=S*e+x]];v.data[C+(x>>>1)]|=D<<4-4*(1&x)}else if(1==l)for(S=0;S<n;S++)for(C=h+(n-1-S)*p,x=0;x<e;x++){D=o[16777215&a[L=S*e+x]];v.data[C+(x>>>3)]|=D<<7-(7&x)}return v.data.slice(0,h+=p*n+2).buffer},a93:B},ai.iK={},ai.iK.D6=function(t,e,n,i){null==i&&(i=[100,!1,0,0,0,0]);for(var r=[],a=[],s=e*n*4,o=null,l=0;l<t.length;l++){for(var h=new Uint8Array(t[l][0].slice(0)),u=0;u<s;u+=4)0==(h[u+3]=127<h[u+3]?255:0)&&(h[u]=h[u+1]=h[u+2]=0);r.push(h.buffer),a.push(t[l][1])}for(var f=Math.round(2+254*i[0]/100),c=UPNG.encode.compress(r,e,n,f,[!0,!1,!1,8,!1,i[1]]),p=c.plte,d=new Uint8Array(4),v=new Uint32Array(d.buffer),u=0;u<p.length;u++){v[0]=p[u];var g=d[0];d[0]=d[2],d[2]=g,p[u]=v[0],0==v[0]&&(o=u)}for(;p.length<256;)p.push(0);var y=new Uint8Array(2e3+e*n*t.length),f=i[3],i={palette:p};1!=f&&(i.loop=0==f?0:f-1);for(var m=new GifWriter(y,e,n,i),u=0;u<t.length;u++){var w=c.frames[u],b=w.rect,M=(w.blend,w.dispose),S=Math.round(a[u]/10);S<2&&(S=2),m.addFrame(b.x,b.y,b.width,b.height,w.img,{transparent:o,disposal:M+1,delay:S})}return y.slice(0,m.end()).buffer},ai.iK.Ou=function(t){Date.now();for(var e=[],n=UGIF.decode(t),i=UGIF.toRGBA8(n),r=new Fr(0,0,n.width,n.height),a=0;a<i.length;a++){var s=n.frames[a];e.push({Tl:r.clone(),KI:"_a_frm"+a+","+10*s.delay,data:i[a]})}return e},ai.Bq={},ai.Bq.D6=function(t,e,n,i){var r,a,s,o,l,h;console.log(t),(256<e||256<n)&&(alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3),s=new Fr(0,0,r=Math.min(e,256),a=Math.min(n,256)),o=Rr.t(4*s.Z()),l=new Fr(0,0,e,n),h=new Uint8Array(t[0][0]),Rr.Ik(h,l,o,s),t[0][0]=o.buffer,e=r,n=a);var u=new Ol,f=0,i=i&&1==i[0];ln.Rg(u,f,0),ln.Rg(u,f+=2,i?2:1),ln.Rg(u,f+=2,1),f+=2;var c=new Uint8Array(ai.TN("png").D6(t,e,n));u.ib(f,16),u.data[f]=256==e?0:e,u.data[++f]=256==n?0:n,f++,ln.Rg(u,f+=2,i?Math.round(e/2):1),ln.Rg(u,f+=2,i?Math.round(n/2):32),ln.SN(u,f+=2,c.length),ln.SN(u,f+=4,22),u.ib(f+=4,c.length);for(var p=0;p<c.length;p++)u.data[f+p]=c[p];f+=c.length;for(var d=new Uint8Array(f),p=0;p<f;p++)d[p]=u.data[p];return d.buffer},ai.Bq.Ou=function(t){t=new Uint8Array(t);var e=ln.pG(t,4);for(var n=[],i=0;i<e;i++){var r,a=ai.Bq.auz(t,6+16*i),s=t.buffer.slice(a.offset,a.offset+a.size),o=ai.Am(s);"png"==(o=o||"bmp")?(r=ai.TN(o).Ou(s),a.KS=r[0]):(r=ai.TN("BMP").a93(s,0),s=Rr.t(a.r2*a.kY*4),Rr.Ik(new Uint8Array(r.data),new Fr(0,0,r.Tl.m,r.Tl.n),s,new Fr(0,a.kY,a.r2,a.kY)),r.data=s.buffer,r.Tl.n=a.kY,a.KS=r),n.push(a)}return n.sort(function(t,e){return t.r2!=e.r2?t.r2-e.r2:t.ajh-e.ajh}),[n.pop().KS]},ai.Bq.auz=function(t,e){var n={};return n.r2=t[e],e++,0==n.r2&&(n.r2=256),n.kY=t[e],e++,0==n.kY&&(n.kY=256),n.aqm=t[e],e++,n.akq=ln.pG(t,++e),n.ajh=ln.pG(t,e+=2),n.size=ln.UF(t,e+=2),n.offset=ln.UF(t,e+=4),e+=4,n},ai.q1={},ai.q1.Ou=function(t){Date.now();var e=!0;if(Rr.raw.ft(t.byteLength))return[Rr.raw.a08(t)];var n=UTIF.decode(t);if(n[0].t33421)r=n[0];else if(n[0].subIFD&&n[0].t271&&"Hasselblad"==n[0].t271[0])(r=n[0].subIFD[0]).t33421=[2,2];else if(n[0].subIFD&&n[0].subIFD[0].t33421)null==(r=n[0].subIFD[0]).t50706&&8==r.t258[0]&&(r.t258[0]=12);else if(n[0].subIFD&&n[0].subIFD[0]&&n[0].subIFD[0].t262&&34892==n[0].subIFD[0].t262[0])r=n[0].subIFD[0];else if(n[0].subIFD&&n[0].subIFD[1]&&n[0].subIFD[1].t33421)r=n[0].subIFD[1];else if(n[0].subIFD&&n[0].subIFD[2]&&n[0].subIFD[2].t33421)r=n[0].subIFD[2];else if(n[3]&&n[3].t50648){var i=n[0].exifIFD.makerNote,r=n[3],a=i.t224[1],i=i.t224[2];r.t256=[a],r.t257=[i],r.t258=[16],r.t259=[7],r.t262=[32803],r.t277=[1],r.t33421=[2,2];i=r.t50656[0],i=Rr.raw.Tz[i];if(null==i)throw"e";r.t33422=i}if(r){for(var s in UTIF.decodeImage(t,r,n),n[0])"t"!=s[0]&&"e"!=s[0]&&"d"!=s[0]||null!=r[s]||(r[s]=n[0][s]);return r.Bi=n[0].t274?n[0].t274[0]:1,[r]}for(var o=1/256,l=0;l<n.length;l++)n[l].t258&&16==n[l].t258[0]&&n[l].t277&&1==n[l].t277[0]||(e=!1);if(e){for(var h=0,u=0,f=0,l=0;l<n.length;l++){UTIF.decodeImage(t,n[l],n);for(var c=n[l].data,p=0;p<c.length;p+=2){var d=c[p+1]<<8|c[p];h<d&&(h=d),u+=d,f++}}o=1/256*65535/(.5*h+2*u/f*.5)}for(var v=[],l=0;l<n.length;l++){var g=n[l],y=72;UTIF.decodeImage(t,g,n);var m=g.t282,w=g.t296;null!=m&&null!=w&&(y=m[0][0]/m[0][1],3==w[0]&&(y=Math.round(y/2.54))),null!=g.width&&(m=UTIF.toRGBA8(g,o).buffer,w=lr.ym(g),console.log(g),v.push({Tl:new Fr(0,0,g.width,g.height),data:m,Mg:y,_E:w,d1:g.t34675?g.t34675.slice(0):null}))}return v},ai.q1.D6=function(t,e,n,i){null==i&&(i=[!1]);var r={},t=t[0];return null!=t[3]&&i[0]&&(r=lr.U1(t[3])),null!=t[2]&&(r.t282=r.t283=[[Math.round(t[2]),1]],r.t296=[2]),UTIF.encodeImage(t[0],e,n,r)},ai.N7={},ai.N7.r1=!0,ai.N7.Ou=function(t,e){an.M9(t,e)},ai.N7.a5q=function(t,e,n,i){(i=null==i?[!1,!1,!1,!1]:i)[0]||t.y5();var r=new Ol,i=an.ij(t,r,i);return[r.data.buffer,i]},ai.N7.D6=function(t,e,n,i){n=ai.N7.a5q(t,e,n,i),i=n[0],n=n[1];return i.byteLength==n?i:i.slice(0,n)},ai.TU={},ai.TU.r1=!0,ai.TU.Ou=function(t,e){var n=pako.inflate(new Uint8Array(t)),i=ln.aV(n,0),r=(ln.aV(n,2),4);e.m=ln.l(n,r),e.n=ln.l(n,r+=4),r+=4,e.buffer=Rr.t(e.m*e.n*4);var a=ln.aV(n,r);r+=2,r+=4;for(var s=0;s<a;s++){var o=e.rL(),l=0,h=1,u=2,f=3,c=0;e.g.push(o);var p=ln.l(n,r),d=r+=4,v=ln.aV(n,d);d+=2;var g=ln.cP(n,d,v);d+=v,o.Zu(g);g=n[d];if(d++,0!=g&&1!=g)throw g;o.rect.x=ln.Xu(n,d),d+=4,o.rect.y=ln.Xu(n,d),d+=4,o.rect.m=ln.l(n,d),d+=4,o.rect.n=ln.l(n,d),d+=4,3<i&&(l=ln.Xu(n,d),d+=4),o.opacity=Math.round(255*n[d]/100);g=n[++d];d++,o.I9(0!=g),o.SD="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[n[d]];g=n[++d];d++,g&&(o.add.lspf=1<<31),3<i&&(g=ln.aV(n,d),d+=2,0!=g&&(T=JSON.parse(ln.cP(n,d,g)),d+=g,C=T.text,x=(D=T.textSettings).font,L=D.size,k=D.padding,S=parseInt(D.color.slice(1),16),o.add.lnsr="rend",o.add.TySh=ir.mb(0,0),o.add.TySh.qK=new Fr(0,0,100,100),A=o.add.TySh.A=new _r,g=o.rect.m/2,T=o.rect.n/2,A.translate(-g,-T),A.rotate(-l*Math.PI/180),A.translate(g,T),A.translate(o.rect.x+k,o.rect.y+k),T=o.add.TySh.nx,ir.b8(T,1),ir.NO(T,[0,0,o.rect.m-2*k,o.rect.n]),ir.RX(T,0,C),(A=ir.vK(T,0,1)).hy.FontSize=L,A.hy.FillColor={Type:1,Values:[1,(S>>>16&255)/255,(S>>>8&255)/255,(S>>>0&255)/255]},D.bold&&(x+="-Bold"),ir.Ui(A,x),A.eS.Justification=["left","right","center"].indexOf(D.align),ir.xB(T,0,C.length,A)));var y=ln.l(n,d);if(d+=4,y!=4*o.rect.Z())for(var m=o.rect.m;m>o.rect.m/2;m--){var w=y/(4*m);if(w==Math.round(w)){o.rect.m=m,o.rect.n=w;break}}o.buffer=Rr.t(4*o.rect.Z()),3<i&&(h=0,u=1,f=2,c=3);for(m=0;m<y;m+=4)o.buffer[m]=n[d+m+h],o.buffer[m+1]=n[d+m+u],o.buffer[m+2]=n[d+m+f],o.buffer[m+3]=n[d+m+c];d+=y;var b=ln.l(n,d);if(d+=4,0==b&&3<i)r+=p;else{var M=n[d];d++;var S,C,x,L,D,k,T,A;ln.aV(n,d);if(d+=2,0!=b){o.q=new qi.vi,o.q.rect=o.rect.clone(),o.q.channel=Rr.t(o.rect.Z());for(m=0;m<b;m+=4)o.q.channel[m>>>2]=n[d+m+1];d+=b}if(0!=M){var E=JSON.parse(Wi.default);o.add.lmfx=E;for(m=0;m<Wi.order.length;m++)E[Wi.Th[m]]={t:"VlLs",v:[]};for(var O={102:9,101:2,103:0,104:3,105:8},m=0;m<M;m++){var N=d+ln.aV(n,d)+4,I=(n.slice(d,N),n[d+2]);d+=3;var P=O[I+""],F=JSON.parse(Wi.xs[P]);E[Wi.Th[P]].v.push({t:"Objc",v:F}),0!=P?(F.Md.v.BlnM=Ji.S8("norm"),F.Opct.v.val=n[d],d++,9!=P&&2!=P||(F.Dstn.v.val=n[d+1]),d+=2,F.blur.v.val=Math.round(1.2*n[d]),d++,9!=P&&2!=P||(F.uglg.v=!1,F.lagl.v.val=180-ln.aV(n,d),d+=2),F.Clr.v=Rr.I.wg({p:n[d+1],z:n[d+2],S:n[d+3]})):(F.hglM.v.BlnM=F.sdwM.v.BlnM=Ji.S8("norm"),d+=2,I=n[d++],P=n[d++],F.blur.v.val=Math.round(1.3*Math.sqrt(P*I)),F.srgR.v.val=Math.round(100*I/P),F.uglg.v=!1,F.lagl.v.val=180-ln.aV(n,d),d+=2,F.hglO.v.val=n[d++],F.hglC.v=Rr.I.wg({p:n[d+1],z:n[d+2],S:n[d+3]}),d+=4,F.sdwO.v.val=n[d++],F.sdwC.v=Rr.I.wg({p:n[d+1],z:n[d+2],S:n[d+3]}),d+=4),d=N}}d-r<p&&(k=ln.l(n,d),S=0,d+=4,d++,v=ln.aV(n,d),d+=2,C=ln.cP(n,d,v),d+=v,C=C.replace(/\r/g,"\n"),v=ln.aV(n,d),d+=2,x=ln.cP(n,d,v),d+=v,L=ln.aV(n,d),d+=2,D=o.rect.x,v=o.rect.m,4&k&&(S=1),2&k&&(S=2),k=Math.round(.4*L),0!=S&&2!=S||(v+=k),1!=S&&2!=S||(v+=k,D-=k),o.add.lnsr="rend",o.add.TySh=ir.mb(0,0),o.add.TySh.qK=new Fr(0,0,100,100),o.add.TySh.A=new _r(1,0,0,1,D,o.rect.y+.25*L),T=o.add.TySh.nx,ir.b8(T,1),ir.NO(T,[0,0,v,o.rect.n]),ir.RX(T,0,C),(A=ir.vK(T,0,1)).hy.FontSize=L,A.hy.FillColor={Type:1,Values:[1,n[d+1]/255,n[d+2]/255,n[d+3]/255]},n[(d+=4)+5]&&(x+="-Bold"),n[d+6]&&(x+="-Italic"),ir.Ui(A,x),A.eS.Justification=S,d+=8,ir.xB(T,0,C.length,A)),r+=p}}},ai.LR={},ai.LR.r1=!0,ai.LR.Ou=function(t,e){Un.M9(t,e)},ai.WH={},ai.WH.r1=!0,ai.WH.Ou=function(t,e){jn.M9(t,e)},ai.kd={},ai.kd.r1=!0,ai.kd.Ou=function(t,e){hi.M9(t,e)},ai.NY={},ai.NY.r1=!0,ai.NY.Ou=function(t,e){hn.M9(t,e)},ai.Jq={},ai.Jq.r1=!0,ai.Jq.Ou=function(t,e){ui.M9(t,e)},ai.Ol={},ai.Ol.r1=!0,ai.Ol.Ou=function(t,e){En.M9(t,e)},ai.pc={},ai.pc.r1=!0,ai.pc.D6=function(t,e,n,i,r){return Hn.o$(t,{zY:(i=null==i?[!0,!1,!1,!1,!0,!0]:i)[0],hidden:i[1],aiS:i[2],afq:i[3],names:i[4],agB:i[5],am$:e,agY:n},r.PG)},ai.pc.Ou=function(t,e,n){Hn.M9(t,e,n)},ai.uw={},ai.uw.r1=!0,ai.uw.Ou=function(t,e){var n=new _r(1,0,0,-1,0,0);n.scale(150/72,150/72),e.Mg=150;n=new Zn(e,n,!0);FromPS.Parse(t,n)},ai.zx={},ai.zx.r1=!0,ai.zx.D6=function(t,e,n,i,r){(i=null==i?["",100,!1,!1,!1,0]:i)[6]=["jpg"];var a=new ToPDF;return zn.o$(t,i,a,r.PG,e,n),a.buffer},ai.zx.Ou=function(t,e,n){for(var i=2;;){var r=72*i,a=new _r(1,0,0,-1,0,0);a.scale(r/72,r/72),e.Mg=r;a=new Zn(e,a,!0);FromPDF.Parse(t,a);var s=Math.max(e.m,e.n);if(!(n&&s<Math.max(n[0],n[1])))break;e.g=[];for(var o=i;s*(i/o)<Math.max(n[0],n[1]);)i++}},ai.db={},ai.db.r1=!0,ai.db.Ou=function(t,e){var n=new _r(1,0,0,1,0,0);n.scale(1,1),e.Mg=72;n=new Zn(e,n,!1);FromWMF.Parse(t,n)},ai.U9={},ai.U9.rd=!0,ai.U9.r1=!0,ai.U9.D6=function(t,e,n,i,r){(i=null==i?["",100,!1,!1,!1,0]:i)[6]=[];var a=new ToEMF;return zn.o$(t,i,a,r.PG),a.buffer},ai.U9.Ou=function(t,e){var n=new _r(1,0,0,1,0,0);n.scale(1,1),e.Mg=72;n=new Zn(e,n,!1);FromEMF.Parse(t,n)},ai.z9={},ai.z9.r1=!0,ai.z9.Ou=function(t,e){return Xn.M9(t,e)},ai.V8={},ai.V8.Ou=function(t,e){for(var n,i,r,a,s,o=Vn.M9(t),l=new Uint8Array(t),h=0,u=0,f=0,c=0;c<o.sub.length;c++){var p=o.sub[c],h=p.r;if("BMHD"==p.n4){for(var d=[],v=0;v<4;v++)d[v]=ln.aV(l,h+2*v);h+=8,x=d[2],C=d[3],i=d[0],r=d[1],n=Rr.t(i*r*4),a=l[h++],s=l[h++],l[h++]}else if("CMAP"==p.n4)u=h;else if("CAMG"==p.n4)var g=ln.l(l,h),f=2048&g;else if("BODY"==p.n4){var y=i+15>>>4<<1,m=a+s,w=Rr.t(y*r*m);rn.rO(l,h,p.size,w,0,w.length);for(var b=a-2,M=(1<<b)-1,S=Math.round(255/M),C=0;C<r;C++)for(var x=0;x<i;x++){for(var L=0,D=0;D<m;D++){var k=(C*m+D)*y*8+x;L|=(w[k>>>3]>>>7-(7&k)&1)<<D}var T,A,E,O,N,L=L&(1<<a)-1,I=(v=C*i+x)<<2;0!=u?0!=f&&L>>>b!=0?(A=(L&M)*S,1==(T=L>>>b)?N=A:2==T?E=A:3==T&&(O=A)):(E=l[(A=u+3*L)+0],O=l[A+1],N=l[A+2]):(E=L>>>0&255,O=L>>>8&255,N=L>>>16&255),n[I]=E,n[1+I]=O,n[2+I]=N,n[3+I]=255}}}return[{Tl:new Fr(0,0,i,r),data:n.buffer}]},ai.hC={},ai.hC.r1=!1,ai.hC.D6=function(t,e,n,i){for(var r=t[0][4],a=new Uint8Array(t[0][0]),s=2,o=!!r,l=o?4:3,h=new Uint8Array(e*n*l),u=0;u<n;u++)for(var f=0;f<e;f++){var c=u*e+f<<2,p=((n-u-1)*e+f)*l;h[p]=a[2+c],h[1+p]=a[1+c],h[2+p]=a[c],o&&(h[3+p]=r[0][u*e+f])}for(var d=h.length,v=new Uint8Array(2*d),g=0,y=0,m=e*l;y<d;){for(var w=y,b=0,M=m*(Math.floor(y/m)+1);w<M&&b<128;){for(var S=!0,C=0;C<l;C++)S&=h[y+C]==h[w+C];if(!S)break;w+=l,b++}if(1==b){for(var x=1;x<128&&y+(x+1)*l<M;){for(var S=!0,L=y+x*l,C=0;C<l;C++)S&=h[L+C]==h[L+l+C];if(S)break;x++}v[g++]=x-1;for(var D=0;D<x;D++)for(C=0;C<l;C++)v[g++]=h[y++]}else{v[g++]=127+b;for(C=0;C<l;C++)v[g+C]=h[y+C];g+=l,y+=l*b,0}}h=v.slice(0,g),s+=8;t=new Uint8Array(18+h.length+26);return t[2]=s,ln.j3(t,12,e),ln.j3(t,14,n),t[16]=8*l,t[17]=4==l?8:0,t.set(h,18),ln.zW(t,18+h.length+8,"TRUEVISION-XFILE."),t.buffer},ai.hC.Ou=function(t){var e=new Uint8Array(t),n=0,i=e[0],r=(e[1],e[2]),a=256*e[4]+e[3],s=256*e[6]+e[5],o=e[7],l=(e[9],e[8],e[11],e[10],256*e[13]+e[12]),h=256*e[15]+e[14],u=e[16],f=e[17]>>>4,t=ln.fb(e,18,i),c=Rr.t(l*h*4),n=18+i+(s*o>>>3),p=new Uint8Array(e.buffer,n);if(3<r){for(var d=e,v=new Uint8Array(l*h*u>>>3),g=n,y=0,m=(e.length,u>>>3);y<v.length;){var w=d[g];if(g++,w<128)for(var b=0;b<w+1;b++)for(var M=0;M<m;M++)v[y]=d[g],y++,g++;else{for(b=0;b<w-127;b++)for(M=0;M<m;M++)v[y]=d[g+M],y++;g+=m}}r-=8,p=v,n=g}else n+=l*h*u>>>3;for(var S=new Uint8Array(4),C=ai.hC.arW,x=0;x<h;x++)for(var L=0;L<l;L++){var D,k,T,A=x*l+L,E=255,O=(0==(2&f)?(h-x-1)*l+L:x*l+L)*u>>>3;if(1==r){if(8!=u)throw"e";C(e,18+i+a+(p[O]*o>>>3),o,S),D=S[0],k=S[1],T=S[2],E=S[3]}else if(2==r)C(p,O,u,S),D=S[0],k=S[1],T=S[2],E=S[3];else if(3==r){if(8!=u)throw"e";D=k=T=p[O]}A=4*A;c[A]=D,c[1+A]=k,c[2+A]=T,c[3+A]=E}S={Tl:new Fr(0,0,l,h),data:c.buffer,KI:t};return Rr.Jw(c)&&(t=Rr.t(l*h),Rr.VW(c,t,3),Rr.Bg(c,4278190080,16777215),S.En=[t]),[S]},ai.hC.arW=function(t,e,n,i){var r=255;if(24==n||32==n)o=t[e],s=t[e+1],a=t[e+2],32==n&&(r=t[e+3]);else{if(16!=n)throw"e";var e=t[e+1]<<8|t[e+0],a=e>>>10&31,s=e>>>5&31,o=e>>>0&31;a=Math.round(a*(255/31)),s=Math.round(s*(255/31)),o=Math.round(o*(255/31))}i[0]=a,i[1]=s,i[2]=o,i[3]=r},ai.afD=(s=[],n=!1,{r1:!1,T0:!0,Ou:function(t,e,n,i){a=n,s.push(t,i),U()}}),ai.a2G=(d=[],g=!1,{r1:!1,T0:!0,Ou:function(t,e,n,i){o=n,d.push(t,i),H()}}),ai.yp={},ai.yp.Ou=function(t){var e=new Uint8Array(t),n=0,i=ln.UF;if(42!=e[n+=8])throw"e";var r=i(e,++n),t=ln.Tx(e,n+=4,r);n+=2*r;for(var a=[];n<e.length;){if(l=i(e,n),n+=4,112!=l)throw l;if(42!=(l=e[n+=4]))throw l;var s=i(e,++n),o=e[n+=4];if(n++,42!=o&&(s=i(e,n-=5),l=e[n+=8],n++,42!=l))throw l;var l=2*i(e,n);n+=4,0<s&&a.push(n+l),n+=l+s}r=(new DOMParser).parseFromString(t,"image/svg+xml").firstChild.firstChild,t=[];return ai.yp.o1(r,e,a,t),t},ai.yp.o1=function(t,e,n,i){var r=t.firstChild.firstChild;if("Image"==r.tagName){for(var a=r.getElementsByTagName("ImageDescription")[0],r=a.children[0].children,s=a.children[1].children,o=n.shift(),l=[],h=0;h<s.length;h++)l.push(parseInt(s[h].getAttribute("NumberOfElements")));for(;3<l.length;)l[2]*=l.pop();for(var u=r.length,f=l[0],c=l[1],p=l[2],d=parseInt(s[0].getAttribute("BytesInc")),v=0;v<p;v++){var g=Rr.t(f*c*4);Rr.Bg(g,4278190080);for(var y=0;y<u;y++){var m=Rr.t(f*c);if(1==d)for(var w=0;w<m.length;w++)m[w]=e[o+w];else{if(2!=d)throw d;for(w=0;w<m.length;w++)m[w]=Math.min(255,(e[o+2*w+1]<<8|e[o+2*w])>>>2)}3!=y&&Rr.al(m,g,y),1==u&&(Rr.al(m,g,1),Rr.al(m,g,2)),o+=f*c*d}i.push({Tl:new Fr(0,0,f,c),data:g.buffer})}}else{for(var b=t.children,M=0;M<b.length&&"Children"!=b[M].tagName;)M++;if(M==b.length)throw"e";for(var b=b[M].children,S=0;S<b.length;S++)ai.yp.o1(b[S],e,n,i)}},ai.Rt={},ai.Rt.Ou=function(t){for(var e=new Uint8Array(t),n=0,i={},r=1e9,a=0;a<306;a++){var s=ln.fb(e,n,8).trim(),o=ln.fb(e,n+9,71).split("/")[0].trim();if(i[s]=o,n+=80,"END"==s){n=2880*Math.ceil(n/2880);break}}for(var l=parseInt(i.NAXIS1),h=parseInt(i.NAXIS2),u=l*h,f=parseInt(i.BITPIX),c=-1e9,p=new Float32Array(u),d=new Float32Array(t,n,t.byteLength-n>>>2),a=0;a<u;a++){var v=a<<2,g=a<<1;if(-32==f){var y=e[n+v+0];e[n+v+0]=e[n+v+3],e[n+v+3]=y;y=e[n+v+1];e[n+v+1]=e[n+v+2],e[n+v+2]=y,p[a]=d[a]}else{if(16!=f)throw f;p[a]=ln.pG(e,n+g)}(S=p[a])<r&&(r=S),c<S&&(c=S)}for(var m=Rr.t(4*u),w=1/c,b=0;b<h;b++)for(var M=0;M<l;M++){var v=(h-b-1)*l+M<<2,S=p[a=b*l+M]*w;m[v]=m[v+1]=m[v+2]=255*S,m[v+3]=255}return[{Tl:new Fr(0,0,l,h),data:m,KI:i.OBJECT}]},ai.nC={},ai.nC.Ou=function(t){var e=new Uint8Array(t),n=16,i=(ln.fb(e,n,4),32),r=0,a=0;ln.fb(e,n+=4,8);for(n+=8;0==e[n+i-1];)i--;var s=ln.fb(e,n,i);ln.fb(e,n+=32,4);n+=4;ln.l(e,n+=20),ln.l(e,n+=4);var o=ln.l(e,n+=4),l=(ln.l(e,n+=4),ln.l(e,n+=4)),h=ln.l(e,n+=4);n+=4;t="FujiFilm "+s,s=[0,1,1,2];"FujiFilm X10"==t&&(t="FujiFilm FinePix X10",s=[2,1,1,0]);var u={t271:["FujiFilm"],t272:[t],t277:[1],t33421:[2,2],t33422:s,Bi:1},n=o,f=[],c=ln.aV,p=ln.l(e,n);n+=4;for(var d=0;d<p;d++){var v,g=c(e,n),y=c(e,n+=2);if(n+=2,256==g)a=c(e,n),r=c(e,n+2);else if(272==g)f=[c(e,n),c(e,n+2)];else if(273==g)f.push(c(e,n),c(e,n+2));else if(304==g)e[n];else if(305==g){for(var m=Math.round(Math.sqrt(y)),w=[],b=0;b<y;b++)w.push(e[n+b]);w.reverse(),u.t33421=[m,m],u.t33422=w}else 12272==g&&(v=c(e,n),m=c(e,n+2),g=c(e,n+6),u.t50728=[v/m,1,v/g]);n+=y}var t=r<a,M=e.slice(l,l+h),s=Math.round(8*h/(r*a));if(73==M[0]&&73==M[1]&&42==M[2]&&(s=(L=UTIF.decode(M.buffer)[0].fujiIFD).t61443[0],o=L.t61454,(l=L.t61450)&&(u.t50714=l),o&&(u.t50728=[o[0]/o[1],1,o[0]/o[2]]),o=L.t61447[0],M=M.slice(o,o+L.t61448[0])),8*(h=M.length)<r*a*s){console.log("compressed");for(var S=u.t33422,C=~~Math.sqrt(S.length),x=[],d=0;d<C;d++)x[d]=S.slice(d*C,d*C+C);h=(M=new Uint8Array(UTIF._decompressRAF(M,x).buffer)).length}var L=8*h/(r*a);if(16==L)for(d=0;d<h;d+=2){var D=M[d];M[d]=M[d+1],M[d+1]=D}else if(14==L)for(d=0;d<h;d+=4){D=M[d];M[d]=M[d+3],M[d+3]=D,D=M[d+1],M[d+1]=M[d+2],M[d+2]=D}else if(12==L)for(d=0;d<h;d+=3){var k=M[d+2]<<16|M[d+1]<<8|M[d+0];M[d]=(k=k>>>12|(4095&k)<<12)>>>16&255,M[d+1]=k>>>8&255,M[d+2]=255&k}t&&(M=ai.nC.aum(M,r,a));t=t?2:1;return u.t256=[r*=t],u.t257=[a],u.t258=[s],u.t50719=[f[1],f[0]*t],u.t50720=[f[3],f[2]*t],u.width=r,u.height=a,u.data=new Uint8Array(M.buffer),[u]},ai.nC.aum=function(t,e,n){t=new Uint16Array(t.buffer);for(var i=new Uint16Array(e*n*2),r=0;r<n;r+=2)for(var a=0;a<e;a++){var s=r*e+a,o=2*s,l=t[s],h=t[s+e];i[1+o]=i[o+2*e]=h,0==((r>>>1)+a&1)?(i[o]=l,i[o+2*e+1]=t[s+1]):(i[o]=t[s-1],i[o+2*e+1]=l)}return i},ai._t={},ai._t.rd=!0,ai._t.D6=function(t,e,n,i){var r=new Uint8Array(t[0][0]),a=e*n,s=[1,3,4][i[0]],t=8+8*i[1],o=i[2];if(1==s&&(l=new Uint8Array(e*n),Rr.VW(r,l,0),r=l),3==s){for(var l=new Uint8Array(e*n*3),h=0;h<a;h++){var u=4*h,f=3*h;l[f]=r[u],l[1+f]=r[1+u],l[2+f]=r[2+u]}r=l}if(16==t){for(var c=r.length,l=new Uint8Array(2*c),h=0;h<c;h++){var p=Math.round(257*r[h]);l[2*h+o]=p>>>8,l[2*h+1-o]=255&p}r=l}return r.buffer},ai.WO={},ai.WO.Ou=function(t,e){function n(t){return~~(.5+255*Rr.I$(Math.max(0,Math.min(1,t))))}for(var i=EXRLoader.parse(t),r=i.width,a=i.height,s=Rr.t(r*a*4),o=0;o<a;o++)for(var l=0;l<r;l++){var h=4*(o*r+l),u=4*((a-o-1)*r+l);s[h]=n(i.data[0+u]),s[1+h]=n(i.data[1+u]),s[2+h]=n(i.data[2+u]),s[3+h]=n(i.data[3+u])}return[{Tl:new Fr(0,0,r,a),data:s.buffer}]},ai.TC={},ai.TC.rd=!0,ai.TC.r1=!0,ai.TC.D6=function(t,e,n,i,r){(i=["",100,!1,!1,!1,0])[6]=["jpg"];var a=new ToDXF;return zn.o$(t,i,a,r.PG),a.buffer},ai.TC.Ou=function(t,e){var n=new _r(1,0,0,1,0,0);n.scale(1,1),e.Mg=72;n=new Zn(e,n,!1);FromDXF.Parse(t,n)},ai.MN={},ai.MN.Ou=(m=ln.pG,w=ln.UF,b=ln.fb,function(t){y=[];var e=new Uint8Array(t);m(e,g=0),g+=2,t=w(e,g+=58),g+=4,b(e,g=t,4),m(e,g+=4);var n=m(e,g+=2),t=(w(e,g+=2),w(e,g+=4),w(e,g+=4),m(e,g+=4));m(e,g+=2),g+=2,g+=t;for(var i,r={},a=0;a<n;a++){for(var s=g;0!=e[s];)s++;var o=b(e,g,s-g),l=w(e,g+8),h=w(e,g+12),u=w(e,g+16),f=w(e,g+20),c=w(e,g+24),p=w(e,g+28),d=(m(e,g+32),m(e,g+34),w(e,g+36));if(r[o]=[h,l,f,u,d],c+p!=0)throw"e";g+=40}for(i in r){var v=r[i],g=v[2];".rsrc"==i&&(function t(e,n,i,r,a){w(e,i),w(e,i+4),w(e,i+8);var s=m(e,i+12),o=m(e,i+14);i+=16;for(var l={},h=0;h<s+o;h++){var u=w(e,i),f=w(e,i+4);u>>>31==1&&(u&=16777215);var c=h<s?ln.Tx(e,n+u+2,m(e,n+u)):"id"+u,p=r.slice(0);if(p.push(c),f>>>31==1)v=t(e,n,n+(f&=268435455),p,a);else{var d=w(e,n+f),u=w(e,n+f+4);if(w(e,n+f+8),0!=w(e,n+f+12))throw"e";if(d<a[0]||d>a[0]+a[1])throw"e";var f=a[2]+d-a[0],v=e.slice(f,f+u);if((d=ai.Am(v.buffer))&&-1!=["bmp","png","ico"].indexOf(d)){if(!(f=ai.TN(d)).r1){u=null;try{u=f.Ou(v.buffer)}catch(t){}u&&(u[0].KI=p[1],y.push(u[0]))}}else d&&console.log(d)}l[c]=v,i+=8}return l}(e,g,g,[],v),0)}return y}),ai.xO={},ai.xO.r1=!0,ai.xO.Ou=function(t,e){wi.M9(t,e)},M=ai.Kn.get("wasm/zstd").buffer,WebAssembly.instantiate(M).then(function(t){t=t.instance.exports;ai.xO.a9d=t}),ai.xO.g5=function(t,e){var n=ai.xO.a9d,i=t.length,r=n.memory,a=2*i+1e6,s=8;ai.pm(n,a);var o=new Uint8Array(r.buffer),l=n.malloc(i);for(o.set(t,l);;){var h=null==e?i*s:e;ai.pm(n,a+h);var u=n.malloc(h),h=n.ZSTD_decompress(u,h,l,i);if(-70!=h){t=(o=new Uint8Array(r.buffer)).slice(u,u+h),n.free(u);break}if(n.free(u),s+=s>>>1,null!=e)throw"error"}return n.free(l),t},ai.H9={},ai.H9.r1=!0,ai.H9.Ou=(k=0,T=1,A=2,E=3,I=4,P=5,F=6,function(t,e,n){if(S=new Uint8Array(t),C=0,x={},L={},D={},"PDN3"!=(t=ln.fb(S,0,4)))throw t;for(C+=4,t=ln.pG(S,C)+256*S[C+2]*256,C+=3,ln.fb(S,C,t),C+=t,C+=2;;){var i=tt(0);if(i&&i.sB&&"end"==i.sB)break}for(var r in D)if(null==L[r])throw r;for(r in L)!function(t,e){if(t instanceof Array)for(var n=0;n<t.length;n++)t[n]=et(t[n],e);else if(t instanceof Object)for(var i in t)t[i]=et(t[i],e)}(L[r],L);t=L.o1,console.log(t),e.m=t.width,e.n=t.height,e.buffer=Rr.t(e.m*e.n*4);for(var a=t.layers["ArrayList+_items"],s=0;s<a.length;s++){var o=a[s];if(null!=o){console.log(o);var l=o["Layer+width"],h=o["Layer+height"],u=o["Layer+properties"],f=o.properties.blendOp._class.split("+").pop(),o={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[f=f.slice(0,f.length-7)],f=e.rL();f.Zu(u.name),f.opacity=u.opacity,f.I9(u.visible),f.SD=o;var c=Math.ceil(l*h/65536);f.rect=new Fr(0,0,l,h),f.buffer=Rr.t(l*h*4);var p=f.buffer;C+=5;for(var d=0;d<c;d++){var v=function(){var t=ln.l(S,C);C+=4;var e=ln.l(S,C);C+=4;var n=pako.inflateRaw(S.slice(C+10));return C+=e,[t,n]}();p.set(v[1],65536*v[0]*4)}for(var g=0;g<p.length;g+=4){var y=p[g+0];p[g+0]=p[g+2],p[g+2]=y}e.g.push(f)}}});var Br={},nt,it;function Rr(){}function rt(t,e,n,i,r){for(var a=new Uint32Array(t.buffer),s=0,o=0;o<n;o++)for(var l=0;l<e;l++,s+=4){var h=a[o*e+l],u=255&h,f=h>>>8&255,c=h>>>16&255,p=h>>>24&255,d=~~(8*Math.random()),v=d%3,g=0,y=0;d<3?y--:4<d&&y++,0==v?g--:2==v&&g++;v=l+g,g=o+y;v<0?v=0:e-1<v&&(v=e-1),g<0?g=0:n-1<g&&(g=n-1);y=(h=a[g*e+v])>>>8&255,g=h>>>16&255,v=h>>>24&255;i[s]=r(u,255&h),i[s+1]=r(f,y),i[s+2]=r(c,g),i[s+3]=r(p,v)}}function at(t,e){return e}function st(t,e){return e<t?e:t}function ot(t,e){return t<e?e:t}function lt(t,e){return t[e]+t[e+1]+t[e+2]+t[e+3]}function ht(t,e,n,i){t[e]=n[i],t[e+1]=n[i+1],t[e+2]=n[i+2],t[e+3]=n[i+3]}function ut(t,e,n){t[n]=e[n],t[n+1]=e[n+1],t[n+2]=e[n+2],t[n+3]=255-e[n+3]}function ft(t){for(var e=0,n=t.length;e<n;e+=4)t[e+3]=255-t[e+3]}function ct(){var t=Math.random();return.5<t?0:.25<t?1:.1<t?2:.02143<t?3:.00445<t?4:65e-5<t?5:415e-6<t?6:55e-6<t?7:8}function pt(t,e,n,i,r,a){t[e]=n[i]+(r[a]-n[i]>>1),t[e+1]=n[i+1]+(r[a+1]-n[i+1]>>1),t[e+2]=n[i+2]+(r[a+2]-n[i+2]>>1),t[e+3]=n[i+3]+(r[a+3]-n[i+3]>>1)}function dt(t,e,n,i,r,a){t[e]=r[a]+n[i]>>1,t[e+1]=r[a+1]+n[i+1]>>1,t[e+2]=r[a+2]+n[i+2]>>1,t[e+3]=r[a+3]+n[i+3]>>1}function vt(t,e,n,i,r,a,s,o,l){var h,u,f,c=0,p=0,d=r[a];for(pt(o,0,t,e,t,n),u=0;u<d;u++)pt(o,4*(u+1),o,4*u,t,n);for(p+=d,a--,ht(t,e,o,(c=4*(d+1))-4),i[a]=lt(t,e),e-=l;0<a&&i[a-1]<i[a];){for(f=o,h=c,dt(o=s,0,t,e-l,s=f,0),u=4;u<h;u+=4)dt(o,u,o,u-4,s,u);for(d=r[a],u=p;u<d;u++)pt(o,c,o,c-4,s,h-4),c+=4,p++;a--,ht(t,e,o,c-4),i[a]=lt(t,e),e-=l}}function gt(t,e,n,i,r,a){for(var s,o,l,h,u=1+(.659755<(s=Math.random())?0:.1625<s?10:.06<s?20:.01<s?30:.0035<s?40:65e-5<s?50:415e-6<s?60:55e-6<s?70:80),f=i[r],c=1;c<u&&!(r<0)&&i[r-c]<f;c++)h=n,(o=t)[l=e]=o[h],o[l+1]=o[h+1],o[l+2]=o[h+2],o[l+3]=o[h+3],e+=a}function yt(t,e,n,i,r){for(var a,s=0,o=0;o<n;o++){for(var l=s,h=0;h<e;h++)ut(i,t,s),r[h]=i[a=s]+i[a+1]+i[a+2]+2*i[a+3],s+=4;for(s=l,h=1;h<e;h++)r[h-1]<r[h]&&Math.random()<.66&&function(t,e,n,i,r,a){for(var s,o=1,l=new Uint8Array(4),h=e;Math.random()<1/o&&(h=e,!(i<=1))&&!(n[i]<=(s=n[i-1]));){ht(l,0,t,h-a);for(var u=!0,f=i;f<r;f++){if(s>n[f]){ht(t,h-a,l,0),n[f-1]=s,u=!1;break}ht(t,h-a,t,h),n[f-1]=n[f],h+=a}u&&(ht(t,h-a,l,0),n[r-1]=s),o++,i--,e-=a}}(i,s+4,r,h,e,4),s+=4;s+=4}ft(i)}function mt(t,e,n,i){for(var r=0;r<i;r++)for(var a=0;a<n;a++){var s=r*n+a<<2,o=r*n+(n-1-a)<<2;e[o]=t[s],e[1+o]=t[1+s],e[2+o]=t[2+s],e[3+o]=t[3+s]}}Br.jR=!1,Br.EN=!1,Br.lF=!1,Br.O=document.createElement("canvas"),Br.XN=null,Br.Ad=null,Br.wW=0,nt={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},it=it||Br.O.getContext("webgl",nt),(it=it||Br.O.getContext("experimental-webgl",nt))&&(Br.jR=!0,Br.EN=!0,Br.XN=it,Br.Ad=it.createFramebuffer(),it.bindFramebuffer(it.FRAMEBUFFER,Br.Ad),it.disable(it.BLEND),it.disable(it.DEPTH_TEST),nt=it.createBuffer(),it.bindBuffer(it.ARRAY_BUFFER,nt),it.bufferData(it.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),it.STATIC_DRAW),it.enableVertexAttribArray(0),it.vertexAttribPointer(0,2,it.FLOAT,!1,0,0)),Br.a7W=function(t){return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/\s\s+/g," ")).replace(/; /g,";")).replace(/} /g,"}")).replace(/ }/g,"}")).replace(/{ /g,"{")).replace(/ {/g,"{")).replace(/= /g,"=")).replace(/ =/g,"=")).replace(/\| /g,"|")).replace(/ \|/g,"|")},Br.aoS=function(t){var e=Br.XN;t>e.getParameter(e.MAX_TEXTURE_SIZE)&&(Br.jR=!1,alert("Disabling WebGL"))},Br.hz=function(t,e){return new Float32Array([(t.x-e.x)/e.m,(t.y-e.y)/e.n,t.m/e.m,t.n/e.n])},Br.XQ=function(){return this.O},Br._9=function(t,e){var n=Br.XN;n.bindFramebuffer(n.FRAMEBUFFER,Br.Ad),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t.I8,0),n.viewport(0,0,t.m,t.n),e?(n.enable(n.SCISSOR_TEST),n.scissor(e.x,e.y,e.m,e.n)):n.disable(n.SCISSOR_TEST)},Br.Ds=function(t,e,n){if(n)throw"error";var i=Br.XN;i.disable(i.SCISSOR_TEST),i.bindFramebuffer(i.FRAMEBUFFER,null),i.viewport(0,0,t,e),n?(i.enable(i.SCISSOR_TEST),i.scissor(n.x,n.y,Math.round(n.m),Math.round(n.n))):i.disable(i.SCISSOR_TEST)},Br.clear=function(){var t=Br.XN;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},Br.k3=function(t,e){var n=1/255*(t>>>0&255),i=1/255*(t>>>8&255),r=1/255*(t>>>16&255),a=1/255*(t>>>24&255),t=Br.XN;t.colorMask(0==((e=null==e?0:e)>>>0&255),0==(e>>>8&255),0==(e>>>16&255),0==(e>>>24&255)),t.clearColor(n,i,r,a),t.clear(t.COLOR_BUFFER_BIT),t.colorMask(!0,!0,!0,!0)},Br.qP=function(t,e,n,i,r){var a=e.BS(i);(a=r?a.BS(r):a).mN()||(r=Br.XN,Br._9(t),r.bindTexture(r.TEXTURE_2D,n.I8),r.copyTexSubImage2D(r.TEXTURE_2D,0,a.x-i.x,a.y-i.y,a.x-e.x,a.y-e.y,a.m,a.n))},Br.KU=function(t,e,n){var i=Br.s4[t];return null!=i&&i.m==e&&i.n==n||(i&&i.delete(),i=new Br.vs(e,n)),Br.s4[t]=i},Br.s4=[],Br.I7=function(){this.e2=null,this.GR=null},Br.I7.tO=null,Br.I7.prototype.NW=function(t){if(!this.GR){this.GR={};for(var e=Br.XN,n=this.e2,i=this.GR,r=0;r<t.length;r++){var a=t[r];i[a]=e.getUniformLocation(n,a)}}},Br.I7.prototype.x3=function(){},Br.I7.prototype.rl=function(t){for(var e=Br.XN,n=0;n<t.length;n+=2)e.uniform1i(t[n],n>>>1),e.activeTexture(e["TEXTURE"+(n>>>1)]),e.bindTexture(e.TEXTURE_2D,t[n+1]);e.activeTexture(e.TEXTURE0)},Br.I7.prototype.lf=function(t,e){var n=Br.XN,i=n.createShader(n.FRAGMENT_SHADER);n.shaderSource(i,t),n.compileShader(i),n.getShaderParameter(i,n.COMPILE_STATUS)||console.log(n.getShaderInfoLog(i));t=n.createShader(n.VERTEX_SHADER);n.shaderSource(t,e),n.compileShader(t),n.getShaderParameter(t,n.COMPILE_STATUS)||console.log(n.getShaderInfoLog(t));e=n.createProgram();n.attachShader(e,t),n.attachShader(e,i),n.linkProgram(e),n.getProgramParameter(e,n.LINK_STATUS)||console.log("Could not initialise shaders"),this.e2=e},Br.I7.prototype.K7=function(){Br.I7.tO!=this&&(Br.XN.useProgram(this.e2),Br.I7.tO=this)},Br.bi=function(t,e){Br.P_++,Br.wW+=t*e,Br.lF&&console.log("GL.Channels instances: "+Br.P_+", memory: "+Br.wW);var n=Br.XN;this.m=t,this.n=e,this.I8=n.createTexture(),this.Zo=null,this.XM(this.I8,t,e)},Br.bi.prototype.XM=function(t,e,n){var i=Br.XN;i.bindTexture(i.TEXTURE_2D,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texImage2D(i.TEXTURE_2D,0,i.ALPHA,e,n,0,i.ALPHA,i.UNSIGNED_BYTE,null)},Br.bi.prototype.set=function(t){var e=Br.XN;e.bindTexture(e.TEXTURE_2D,this.I8),e.pixelStorei(e.UNPACK_ALIGNMENT,1),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,this.m,this.n,0,e.ALPHA,e.UNSIGNED_BYTE,t),e.pixelStorei(e.UNPACK_ALIGNMENT,4)},Br.bi.prototype.delete=function(){var t=Br.XN;this.I8&&(t.deleteTexture(this.I8),Br.P_--,Br.wW-=this.m*this.n),Br.lF&&Br.lF&&console.log("GL.Channels instances: "+Br.P_+", memory: "+4*Br.wW)},Br.P_=0,Br.vs=function(t,e,n){null==n&&(n=!1),Br.P_++,Br.wW+=t*e*4,Br.lF&&console.log("GL.Channels instances: "+Br.P_+", memory: "+Br.wW);var i=Br.XN;this.a3w=n,this.m=t,this.n=e,this.I8=i.createTexture(),this.Zo=null,this.XM(this.I8,t,e)},Br.vs.prototype.set=function(t,e){var n,i=Br.XN;i.disable(i.SCISSOR_TEST),i.bindTexture(i.TEXTURE_2D,this.I8),null==t||t instanceof Uint8Array?(n=this.m*this.n,null==e||10*e.Z()>n?i.texImage2D(i.TEXTURE_2D,0,i.RGBA,this.m,this.n,0,i.RGBA,i.UNSIGNED_BYTE,t):(n=Rr.t(4*e.Z()),Rr.Ik(t,new Fr(0,0,this.m,this.n),n,e),i.texSubImage2D(i.TEXTURE_2D,0,e.x,e.y,e.m,e.n,i.RGBA,i.UNSIGNED_BYTE,n))):i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,t)},Br.vs.prototype.get=function(t){var e=Br.XN;Br._9(this),e.readPixels(0,0,this.m,this.n,e.RGBA,e.UNSIGNED_BYTE,t)},Br.vs.prototype.Qg=function(t){var e,n,i;t.mN()||(e=Br.XN,null==this.Zo&&(this.Zo=e.createTexture(),this.XM(this.Zo,this.m,this.n),Br.P_++,Br.wW+=this.m*this.n*4),e.bindFramebuffer(e.FRAMEBUFFER,Br.Ad),e.bindTexture(e.TEXTURE_2D,this.Zo),t?(n=Math.max(t.x,0),i=Math.max(t.y,0),e.copyTexSubImage2D(e.TEXTURE_2D,0,n,i,n,i,t.m,t.n)):e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,0,0,this.m,this.n,0))},Br.vs.prototype.XM=function(t,e,n){var i=Br.XN;i.bindTexture(i.TEXTURE_2D,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,this.a3w?i.LINEAR:i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,e,n,0,i.RGBA,i.UNSIGNED_BYTE,null)},Br.vs.prototype.delete=function(){var t=Br.XN;this.I8&&(t.deleteTexture(this.I8),Br.P_--,Br.wW-=this.m*this.n*4),this.Zo&&(t.deleteTexture(this.Zo),Br.P_--,Br.wW-=this.m*this.n*4),Br.lF&&Br.lF&&console.log("GL.Channels instances: "+Br.P_+", memory: "+Br.wW)},Br.vs.prototype.clone=function(){var t=Br.XN,e=new Br.vs(this.m,this.n);return Br._9(this),t.bindTexture(t.TEXTURE_2D,e.I8),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGBA,0,0,this.m,this.n,0),e},Br.j2={alN:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",aco:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",ZC:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",YB:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",x$:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",tf:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",Zr:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",FH:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",a4K:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",qs:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",ac2:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",jf:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",xF:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",Ld:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",AX:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",RP:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",IA:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",ZW:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",rB:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",aqc:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",aoV:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",RW:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",pM:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\treturn rs;  \t\t\t}"},Br.a={},Br.a.Iu={},Br.a.m4=null,Br.a.sc=null,Br.a.Bp=null,Br.a.fy=function(t,e,n,i,r,a,s,o){null==o&&(o=Xi.jQ()),-1=="idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(t)&&(s*=o.fill,o.fill=1,o.style=!1);var l=t+(o.J_?"1":"");null==Br.a.Iu[l]&&(Br.a.Iu[l]=new Br.a.$0(t,null!=o.J_));t=Br.a.Iu[l],l=n.BS(r).BS(a);l.offset(-r.x,-r.y),l.mN()||(a=Br.XN,Br._9(i,l),i.Qg(l),t.K7(),t.x3(e.I8,i.Zo,Br.hz(n,r),s,o.fill,o.style?1:0,o.fT?1:0,o.J_?new Float32Array(o.J_):null),a.drawArrays(a.TRIANGLES,0,6))},Br.a.Rk=function(t,e,n,i,r,a,s,o,l,h,u){null==Br.a.m4&&(Br.a.m4=new Br.a.eo(!0,!0)),null==Br.a.sc&&(Br.a.sc=new Br.a.eo(!0,!1)),null==Br.a.Bp&&(Br.a.Bp=new Br.a.eo(!1,!0));var f=h?1:0,c=t?r?Br.a.m4:Br.a.sc:Br.a.Bp,h=new Float32Array(u?[u[0],u[1],u[2],1]:[1,1,1,1]),u=(e?e.BS(i):i).BS(o);u.mN()||(u.offset(-i.x,-i.y),o=Br.XN,Br._9(n,u),n.Qg(u),c.K7(),null==t?c.x3(null,n.Zo,r.I8,Br.hz(i,i),Br.hz(a,i),s/255,l,f,h):r?c.x3(t.I8,n.Zo,r.I8,Br.hz(e,i),Br.hz(a,i),s/255,l,f,h):c.x3(t.I8,n.Zo,null,Br.hz(e,i),null,s/255,l,f,h),o.drawArrays(o.TRIANGLES,0,6))},Br.a.as3=function(t,e,n){null==Br.a.a0P&&(Br.a.a0P=new Br.a.Eh);var i=Br.a.a0P,r=new Fr(0,0,t.m,t.n),a=Br.XN;Br._9(e),e.Qg(r),i.K7(),i.x3(r,t.I8,e.Zo,n.I8),a.drawArrays(a.TRIANGLES,0,6)},Br.a.rM={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "},Br.a.$0=function(t,e){Br.I7.call(this);var n="\t\t\tprecision highp float;\t\t\t"+Br.j2.ZC+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(e?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+Br.j2.tf+"\t\t\t"+Br.j2.Zr+"\t\t\t"+Br.j2.FH+"\t\t\t"+Br.j2.alN+"\t\t\t"+Br.j2.aco+"\t\t\t"+Br.j2.a4K+"\t\t\t"+Br.j2.qs+"\t\t\t"+Br.j2.ac2+"\t\t\t"+Br.j2.jf+"\t\t\t"+Br.j2.hash+"\t\t\t"+(e?Br.j2.RW:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+Br.a.rM[t]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);";this.lf(n+="diss"==t?"\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }":"  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(e?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}","\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}")},Br.a.$0.prototype=new Br.I7,Br.a.$0.prototype.x3=function(t,e,n,i,r,a,s,o){this.NW("srct alpha source target fill style keepBGA blIf".split(" "));var l=Br.XN,h=this.GR;l.uniform4fv(h.srct,n),l.uniform1f(h.alpha,i),l.uniform1f(h.fill,r),l.uniform1f(h.style,a),l.uniform1f(h.keepBGA,s),o&&l.uniform4fv(h.blIf,o),this.rl([h.source,t,h.target,e])},Br.a.eo=function(t,e){Br.I7.call(this),this.a2N=t,this.P3=e;e="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+Br.j2.xF+"\t\t\t"+Br.j2.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(t?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(e?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(t?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(e?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}";this.lf(e,"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}")},Br.a.eo.prototype=new Br.I7,Br.a.eo.prototype.x3=function(t,e,n,i,r,a,s,o,l){this.P3?this.NW("srct wrct wcolor awg dissv source target weight cswitch".split(" ")):this.NW("srct awg dissv source target cswitch".split(" "));var h=Br.XN,u=this.GR;h.uniform4fv(u.srct,i),this.P3?(h.uniform4fv(u.wrct,r),h.uniform1f(u.wcolor,a)):h.uniform4fv(u.cswitch,l),h.uniform1f(u.awg,s),h.uniform1f(u.dissv,o);e=[u.source,t,u.target,e];this.P3&&e.push(u.weight,n),this.rl(e)},Br.a.Eh=function(){Br.I7.call(this);this.lf("\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}","\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}")},Br.a.Eh.prototype=new Br.I7,Br.a.Eh.prototype.x3=function(t,e,n,i){this.NW(["rct","prev","next","alpha"]);var r=Br.XN,a=this.GR;r.uniform4fv(a.rct,[0,0,1,1]),this.rl([a.prev,e,a.next,n,a.alpha,i])},Br.ac={YL:{},Yb:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"},Br.ac.uY=function(t,e){var n=ji.ry,i=[n.Fk,n.dU,n.uM,n.bP,n.xu,n.nb,n.Wj,n._U].indexOf(t.type),n=Br.ac.YL[t.type];(n=null==n?Br.ac.YL[t.type]=new Br.YL[i]:n).K7(),n.x3(e,t),Br.XN.drawArrays(Br.XN.TRIANGLES,0,6)},Br.YL=[],Br.YL[0]=function(){Br.I7.call(this),this.b0={};var t="\t\t\tprecision mediump float;\t\t\t"+Br.j2.Zr+"\t\t\t"+Br.j2.ZC+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";this.lf(t,Br.ac.Yb)},Br.YL[0].prototype=new Br.I7,Br.YL[0].prototype.x3=function(t,e){var n={p:e.KW,z:e.zR,S:e.pW,q4:Rr.t(e.KW.length)},i=n.p.length;null==this.b0["m"+i]&&(this.b0["m"+i]={a0c:new Br.vs(i,1),L0:Rr.t(4*i)});var r=this.b0["m"+i];Rr.M1(n,r.L0,0);i=r.a0c;i.set(r.L0),this.NW(["source","map","toGray","presLum"]);n=Br.XN,r=this.GR;n.uniform1f(r.toGray,e.fl?1:0),n.uniform1f(r.presLum,e.j$?1:0),this.rl([r.source,t,r.map,i.I8])},Br.YL[1]=function(){Br.I7.call(this),this.adb=new Br.vs(256,1),this.a3b=Rr.t(1024);var t="\t\t\t\tprecision mediump float;\t\t\t\t"+Br.j2.RP+"\t\t\t\t"+Br.j2.Ld+"\t\t\t\t"+Br.j2.AX+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";this.lf(t,Br.ac.Yb)},Br.YL[1].prototype=new Br.I7,Br.YL[1].prototype.x3=function(t,e){Rr.M1({p:e.aaP,z:e.li,S:e.auV,q4:Rr.t(256)},this.a3b),this.adb.set(this.a3b),this.NW(["source","map","cfa","cfb","colorize"]);var n=Br.XN,i=this.GR;n.uniform1f(i.cfa,e.as7),n.uniform1f(i.cfb,e.WV),n.uniform1i(i.colorize,e.apl),this.rl([i.source,t,i.map,this.adb.I8])},Br.YL[2]=function(){Br.I7.call(this);var t="\t\t\tprecision mediump float;\t\t\t"+Br.j2.RP+"\t\t\t"+Br.j2.IA+"\t\t\t"+Br.j2.ZW+"\t\t\t"+Br.j2.Ld+"\t\t\t"+Br.j2.AX+"\t\t\t"+Br.j2.aqc+"\t\t\t"+Br.j2.aoV+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";this.lf(t,Br.ac.Yb)},Br.YL[2].prototype=new Br.I7,Br.YL[2].prototype.x3=function(t,e){this.NW(["source","vib","sat","yF"]);var n=Br.XN,i=this.GR;n.uniform1f(i.vib,e.jm[0]),n.uniform1f(i.sat,e.jm[1]),n.uniform3fv(i.yF,new Float32Array([e.jm[2],e.jm[3],e.jm[3]])),this.rl([i.source,t])},Br.YL[3]=function(){Br.I7.call(this);this.lf("\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}",Br.ac.Yb)},Br.YL[3].prototype=new Br.I7,Br.YL[3].prototype.x3=function(t,e){this.NW(["source","trf"]);var n=Br.XN,i=this.GR;n.uniformMatrix4fv(i.trf,!1,new Float32Array(Rr.i8.$Y(e.Cq))),this.rl([i.source,t])},Br.YL[4]=function(){Br.I7.call(this);var t="\t\t\tprecision mediump float; \t\t\t"+Br.j2.rB+"\t\t\t"+Br.j2.RP+"\t\t\t"+Br.j2.AX+"\t\t\t"+Br.j2.Ld+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";this.lf(t,Br.ac.Yb)},Br.YL[4].prototype=new Br.I7,Br.YL[4].prototype.x3=function(t,e){this.NW(["source","mnm","mxm","shift","lim"]);var n=Br.XN,i=this.GR;n.uniform3fv(i.mnm,new Float32Array(e.Ox)),n.uniform3fv(i.mxm,new Float32Array(e.e7)),n.uniform3fv(i.shift,new Float32Array(e.shift)),n.uniform1f(i.lim,e.KO),this.rl([i.source,t])},Br.YL[5]=function(){Br.I7.call(this);var t="\t\t\tprecision mediump float;\t\t\t"+Br.j2.ZC+"\t\t\t"+Br.j2.YB+"\t\t\t"+Br.j2.x$+"\t\t\t"+Br.j2.Ld+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";this.lf(t,Br.ac.Yb)},Br.YL[5].prototype=new Br.I7,Br.YL[5].prototype.x3=function(t,e){this.NW(["source","cfs"]);var n=Br.XN,i=this.GR;n.uniform3fv(i.cfs,e.afx),this.rl([i.source,t])},Br.YL[6]=function(){Br.I7.call(this);var t="\t\t\tprecision mediump float;\t\t\t"+Br.j2.RP+"\t\t\t"+Br.j2.YB+"\t\t\t"+Br.j2.x$+"\t\t\t"+Br.j2.Ld+"\t\t\t"+Br.j2.AX+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";this.lf(t,Br.ac.Yb)},Br.YL[6].prototype=new Br.I7,Br.YL[6].prototype.x3=function(t,e){this.NW(["source","wght","prms"]);var n=Br.XN,i=this.GR,r=[e.mr,e.a1k,e.Zr,e.agb,e.DE,e.ajT];n.uniform1fv(i.wght,new Float32Array(e.atD)),n.uniform1fv(i.prms,new Float32Array(r)),this.rl([i.source,t])},Br.YL[7]=function(){Br.I7.call(this),this.HN={};var t="\t\t\tprecision mediump float;\t\t\t"+Br.j2.pM+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";this.lf(t,Br.ac.Yb)},Br.YL[7].prototype=new Br.I7,Br.YL[7].prototype.x3=function(t,e){this.NW(["source","lut","N"]);var n=Br.XN,i=this.GR,r=e.bo,a=e.lJ;null==this.HN["m"+r]&&(this.HN["m"+r]=new Br.vs(r,r*r));e=this.HN["m"+r];e.set(a),n.uniform1f(i.N,r),this.rl([i.source,t,i.lut,e.I8]),n.activeTexture(n.TEXTURE1);e=n.LINEAR;n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,e),n.activeTexture(n.TEXTURE0)},Br.filter={v4:{},Yb:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",acW:0,a1G:1,Y9:2,acM:3,ahS:4,ae7:5,eC:6,adC:7},Br.filter.uY=function(t,e){Br.filter;var n=t.type+":"+(t.VU?t.VU.join(","):""),i=Br.filter.v4[n];(i=null==i?Br.filter.v4[n]=new Br.v4[t.type](t.VU):i).K7(),i.x3(e,t),Br.XN.drawArrays(Br.XN.TRIANGLES,0,6)},Br.v4=[0,0,0,0,0,0,0,0,0,0,0,0],Br.v4[7]=function(){Br.I7.call(this);this.lf(O.kF("1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4"),O.kF(Br.filter.Yb))},Br.v4[7].prototype=new Br.I7,Br.v4[7].prototype.x3=function(t,e){this.NW(["source","iwh","kern"]);var n=Br.XN,i=this.GR;n.uniform2fv(i.iwh,e.Ho),n.uniform1fv(i.kern,e.a5U),this.rl([i.source,t])},Br.v4[6]=function(t){Br.I7.call(this);t[0];var e=t[1],n=t[2],t=O.kF("1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c");t=(t=t.replaceAll("PRC",n+".0")).replaceAll("DIR",["x,0","0,x"][e]),this.lf(t,Br.ac.Yb)},Br.v4[6].prototype=new Br.I7,Br.v4[6].prototype.x3=function(t,e){this.NW(["source","iwh","rad"]);var n=Br.XN,i=this.GR;n.uniform2fv(i.iwh,e.Ho),n.uniform1f(i.rad,e.d7),this.rl([i.source,t])},Br.v4[4]=function(t){Br.I7.call(this);var e=t[0],n=t[1],n="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+t[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][n]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][e]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][n]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(2==n?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";this.lf(n,Br.ac.Yb)},Br.v4[4].prototype=new Br.I7,Br.v4[4].prototype.x3=function(t,e){this.NW(["source","iwh","rrad","tr"]);var n=Br.XN,i=this.GR;n.uniform2fv(i.iwh,e.Ho),n.uniform1f(i.rrad,e.xT),n.uniform1f(i.tr,e.adv),this.rl([i.source,t]);t=n.LINEAR,t=n.NEAREST;n.activeTexture(n.TEXTURE0),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,t),n.activeTexture(n.TEXTURE0)},Br.v4[5]=function(){Br.I7.call(this);this.lf(O.kF('1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!"\'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn\'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\"7|'),O.kF(Br.filter.Yb))},Br.v4[5].prototype=new Br.I7,Br.v4[5].prototype.x3=function(t,e){this.NW(["source","ssum","iwh","amnt","edgf"]);var n=Br.XN,i=this.GR;n.uniform2fv(i.iwh,e.Ho),n.uniform1f(i.amnt,e.ak6),n.uniform1f(i.edgf,e.a17),this.rl([i.source,t,i.ssum,e.a8b])},Br.v4[3]=function(){Br.I7.call(this);this.lf(O.kF('1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu"(&;5\'(ZJ<@=JtRNLLX^\\qbYo2!tvv\'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v," qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}\'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%\'#lw.66B8".@E0"2+\\Tb`fbLXmxu"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<"}opC3,(&&UM?12dTHSi`ZLM oco"wqgy}}|1\'x)"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l"hWV__SX"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob)."|^$(>C72s(+,"rzrOFFKK+3+e77[PuiRDJehh0gY_\'!gvx"y",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9\'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/\'9384Iw!\'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]\'>S0<EcKCA|beywX`V@oajIxx~%R"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#\',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H\'VV\\b0i\\hq=#'),O.kF(Br.filter.Yb))},Br.v4[3].prototype=new Br.I7,Br.v4[3].prototype.x3=function(t,e){this.NW("source iwh tdep rrad spec nois poly0 poly1".split(" "));var n=Br.XN,i=this.GR;n.uniform2fv(i.iwh,e.Ho),n.uniform1f(i.tdep,e.aka),n.uniform1f(i.rrad,e.xT),n.uniform2fv(i.spec,e.a9v),n.uniform3fv(i.nois,e.a2Y),n.uniformMatrix4fv(i.poly0,!1,e.ab5),n.uniformMatrix4fv(i.poly1,!1,e.acq),this.rl([i.source,t]);t=n.LINEAR;n.activeTexture(n.TEXTURE0),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,t),n.activeTexture(n.TEXTURE0)},Br.v4[0]=function(){Br.I7.call(this);this.lf(O.kF("1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc"),O.kF(Br.filter.Yb))},Br.v4[0].prototype=new Br.I7,Br.v4[0].prototype.x3=function(t,e){this.NW(["source","iwh","ld","shine"]);var n=Br.XN,i=this.GR;n.uniform2fv(i.iwh,e.Ho),n.uniform3fv(i.ld,e.a8i),n.uniform1f(i.shine,e.a97),this.rl([i.source,t,i.tang,e.O1])},Br.v4[1]=function(){Br.I7.call(this);this.lf(O.kF("1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY"),O.kF(Br.filter.Yb))},Br.v4[1].prototype=new Br.I7,Br.v4[1].prototype.x3=function(t,e){this.NW(["source","iwh","isc","bristle"]);var n=Br.XN,i=this.GR;n.uniform2fv(i.iwh,e.Ho),n.uniform1f(i.isc,e.ahL),n.uniform1f(i.bristle,e.a0w),this.rl([i.source,t])},Br.v4[2]=function(){Br.I7.call(this);this.lf(O.kF("1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz"),O.kF(Br.filter.Yb))},Br.v4[2].prototype=new Br.I7,Br.v4[2].prototype.x3=function(t,e){this.NW(["source","tang","iwh","sigma","expo"]);var n=Br.XN,i=this.GR;n.uniform2fv(i.iwh,e.Ho),n.uniform1f(i.sigma,e.aq7),n.uniform1f(i.expo,e.apP),this.rl([i.source,t,i.tang,e.O1]);e=n.LINEAR;n.activeTexture(n.TEXTURE0),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,e),n.activeTexture(n.TEXTURE0)},Rr.X={},Rr.a95={},Rr.aaj=function(){for(var t=[64,64,128,256,512,1024,2048],e=[],n=0;n<t.length;n++){var i=t[n],r=document.createElement("canvas");r.width=i,r.height=i,e.push(r.getContext("2d"))}return e}(),Rr.XQ=function(t,e){for(var n,i,r=Rr.aaj,a=1,s=Math.max(t,e);a<r.length&&s>r[a].canvas.width;)a++;return a==r.length?((i=(n=r[0]).canvas).width=t,i.height=e):(n=r[a]).clearRect(0,0,t,e),n},Rr.N4=function(t,e,n){var i=new Uint32Array(e*n);i[0]=t[0];for(var r=1;r<e;r++)i[r]=i[r-1]+t[r];for(var a=1;a<n;a++){var s=a*e;i[s]=i[s-e]+t[s];for(r=1;r<e;r++)i[s+r]=t[s+r]+i[s+r-1]+i[s+r-e]-i[s+r-e-1]}return i},Rr.CR=function(t,e,n,i,r,a){r=(r-1)*e,e*=a;return t[e+i]-t[e+n-1]-t[r+i]+t[r+n-1]},Rr.Nx=function(t,e,n){for(var i={},r=0,a=0,s=new Uint32Array(t.buffer),o=(s.length,Date.now(),1);o<n-1;o++)for(var l=1;l<e-1;l++){var h=s[o*e+l];h>>>24<230&&a++,null==i[h]&&(i[h]=!0,r++)}return!(0!=a||r<20)},Rr.eU=function(t,e,n,i,r,a){null==r&&(r=a=0),i=Math.log(i)/Math.log(2),i=Math.round(i);for(var s=0;s<n;s++)for(var o=0;o<e;o++){var l=s*e+o<<2,h=Rr.aJ(s+a,o+r,i);t[l]=t[1+l]=t[2+l]=h,t[3+l]=255}},Rr.aJ=function(t,e,n){return 255-51*((t>>>n)+(e>>>n)&1)},Rr.zI=function(t){for(var e=t.toString(16);e.length<6;)e="0"+e;return e},Rr.$x=function(t){return parseInt(t,16)},Rr.Zr=function(t){return.3*t.p+.59*t.z+.11*t.S},Rr.tf=function(t){return Math.max(t.p,t.z,t.S)-Math.min(t.p,t.z,t.S)},Rr.X_=function(t,e,n){return.3*t+.59*e+.11*n},Rr.a72=function(t,e,n){return Math.max(t,e,n)-Math.min(t,e,n)},Rr.YB=function(t,e){var n=e-t,i=Math.abs(n),e=n-1,t=n+1;return Math.abs(e)<i?n=e:Math.abs(t)<i&&(n=t),n},Rr.I$=function(t){return t<.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055},Rr.wo=function(t){return t<.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},Rr.ah6=function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i+=4){var r=t[i],a=t[i+1],s=t[i+2];e[i]=16+Math.floor(65.481/255*r+128.553/255*a+24.966/255*s+.5),e[i+1]=128-Math.floor(37.797/255*r-74.203/255*a+112/255*s+.5),e[i+2]=128+Math.floor(112/255*r-93.786/255*a-18.214/255*s+.5),e[i+3]=t[i+3]}},Rr.aaI=function(t,e,n){var i,r,a,s=Math.max(t,e,n),o=Math.min(t,e,n),l=0!=s?(s-o)/s:0;return 0==l?a=0:(i=(s-t)/(r=s-o),o=(s-e)/r,r=(s-n)/r,a=t==s?r-o:e==s?2+i-r:4+o-i,(a*=1/6)<0&&(a+=1)),{kY:a,gB:l,S:s}},Rr.a5z=function(t,e,n){var i=0,r=0,a=0;if(0==e)i=r=a=n;else{var s=6*(t-Math.floor(t)),t=Math.floor(s),s=s-Math.floor(s),o=n*(1-e),l=n*(1-e*s),h=n*(1-e*(1-s));switch(t){case 0:i=n,r=h,a=o;break;case 1:i=l,r=n,a=o;break;case 2:i=o,r=n,a=h;break;case 3:i=o,r=l,a=n;break;case 4:i=h,r=o,a=n;break;case 5:i=n,r=o,a=l}}return{p:i,z:r,S:a}},Rr.Ld=function(t,e,n){var i=Math.max(t,e,n),r=Math.min(t,e,n),a=0,s=0,o=.5*(i+r);if(i!=r){var l=i-r,s=.5<o?l/(2-(i+r)):l/(i+r);switch(i){case t:a=(e-n)/l+(e<n?6:0);break;case e:a=(n-t)/l+2;break;case n:a=(t-e)/l+4}a*=1/6}return{kY:a,gB:s,Z5:o}},Rr.AX=function(t,e,n){var i,r,a;return 0==e?i=r=a=n:(i=Rr.RP(e=2*n-(n=n<.5?n*(1+e):n+e-n*e),n,t+1/3),r=Rr.RP(e,n,t),a=Rr.RP(e,n,t-1/3)),{p:i,z:r,S:a}},Rr.RP=function(t,e,n){return n<0&&(n+=1),1<n&&--n,n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t},Rr.IA=function(t,e,n){var i,r=Math.max(t,e,n),a=Math.min(t,e,n),s=r,o=r-a,l=0==r?0:o/r;if(r==a)i=0;else{switch(r){case t:i=(e-n)/o+(e<n?6:0);break;case e:i=(n-t)/o+2;break;case n:i=(t-e)/o+4}i*=1/6}return{kY:i,gB:l,JL:s}},Rr.ZW=function(t,e,n){var i,r,a,s=Math.floor(6*t),t=6*t-s,o=n*(1-e),l=n*(1-t*e),h=n*(1-(1-t)*e);switch(s%6){case 0:i=n,r=h,a=o;break;case 1:i=l,r=n,a=o;break;case 2:i=o,r=n,a=h;break;case 3:i=o,r=l,a=n;break;case 4:i=h,r=o,a=n;break;case 5:i=n,r=o,a=l}return{p:i,z:r,S:a}},Rr.cn=function(){for(var t=[],e=[],n=0;n<2e3;n++){var i=n/1e3;t[n]=Rr.wo(i),e[n]=.008856<i?Math.pow(i,1/3):1/116*(903.3*i+16)}return[t,e]}(),Rr.rB=function(t,e,n){var i=Rr.cn[0];Rr.cn[1];t=i[~~(t*(1e3/255))],e=i[~~(e*(1e3/255))],n=i[~~(n*(1e3/255))];var r=Rr.i8.aqC,a=r[0]*t+r[1]*e+r[2]*n,i=r[4]*t+r[5]*e+r[6]*n,n=r[8]*t+r[9]*e+r[10]*n;return Rr.Vi(a*=100/96.72,i,n*=100/81.427)},Rr.Vi=function(t,e,n){var i=Rr.cn[1],t=i[~~(1e3*t)],e=i[~~(1e3*e)];return{HH:116*e-16,q4:500*(t-e),S:200*(e-i[~~(1e3*n)])}},Rr.uV=function(t,e,n){for(var i=.008856,r=(t+16)/116,a=r*r*r,s=r-n/200,t=s*s*s,n=e/500+r,e=n*n*n,o=Rr.i8.vA(Rr.i8.YP,[96.72*(i<e?e:(116*n-16)/903.3)/100,100*(i<a?a:(116*r-16)/903.3)/100,81.427*(i<t?t:(116*s-16)/903.3)/100,0]),l=0;l<4;l++)o[l]=Math.max(0,Math.min(255,255*Rr.I$(o[l])));return{p:o[0],z:o[1],S:o[2]}},Rr.b9=function(t,e,n,i,r){var a=t.HH,s=t.q4,t=t.S,a=.01*(a<e.HH?e.HH-a:n.HH<a?n.HH-a:0),s=(s<e.q4?e.q4-s:n.q4<s?n.q4-s:0)*(1/116),t=(t<e.S?e.S-t:n.S<t?n.S-t:0)*(1/116),t=1.35*Math.sqrt(a*a+s*s+t*t);return t<=i?Math.min(1,1.17*(1-t*r)):0},Rr.JT=function(t,e,n){var i=t.length,r=.3,a=.59,s=.11;n&&(r=n[0],a=n[1],s=n[2]);for(var o=0;o<i;o+=4)e[o>>2]=~~(t[o+0]*r+t[o+1]*a+t[o+2]*s+.5)},Rr.PU=function(t,e){for(var n=e.length,i=0;i<n;i+=4){var r=t[i>>>2];e[i]=r,e[i+1]=r,e[i+2]=r}},Rr.M1=function(t,e){for(var n=t.q4,i=t.p,r=t.z,a=t.S,s=Math.min(t.q4.length,e.buffer.byteLength>>>2),o=4*Math.floor(s/4),l=new Uint32Array(e.buffer),h=new Uint32Array(n.buffer),u=new Uint32Array(i.buffer),f=new Uint32Array(r.buffer),c=new Uint32Array(a.buffer),p=0;p<o;p+=4){var d=h[p>>2],v=c[p>>2],g=f[p>>2],y=u[p>>2];l[p]=d<<24|(255&v)<<16|(255&g)<<8|255&y,l[p+1]=(65280&d)<<16|(65280&v)<<8|65280&g|(65280&y)>>>8,l[p+2]=(16711680&d)<<8|16711680&v|(16711680&g)>>>8|(16711680&y)>>>16,l[p+3]=4278190080&d|(4278190080&v)>>>8|(4278190080&g)>>>16|(4278190080&y)>>>24}for(p=o;p<s;p++)l[p]=n[p]<<24|a[p]<<16|r[p]<<8|i[p]},Rr.Sk=function(t,e){for(var n=e.q4,i=e.p,r=e.z,a=e.S,s=Math.min(e.q4.length,t.buffer.byteLength>>>2),o=4*Math.floor(s/4),l=new Uint32Array(t.buffer),h=new Uint32Array(n.buffer),u=new Uint32Array(i.buffer),f=new Uint32Array(r.buffer),c=new Uint32Array(a.buffer),p=0;p<o;p+=4){var d=l[p],v=l[p+1],g=l[p+2],y=l[p+3];u[p>>2]=255&d|(255&v)<<8|(255&g)<<16|y<<24,f[p>>2]=(65280&d)>>8|65280&v|(65280&g)<<8|(65280&y)<<16,c[p>>2]=(16711680&d)>>16|(16711680&v)>>8|16711680&g|(16711680&y)<<8,h[p>>2]=d>>>24|v>>>24<<8|g>>>24<<16|4278190080&y}for(p=o;p<s;p++){var m=l[p];i[p]=m>>0&255,r[p]=m>>8&255,a[p]=m>>16&255,n[p]=m>>24&255}},Rr.VW=function(t,e,n){for(var i=new Uint8Array(t.buffer),r=Math.min(i.length/4,e.length),a=0;a<r;a++)e[a]=i[(a<<2)+n]},Rr.al=function(t,e,n){for(var i=new Uint8Array(e.buffer),r=new Uint32Array(t.buffer),a=Math.min(i.length/4,t.length),s=0;s+4<a;){var o=r[s>>>2];i[(s<<2)+n]=255&o,i[(s<<2)+n+4]=o>>>8&255,i[(s<<2)+n+8]=o>>>16&255,i[(s<<2)+n+12]=o>>>24,s+=4}for(;s<a;)i[(s<<2)+n]=t[s],s++},Rr.Bg=function(t,e,n){null==n&&(n=0);for(var i=new Uint32Array(t.buffer),r=i.length,a=0;a<r;a++)i[a]=i[a]&n|e},Rr.aoW=function(t,e,n,i,r){null==r&&(r=0);for(var a=new Uint32Array(t.buffer),s=(n=n.BS(e)).x-e.x,o=n.y-e.y,l=n.m,h=n.n,u=e.m,f=0;f<h;f++)for(var c=(o+f)*u+s,p=0;p<l;p++)a[c]=a[c]&r|i,c++},Rr.VO=function(t,e){var n=Math.min(t.buffer.byteLength,e.buffer.byteLength)>>>2,t=new Uint32Array(t.buffer,0,n);(e=new Uint32Array(e.buffer,0,n)).set(t)},Rr.iy=function(t,e){var n=t.buffer.byteLength,i=e.buffer.byteLength,r=new Uint32Array(t.buffer,0,n>>2),a=new Uint32Array(e.buffer,0,i>>2);if(n!=i)return!1;for(var s=r.length,o=0;o<s;o++)if(a[o]!=r[o])return!1;return!0},Rr.tU=function(t){for(var e=new Uint32Array(t.buffer),n=e.length,i=0;i<n;i++)e[i]=~e[i]},Rr.a0E=function(t){for(var e=t.length,n=0;n<e;n+=4)t[n]=~t[n],t[n+1]=~t[n+1],t[n+2]=~t[n+2]},Rr.ai3=function(t){for(var e=t.length,n=3;n<e;n+=4)t[n]=~t[n]},Rr.a9K=function(t){return t+(t%4==0?0:4-t%4)},Rr.t=function(e,t){(t=null==t?!1:t)||(e=Rr.a9K(e));try{var n=new Uint8Array(e)}catch(t){throw alert("Not enough RAM! (need "+Math.round(e/(1<<20))+" MB)",7e3),"low_ram"}return n},Rr.bb=function(t){for(var e=t.length,n=t[e-2],i=t[e-1];2<=i.m&&2<=i.n;){var r=Rr.U4(n,i);t.push(r.L0,r.rect),n=r.L0,i=r.rect}},Rr.zl=function(t){for(var e=t.length,n=t[e-2],i=t[e-1];2<=i.m&&2<=i.n;){var r=Rr.SJ(n,i);t.push(r.L0,r.rect),n=r.L0,i=r.rect}},Rr.U4=function(t,e,n){for(var i=e.m,r=i>>1,a=e.n>>1,e=new Fr(e.x,e.y,r,a),n=n&&n.length==r*a*4?n:Rr.t(r*a*4),s=new Uint32Array(t.buffer),o=new Uint32Array(n.buffer),l=0;l<a;l++)for(var h=0;h<r;h++){var u=l*r+h,f=(l<<1)*i+(h<<1),c=s[f],p=s[1+f],d=s[f+i],v=s[f+i+1],g=c>>>24,y=p>>>24,m=d>>>24,w=v>>>24,f=g+y+m+w;o[u]=1020==f?255<<24|(c>>>16&255)+(p>>>16&255)+(d>>>16&255)+(v>>>16&255)+2>>>2<<16|(c>>>8&255)+(p>>>8&255)+(d>>>8&255)+(v>>>8&255)+2>>>2<<8|(c>>>0&255)+(p>>>0&255)+(d>>>0&255)+(v>>>0&255)+2>>>2:0==f?0:2+f>>>2<<24|~~(((c>>>16&255)*g+(p>>>16&255)*y+(d>>>16&255)*m+(v>>>16&255)*w)*(f=1/f)+.5)<<16|~~(((c>>>8&255)*g+(p>>>8&255)*y+(d>>>8&255)*m+(v>>>8&255)*w)*f+.5)<<8|~~(((c>>>0&255)*g+(p>>>0&255)*y+(d>>>0&255)*m+(v>>>0&255)*w)*f+.5)}return{rect:e,L0:n}},Rr.cG=function(t,e,n){for(var i=e.m,r=i>>1,a=e.n>>1,e=new Fr(e.x,e.y,r,a),n=n&&n.length==r*a*4?n:Rr.t(r*a*4),s=new Uint32Array(t.buffer),o=new Uint32Array(n.buffer),l=0;l<a;l++)for(var h=0;h<r;h++){var u=(l<<1)*i+(h<<1),f=s[u],c=s[1+u],p=s[u+i],u=s[u+i+1];o[l*r+h]=2+(f>>>24&255)+(c>>>24&255)+(p>>>24&255)+(u>>>24&255)>>>2<<24|2+(f>>>16&255)+(c>>>16&255)+(p>>>16&255)+(u>>>16&255)>>>2<<16|2+(f>>>8&255)+(c>>>8&255)+(p>>>8&255)+(u>>>8&255)>>>2<<8|2+(f>>>0&255)+(c>>>0&255)+(p>>>0&255)+(u>>>0&255)>>>2}return{rect:e,L0:n}},Rr.alj=function(t,e,n){for(var i=e.m,r=e.n,a=2*Math.floor(i/3),s=2*Math.floor(r/3),e=new Fr(e.x,e.y,a,s),n=n&&n.length==a*s*4?n:Rr.t(a*s*4),o=new Uint32Array(t.buffer),l=new Uint32Array(n.buffer),h=0;h<s;h+=2)for(var u=0;u<a;u+=2){var f=h*a+u,c=(3*h>>>1)*i+(3*u>>>1),p=o[c],d=o[1+c],v=o[2+c],g=o[c+i],y=o[1+c+i],m=o[2+c+i],w=o[c+i+i],b=o[1+c+i+i],M=o[2+c+i+i],S=p>>>24<<2,C=d>>>24<<1,x=(d>>>16&255)*C,L=(d>>>8&255)*C,D=(255&d)*C,k=v>>>24<<2,T=(v>>>16&255)*k,A=(v>>>8&255)*k,E=(255&v)*k,O=g>>>24<<1,N=(g>>>16&255)*O,I=(g>>>8&255)*O,P=(255&g)*O,F=y>>>24,_=(y>>>16&255)*F,B=(y>>>8&255)*F,R=(255&y)*F,U=m>>>24<<1,j=(m>>>16&255)*U,H=(m>>>8&255)*U,J=(255&m)*U,q=w>>>24<<2,G=(w>>>16&255)*q,Z=(w>>>8&255)*q,z=(255&w)*q,c=b>>>24<<1,d=(b>>>16&255)*c,v=(b>>>8&255)*c,g=(255&b)*c,y=M>>>24<<2,m=(M>>>16&255)*y,w=(M>>>8&255)*y,b=(255&M)*y,M=S+C+O+F,C=k+C+U+F,q=q+c+O+F,O=y+c+U+F,y=0==M?0:1/M,c=0==C?0:1/C,U=0==q?0:1/q,F=0==O?0:1/O;l[f]=~~(.5+1/9*M)<<24|~~(.5+((p>>>16&255)*S+x+N+_)*y)<<16|~~(.5+((p>>>8&255)*S+L+I+B)*y)<<8|~~(.5+((255&p)*S+D+P+R)*y),l[f+1]=~~(.5+1/9*C)<<24|~~(.5+(T+x+j+_)*c)<<16|~~(.5+(A+L+H+B)*c)<<8|~~(.5+(E+D+J+R)*c),l[f+a]=~~(.5+1/9*q)<<24|~~(.5+(G+d+N+_)*U)<<16|~~(.5+(Z+v+I+B)*U)<<8|~~(.5+(z+g+P+R)*U),l[f+a+1]=~~(.5+1/9*O)<<24|~~(.5+(m+d+j+_)*F)<<16|~~(.5+(w+v+H+B)*F)<<8|~~(.5+(b+g+J+R)*F)}return{rect:e,L0:n}},Rr.asK=function(t,e,n){for(var i=e.m,r=e.n,a=2*Math.floor(i/3),s=2*Math.floor(r/3),e=new Fr(e.x,e.y,a,s),n=n&&n.length==a*s*4?n:Rr.t(a*s*4),o=new Uint32Array(t.buffer),l=new Uint32Array(n.buffer),h=0;h<s;h+=2)for(var u=0;u<a;u+=2){var f=h*a+u,c=(3*h>>>1)*i+(3*u>>>1),p=o[c],d=o[1+c],v=o[2+c],g=o[c+i],y=o[1+c+i],m=o[2+c+i],w=o[c+i+i],b=o[1+c+i+i],M=o[2+c+i+i],S=(d>>>16&255)<<1,C=(d>>>8&255)<<1,x=(255&d)<<1,L=(v>>>16&255)<<2,D=(v>>>8&255)<<2,k=(255&v)<<2,T=(g>>>16&255)<<1,A=(g>>>8&255)<<1,E=(255&g)<<1,O=y>>>16&255,N=y>>>8&255,I=255&y,P=(m>>>16&255)<<1,F=(m>>>8&255)<<1,_=(255&m)<<1,c=(w>>>16&255)<<2,d=(w>>>8&255)<<2,v=(255&w)<<2,g=(b>>>16&255)<<1,y=(b>>>8&255)<<1,m=(255&b)<<1,w=(M>>>16&255)<<2,b=(M>>>8&255)<<2,M=(255&M)<<2;l[f]=255<<24|~~(.5+1/9*(((p>>>16&255)<<2)+S+T+O))<<16|~~(.5+1/9*(((p>>>8&255)<<2)+C+A+N))<<8|~~(.5+1/9*(((255&p)<<2)+x+E+I)),l[f+1]=255<<24|~~(.5+1/9*(L+S+P+O))<<16|~~(.5+1/9*(D+C+F+N))<<8|~~(.5+1/9*(k+x+_+I)),l[f+a]=255<<24|~~(.5+1/9*(c+g+T+O))<<16|~~(.5+1/9*(d+y+A+N))<<8|~~(.5+1/9*(v+m+E+I)),l[f+a+1]=255<<24|~~(.5+1/9*(w+g+P+O))<<16|~~(.5+1/9*(b+y+F+N))<<8|~~(.5+1/9*(M+m+_+I))}return{rect:e,L0:n}},Rr.Jw=function(t){var e=255,n=t.length;n-=31&n;for(var i=3;i<n;i+=32)e=e&t[i]&t[i+4]&t[i+8]&t[i+12]&t[i+16]&t[i+20]&t[i+24]&t[i+28];return 255!=e},Rr.a7H=function(t,e,n,i){var r=Rr.U4,a=Rr.alj,s=0;Rr.Jw(t)||(r=Rr.cG,a=Rr.asK);for(var o={L0:t,rect:e},l=n;l<.499;)s++,l*=2;for(var h=0;h<s;h++)o=r(o.L0,o.rect,i);return o=(l<.5001?r:a)(o.L0,o.rect,i)},Rr.abL=function(t,e,n,i){for(var r=Rr.SJ,a=Rr.MM,s={L0:t,rect:e},o=0,l=n;l<.499;)o++,l*=2;for(var h=0;h<o;h++)s=r(s.L0,s.rect,i);return s=(l<.5001?r:a)(s.L0,s.rect,i)},Rr.SJ=function(t,e,n){var i=e.m,r=i>>1,a=e.n>>1,e=new Fr(e.x,e.y,r,a);if(null==t)return{rect:e};for(var s=n&&n.length>=r*a?n:Rr.t(r*a),o=0;o<a;o++)for(var l=o*r,h=0;h<r;h++){var u=(o<<1)*i+(h<<1);s[l+h]=2+t[u]+t[1+u]+t[u+i]+t[u+i+1]>>>2}return{rect:e,L0:s}},Rr.MM=function(t,e,n){var i=e.m,r=e.n,a=2*Math.floor(i/3),s=2*Math.floor(r/3),e=new Fr(e.x,e.y,a,s);if(null==t)return{rect:e};for(var o=n&&n.length>=a*s?n:Rr.t(a*s),l=0;l<s;l+=2)for(var h=0;h<a;h+=2){var u=l*a+h,f=(3*l>>>1)*i+(3*h>>>1),c=t[f]<<2,p=t[1+f]<<1,d=t[2+f]<<2,v=t[f+i]<<1,g=t[1+f+i],y=t[2+f+i]<<1,m=t[f+i+i]<<2,w=t[1+f+i+i]<<1,f=t[2+f+i+i]<<2;o[u]=~~(.5+(c+p+v+g)*(1/9)),o[u+1]=~~(.5+(d+p+y+g)*(1/9)),o[u+a]=~~(.5+(m+w+v+g)*(1/9)),o[u+a+1]=~~(.5+(f+w+y+g)*(1/9))}return{rect:e,L0:o}},Rr.rR=function(t,e,n,i,r){var a=e.BS(i);r&&(a=a.BS(r));for(var s=Math.max(0,a.x-e.x),o=Math.max(0,a.x-i.x),l=Math.max(0,a.y-e.y),h=Math.max(0,a.y-i.y),u=a.m,f=a.n,c=0;c<f;c++)for(var p=(l+c)*e.m+s,d=(h+c)*i.m+o,v=0;v<u;v++)n[d+v]=t[p+v]},Rr.jL=function(t,e,n,i){if(e.iy(i))Rr.al(t,n,3);else for(var r=e.BS(i),a=Math.max(0,r.x-e.x),s=Math.max(0,r.x-i.x),o=Math.max(0,r.y-e.y),l=Math.max(0,r.y-i.y),h=r.m,u=r.n,f=0;f<u;f++)for(var c=(o+f)*e.m+a,p=(l+f)*i.m+s,d=0;d<h;d++)n[3+(p+d<<2)]=t[c+d]},Rr.px=function(t,e,n,i){for(var r=e.BS(i),a=Math.max(0,r.x-e.x),s=Math.max(0,r.x-i.x),o=Math.max(0,r.y-e.y),l=Math.max(0,r.y-i.y),h=r.m,u=r.n,f=0;f<u;f++)for(var c=(o+f)*e.m+a,p=(l+f)*i.m+s,d=0;d<h;d++)n[p+d]=t[3+(c+d<<2)]},Rr.Ik=function(t,e,n,i,r){if(!e.iy(i)||null!=r&&!r.iy(i)){t=new Uint32Array(t.buffer),n=new Uint32Array(n.buffer);var a=e.BS(i);r&&(a=a.BS(r));for(var s=Math.max(0,a.x-e.x),o=Math.max(0,a.x-i.x),l=Math.max(0,a.y-e.y),h=Math.max(0,a.y-i.y),u=a.m,f=a.n,a=3&u,c=0;c<f;c++){var p=(l+c)*e.m+s,d=(h+c)*i.m+o;n.set(new Uint32Array(t.buffer,4*p,u),d)}}else Rr.VO(t,n)},Rr.qP=function(t,e,n,i){for(var r=e.BS(i),a=Math.max(0,r.x-e.x),s=Math.max(0,r.x-i.x),o=Math.max(0,r.y-e.y),l=Math.max(0,r.y-i.y),h=r.m,u=r.n,f=t.q4,c=t.p,p=t.z,d=t.S,v=n.q4,g=n.p,y=n.z,m=n.S,w=0;w<u;w++)for(var b=(o+w)*e.m+a,M=(l+w)*i.m+s,S=0;S<h;S++)v[M+S]=f[b+S],g[M+S]=c[b+S],y[M+S]=p[b+S],m[M+S]=d[b+S]},Rr.V4=function(t){for(var e=t.length,n=0;n<e;n+=4){var i=t[n+3];255!=i&&(t[n]=~~(t[n]*i*(1/255)+.5),t[n+1]=~~(t[n+1]*i*(1/255)+.5),t[n+2]=~~(t[n+2]*i*(1/255)+.5))}},Rr.hY=function(t){for(var e=t.length,n=0;n<e;n+=4){var i=t[n+3];0!=i&&255!=i&&(t[n]=~~(t[n]*(i=255/i)+.5),t[n+1]=~~(t[n+1]*i+.5),t[n+2]=~~(t[n+2]*i+.5))}},Rr.a8=function(t,e){for(var n=0;n<t.length;n++)if(t[n]!=e)return!1;return!0},Rr.oq=function(t){return t+1+(t>>>8)>>>8},Rr.round=function(t,e){null==e&&(e=128);for(var n=t.length,i=0;i<n;i++)t[i]=t[i]<e?0:255},Rr.A_=function(t,e){for(var n=t.length,i=0;i<n;i++)t[i]=Math.round(t[i]*e)},Rr.k2=function(t,e){for(var n=new Uint32Array(t.buffer),i=new Uint32Array(e.buffer),r=n.length,a=0;a<r;a++){var s=n[a],o=i[a];i[a]=Rr.oq((s>>>24)*(o>>>24))<<24|Rr.oq((s>>>16&255)*(o>>>16&255))<<16|Rr.oq((s>>>8&255)*(o>>>8&255))<<8|Rr.oq((255&s)*(255&o))}},Rr.Lx=function(t,e){for(var n=t.length,i=0;i<n;i++)e[3+(i<<2)]=Rr.oq(e[3+(i<<2)]*t[i])},Rr.acc=function(t,e,n,i){for(var r=Math.max(0,i.x-e.x),a=Math.max(0,e.x-i.x),s=Math.max(0,i.y-e.y),o=Math.max(0,e.y-i.y),l=Math.min(e.x+e.m,i.x+i.m)-Math.max(e.x,i.x),h=Math.min(e.y+e.n,i.y+i.n)-Math.max(e.y,i.y),u=0;u<h;u++)for(var f=(s+u)*e.m+r,c=(o+u)*i.m+a,p=0;p<l;p++)n[c]=Rr.oq(n[c]*t[f]),f++,c++},Rr.WE=function(t,e,n,i){for(var r=Math.max(0,i.x-e.x),a=Math.max(0,e.x-i.x),s=Math.max(0,i.y-e.y),o=Math.max(0,e.y-i.y),l=Math.min(e.x+e.m,i.x+i.m)-Math.max(e.x,i.x),h=Math.min(e.y+e.n,i.y+i.n)-Math.max(e.y,i.y),u=0;u<h;u++)for(var f=(s+u)*e.m+r,c=3+((o+u)*i.m+a<<2),p=0;p<l;p++)n[c]=Rr.oq(n[c]*t[f]),f++,c+=4},Rr.SZ=function(t,e,n,i){for(var r=Math.max(0,i.x-e.x),a=Math.max(0,e.x-i.x),s=Math.max(0,i.y-e.y),o=Math.max(0,e.y-i.y),l=Math.min(e.x+e.m,i.x+i.m)-Math.max(e.x,i.x),h=Math.min(e.y+e.n,i.y+i.n)-Math.max(e.y,i.y),u=0;u<h;u++)for(var f=3+((s+u)*e.m+r<<2),c=3+((o+u)*i.m+a<<2),p=0;p<l;p++)n[c]=Rr.oq(n[c]*t[f]),f+=4,c+=4},Rr.Kk=function(t){for(var e=new Float64Array(256),n=new Float64Array(256),i=new Float64Array(256),r=new Float64Array(256),a=t.length,s=0,o=0;o<a;o+=4){var l=t[o+0],h=t[o+1],u=t[o+2],f=t[o+3],c=f*(1/255);n[l]+=c,i[h]+=c,r[u]+=c,s+=f}for(o=0;o<256;o++)e[o]=n[o]+i[o]+r[o];return[e,n,i,r,a>>>2,s/255]},Rr.jl=function(t,e){function n(t){for(var e=0,n=0,i=0;i<256;i++)n+=t[i],e+=t[i]*i*(1/255);return e/n}for(var i=t[0],r=t[1]/100,a=t[2]/100,s=[],o=[],l=0;l<4;l++){var h=0==l?3:1;s[l]=function(t,e){for(var n=-1,i=0;i<=e;)i+=t[++n];return n}(e[l],h*r*e[5]),o[l]=function(t,e){for(var n=256,i=0;i<=e;)i+=t[--n];return n}(e[l],h*a*e[5])}var u=[n(e[1]),n(e[2]),n(e[3])],t=u.slice(0);t.sort(function(t,e){return t-e});for(var f=u.indexOf(t[1]),c=(u[0]+u[1]+u[2])/3,p=[],l=0;l<4;l++){var d=0,v=255,g=s[l],y=o[l];0==i&&0==l&&(d=g,v=y),1==i&&0!=l&&(d=g,v=y),2==i&&0!=l&&(h=u[l-1]/c,v=Math.max(0,Math.min(255,o[f]*h)));v=[d,v];p.push(v),3==i&&0==l&&v.push(255*(1-c))}return p},Rr.Gz=function(t,e){for(var n=new Uint32Array(t.buffer),i=n.length,r=0;r<i;r++){var a=n[r];n[r]=e[255&a]|e[a>>8&255]<<8|e[a>>16&255]<<16|e[a>>24&255]<<24}},Rr.af7=function(t,e,n,i,r,a,s){for(var o=new Uint32Array(t.buffer),l=new Uint32Array(e.buffer),h=o.length,u=0;256<<u<n.length;)u++;if(s||a)for(b=0;b<h;b++){var f,c,p,d=(255&(M=o[b]))<<u,v=(M>>>8&255)<<u,g=(M>>>16&255)<<u,y=n[d=a?v=g=Math.round(.3*d+.59*v+.11*g):d],m=i[v],w=r[g];s&&(f=Rr.X_(d,v,g),(c=Rr.X_(y,m,w))<f?(y+=(p=(f-c)/(255-c))*(255-y),m+=p*(255-m),w+=p*(255-w)):0==c?y=m=w=0:(y*=p=f/c,m*=p,w*=p)),l[b]=y|m<<8|w<<16|4278190080&M}else for(var b=0;b!=h;b++){var M,d,v=((M=o[b])>>>8&255)<<u,g=(M>>>16&255)<<u,y=n[d=(255&M)<<u],m=i[v],w=r[g];l[b]=y|m<<8|w<<16|4278190080&M}},Rr._1=function(t,e){for(var n=e.m,i=e.n,r=0,a=0,s=0,o=0,l=0,l=0,h=0;h<i;h++){for(var u=h*n,f=0;f<n;f++)l|=t[u+f];if(0!=l)break;r++}if(r==i)return new Fr(0,0,0,0);l=0;for(h=i-1;0<=h;h--){for(u=h*n,f=0;f<n;f++)l|=t[u+f];if(0!=l)break;s++}for(var c=i-s,f=l=0;f<n;f++){for(h=r;h<c;h++)l|=t[h*n+f];if(0!=l)break;a++}l=0;for(f=n-1;0<=f;f--){for(h=r;h<c;h++)l|=t[h*n+f];if(0!=l)break;o++}return new Fr(e.x+a,e.y+r,n-a-o,i-r-s)},Rr.zZ=function(t,e,n,i){null==i&&(i=[!0,!0,!0,!0]),null==n&&(n=0);var r=new Uint32Array(t.buffer),a=e.m,s=e.n,o=0,l=0,h=0,u=0,f=!1,c=[r[0],r[r.length-1],0][n],f=!1;if(i[0])for(var p=0;p<s;p++){for(var d=p*a,v=0;v<a;v++)r[d+v]!=c&&(f=!0);if(f)break;o++}if(f=!1,i[2])for(p=s-1;0<=p;p--){for(d=p*a,v=0;v<a;v++)r[d+v]!=c&&(f=!0);if(f)break;h++}if(f=!1,i[1])for(v=0;v<a;v++){for(p=0;p<s;p++)r[p*a+v]!=c&&(f=!0);if(f)break;l++}if(f=!1,i[3])for(v=a-1;0<=v;v--){for(p=0;p<s;p++)r[p*a+v]!=c&&(f=!0);if(f)break;u++}e=new Fr(e.x+l,e.y+o,a-l-u,s-o-h);return e.mN()?new Fr(0,0,0,0):e},Rr.Er=function(t){var e,n=Rr._1(t.channel,t.rect);n.iy(t.rect)||(e=Rr.t(n.Z()),Rr.rR(t.channel,t.rect,e,n),t.channel=e,t.rect=n)},Rr.Kl=function(t){var e=Rr.t(t.buffer.length>>2);Rr.VW(t.buffer,e,3);var n=Rr._1(e,t.rect);n.iy(t.rect)||(e=new Rr.t(4*n.Z()),Rr.Ik(t.buffer,t.rect,e,n),t.buffer=e,t.rect=n)},Rr.extend=function(t,e,n){var i;t.rect.st(e)||(i=t.rect.hq(e),e=Rr.t(i.Z()),null!=n&&e.fill(n),Rr.rR(t.channel,t.rect,e,i),t.rect=i,t.channel=e)},Rr.a7Q=function(t,e){var n;e.mN()||t.rect.st(e)||(n=t.rect.hq(e),e=Rr.t(4*n.Z()),Rr.Ik(t.buffer,t.rect,e,n),t.rect=n,t.buffer=e)},Rr.LP=function(t,e,n){if(!n.tl(t))return!1;var i=Math.floor(t.x)-n.x;return 128<e[(Math.floor(t.y)-n.y)*n.m+i]},Rr.atm=function(t,e,n){if(!n.tl(t))return!1;var i=Math.floor(t.x)-n.x;return 128<e[4*((Math.floor(t.y)-n.y)*n.m+i)+3]},Rr.UU=function(t){return Rr.Kg.length<t&&(Rr.Kg=Rr.t(t),Rr.Kg.fill(255)),Rr.Kg},Rr.Kg=Rr.t(0),Rr.lk=function(t){return Rr.kw.length<t&&(Rr.kw=Rr.t(t)),Rr.kw},Rr.kw=Rr.t(0),Rr.vs=function(t){this.q4=Rr.t(t),this.p=Rr.t(t),this.z=Rr.t(t),this.S=Rr.t(t)},Rr.vs.prototype.clone=function(){this.q4.length;var t=new Rr.vs(1);return t.q4=this.q4.slice(0),t.p=this.p.slice(0),t.z=this.z.slice(0),t.S=this.S.slice(0),t},Rr.X.amw=function(t,e,n,i,r){var a=r[0]+1,s=r[1],o=Math.abs(s-25)/4,l=r[2],h=l%2+l*l>>1,u=Rr.X.P;u.lf(e,n);r=u.B2(1),e=u.B2(1),n=u.B2(1);u.jJ(t,i,l,l,h),u.ci(i),u.w4(i,r),u.uh(r,e,a,a,1),u.uh(r,n,a,a,a*a),u.sub(n,e),u.k2(e,o),(s<25?u.sub:u.add)(r,e),u.J8(e,i),u.iN(i)},Rr.X.amy=function(t,e,n,i,r){var a=Rr.X.P;a.lf(e,n);var s=2.55*r[0],o=r[1],l=o>>1,h=.25*r[2],e=a.B2(4),n=a.B2(1),r=a.B2(1);a.QQ(t,e,o,1,!0,l),a.QQ(t,i,o,1,!1,l),a.xK(t,n),a.ed(n,s),a.Ss(n,r,3),a.zf(i,r,e),a.tB(e,i,h)},Rr.X.ai8=function(t,e,n,i,r){var a=Rr.X.P;a.lf(e,n),a.oA(r[3]);var s=-3*r[0]+80,o=-3*r[1]+80,l=r[2]/2+.5,h=r[4],u=r[5],f=a.B2(1),c=a.B2(1),p=a.B2(1),e=a.B2(1),n=a.B2(4),r=a.B2(4);a.xK(t,f),a.VO(f,c),a.ES(f,o,5),a.ce(f,.4,0),a.Ss(f,p,3),a.Bd(p,f,9,3,!0,27),a.VO(c,p),a.tU(p);for(var d=a.F$(s,5,p),v=0;v<a.Lo;v++)c[v]=d[255-c[v]];a.ce(c,.4,0),a.VO(c,p),a.Ss(p,e,2),a.Bd(e,p,5,3,!1,15),a.k2(f,l),a.k2(p,l),a.x6(i,2155905279),a.x6(r,h),a.x6(n,u),a.zf(r,f,i),a.zf(n,p,i)},Rr.X.auP=function(t,e,n,i,r){var a=Rr.X.P;a.lf(e,n);var s=new Uint8Array(256),e=5+10*r[1];e+=3<r[1]?10*(r[1]-3):0;for(var n=50+~~(.73*r[2]),o=Math.min(n+e,128)-n,l=-255*n,h=0;h<256;h++)s[h]=a.G9(l/o),l+=255;var u=a.B2(1),f=a.B2(1),c=a.B2(1);a.xK(t,u),a.VO(u,c),a.Ss(u,f,2*r[0]+1),a.sub(f,u),a.k2(u,65),a.Bd(u,f,9,3,!0,20);for(h=0;h<a.Lo;h++){var p=c[h],d=f[h];u[h]=0<d?~~((d*p+128*(255-d))/255):128}a.Ss(u,f,3),a.Bd(f,u,15,2,!0,16),a.Bd(f,c,15,2,!1,15),a.KR(u,c),a.tL(c,f,2),a.bF(f,s),a.Ss(f,u,2),a.Gg(u,i)},Rr.X.ag4=function(t,e,n,i,r){var a=Rr.X.P;a.lf(e,n);var s=2*r[0]+1,o=a.XI[r[1]],l=5.1*r[2],h=r[3],u=a.B2(1),e=a.B2(1),n=a.B2(4),r=a.B2(4);a.x6(n,h),a.ci(n,i),a.Pl(u,l),a.J8(u,i),a.iN(i,n),a.xK(t,e),a.Ss(e,u,s),a.sub(u,e),a.k2(e,o),a.Bd(e,u,9,3,!0,20),a.zf(t,u,n),a.Od(n,i,3),a.QQ(i,n,15,2,!0,16),a.QQ(i,r,15,2,!1,16),a.KR(n,r),a.tB(r,i,2)},Rr.X.aes=function(t,e,n,i,r){var a=Rr.X.P;a.lf(e,n);var s=(15-r[0])/4+1,o=(15-r[1])/4+1,l=r[2],h=r[3],u=a.r3(r[4]),f=r[5]+1,c=r[6],p=r[7],d=r[8],v=a.B2(1),g=a.B2(1),y=a.B2(1),e=a.B2(1),n=a.B2(4),r=a.B2(4);a.ay(y,l,h,c),a.xK(t,g),a.Ss(g,v,5),a.oR(y,v,e,f,u),a.k2(e,s),a.aw(e,2),a.tU(v),a.oR(y,v,g,f,u),a.k2(g,o),a.aw(g,2),a.x6(n,2155905279),a.x6(r,p),a.x6(i,d),a.zf(n,g,r),a.zf(r,e,i)},Rr.X.ado=function(t,e,n,i,r){var a=Rr.X.P;a.lf(e,n),a.oA(r[3]);var s=r[0],o=r[1]/10,l=r[2]/10,h=a.B2(1),u=a.B2(1),f=a.B2(1),e=a.f5(),n=a.f5(),r=a.f5();a.ul(h),a.Ss(h,u,11),a.Ss(u,h,11),a.kZ(h,e),a.KH(t,h),a.VO(h,f),a.Ss(h,u,9),a.Ss(u,h,9),a.kZ(h,n),a.Og(n,r,5),a.Og(r,n,5),a.zb(e,.8),a.auk(e,n,.8,.9),a.MC(n,h,s),a.uh(h,u,2,2,1),a.uh(u,h,2,2,3),a.uh(h,u,2,2,3),a.uh(f,h,5,5,13),a.ey(u,h,u,o),a.Bn(h,u,u,l),a.oR(u,u,h,5,1),a.ci(t,i),a.J8(h,i),a.iN(i)},Rr.X.auU=function(t,e,n,i,r){var a=Rr.X.P;a.lf(e,n);var s=r[0],o=r[1]/2,l=r[2],h=s/2,u=a.B2(4),f=a.B2(4);a.VO(t,i);for(var c=0;c<l;c++)a.QQ(i,u,s,1,!0,h),a.QQ(i,f,s,1,!1,h),a.KR(f,u),a.Od(u,f,2),a.tB(f,i,o)},Rr.X.aur=function(t,e,n,i,r){var a=Rr.X.P;a.lf(e,n);var s=10*r[0],o=4.9*r[1],l=4.9*r[2],e=a.B2(1),n=a.B2(1),r=a.B2(4);a.B2(4);a.xK(t,e),a.ed(e,a.ajI(e,s)),a.Ss(e,n,3),a.QQ(t,r,5,1,!1,1),a.QQ(t,i,15,2,!0,16),a.zf(i,n,r),a.ci(r,i),a.w4(i,e),a.ES(e,o,l),a.J8(e,i),a.iN(i)},Rr.X.auj=function(t,e,n,i,r){var a=Rr.X.P;a.lf(e,n),a.oA(r[4]);for(var s=r[0]/20,o=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][r[1]],l=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][r[2]],h=r[3],u=new Int16Array(256),f=0;f<256;f++)u[f]=~~((f-128)*s);e=a.B2(1),n=a.B2(1),r=a.B2(4);a.xK(t,e),a.Ss(e,n,25),a.k2(n,o),a.aw(n,l),a.Ss(n,e,25),a.ul(n),a.Fp(e,n,u),a.VO(t,i),a.x6(r,h),a.zf(r,e,i)},Rr.X.aoz=function(t,e,n,i,r){var a=Rr.X.P;a.lf(e,n);var s=r[0]+5,o=15-r[1],l=s*s/2,h=1-(3-r[2])/10,u=~~(o*o*h-1),f=~~(o*o*(1-h));0==f&&(f=1);e=a.B2(1),n=a.B2(1),r=a.B2(1),h=a.B2(4);a.xK(t,r),a.uh(r,e,s,s,l),a.Ss(r,n,s),a.sub(e,n),a.ed(n,1),a.jJ(t,h,o,o,u),a.jJ(t,i,o,o,f),a.zf(h,n,i)},Rr.X.a4R=function(t,e,n,i,r){var a=Rr.X.P;a.lf(e,n),a.oA(r[3]);var s=.05*(20-r[0]),o=-2.75*r[1]+60,l=65-o,e=(r[2],a.B2(1)),n=a.B2(1);a.KH(t,n);l=a.F$(o,l,n);a.ci(t,i),a.w4(i,n),a.ul(e),a.B5(n,e,s),a.bF(n,l),a.k2(n,r[2]/10),a.add(e,n),a.J8(n,i),a.iN(i)},Rr.X.a3B=function(t,e,n,i,r){var a=Rr.X.P;a.lf(e,n);var s=5+r[0],o=15-r[1],l=(r[2],s*s/2+s*s%2*1),h=1-(3-r[2])/10,u=~~(o*o*h-1),f=~~(o*o*(1-h));0==f&&(f=1);var c=a.B2(1),p=a.B2(1),e=a.B2(1),n=a.B2(1),r=a.B2(1);a.KH(t,p),a.tL(p,c,3),a.uh(c,p,2,2,1);h=a.F$(20,20,p);a.bF(p,h),a.Ss(p,r,5),a.uh(r,c,s,s,l),a.uh(r,p,o,o,u),a.uh(r,e,o,o,f),a.Ss(r,n,s),a.sub(c,n),a.ed(n,1),a.R1(p,n,e),a.ci(t,i),a.J8(e,i),a.iN(i)},Rr.X.au7=function(t,a,s,e,n){var o=Rr.X.P;o.lf(a,s),o.oA(n[5]);var l=o.Lo,i=o.zy,r=n[0],h=n[1],u=n[2],f=n[3],c=n[4],p=.05*r+1,d=r/100,v=r>>1,g=2*r-100,n=+(9==h),y=[4,1][n],m=[3,2][n],w=h<4?u:50+(u>>1),b=o.z0([50,75][n],w),M=o.lN(f),S=o.lN(c),C=o.B2(4),x=o.B2(4),L=o.B2(1),D=o.B2(1);function k(t,e){50!=w&&o.cN(t,e)}function T(t,e){for(var n=0;n<l;n++)t[n]=o.G9(t[n]+(e[n]-128)*d)}function A(t,e){for(var n=0,i=0;n<l;n++)t[i]=o.G9(t[i]+(e[i]-128)*d),t[i+1]=o.G9(t[i+1]+(e[i+1]-128)*d),t[i+2]=o.G9(t[i+2]+(e[i+2]-128)*d),i+=4}function E(t){for(var e=0,n=0;n<12;n++)e+=o.random();return o.G9(v*(e-6)+t)}function O(t,e){o.ul(C),o.jJ(C,x,m,m,y),o.VO(t,C),A(C,x),o.jJ(C,e,5,5,13),k(e,b)}function N(t,e){o.xK(t,L),o.ul(D),T(L,D),function(t){var e=0;if(8==h){for(var n=0;n<a;n++)t[e++]=~~(255*o.random());for(var i=1;i<s;i++)for(n=0;n<a;n++)t[e++]=t[n]}else for(i=0;i<s;i++)for(var r=~~(255*o.random()),n=0;n<a;n++)t[e++]=r}(D),T(L,D),o.Od(t,C,9),o.Od(C,x,9),o.Ss(L,D,2),o.bF(D,b),o.Ss(D,L,2),o.ci(x,e),o.J8(L,e),o.iN(e)}[function(t,e){o.ul(x),o.VO(t,e),A(e,x),k(e,b)},function(t,e){o.VO(t,e);for(var n=0;n<i;n+=4)e[n]=E(e[n]),e[n+1]=E(e[n+1]),e[n+2]=E(e[n+2]);k(e,b)},function(t,e){o.VO(t,e);for(var n=0;n<i;n+=4)o.random()<d&&(e[n]=M[0],e[n+1]=M[1],e[n+2]=M[2]);k(e,b)},O,O,function(t,e){o.ul(x),o.VO(t,C),A(C,x),k(e,b),o.jJ(C,e,m,m,y)},function(t,e){o.VO(t,C),k(e,b),o.xK(C,L);for(var n=0,i=0;n<l;n++){var r=(128.5*(g-L[n]+255)+.5)/32767;o.random()<=r?(e[i++]=S[0],e[i++]=S[1],e[i++]=S[2]):(e[i++]=M[0],e[i++]=M[1],e[i++]=M[2]),e[i]=t[i],i++}},N,N,function(t,e){o.ci(t,e),o.w4(e,L),o.tL(L,D,p),o.uh(D,L,m,m,y),o.bF(L,b),o.J8(L,e),o.iN(e)}][h](t,e)},Rr.X.a0$=function(t,a,s,e,n){var o,i,r,l,h=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],u=Rr.X.P,f=0;u.lf(a,s),u.oA(n[3]);var c=u.B2(1),p=u.B2(1);u.xK(t,c);for(var d=n[0],t=n[1],v=t<=50?h[t]/255:1+(255-h[101-t])/255,t=n[2],n=c.length,g=new Float32Array(n),y=1+.1*d,m=(1-1/y)/2,w=a-1,b=0;b<u.Lo;b++)g[b]=c[b]/255,p[b]=1==d&&u.random()<1/255?255:1;function M(t,e){var n,i,r=t*a+e;1!=p[r]||s<=t||a<=e||(n=g[r],i=v-n,e=(t=u.random())/y+m,0==f||.0625<Math.abs(l-n)?(o=e<=i?0:255,f=~~(u.random()*d)):.1<t?f--:f=0,p[r]=o,l=n)}if(0==t){for(b=0;b<a;b++){for(i=0;i<a&&!(a<=(r=b+i));i++)M(i,w-r);f=0}for(b=1;b<s;b++){for(i=0;i<s&&!(s<=(r=b+i)||a<=i);i++)M(r,w-i);f=0}}else if(1==t)for(b=0;b<s;b++){for(i=0;i<a;i++)M(b,i);f=0}else if(2==t){for(b=0;b<a;b++){for(i=0;i<a&&!(a<=(r=b+i));i++)M(i,r);f=0}for(b=1;b<s;b++){for(i=0;i<s&&!(s<=(r=b+i)||a<=i);i++)M(r,i);f=0}}else for(b=0;b<a;b++){for(i=0;i<s;i++)M(i,b);f=0}u.Gg(p,e)},Rr.X.ar9=function(t,e,n,i,r){var a=Rr.X.P;a.lf(e,n);var s=r[0],o=r[1],l=r[2],h=a.B2(1),u=a.B2(1),e=a.B2(1),n=a.B2(4),r=a.B2(4);a.xK(t,h),a.uh(h,u,3,3,1),a.uh(h,e,3,3,9),a.sub(e,u),a.Ss(u,h,3),a.ES(h,40,10),a.QQ(t,i,s,2,!1,s),a.QQ(t,n,s,2,!0,s),a.x6(r,255),a.zf(i,h,r),a.zf(r,h,n),a.tB(n,i,1),a.ci(i),a.w4(i,h),a.ES(h,o,l),a.J8(h,i),a.iN(i)},Rr.X.a8g=function(t,e,n,i,r){var a=Rr.X.P;a.lf(e,n),a.oA(r[3]);var s=r[0],o=r[1],l=r[2]/10;s+=o;var h=a.B2(1),e=a.B2(1),n=a.f5(),r=a.f5();a.ul(h),a.Ss(h,e,11),a.Ss(e,h,11),a.kZ(h,n),a.Og(n,r,5),a.Og(r,n,5),a.zb(r,.97),a.MC(r,h,s),a.uh(h,e,o,o,1),a.KH(t,h),a.ey(e,h,e,.6),a.Bn(h,e,e,l),a.oR(e,e,h,5,1),a.ci(t,i),a.J8(h,i),a.iN(i)},Rr.X.adq=function(t,e,n,i,r){var a=Rr.X.P;a.lf(e,n);var s=Math.abs(r[0]),o=s+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][s],l=2*s+1,h=r[1]/10,u=13*h/15,f=a.B2(1),c=a.B2(1),p=a.B2(1),d=a.B2(1),v=a.B2(4),g=a.B2(4),e=a.B2(4),n=a.B2(4),s=a.B2(4);a.xK(t,f),0<=r[0]&&a.tU(f),a.VO(f,p),a.Ss(f,d,o),a.Ss(d,f,o),a.k2(f,h),a.VO(f,c),a.Ss(f,d,l),a.Ss(d,f,l),a.k2(f,u),a.x6(e,r[2]),a.x6(n,r[3]),a.x6(s,r[4]),a.zf(e,f,n,v),a.zf(s,c,v,g),a.zf(n,p,g,i),a.w4(t,p,3),a.J8(p,i,3)},Rr.X.abK=function(t,e,n,i,r){var a=Rr.X.P;a.lf(e,n),a.oA(r[5]);var s=5.1*r[0],o=r[1]/100,l=a.vy[r[2]],h=a.B2(1),e=a.B2(1),n=a.B2(1);a.xK(t,h),a.Pl(e,255),a.ul(n),a.ed(h,s),a.B5(e,h,.7),a.B5(n,h,o),a.oR(h,h,e,5,l),a.VO(t,i),a.a4i(i,s,r[4],r[3]),a.ci(i),a.J8(e,i),a.iN(i)},Rr.X.atg=function(t,e,n,i,r){var a=Rr.X.P;a.lf(e,n);var s=r[0],o=4-r[1],n=11-r[2],l=a.B2(1),h=a.B2(1),r=a.B2(4);a.KH(t,h);for(var u=0;u<o;u++)a.VO(h,l),a.rx(l,h,s,s);a.Od(t,r,s),a.ci(r,r),a.J8(h,r),a.iN(r,r),(n<11?a.akY:a.VO)(r,i,n)},Rr.X.apK=function(t,e,n,i,r){var a=Rr.X.P;a.lf(e,n),a.oA(r[2]);for(var s=r[0]+5,o=~~(s/5+1),l=1+~~(s/2),h=l*l,u=~~(s/3),e=a.vy[r[1]],f=new Array(256),c=0;c<256;c++)f[c]=~~(.2*(c-128));n=a.B2(1),r=a.B2(1);a.akc(t,i,s),a.ci(i),a.w4(i,n),a.ul(r),a.Fp(n,r,f),a.akl(r,s,s,o,o),a.ey(n,r,n,1),a.Ss(n,r,u),a.Ss(r,n,u),a.uh(n,r,l,l,h),a.oR(r,r,n,5,e),a.J8(n,i),a.iN(i)},Rr.X.al1=function(t,e,n,i,r){var a=Rr.X.P;a.lf(e,n);var s=a.B2(1),o=a.B2(1),l=a.B2(1),e=a.f5(),n=a.f5();a.xK(t,s),a.Ss(s,o,r[2]),a.ed(o,5.1*r[0]),a.uh(o,s,2,2,4),a.Ss(s,o,3),a.Ss(o,s,3),a.VO(s,l),a.Ss(s,o,5),a.Ss(o,s,5),a.kZ(s,e),a.Og(e,n,5),a.Og(n,e,5),a.a8k(e,o,r[1]),a.tU(o),a.ey(l,o,l,1),a.Gg(l,i)},Rr.X.alb=function(t,e,n,i,r){var a=Rr.X.P;a.lf(e,n);var s=1<<7-r[2],o=a.B2(1),e=a.B2(1),n=a.B2(1);a.KH(t,e),a.Ss(e,o,3),a.VO(o,e),a.Ss(o,n,r[0]+5),a.sub(n,e),a.ES(e,1,r[1]),a.k2(o,1/s),a.k2(o,s),a.sub(o,e),a.ci(t,i),a.J8(e,i),a.iN(i)},Rr.X.arj=function(t,e,n,i,r){var a=Rr.X.P;a.lf(e,n),a.oA(r[3]);var s=a.B2(1),e=a.B2(1),n=a.B2(1);a.xK(t,s),a.a1R(e,r[0]/50),a.Ss(e,n,3),a.uh(s,e,9,9,41),a.ES(e,r[1],r[2]),a.ey(e,n,n,.75),a.Bn(e,n,e,.5),a.VO(e,s),a.uh(s,n,3,3,8),a.ey(n,e,n,.75),a.k2(n,1.2),a.tL(n,s,1),a.Ss(s,n,2),a.tL(n,s,2),a.k2(s,1.2),a.Ss(s,n,2),a.Gg(n,i)},Rr.X.akX=function(t,e,n,i,r){var a=Rr.X.P;a.lf(e,n);var s=r[0]+9,o=r[1]/2,l=r[2],h=r[3],u=a.r3(r[4]),f=r[5]+1,c=r[6],p=a.B2(1),e=a.B2(1),n=a.B2(4),r=a.B2(4);a.ay(e,l,h,c),a.yb(t,i,s,1,1),a.yb(i,n,s,1,1),a.ati(n,n,r,7,o),a.k2(r,1.2),a.aw(r,1.2),a.oR(e,p,p,f,u),a.k2(p,3),a.VO(t,i),a.zf(r,p,i)},Rr.X.a2T=function(t,e,n,i,r){var a=Rr.X.P;a.lf(e,n),a.oA(r[3]);var s=r[0]+4,o=2*s/5+(s%5|0);s--;var l=-2.75*r[1]+60,h=65-l,e=r[2]/10,n=a.B2(1),r=a.B2(1);a.ul(n),a.KH(t,r);h=a.F$(l,h,r);a.ci(t,i),a.w4(i,r),a.B5(r,n,.8),a.bF(r,h),a.k2(r,e),a.add(n,r),a.Bd(r,n,s,3,!1,o),a.J8(n,i),a.iN(i)},Rr.X.ac7=function(t,e,n,i,r){var a=Rr.X.P;a.lf(e,n),a.oA(r[3]);var s=r[0]+5,o=(s*s>>1)+s%2,l=r[1]/10,h=r[2],u=(h*h>>1)+h%2,f=a.B2(1),c=a.B2(1),p=a.B2(1),e=a.B2(4),n=a.B2(4),r=a.B2(4);a.ul(p),a.ci(t,r),a.w4(r,f),a.B5(f,p,.8),a.Ss(p,f,3),a.tL(f,p,l),a.J8(p,r),a.iN(r,r),a.xK(r,p),a.uh(p,f,s,s,o),a.Ss(p,c,s),a.sub(f,c),a.ed(c,1),a.jJ(r,e,7,7,40),a.jJ(r,n,7,7,10),a.zf(e,c,n),a.jJ(n,i,h,h,u)},Rr.X.abk=function(t,e,n,i,r){var a=Rr.X.P,s=255;a.lf(e,n);var o=r[0];o<2?s=o:o<12?s=5*o-5:o<47?s=2*o+28:o<50&&(s=125+12.5*(h=o-47)+12.5*h*h);for(var l=new Uint8Array(256),h=75,u=15;h<256;h++,u+=24)l[h]=Math.min(255,u);e=a.B2(1),n=a.B2(1),o=a.B2(1);a.xK(t,e),a.Ss(e,n,11),a.Ss(n,o,11),a.sub(o,e),a.k2(e,8),a.sub(o,e),a.ed(e,s),a.tU(e),a.Ss(e,n,5),a.ed(n,51),a.Ss(n,e,r[1]),a.Ss(e,n,r[1]),a.tU(n),a.bF(n,l),a.Gg(n,i)},Rr.X.a3t=function(t,e,n,i,r){var a=Rr.X.P;a.lf(e,n);var s=a.XI[r[1]],o=r[2],l=1.5*o,h=a.B2(1),e=a.B2(1),n=a.B2(1);a.KH(t,h),a.Bd(h,e,15,2,!0,15),a.VO(e,n),a.ES(n,o,l),a.Ss(n,h,3),a.Ss(e,n,r[0]),a.sub(n,e),a.k2(e,s),a.sub(h,e),a.Ss(e,h,3),a.Bd(h,e,3,1,!1,1),a.Od(t,i,15),a.ci(i),a.J8(e,i),a.iN(i)},Rr.X.arv=function(t,e,n,i,r){var a=Rr.X.P;a.lf(e,n),a.oA(r[3]);var s=5.1*r[0],o=16-r[1],l=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][r[2]],e=a.B2(1),n=a.B2(1),r=a.B2(1);a.xK(t,e),a.ed(e,s),a.Ss(e,n,o),a.Ss(n,e,o),a.ul(r),a.Bn(e,r,r,1),a.ey(e,r,e,.75),a.k2(e,l),a.aw(e,l),a.uh(e,n,2,2,2),a.Gg(n,i)},Rr.X.a1H=function(t,e,n,i,r){var a=Rr.X.P;a.lf(e,n);var s=r[0]+9,o=r[1]+9,l=r[2],h=r[3],u=a.r3(r[4]),f=r[5]+1,c=r[6],p=a.B2(1),d=a.B2(1),v=a.B2(1),e=a.B2(1),n=a.B2(1),r=a.B2(4);a.KH(t,p),a.rx(p,v,s,s),a.Ss(v,p,o),a.VO(v,n),a.VO(p,e),a.sub(n,e),a.sub(p,n),a.add(n,e),a.k2(e,10),a.ay(d,l,h,c),a.oR(d,p,n,f,u),a.R1(n,e,v,.8),a.Od(t,r,9),a.Od(r,i,9),a.ci(i),a.J8(v,i),a.iN(i)},Rr.X.aap=function(t,e,n,i,r){var a=Rr.X.P;a.lf(e,n);var s=16-r[0],o=8*r[1],l=1-(3-r[2])/10,h=~~(s*s*l-1),u=~~(s*s*(1-l));0==u&&(u=1);e=a.B2(1),n=a.B2(1),r=a.B2(1),l=a.B2(4);a.xK(t,r),a.uh(r,e,7,7,25),a.Ss(r,n,7),a.sub(e,n),a.ed(n,1),a.jJ(t,l,s,s,h),a.jJ(t,i,s,s,u),a.zf(l,n,i),a.ci(i),a.w4(i,e),a.uh(e,r,3,3,1),a.uh(e,n,3,3,9),a.sub(n,r),a.VO(r,n),a.sub(e,r),a.sub(r,n),a.uh(n,e,3,3,8),a.ES(e,o,1),a.J8(e,i),a.iN(i)},Rr.X.afn=function(t,e,n,i,r){var a=Rr.X.P;a.lf(e,n),a.oA(r[3]);var s=r[0],o=r[1],l=r[2],h=s>>1,u=Math.max(~~(s/5),1),f=Math.max(~~(2*s/3),1),c=a.z0(o,l),e=a.B2(1),n=a.B2(1),r=a.B2(1),o=a.B2(1),l=a.B2(4);a.KH(t,e),a.ek(2147483647,4,2,2,0,255,n),a.ek(4,2147483647,2,2,0,255,o),a.ul(r),a.Bn(n,r,n,1),a.Bn(o,r,o,1),a.Bn(n,e,n,1),a.Bn(o,e,o,1),a.Od(t,l,h),a.Od(l,i,h),a.uh(n,e,1,s,u),a.uh(e,n,3,s,f),a.uh(o,e,s,1,u),a.uh(e,o,s,3,f),a.KR(n,o),a.ci(i),a.J8(o,i),a.iN(i),a.cN(i,c)},Rr.X.P={},Rr.X.P.r2=0,Rr.X.P.kY=0,Rr.X.P.Lo=0,Rr.X.P.uf=0,Rr.X.P.zy=0,Rr.X.P.lf=function(t,e){var n=t*e,i=Rr.X.P;i.r2=t,i.kY=e,i.Lo=n,i.uf=n<<1,i.zy=n<<2},Rr.X.P.oA=function(e){Rr.X.P.random=function(){var t=e+=1831565813,t=Math.imul(t^t>>>15,1|t);return(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296}},Rr.X.P.B2=function(t){var e=Rr.X.P;return new Uint8Array([-1,e.Lo,e.uf,-1,e.zy][t])},Rr.X.P.f5=function(){return new Int32Array(Rr.X.P.uf)},Rr.X.P.Ss=function(t,e,n,i){null==i&&(i=n);var r=Rr.X.P,i=r.r2,r=r.kY;Rr.VF.TX(t,e,new Fr(0,0,i,r),n>>>1)},Rr.X.P.Og=function(t,e,n,i){for(var r=Rr.X.P,a=new Int32Array(r.Lo),s=new Int32Array(r.Lo),o=0;o<2;o++)r.w4(t,a,o,2),r.Ss(a,s,n,i),r.J8(s,e,o,2)},Rr.X.P.Od=function(t,e,n,i){for(var r=Rr.X.P,a=r.B2(1),s=r.B2(1),o=0;o<4;o++)r.w4(t,a,o),o<3?r.Ss(a,s,n,i):s=a,r.J8(s,e,o)},Rr.X.P.yb=function(t,e,n,i,r){for(var a=Rr.X.P,s=a.r2,o=a.kY,l=n+i-1,h=n>>1,u=l>>1,f=0,c=n*i,p=new Int32Array(n),d=0;d<o;d++){for(var v=0,g=0,y=0,m=0;m<n;m++)for(var w=x=r?l-m-i:m,b=i+x;w<b;w++){var M=0-u+w,S=d-h+m;w==x&&(p[m]=M),M<0?M=0:s<=M&&(M=s-1),S<0?S=0:o<=S&&(S=o-1);M=s*S+M<<2;v+=t[M],g+=t[1+M],y+=t[2+M]}e[f++]=~~(v/c),e[f++]=~~(g/c),e[f++]=~~(y/c),e[f]=t[f],f++;for(var C=1;C<s;C++){for(m=0;m<n;m++){var S=d-h+m,x=p[m]+1,L=(p[m]=x)-1,D=x+i-1;S<0?S=0:o<=S&&(S=o-1),L<0?L=0:s<=L&&(L=s-1),D<0?D=0:s<=D&&(D=s-1);L=S*s+L<<2,D=S*s+D<<2,v=v+t[D]-t[L],g=g+t[1+D]-t[1+L],y=y+t[2+D]-t[2+L]}e[f++]=~~(v/c),e[f++]=~~(g/c),e[f++]=~~(y/c),e[f]=t[f],f++}}},Rr.X.P.Bd=function(t,e,n,i,r,a){for(var s=Rr.X.P,o=s.r2,l=s.kY,h=n+i-1,u=n>>1,f=h>>1,c=0,p=new Int32Array(n),d=new Int32Array(256),v=new Int32Array(16),g=0;g<l;g++){d.fill(0),v.fill(0);for(var y=0;y<n;y++)for(var m=C=r?h-y-i:y,w=i+C;m<w;m++){var b=0-f+m,M=g-u+y;m==C&&(p[y]=b),b<0?b=0:o<=b&&(b=o-1),M<0?M=0:l<=M&&(M=l-1),d[t[M*o+b]]++,v[t[M*o+b]>>>4]++}e[c++]=Rr.X.P.uJ(v,d,a);for(var S=1;S<o;S++){for(y=0;y<n;y++){var M=g-u+y,C=p[y]+1,x=(p[y]=C)-1,L=C+i-1;M<0?M=0:l<=M&&(M=l-1),x<0?x=0:o<=x&&(x=o-1),L<0?L=0:o<=L&&(L=o-1);x=t[M*o+x],L=t[M*o+L];d[x]--,d[L]++,v[x>>>4]--,v[L>>>4]++}e[c++]=Rr.X.P.uJ(v,d,a)}}},Rr.X.P.QQ=function(t,e,n,i,r,a){for(var s=Rr.X.P,o=s.B2(1),l=s.B2(1),h=0;h<4;h++)s.w4(t,o,h),h<3?s.Bd(o,l,n,i,r,a):l=o,s.J8(l,e,h)},Rr.X.P.uh=function(t,e,n,i,r){r=Math.min(i*n,r);for(var a=Rr.X.P,s=a.r2,o=a.kY,l=i>>1,h=n>>1,u=0,f=new Int32Array(i),c=new Int32Array(256),p=new Int32Array(16),d=0;d<o;d++){c.fill(0),p.fill(0);for(var v=0;v<i;v++)for(var g=0,y=n;g<y;g++){var m=0-h+g,w=d-l+v;0==g&&(f[v]=m),m<0?m=0:s<=m&&(m=s-1),w<0?w=0:o<=w&&(w=o-1),c[t[w*s+m]]++,p[t[w*s+m]>>>4]++}e[u++]=Rr.X.P.uJ(p,c,r);for(var b=1;b<s;b++){for(v=0;v<i;v++){var w=d-l+v,M=f[v]+1,S=(f[v]=M)-1,M=M+n-1;w<0?w=0:o<=w&&(w=o-1),S<0?S=0:s<=S&&(S=s-1),M<0?M=0:s<=M&&(M=s-1);S=t[w*s+S],M=t[w*s+M];c[S]--,c[M]++,p[S>>>4]--,p[M>>>4]++}e[u++]=Rr.X.P.uJ(p,c,r)}}},Rr.X.P.uJ=function(t,e,n){for(var i=0,r=0;i+t[r>>>4]<n;)i+=t[r>>>4],r+=16;for(;r<256&&!(n<=(i+=e[r]));r++);return r},Rr.X.P.jJ=function(t,e,n,i,r){for(var a=Rr.X.P,s=a.B2(1),o=a.B2(1),l=0;l<4;l++)a.w4(t,s,l),l<3?a.uh(s,o,n,i,r):o=s,a.J8(o,e,l)},Rr.X.P.tL=function(t,e,n){for(var i=Rr.X.P,r=i.r2,a=i.kY,s=0,o=0;o<a;o++){var l=o*r,h=(o-1)*r,u=(o+1)*r;h<0&&(h=l),a<=u&&(u=l);for(var f=0;f<r;f++){var c=f-1,p=f+1;r<=p&&(p=f);var d=t[l+(c=c<0?f:c)],v=t[l+p],g=t[h+f],c=t[u+f],p=t[l+f],p=p+(4*p*n+.5);p-=(d+v+c+g)*n+.5,e[s++]=i.G9(p)}}},Rr.X.P.tB=function(t,e,n){for(var i=Rr.X.P,r=i.B2(1),a=i.B2(1),s=0;s<4;s++)i.w4(t,r,s),s<3?i.tL(r,a,n):a=r,i.J8(a,e,s)},Rr.X.P.akY=function(t,e,n){for(var i=Rr.X.P,r=i.r2,a=i.kY,s=0,o=n+4,l=0;l<a;l++){var h=l*r,u=(l-1)*r,f=(l+1)*r;u<0&&(u=h),a<=f&&(f=h);for(var c=0;c<r;c++){for(var p=c-1,d=c+1,v=h+(p=p<0?c:p)<<2,g=h+(d=r<=d?c:d)<<2,y=u+c<<2,m=f+c<<2,w=h+c<<2,b=0;b<3;b++){var M=t[v+b],S=t[g+b],C=t[y+b],x=t[m+b],L=t[w+b];e[s++]=(L*n+M+S+x+C)/o}e[s]=t[s],s++}}},Rr.X.P.rx=function(t,e,n,i){for(var r=Rr.X.P,a=r.r2,s=r.kY,o=n>>1,l=i>>1,h=0,u=new Int32Array(n),f=new Int32Array(256),c=0;c<s;c++){f.fill(0);for(var p=0;p<n;p++)for(var d=0,v=i;d<v;d++){var g=0-l+d,y=c-o+p;0==d&&(u[p]=g),g<0?g=0:a<=g&&(g=a-1),y<0?y=0:s<=y&&(y=s-1),f[t[y*a+g]]++}for(var m=0,w=0,b=0;b<256;b++)m<f[b]&&(m=f[w=b]);e[h++]=w;for(var M=1;M<a;M++){for(p=0;p<n;p++){var y=c-o+p,S=u[p]+1,C=(u[p]=S)-1,S=S+i-1;y<0?y=0:s<=y&&(y=s-1),C<0?C=0:a<=C&&(C=a-1),S<0?S=0:a<=S&&(S=a-1),f[t[y*a+C]]--,f[t[y*a+S]]++}for(m=0,w=0,b=0;b<256;b++)m<f[b]&&(m=f[w=b]);e[h++]=w}}},Rr.X.P.acr=[function(t,e,n,i,r,a,s,o,l,h){return r+(t+e+n)*h-(l+o+s)*h},function(t,e,n,i,r,a,s,o,l,h){return r+(e+n+a)*h-(o+s+i)*h},function(t,e,n,i,r,a,s,o,l,h){return r+(n+a+l)*h-(s+i+t)*h},function(t,e,n,i,r,a,s,o,l,h){return r+(a+l+o)*h-(i+t+e)*h},function(t,e,n,i,r,a,s,o,l,h){return r+(l+o+s)*h-(t+e+n)*h},function(t,e,n,i,r,a,s,o,l,h){return r+(o+s+i)*h-(e+n+a)*h},function(t,e,n,i,r,a,s,o,l,h){return r+(s+i+t)*h-(n+a+l)*h},function(t,e,n,i,r,a,s,o,l,h){return r+(i+t+e)*h-(a+l+o)*h}],Rr.X.P.oR=function(t,e,n,i,r){for(var a=Rr.X.P,s=a.r2,o=a.kY,l=s,h=a.acr[i-1],u=0;u<o;u++)for(var f=(0<u?u-1:0)*l,c=u*l,p=(u<o?u+1:u)*l,d=0;d<s;d++){var v=0<d?d-1:0,g=d<s?d+1:d,y=c+d,m=t[f+v],w=t[f+d],b=t[f+g],M=t[c+v],S=e[y],C=t[c+g],x=t[p+v],v=t[p+d],g=t[p+g];n[y]=a.G9(h(m,w,b,M,S,C,x,v,g,r))}},Rr.X.P.ati=function(t,e,n,i,r){for(var a=Rr.X.P,s=a.B2(1),o=a.B2(1),l=a.B2(1),h=0;h<3;h++)a.w4(t,s,h),a.w4(e,o,h),a.oR(s,o,l,i,r),a.J8(l,n,h);a.w4(e,s,3),a.J8(s,n,3)},Rr.X.P.xK=function(t,e){for(var n=t.length,i=0,r=0;r<n;r++)e[i++]=~~((t[r++]+t[r++]+t[r++]+2)/3)},Rr.X.P.Gg=function(t,e){for(var n=e.length,i=0,r=0;r<n;r++){var a=t[r];e[i++]=a,e[i++]=a,e[i++]=a,e[i++]=255}255==e[0]?e[0]--:e[0]++},Rr.X.P.KH=function(t,e){for(var n=e.length,i=0,r=0;r<n;r++){var a=t[i++],s=t[i++],o=t[i++];i++,(a=a<s?s:a)<o&&(a=o),e[r]=a}},Rr.X.P.ci=function(t,e){null==e&&(e=t);for(var n=t.length,i=0;i<n;i+=4){var r=t[i],a=t[i+1],s=t[i+2],o=r,l=0,h=r;a<=r?r=a:(l=1,h=a),s<=h?s<r&&(r=s):(l=2,h=s);r=h-r;0!=r?((a=0==l?~~(43*(a-s)/r):1==l?~~(43*(s+2*r-o)/r):43*(o+4*r-a)/r)<0&&(a=255&a-1),e[i]=a,e[i+1]=~~(255*r/h)):(e[i]=r,e[i+1]=r),e[i+2]=h,e[i+3]=t[i+3]}},Rr.X.P.iN=function(t,e){null==e&&(e=t);for(var n=t.length,i=0;i<n;i+=4){var r,a=t[i],s=t[i+1],o=t[i+2];s?(a=~~(-255*(r=~~(6*(a=255==a?0:a)/255))+6*a),0==r?(e[i]=o,e[i+1]=~~(o*(255-s*(255-a)/255)/255),e[i+2]=~~(o*(255-s)/255)):1==r?(e[i]=~~(o*(255-s*a/255)/255),e[i+1]=o,e[i+2]=~~(o*(255-s)/255)):2==r?(e[i]=~~(o*(255-s)/255),e[i+1]=o,e[i+2]=~~(o*(255-s*(255-a)/255)/255)):3==r?(e[i]=~~(o*(255-s)/255),e[i+1]=~~(o*(255-s*a/255)/255),e[i+2]=o):4==r?(e[i]=~~(o*(255-s*(255-a)/255)/255),e[i+1]=~~(o*(255-s)/255),e[i+2]=o):(e[i]=o,e[i+1]=~~(o*(255-s)/255),e[i+2]=~~(o*(255-s*a/255)/255))):(e[i]=o,e[i+1]=o,e[i+2]=o),e[i+3]=t[i+3]}},Rr.X.P.J8=function(t,e,n,i){null==n&&(n=2),null==i&&(i=4);for(var r=t.length,a=0;a<r;a++)e[n]=t[a],n+=i},Rr.X.P.w4=function(t,e,n,i){null==n&&(n=2),null==i&&(i=4);for(var r=e.length,a=0;a<r;a++)e[a]=t[n],n+=i},Rr.X.P.R1=function(t,e,n,i){null==i&&(i=1);for(var r,a=e.length,s=0,s=0;s<a;s++)(r=e[s])&&(n[s]=~~(((r*=i)*t[s]+(255-r)*n[s])/255))},Rr.X.P.zf=function(t,e,n,i){null==i&&(i=n);for(var r,a,s=e.length,o=0,l=0;l<s;l++)(r=e[l])&&(i[o]=~~((r*t[o]+(a=255-r)*n[o])/255),i[o+1]=~~((r*t[o+1]+a*n[o+1])/255),i[o+2]=~~((r*t[o+2]+a*n[o+2])/255)),i[o+3]=t[o+3],o+=4},Rr.X.P.ey=function(t,e,n,i){for(var r=~~(255*i),a=n.length,s=0;s<a;s++)n[s]=((255-r*(255-t[s])/255)*e[s]+t[s]*(r*(255-t[s])/255))/255},Rr.X.P.Bn=function(t,e,n,i){for(var r=~~(255*i),a=n.length,s=0;s<a;s++)n[s]=((255-r*t[s]/255)*e[s]+t[s]*(r*t[s]/255))/255},Rr.X.P.B5=function(t,e,n){for(var i=e.length,r=0;r<i;r++)e[r]=~~(t[r]*n+.5)+(e[r]-~~(e[r]*n+.5))},Rr.X.P.sub=function(t,e){for(var n=t.length,i=0;i<n;i++)e[i]=Math.max(t[i]-e[i],0)},Rr.X.P.add=function(t,e){for(var n=t.length,i=0;i<n;i++)e[i]=Math.min(t[i]+e[i],255)},Rr.X.P.KR=function(t,e){for(var n=t.length,i=0;i<n;i++)e[i]=t[i]+e[i]>>1},Rr.X.P.VO=function(t,e){for(var n=t.length,i=0;i<n;i++)e[i]=t[i]},Rr.X.P.bF=function(t,e){for(var n=t.length,i=0;i<n;i++)t[i]=e[t[i]]},Rr.X.P.cN=function(t,e){for(var n=Rr.X.P.zy,i=0;i<n;i+=4){var r=t[i],a=t[i+1],s=t[i+2],o=r<s?s:r<a?a:r,l=e[o];l?(t[i]=~~(l*r/o),t[i+1]=~~(l*a/o),t[i+2]=~~(l*s/o)):(t[i]=l,t[i+1]=l,t[i+2]=l)}},Rr.X.P.k2=function(t,e){for(var n=0,i=t.length;n<i;n++)t[n]=Math.min(255,~~(.5+t[n]*e))},Rr.X.P.aw=function(t,e){for(var n=0,i=t.length;n<i;n++)t[n]=255-Math.min(255,~~(.5+(255-t[n])*e))},Rr.X.P.tU=function(t){for(var e=t.length,n=0;n<e;n++)t[n]=255-t[n]},Rr.X.P.ed=function(t,e,n,i){null==n&&(n=0),null==i&&(i=255);for(var r=0,a=t.length;r<a;r++)t[r]=t[r]>=e?i:n},Rr.X.P.lN=function(t){return[t>>24&255,t>>16&255,t>>8&255,255&t]},Rr.X.P.a4i=function(t,e,n,i){null==i&&(i=4278190335);for(var r=Rr.X.P,a=r.zy,s=r.lN(n=null==n?255:n),o=r.lN(i),l=0;l<a;l+=4)e<=~~((t[l]+t[l+1]+t[l+2]+2)/3)?(t[l]=s[0],t[l+1]=s[1],t[l+2]=s[2]):(t[l]=o[0],t[l+1]=o[1],t[l+2]=o[2])},Rr.X.P.x6=function(t,e){for(var n=Rr.X.P,i=n.zy,r=n.lN(e),a=0;a<i;)t[a++]=r[0],t[a++]=r[1],t[a++]=r[2],t[a++]=r[3]},Rr.X.P.Pl=function(t,e){for(var n=t.length,i=0;i<n;)t[i++]=e},Rr.X.P.z0=function(t,e){t=5<t?(100-Math.max(4,t))/100:.95,e=100!=e?Math.max(4,e)/100:.9995;for(var n=new Uint8Array(256),e=.5<e?.5/(1-e):2*e,i=~~(256*e),r=~~(256*(.5-t*e))<<8,a=0;a<256;a++)n[a]=Rr.X.P.G9(r>>8),r+=i;return n},Rr.X.P.ul=function(t){for(var e=0,n=Rr.X.P,i=t.length;e<i;e++)t[e]=~~(256*n.random())},Rr.X.P.a1R=function(t,e){for(var n=0,i=Rr.X.P,r=t.length;n<r;n++)t[n]=i.random()<e?255:0},Rr.X.P.ce=function(t,e,n){for(var i=0,r=Rr.X.P,a=t.length;i<a;i++)r.random()<e&&(t[i]=n)},Rr.X.P.Fp=function(t,e,n){for(var i=t.length,r=0;r<i;r++)t[r]=Rr.X.P.G9(t[r]+n[e[r]])},Rr.X.P.bJ=function(t){for(var e=new Uint32Array(256),n=0,i=t.length;n<i;n++)e[t[n]]++;return e},Rr.X.P.F$=function(t,e,n){for(var i=Rr.X.P,r=i.bJ(n),n=i.Lo/100,a=new Uint8Array(256),s=n*t,o=n*e,l=0,h=-1,u=256;(l+=r[++h])<=s;);for(l=0;(l+=r[--u])<=o;);255<(u=u-h<=0?h+1:u)&&(u=255,h=254);for(var f=255/(u-h),c=-h,p=0;p<256;p++)a[p]=i.G9(f*c+.5),c++;return a},Rr.X.P.ES=function(t,e,n){var i=Rr.X.P;i.bF(t,i.F$(e,n,t))},Rr.X.P.ajI=function(t,e){for(var n=Rr.X.P,i=n.bJ(t),r=n.Lo*e/100,a=0,s=-1;(a+=i[++s])<=r;);return s},Rr.X.P.kZ=function(t,e){for(var n=0,i=Rr.X.P,r=i.r2,a=i.kY,s=255*(1/Math.PI),o=0;o<a;o++){var l=o+1;l==a&&l--;for(var h=o*r,u=~~(255*(1-(o+1)/a)),f=0;f<r;f++){var c=f+1;c==r&&c--;var p,d=t[h+f],v=t[h+c],c=t[l*r+f];d-c==0?e[n++]=u:(255==(p=d-c+255)?p=0:(p=~~(Math.atan2(1/(255-p),1)*s+.5))<0&&(p+=255),e[n++]=p),d-v==0?e[n++]=~~(255*(1-(f+1)/r)):(255==(p=d-v+255)?p=0:(p=~~(Math.atan2(1/(255-p),1)*s+.5))<0&&(p+=255),e[n++]=p)}}},Rr.X.P.zb=function(t,e){for(var n=Rr.X.P,i=n.r2,r=n.kY,a=0,s=0;s<r;s++)for(var o=0;o<i;o++)t[a]=~~(s*e+.5)+~~(t[a]*(1-e)+.5),t[++a]=~~(o*e+.5)+~~(t[a]*(1-e)+.5),a++},Rr.X.P.auk=function(t,e,n,i){for(var r=Rr.X.P,a=r.r2,s=r.kY,o=0,l=0;l<s;l++)for(var h=0;h<a;h++)e[o]=~~(e[o]*(1-n)+.5)+~~(t[o]*i+.5),e[++o]=~~(e[o]*(1-n)+.5)+~~(t[o]*i+.5),o++},Rr.X.P.MC=function(t,e,n){for(var i=Rr.X.P,r=i.r2,a=i.kY,s=0,o=0,l=0;l<a;l++)for(var h=0;h<r;h++){var u=t[s++],f=t[s++];e[o++]=2<=f%n&&2<=u%n?255:0}},Rr.X.P.ek=function(t,e,n,i,r,a,s){for(var o=Rr.X.P,l=o.r2,h=o.kY,u=0,f=0;f<h;f++)for(var c=f%t<n||h-n<=f,p=0;p<l;p++)s[u++]=c||p%e<i||l-i<=p?r:a},Rr.X.P.ay=function(t,e,n,i){var r=Rr.X.P,a=r.r2,s=r.kY,o=Zr.ay(e),r=o[0],e=o[1],o=Rr.t(4*r.Z());o.fill(4294967295),Rr.PU(e,o);r=Rr.scale.mm(o,r.m,r.n),n=Rr.scale.v0(r,null,a,s,n/100,n/100,0,0);Rr.VW(n,t,0),i&&Rr.tU(t)},Rr.X.P.G9=function(t){return~~Math.min(255,Math.max(0,t))},Rr.X.P.XI=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205],Rr.X.P.vy=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10],Rr.X.P.r3=function(t){return 40<t?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][t-41]:t/40},Rr.X.P.akc=function(t,e,n){for(var i=Rr.X.P,r=i.r2,a=i.kY,s=n,o=s*s,l=0,h=0;h<a;h++){for(var u=0,f=0,c=0,p=~~(h/n)*n,d=0;d<s;d++)for(var v=0;v<s;v++){var g=0+v;u+=t[(M=a<=(M=p+d)?a-1:M)*r+(g=r<=g?r-1:g)<<2],f+=t[1+(M*r+g<<2)],c+=t[2+(M*r+g<<2)]}var y=~~(u/o),m=~~(f/o),w=~~(c/o);e[l]=y,e[l+1]=m,e[l+2]=w,e[l+3]=t[l+3],l+=4;for(var b=1;b<r;b++){for(d=0;d<s;d++){var M,S=b-1,C=S+s,x=(M=a<=(M=p+d)?a-1:M)*r,C=x+(C=r<=C?r-1:C)<<2,S=x+S<<2;u+=t[C]-t[S],f+=t[1+C]-t[1+S],c+=t[2+C]-t[2+S]}b%n==0&&(y=~~(u/o),m=~~(f/o),w=~~(c/o)),e[l]=y,e[l+1]=m,e[l+2]=w,e[l+3]=t[l+3],l+=4}}},Rr.X.P.akl=function(t,e,n,i,r){for(var a=Rr.X.P,s=a.r2,o=a.kY,l=0,h=0;h<o+0;h++)for(var u=i<=h%e||h<i||o+0-i<=h,f=0;f<s;f++)t[l++]=u&&(r<=f%n||f<r||s-r<=f)?255:0},Rr.X.P.a8k=function(t,e,n){function i(t,e){return e<=t?t/e&1?e-t%e:t%e:t}for(var r=[function(t,e){return i(t,255)/255},function(t,e){return(255+i(t,255)-i(e,255))/510},function(t,e){return(255-i(e,255))/255},function(t,e){return(510-i(t,255)-i(e,255))/510},function(t,e){return(255-i(t,255))/255},function(t,e){return(255-i(t,255)+i(e,255))/510},function(t,e){return i(e,255)/255},function(t,e){return(i(t,255)+i(e,255))/510}][n],a=0,s=0,o=0;o<Rr.X.P.Lo;o++){var l=t[a++],h=t[a++];e[s++]=~~(255*r(l,h))}},Rr.X.a1N=function(){for(var t,I=[],P=new Uint8Array(512),F=new Float32Array(512),_=new Float32Array(512),B=[1,-1,1,-1,1,-1,0,0],R=[1,1,-1,-1,0,0,1,-1],e=0;e<256;e++)I[e]=e;for(;0!=e;)e--,t=Math.floor(Math.random()*e),I[t]^=I[e]^(I[e]=I[t]);function U(t){return t*t*t*(t*(6*t-15)+10)}function j(t,e,n){return(1-n)*t+n*e}function H(t,e){return t&e}function J(t,e){return t%e}function q(t,e,n){t[e]=n}return function(t,e,n,i,r){for(var a,s=Math.min(Math.min(e,256),Math.min(256,n)),o=256==s||s<8,l=new Uint32Array(8),h=new Uint32Array(8),u=new Float32Array(8),f=new Float32Array(8),c=1,p=1,d=o?H:J,v=q,g=0;g<8;g++)a=+p/s,o?(h[g]=(1<<Math.ceil(Math.log2(n*a)))-1,l[g]=(1<<Math.ceil(Math.log2(e*a)))-1):(h[g]=a*n,l[g]=a*e),u[g]=c,f[g]=a,c*=.5,p<<=1;!function(t){(t=Math.floor(65536*t))<256&&(t|=t<<8);for(var e=0;e<256;e++){var n=e+256,i=I[e]^255&(1&e?t:t>>8);P[e]=P[n]=i,i%=8,F[e]=F[n]=B[i],_[e]=_[n]=R[i]}}(Math.random());for(var y,m,w,b,M,S,C,x,L,D,k,T=0,A=0;T<n;T++)for(var E=0;E<e;E++){for(var O=0,N=0;N<8;N++)a=f[N],O+=(y=E*a,m=T*a,w=l[N],b=h[N],M=d,k=D=L=x=C=S=void 0,D=Math.floor(y),k=Math.floor(m),y-=D,m-=k,L=(D&=255)+P[k&=255],C=F[L]*y+_[L]*m,L=D+P[M(1+k,b)],S=F[L]*y+_[L]*(m-1),L=M(1+D,w)+P[k],x=F[L]*(y-1)+_[L]*m,L=M(1+D,w)+P[M(1+k,b)],L=F[L]*(y-1)+_[L]*(m-1),j(j(C,x,y=U(y)),j(S,L,y),U(m))*u[N]);v(i,A++,Math.round(Math.max(0,255*Math.min(1,.5+.5*O))))}}}(),Rr.X.a4X=function(t,e,n,i){for(var r=new Uint8Array(t.length>>>2),a=new Uint8Array(t.length>>>2),s=new Uint8Array(t.length),o=0;o<t.length;o+=4){var l=.3*t[o+0]+.59*t[o+1]+.11*t[o+2];a[o>>>2]=l,s[o]=t[o],s[o+1]=t[o+1],s[o+2]=t[o+2]}for(Rr.dh.Te(a,r,e,n),Rr.dh.ah(t,i,e,n,Rr.dh.Ab[1],0,!0),o=0;o<t.length;o+=4)s[o+3]=255-r[o>>>2];for(var o=0,h=t.length;o<h;o+=4){var u=s[o+3]/255;i[o]=s[o]*u+i[o]*(1-u),i[o+1]=s[o+1]*u+i[o+1]*(1-u),i[o+2]=s[o+2]*u+i[o+2]*(1-u)}},Rr.X.adP=function(t,e,n,i,r){0==(r=r[0])?rt(t,e,n,i,at):1==r?rt(t,e,n,i,st):2==r?rt(t,e,n,i,ot):3==r?console.error("Not implemented"):console.error("Mew mew")},Rr.X.a46=function(t,e,n,i,r){for(var a=r&&r[0]?r[0]:4,s=0;s<n;s++)for(var o=Math.max(s-a,0),l=Math.min(s+a,n-1),h=0;h<e;h++){var u,f=Math.max(h-a,0),c=Math.min(h+a,e-1),p=t[u=o*e+f<<2],d=t[1+u],v=t[2+u],g=t[3+u];p+=t[u=o*e+c<<2],d+=t[1+u],v+=t[2+u],g+=t[3+u],p+=t[u=l*e+f<<2],d+=t[1+u],v+=t[2+u],g+=t[3+u],p+=t[u=l*e+c<<2],d+=t[1+u],v+=t[2+u],g+=t[3+u],i[u=s*e+h<<2]=p+2>>>2,i[1+u]=d+2>>>2,i[2+u]=v+2>>>2,i[3+u]=g+2>>>2}},Rr.X.a8L=function(t,e,n,i){var r=new Uint8Array(t.length),a=new Uint8Array(t.length>>>2),s=new Uint8Array(t.length>>>2);Rr.dh.ah(t,r,e,n,Rr.dh.Ab[2],0,!0);for(var o=0;o<t.length;o+=4){var l=.3*r[o+0]+.59*r[o+1]+.11*r[o+2];a[o>>>2]=l,i[o+0]=t[o+0],i[o+1]=t[o+1],i[o+2]=t[o+2],i[o+3]=t[o+3]}for(Rr.dh.Te(a,s,e,n),o=0;o<t.length;o+=4)r[o+3]=~~(Math.max(0,255-s[o>>>2]-50)*(255/205));for(var o=0,h=t.length;o<h;o+=4){var u=r[o+3]/255;i[o]=r[o]*u+i[o]*(1-u),i[o+1]=r[o+1]*u+i[o+1]*(1-u),i[o+2]=r[o+2]*u+i[o+2]*(1-u)}},Rr.X.RB=function(t,e,n,i,r){var a,s=r[0],o=r[1],l=new Uint16Array(e+1),h=t,r=i;o&&(a=i.slice(0),mt(t,i,e,n),h=i,r=a),0==s?function(t,e,n,i,r){for(var a,s,o=0,l=new Uint8Array(e+1),h=new Uint8Array(40),u=new Uint8Array(40),f=0;f<n;f++){ut(i,t,o),r[0]=lt(i,o),l[0]=ct(),a=o,o+=4;for(var c=1;c<e;c++)ut(i,t,o),r[c]=lt(i,o),s=ct(),l[c]=s,r[c-1]<r[c]&&0<s&&vt(i,o-4,o,r,l,c,h,u,4),o+=4;r[e]=r[0],l[e]=l[0],r[e-1]<r[e]&&0<s&&vt(i,o,a,r,l,e,h,u,4)}ft(i)}(h,e,n,r,l):1==s?function(t,e,n,i,r){for(var a=4*e,s=0,o=0;o<n;o++){ut(i,t,s),r[0]=lt(i,s),s+=4;for(var l=1;l<e;l++)ut(i,t,s),r[l]=lt(t,s),r[l-1]<r[l]&&gt(i,s-4,s,r,l,-4),s+=4;r[e]=r[0],r[l-1]<r[l]&&gt(i,s-4,s-a,r,l,-4)}ft(i)}(h,e,n,r,l):2==s&&yt(h,e,n,r,l),o&&mt(a,i,e,n)},Rr.X.Mn=function(t,e,n,i,r){var a=Rr.X.P,s=0,o=0;a.lf(e,n),a.oA(r[2]);var l=Math.PI/2.43,h=l/256,u=2*Math.PI/256;function f(){var t=256*a.random(),e=256*a.random();return c*~~(325*Math.tan(l-t*h)*Math.cos(e*u)*256)+24576>>16}for(var c=r[0],p=r[1],d=(p+2)/2,v=255*a.random(),g=a.B2(1),y=0;y<n;y++)for(var m=a.G9(f()+v),w=0;w<e;w++)m=a.G9(f()+m),g[s++]=m;for(s=e,y=1;y<n;y++){var b=a.G9(f()+g[o++]);g[s++]=b;for(w=1;w<e;w++){var M=o+1;w+1==e&&M--;M=(d+b+g[M]+g[o]*p)/(p+2),b=a.G9(f()+M);g[s++]=b,o++}}a.Gg(g,i)};var Ur=(xt=function(){return function(t){return t&&(this.q4=t),this.q4=At(this.q4),(16777215&this.q4)*(1/16777215)}},function(t){var e=performance.now(),n=t[0],i=t[1];(t=i).a6y?t.lL=100*Math.random():t.lL=t.a0i,t.random=new xt,t.random(t.lL),6==t.type&&(t.lZ=2,t.shape=5,t.a7X=0);for(var r=[new Float32Array(0),new Float32Array(0)],a=0;a<n.length;++a){i.lL=At(i.lL);var s=Yt(n[a],i),o=new Float32Array(r[0].length+s[0].length),l=new Float32Array(r[1].length+s[1].length);o.set(r[0]),o.set(s[0],r[0].length),r[0]=o,l.set(r[1]),l.set(s[1],r[1].length),r[1]=l}t=performance.now();return i.aaY&&console.sM("Geometry: "+String(t-e)+"ms"),r}),jr=function(){for(var n=new Uint8Array(2e3),t=0;t<2e3;t++)n[t]=255*Math.min(1,Math.log(t/700+1));function Z(t,e){return n[Math.min(1500,~~(t*e*1e3))]}return function(t,e,n,i,r,a){var s=document.createElement("canvas"),o=0;s.width=e,s.height=n;for(var l=s.getContext("2d"),h=r[0],u=r[1],f=new Float64Array(e*n),c=(Date.now(),function(t,e){for(var n=[],i=e.length,r=0,a=0,s=new Fr,o=0,l=1e9,a=0;a<i;a++){var h=8*a,u=e[a];u<l&&(l=u);var f=t[0+h],c=t[1+h],p=t[2+h],d=t[3+h],v=t[4+h],g=t[5+h],y=t[6+h],m=t[7+h],h=Math.min(f,p,v,y),v=Math.max(f,p,v,y),y=Math.min(c,d,g,m),g=new Fr(h,y,v-h,Math.max(c,d,g,m)-y),m=g.hq(s),y=o+u;a-r<10&&(a==r||.8*m.Z()<g.Z()+s.Z())?(s=m,o=y):(n.push(a-r),r=a,s=g,l=o=u)}return a!=r&&n.push(a-r),n}(u,h)),p=0;p<c.length;p++){for(var d=o,v=o+c[p],g=0,o=v,y=8*d,m=8*v,w=-(S=1e9),b=-(C=1e9),M=y;M<m;M+=2)(R=u[M])<S&&(S=R),w<R&&(w=R),(B=u[M+1])<C&&(C=B),b<B&&(b=B);for(var S=Math.floor(S),w=Math.ceil(w),C=Math.floor(C),x=w-S,L=(b=Math.ceil(b))-C,D=d;D<v;D++)g+=h[D];for(M=y;M<m;M+=8){var k=h[M>>>3],T=u[M+0],A=u[M+1],E=u[M+2],O=u[M+3],N=u[M+4],I=u[M+5],P=u[M+6],F=u[M+7];l.fillStyle="rgba(0,0,0,"+k/g+")",l.beginPath(),l.moveTo(T,A),l.lineTo(E,O),l.lineTo(N,I),l.lineTo(P,F),l.closePath(),l.fill()}for(var _=l.getImageData(S,C,x,L).data,B=0;B<L;B++)for(var R=0;R<x;R++){var U=_[4*(G=B*x+R)+3];0!=U&&(f[(C+B)*e+S+R]+=U*g)}l.clearRect(S,C,x,L)}for(var a=a[1].color,j=Math.pow(a.p/255,.8),H=Math.pow(a.z/255,.8),J=Math.pow(a.S/255,.8),a=new Fr(0,0,e,n),q=Rr.t(e*n*4),B=0;B<n;B++)for(R=0;R<e;R++){var G,D=4*(G=B*e+R),h=f[G]*(1/255);q[D]=Z(j,h),q[D+1]=Z(H,h),q[D+2]=Z(J,h),q[D+3]=Math.min(255,255*h)}Rr.a.bW("norm",q,a,i,a,a,1)}}(),wt=(bt=new Float32Array(3e3),Mt=new Float32Array(3e3),St=new Float32Array(256),Ct=new Float32Array(3e3),function(t,e,n,i,r,a){!function(){var t=bt.length;bt[0]=Math.log10(157647e-9);for(var e=1;e<t;++e)bt[e]=Math.log10(e/t)}(),function(){for(var t=Mt.length,e=0;e<t;++e)Mt[e]=Math.pow(10,20*(e-t/2)/t)}(),function(){for(var t=St.length,e=0;e<t;++e)St[e]=Rr.wo(e/255)}(),function(){for(var t=Ct.length,e=0;e<t;++e)Ct[e]=255*Rr.I$(e/(t-1))}();var s=0,s=100<a[0]?-(a[0]-100)/100*.13:75<=a[0]?(100-a[0])/25*.04:50<=a[0]?.04+(75-a[0])/25*.04:25<=a[0]?.08+(50-a[0])/25*.08:.16+(25-a[0])/25*.24,o=(a[1]-100+100)/100,l=a[2]/100,h=a[3],u=new Float32Array(3*t.length/4),a=new Float32Array(3*i.length/4);Date.now(),Dt(t,u),Dt(i,a),Date.now();var f=kt(u),c=kt(a),i=(Date.now(),Tt(u,f)),a=Tt(a,c);Date.now(),c[0]*=Math.pow(10,s);for(var p,d,v=[a[0]/i[0],a[1]/i[1],a[2]/i[2]],g=u.length,y=0;y<g;y+=3)d=h?(d=Math.max(0,Math.min(1,-.8660273862858789*u[y])),p=(d=1-Math.sqrt(d))*c[1],d*c[2]):(p=c[1],c[2]),u[y]=(u[y]-f[0])*v[0]+c[0],u[y+1]=(u[y+1]-f[1])*v[1]*o+p,u[y+2]=(u[y+2]-f[2])*v[2]*o+d;Date.now(),function(t,e){for(var n=e.length>>>2,i=Ct.length-1,r=0;r<n;++r){var a=.5773502692*t[3*r],s=.4082482905*t[3*r+1],o=.7071067812*t[3*r+2],l=Mt[~~(150*(a+s+o+10))],h=Mt[~~(150*(a+s-o+10))],o=Mt[~~(150*(a-2*s+10))],a=-1.2186*l+2.3809*h-.1624*o,s=.0497*l-.2439*h+1.2045*o;e[4*r]=Ct[~~(i*Math.max(0,Math.min(1,4.4679*l-3.5873*h+.1193*o)))],e[4*r+1]=Ct[~~(i*Math.max(0,Math.min(1,a)))],e[4*r+2]=Ct[~~(i*Math.max(0,Math.min(1,s)))]}}(u,r);for(var m=r.length>>>2,y=0;y<m;++y)r[4*y]=(1-l)*r[4*y]+l*t[4*y],r[4*y+1]=(1-l)*r[4*y+1]+l*t[4*y+1],r[4*y+2]=(1-l)*r[4*y+2]+l*t[4*y+2],r[4*y+3]=255}),Hr=function(s,l,o,h,t){var u,g=[-1,-1,-1,-1],f=255,c=160,p=!1,y=new Array(4);y[0]=new Array(l),y[1]=new Array(o),y[2]=new Array(l),y[3]=new Array(o);var d=new Array(2);function v(t,e,n,i,r){this.start=i,this.axis=r,this.dir=t,this.end=-1,this.source=e,this.Z=n}function m(t,e,n,i,r){n%2==0?(y[n][t]||(y[n][t]=new Array),y[n][t].push(new v(n,i,r,e,t))):(y[n][e]||(y[n][e]=new Array),y[n][e].push(new v(n,i,r,t,e)));Date.now()}function e(t){var e=!1,n=0;if(s[4*t+3]<f)return e;var i,r=t%l,a=Math.floor(t/l);return function(t,e){-1==g[0]&&(g[0]=t,g[1]=e,g[2]=1,g[3]=1);t<g[0]&&(g[2]+=g[0]-t,g[0]=t);t>g[0]+g[2]&&(g[2]=t-g[0]);e<g[1]&&(g[3]+=g[1]-e,g[1]=e);e>g[1]+g[3]&&(g[3]=e-g[1])}(r,a),t+l<l*o&&s[4*(t+l)+3]<f&&s[4*(t-l)+3]>=f&&s[4*(t-2*l)+3]>=f?m(r,a,i=2,n=s[4*(t+l)+3]<=c?-1:n,e=s[4*(t+2*l-1)+3]<f&&s[4*(t+2*l+1)+3]<f||s[4*(t+2*l-1)+3]>=f&&s[4*(t+1)+3]>=f||s[4*(t+2*l+1)+3]>=f&&s[4*(t-1)+3]>=f?!0:e):0<=t-l&&s[4*(t-l)+3]<f&&s[4*(t+l)+3]>=f&&s[4*(t+2*l)+3]>=f&&m(r,a,i=0,n=s[4*(t-l)+3]<=c?-1:n,e=s[4*(t-2*l-1)+3]<f&&s[4*(t-2*l+1)+3]<f||s[4*(t-2*l-1)+3]>=f&&s[4*(t+1)+3]>=f||s[4*(t-2*l+1)+3]>=f&&s[4*(t-1)+3]>=f?!0:e),n=0,t+1<l*o&&s[4*(t+1)+3]<f&&s[4*(t-1)+3]>=f&&s[4*(t-2)+3]>=f?(s[4*(t+1)+(i=3)]<=c&&(n=-1),!e&&s[4*(t+l+2)+3]<f&&s[4*(t-l+2)+3]<f?m(r,a,i,n,e=!0):m(r,a,i,n,!1)):1<=t&&s[4*(t-1)+3]<f&&s[4*(t+1)+3]>=f&&s[4*(t+2)+3]>=f&&(s[4*(t-(i=1))+3]<=c&&(n=-1),!e&&s[4*(t+l-2)+3]<f&&s[4*(t-l-2)+3]<f?m(r,a,i,n,e=!0):m(r,a,i,n,!1)),e}function n(t){for(var e=0;e<y[t].length;++e)if(y[t][e])for(var n=0;n<y[t][e].length;++n)!function(t,e,n){if(n.Z){var i=(t+2)%4,r=n.start,a=g[1];2==t?a+=g[3]:1==t?a=g[0]:3==t&&(a=g[0]+g[2]);var s,o=n.source;if(y[i][e])for(var l=0;l<y[i][e].length;++l)1<t?(s=r+Math.floor((y[i][e][l].start-r)/2),y[i][e][l].start>r&&s<a&&(a=s)):(s=r-Math.floor((r-y[i][e][l].start)/2),y[i][e][l].start<r&&a<s&&(a=s));for(var h=1;h<Math.abs(a-r);++h){l=r+h;1!=t&&0!=t||(l=r-h);for(var u=0;u<2;++u){var f=2*u,c=!1;if(t%2==0&&(f+=1),y[f][l]){for(var p=0;p<y[f][l].length;++p)if(y[f][l][p].Z){var d=e-y[f][l][p].start,v=l-r;if(!((d=0==f||1==f?-d:d)<=0)&&d<(v=0==t||1==t?-v:v)){a=l,c=!0;break}}if(c)break}}}w(t,e,r,n.end=a,o)}}(t,e,y[t][e][n])}function w(t,e,n,i,r){if(2==t){for(var a=n;a<=i;++a)if(!b(a*l+e,(n+r)*l+e))return}else if(0==t){for(a=n;i<=a;--a)if(!b(a*l+e,(n-r)*l+e))return}else if(1==t){for(a=n;i<=a;--a)if(!b(e*l+a,e*l+n-r))return}else if(3==t)for(a=n;a<=i;++a)if(!b(e*l+a,e*l+n+r))return}function b(t,e){return!u[t]&&(h[4*t]=h[4*e],h[4*t+1]=h[4*e+1],h[4*t+2]=h[4*e+2],p&&(h[4*t+3]=255),u[t]=!0)}function M(t){if(t.dir%2==0){var e=l*t.start+t.axis,n=t.start,i=1;if(u[e+1]){if(u[e-1])return}else i=3;for(var r=h[4*e],a=h[4*e+1],s=h[4*e+2];h[4*e]==r&&h[4*e+1]==a&&h[4*e+2]==s;)1==i?(d[0][n]||(d[0][n]=new Array),d[0][n].push(new v(i,0,!1,t.axis,n))):(d[1][n]||(d[1][n]=new Array),d[1][n].push(new v(i,0,!1,t.axis,n))),2==t.dir?(e+=l,n++):(e-=l,n--)}}d[0]=new Array(o),d[1]=new Array(o);var i=Date.now();!function(){u=new Array(s.length/4);for(var t=0;t<h.length/4;++t)u[t]=!1,h[4*t]=s[4*t],h[4*t+1]=s[4*t+1],h[4*t+2]=s[4*t+2],h[4*t+3]=s[4*t+3],255==h[4*t+3]&&(u[t]=!0),e(t)&&(u[t]=!1);0<g[0]&&(g[0]--,g[2]++),0<g[1]&&(g[1]--,g[3]++),g[0]+g[2]<l&&g[2]++,g[1]+g[3]<o&&g[3]++}();var r=Date.now();!function(){for(var t=[2,0,3,1],e=0;e<t.length;++e)n(t[e])}();var a=Date.now();!function(){for(var t=0;t<4;t+=1)for(var e=0;e<y[t].length;++e)if(y[t][e])for(var n=0;n<y[t][e].length;++n)for(var i=y[t][e][n],r=1;r<3;r+=2){var a=(t+r)%4;if(y[a][i.start])for(var s=0;s<y[a][i.start].length;++s)y[a][i.start][s].start==i.axis&&(i.start,i.axis,t%2==1?(i.start,i.axis,M(y[a][i.start][s])):M(i))}}();var S=Date.now();!function(){for(var t=0;t<2;++t)for(var e=(t+1)%2,n=0;n<d[t].length;++n)if(d[t][n])for(var i=0;i<d[t][n].length;++i){var r=g[0];1==t&&(r+=g[2]);var a=d[t][n][i].start;if(d[e][n])for(var s=0;s<d[e][n].length;++s){var o=d[e][n][s].gB;0==t?r<o&&o<a&&(r=a-Math.floor((a-o)/2)):o<r&&a<o&&(r=a+Math.ceil((o-a)/2))}w(d[t][n][i].dir,n,0==t?a-1:a+1,r,-1)}for(n=0;n<u.length;++n)!u[n]&&n%l>=g[0]&&n%l<=g[0]+g[2]&&Math.floor(n/l)>=g[1]&&Math.floor(n/l)<=g[1]+g[3]&&((n<(a=l)||!u[n-a])&&(a=1),h[4*n]=h[4*(n-a)],h[4*n+1]=h[4*(n-a)+1],h[4*n+2]=h[4*(n-a)+2],u[n]=!0,p&&(h[4*n+3]=255))}();var C=Date.now();console.log("Init: "+String(r-i)),console.log("Filling: "+String(a-r)),console.log("Check areas: "+String(S-a)),console.log("Fill areas: "+String(C-S))},bt,Mt,St,Ct,xt,Lt;function Dt(t,e){for(var n=t.length>>>2,i=0;i<n;++i){var r=St[t[4*i]],a=St[t[4*i+1]],s=St[t[4*i+2]],o=bt[~~((o=.3811*r+.5783*a+.0402*s)*bt.length)],l=bt[~~((l=.1967*r+.7244*a+.0782*s)*bt.length)],s=bt[~~((s=.0241*r+.1288*a+.8444*s)*bt.length)];e[3*i]=.5773502692*(o+l+s),e[3*i+1]=.4082482905*(o+l-2*s),e[3*i+2]=.7071067812*(o-l)}}function kt(t){for(var e=0,n=0,i=0,r=0;r<t.length;r+=3)e+=t[r],n+=t[r+1],i+=t[r+2];return[e/(t.length/3),n/(t.length/3),i/(t.length/3)]}function Tt(t,e){for(var n=0,i=0,r=0,a=0;a<t.length;a+=3){var s=t[a]-e[0],o=t[a+1]-e[1],l=t[a+2]-e[2];n+=s*s,i+=o*o,r+=l*l}return[Math.sqrt(n/(t.length/3)),Math.sqrt(i/(t.length/3)),Math.sqrt(r/(t.length/3))]}function At(t){return t=61^t^t>>>16,t+=t<<3,t^=t>>>4,t*=668265261,t^=t>>>15}function Et(t,e){return null==e&&(e=[0,0]),Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}function Ot(t,e){return[-((e=null==e?[0,0]:e)[1]-t[1])/Et(t,e),(e[0]-t[0])/Et(t,e)]}function Nt(t){return[Math.cos(t),Math.sin(t)]}function It(t){var e=Et(t,[0,0]),t=[t[0]/e,t[1]/e],e=Math.atan(t[1]/t[0]);return 0<t[0]&&t[1]<0?e+=2*Math.PI:(t[0]<0&&t[1]<0||t[0]<0&&0<t[1])&&(e+=Math.PI),e}function Pt(t){for(var e=0,n=1;n<t.length/2;++n)e+=Et([t[2*n],t[2*n+1]],[t[2*(n-1)],t[2*(n-1)+1]]);return e}function Ft(t,e,n,i){for(var r=new Float32Array(n.length),a=0,s={shape:Math.floor(2.99*i.random()),a99:.1*i.random()+.15},o=0;o<n.length-1;++o){var l=a+n[o];r[o]=((1-l)*t+l*e)*function(t,e){var n=e.a99,i=2*t*Math.PI,t=0;t=0==e.shape?(Math.sin(2*i+Math.PI/2)+1)/2:1==e.shape?(Math.sin(i+Math.PI/2)+1)/2:(4*Math.sin(.75*i+Math.PI)+Math.sin(Math.PI/2+2*i)-2*i/Math.PI+6)/7;return Math.min(1,1-n+n*t)}(l,s),a=l}return r}function _t(t,e,n){for(var i=new Array(e.length),r=Xt(t),a=null,s=0;s<e.length;++s)i[s]=function(t,e,n){for(var i=new Float32Array(t.length),r=1/(t.length/2),a=Ut(n),s=0;s<t.length/2;++s){var o=s*r,l=o/2+.5,h=1;2==n.shape&&(h=1/(2*l)),3==n.shape&&(h=1/(2*(l=(1-o)/2+.5))+.5),4==n.shape&&(l=o,h=Math.sin(1.5*Math.PI*l)/4+1),5==n.shape&&(l=6*(o-.5),h=(-Math.atan(l)/1.25+1)/5+.6-.2*o);o=[null,null],o=0==s?Ot([t[2*s],t[2*s+1]],[t[2*(s+1)],t[2*(s+1)+1]]):s==t.length/2-1?Ot([t[2*(s-1)],t[2*(s-1)+1]],[t[2*s],t[2*s+1]]):Ot([t[2*(s-1)],t[2*(s-1)+1]],[t[2*(s+1)],t[2*(s+1)+1]]);i[2*s]=t[2*s]+(h*e+0)*o[0],i[2*s+1]=t[2*s+1]+(h*e+0)*o[1],2==n.style&&(i[2*s]+=jt(2*s/i.length,a,n))}return i}(r,(e[s]-.5)*n.oD,n);for(var o=1+.05*n.a7X*qt(n)/qt({rH:1}),s=0;s<e.length;++s)0==e[s]&&(a=s);for(s=0;s<e.length;++s){for(var l=2*(n.random()-.5),h=Math.round(9*n.random()+1),u=new Float32Array(2*h+2),f=0;f<=h;++f)u[2*f]=i[s][0]-(i[s][2*f]-i[s][0]),u[2*f+1]=i[s][1]-(i[s][2*f+1]-i[s][1]);s==a&&(l*=.1);for(f=(i[s].length-1)/2;h<f;--f)i[s][2*f]=(1-l)*i[s][2*f]+l*(i[s][2*(f-h)]+o*(i[s][2*f]-i[s][2*(f-h)])),i[s][2*f+1]=(1-l)*i[s][2*f+1]+l*(i[s][2*(f-h)+1]+o*(i[s][2*f+1]-i[s][2*(f-h)+1]));for(f=h-1;0<=f;--f)i[s][2*f]=(1-l)*i[s][2*f]+l*(u[2*(h-f)]+o*(i[s][2*f]-u[2*(h-f)])),i[s][2*f+1]=(1-l)*i[s][2*f+1]+l*(u[2*(h-f)+1]+o*(i[s][2*f+1]-u[2*(h-f)+1]))}var c=function(t,e){for(var n=Math.ceil(Vt(t)),i=[],r=0;r<=n;++r)i.push(function(t){var e=Math.exp(-t.AR/25);return{J:3*t.random()/2+.5,tr:2*t.random()*Math.PI,eB:10*(t.random()-.5)*e}}(e));return i}(e,n);if(0<n.AR)for(var p=0,s=0;s<e.length;++s){var d=(p+=0==s?e[s]:Math.abs(e[s]-e[s-1]))-Math.floor(p),v=0==d?0:1;i[s]=function(t,e,n){for(var i=new Float32Array(t.length),r=1/(t.length/2),a=0;a<t.length/2;++a){var s=a*r,o=[null,null],l=.6*n.AR*Ht(s,e.aiE)*n.oD/100,s=.6*n.AR*Ht(s,e.abP)*n.oD/100,s=e.akT*l+(1-e.akT)*s,o=0==a?Ot([t[2*a],t[2*a+1]],[t[2*(a+1)],t[2*(a+1)+1]]):a==t.length/2-1?Ot([t[2*(a-1)],t[2*(a-1)+1]],[t[2*a],t[2*a+1]]):Ot([t[2*(a-1)],t[2*(a-1)+1]],[t[2*(a+1)],t[2*(a+1)+1]]);i[2*a]=t[2*a]+s*o[0],i[2*a+1]=t[2*a+1]+s*o[1]}return i}(i[s],{aiE:c[Math.floor(p)],abP:c[Math.floor(p)+v],akT:d},n)}return i}function Bt(t,e){for(var n=function(t,e){for(var n=[],i=0,r=0;r<t.length;++r){var a=.8*e.random()+.2;n.push(a)}for(var s=Math.min(3,e.lZ),r=0;r<t.length;++r).9<n[r]&&++i;for(;i<s;){var o=Math.floor(e.random()*t.length);n[o]<=.9&&(n[o]=.9+.1*e.random(),++i)}return n}(e,t),i=function(t,e){for(var n=qt(e),i=qt({rH:1}),r=[],a=0;a<t.length;++a)r.push(Math.max(1,(10*e.random()+2)*n/i));return r}(e,t),r=[],a=[],s=[],o=function(t){if(1==t.rH)return[.150684932,.205479452,.465753425,.178082192];if(2==t.rH)return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268];for(var e=[],n=1/(Zt(t)-1),i=0;i<Zt(t)-1;++i)e.push(n);return e}(t),l=0;l<e.length-1;++l){r.push(e[l]),a.push(n[l]),s.push(i[l]);for(var h=function(t,e,n){for(var i=[],r=e-t,a=t,s=0;s<n.length-1;++s)i.push(a+n[s]*r),a=i[s];return i}(e[l],e[l+1],o),u=Ft(n[l],n[l+1],o,t),f=function(t,e,n,i){for(var r=qt(i),a=20*(i=i.random())+26*(1-i),s=new Float32Array(n.length),o=0,l=0;l<n.length-1;++l){var h=o+n[l];s[l]=(1-h)*t+h*e+r/a*(2/3*Math.sin(Math.PI*h)+1/3*Math.sqrt(Math.sin(Math.PI*h))),o=h}return s}(i[l],i[l+1],o,t),c=0;c<h.length;++c)r.push(h[c]),a.push(u[c]),s.push(f[c])}return r.push(e[e.length-1]),a.push(n[n.length-1]),s.push(i[i.length-1]),{a9Y:r,a8N:a,rt:s}}function Rt(t,e,n,i){for(var r=[],a=0;a<t.length;++a)r.push(function(t,e,n,i){for(var r=new Float32Array(2*i),a=n*(t.length/2-e)/i,s=0;s<i;++s){var o=Math.floor(e+s*a),l=Math.ceil(e+s*a),n=e+s*a,h=l-o,u=1,f=0;0!=h&&(u=(l-n)/h,f=(n-o)/h),r[2*s]=u*t[2*o]+f*t[2*l],r[2*s+1]=u*t[2*o+1]+f*t[2*l+1]}return r}(t[a],e[a],n[a],i));return r}function Ut(t){return{J:7*t.random()/2+.5,tr:2*t.random()*Math.PI}}function jt(t,e,n){return n.oD/300*Zt({rH:1})/Zt(n)*10*(Math.sin(2*e.J*Math.PI*t+e.tr)+10*(n.random()-.5))}function Ht(t,e){var n=4*e.J*Math.PI*t+e.tr;return Math.exp(-.5*Math.PI*t)*Math.cos(n)*Math.cos(n)*Math.cos(n)*Math.cos(n)*Math.cos(n)+t*e.eB-e.eB/4}function Jt(t,e,n,i,r){for(var a=0,s=zt(e)-1,o=0;o<s;++o)for(var l=0;l<t.length-1;l+=Zt(e)-1)for(var h=o;h<t[0].length/2-s;h+=s)for(var u=l;u<l+(Zt(e)-1);++u){n[r+a]=function(t,e,n){var i=n.lZ,r=[.1,1/30,.025,1/45,.01][n.rH-1],a=n.opacity/25*(2/i)*r*4*(1-n.oT/150),i=0;if(3==n.style)return.09*a;var s,t=(r=2.2*(t-.5))*r*r*r+.27+Math.max(0,(n.opacity-50)/15),r=2*(Math.sin(3*Math.PI*e)/(Math.PI*e+2)+1.1)-e/2;return i=(e*=2)<.41?(s=2*Math.PI*e/.41,(Math.sin(s-Math.PI/2)+1)/4+.5):e<.77?(s=2*Math.PI*(e-.41)/.36,(Math.sin(s-Math.PI/2)+1)/4+.5-s/2/Math.PI*.5):(s=2*Math.PI*(e-.77)/.23,(Math.sin(s-Math.PI/2)+1)/2*.12),i*=3,i+=Math.max(0,(n.opacity-50)/15),a*t*(6==n.type?r:i)}(u*(e.lZ-1)/(t.length-1)%1,h/t[0].length,e);var f=0,c=0;6==e.type&&0!=u&&u!=t.length-1&&(c=(t[u][2*(h+1)+1]-t[u][2*h+1])/2,f=(t[u][2*(h+1)]-t[u][2*h])/2),i[8*r+8*a]=t[u][2*h]+f,i[8*r+8*a+1]=t[u][2*h+1]+c,i[8*r+8*a+2]=t[u][2*(h+s)]+f,i[8*r+8*a+3]=t[u][2*(h+s)+1]+c,i[8*r+8*a+4]=t[u+1][2*(h+s)],i[8*r+8*a+5]=t[u+1][2*(h+s)+1],i[8*r+8*a+6]=t[u+1][2*h],i[8*r+8*a+7]=t[u+1][2*h+1],++a}}function qt(t){return[100,300,500,700,1e3][t.rH-1]}function Gt(t){return[30,70,100,140,300][t.rH-1]}function Zt(t){return[5,7,26,40,100][t.rH-1]}function zt(t){return 1==t.rH?4:2==t.rH?8:Math.floor(Gt(t)/9)}function Vt(t){for(var e=0,n=0;n<t.length;++n)e+=0==n?t[n]:Math.abs(t[n]-t[n-1]);return e}function Wt(t,e){if(t.length/2-1==qt(e))return t;for(var n=new Float32Array(2*(qt(e)+1)),i=(t.length-2)/(n.length-2),r=0;r<n.length/2;++r){var a=r*i,s=Math.floor(a),o=Math.ceil(a),l=o-s,h=1,u=0;0!=l&&(h=(o-a)/l,u=(a-s)/l),n[2*r]=h*t[2*s]+u*t[2*o],n[2*r+1]=h*t[2*s+1]+u*t[2*o+1]}return n}function Xt(t,e){var n,i,r=t.length/2,a=Pt(t),s=a/r,o=!1,l=0,h=0,u=1;e&&(n=Math.floor(a/e.ars),i=e.ars,e.a6v&&t[0]==t[t.length-2]&&t[1]==t[t.length-1]&&(o=!0,i=a/(n+1)),r=2==e.type&&!o&&i*n+e.length>a?n+1:n+2,s=i);var f=new Float32Array(2*r);f[0]=t[0],f[1]=t[1];for(var c=1;c<r;++c){for(;l<=c*s;)h=l,l+=Et([t[2*u],t[2*u+1]],[t[2*(u-1)],t[2*(u-1)+1]]),++u;var p=1-(c*s-h)/(l-h);f[2*c]=(1-p)*t[2*u]+p*t[2*(u-1)],f[2*c+1]=(1-p)*t[2*u+1]+p*t[2*(u-1)+1]}return f[f.length-2]=t[t.length-2],f[f.length-1]=t[t.length-1],f}function Yt(t,e){var n=[t=Wt(t,e)],i=0;2<=e.type&&e.type<6&&(n=function(t,e){for(var n=Xt(t,e),i=[],r=0;r<(n.length-2)/2;++r){var a=[];a.push(n[2*r]),a.push(n[2*r+1]);var s=Et([n[2*(r+1)],n[2*(r+1)+1]],[n[2*r],n[2*r+1]]),o=[(n[2*(r+1)]-n[2*r])/s,(n[2*(r+1)+1]-n[2*r+1])/s],l=Nt((e.aiD-90)/360*2*Math.PI),s=o;3==e.type?s=l:4==e.type?s=Nt(It(o)+It(l)):5==e.type&&(s=Nt(((e.random()-.5)*e.aiD-90)/360*2*Math.PI));l=e.length;e.abo&&(l=2*e.random()*e.length),a.push(n[2*r]+s[0]*l),a.push(n[2*r+1]+s[1]*l),i.push(a)}return i}(t,e));for(var r=zt(e)-1,a=Gt(e)-r,s=(e.lZ-1)*(Zt(e)-1),r=n.length*a*s,o=new Float32Array(r),l=new Float32Array(8*r),h=0;h<n.length;++h){for(var u=0;u<1e4;++u)e.lL=At(e.lL);e.random(e.lL);var t=Wt(n[h],e),f=function(t){for(var e=t.lZ,n=new Float32Array(e),i=null,r=0;r<e;++r)n[r]=t.random();if(t.lZ<=3)n[0]=0,n[t.lZ-1]=1;else for(r=0;r<2;++r){var a=Math.floor(t.random()*e);null==i||i!=a?(n[a]=r,i=a):n[a+1]=r}return n}(e),c=(Vt(f),_t(t,f,e)),f=Bt(e,f),c=Rt(c=function(t,e,n){for(var i=[],r=0;r<e.length-1;++r){i.push(e[r].slice());for(var a=r*(Zt(n)-1),s=(r+1)*(Zt(n)-1),o=t[s]-t[a],l=1+a;l<s;++l){for(var h=Ut(n),u=new Float32Array(e[0].length),f=(t[l]-t[a])/o,c=0;c<e[0].length/2;++c)u[2*c]=(1-f)*e[r][2*c]+f*e[r+1][2*c],u[2*c+1]=(1-f)*e[r][2*c+1]+f*e[r+1][2*c+1],2==n.style&&(u[2*c]+=jt(2*c/e[0].length,h,n));i.push(u)}}return i.push(e[e.length-1]),i}(f.a9Y,c,e),f.rt,f.a8N,Gt(e));Jt(c=0<e.oT?function(t,e,n){for(var i=[],r=0;r<t.length;++r){for(var a=Nt(2*Math.PI*n.random()),s=Nt(2*Math.PI*n.random()),o=.5*n.oT*zt({rH:1})/zt(n),l=o*n.oD/200,h=o*e/500,u=new Float32Array(t[0].length),f=0;f<t[0].length/2;++f){var c=Nt(2*Math.PI*n.random()),p=2*f/t[0].length;u[2*f]=t[r][2*f]+l*(c[0]+((1-p)*a[0]+p*s[0])),u[2*f+1]=t[r][2*f+1]+h*(c[1]+((1-p)*a[1]+p*s[1]))}i.push(u)}return i}(c,Pt(n[h]),e):c,e,o,l,i),i+=a*s}return[o,l]}function Kt(t,e){return t<e?1:(e=(t-e)/Math.pow(1.001-e,.86),e*=.85,Math.exp(-e*e*(1/(.8*.4)))*(1/(.4*Math.sqrt(2*Math.PI))))}function Qt(t){this.s7=new Uint32Array(t),this.list=[],this.NP=0,this.ge=4294967295}function $t(t,e,n,i,r,a){var s=ee;s(t[a-1],e,n-1<<2,r),s(t[a-1],e,i-1<<2,-r),s(t[a+1],e,i<<2,r),s(t[a+1],e,n<<2,-r);for(var o=1;o<a;o++)for(var l=t[a-o-1],h=t[a+o+1],u=0;u<=o;u++)s(l,e,n-1-u<<2,r),s(l,e,i-1-u<<2,-r),s(h,e,i+u<<2,r),s(h,e,n+u<<2,-r);te(t[a],e,n,i,r)}function te(t,e,n,i,r){for(var a=n<<2,s=i<<2;a<s;)ee(t,e,a,r),a+=4}function ee(t,e,n,i){i*=e[n+3];t[300]+=i,ne(t,e[n],0,i),ne(t,e[n+1],512,i),ne(t,e[n+2],1024,i)}function ne(t,e,n,i){t[n|e]+=i,t[256|n|e>>>4]+=i}function ie(t,e,n,i,r,a){var s=ae;s(t[a-1],e[n-1],0,r),s(t[a-1],e[i-1],0,-r),s(t[a+1],e[i],0,r),s(t[a+1],e[n],0,-r);for(var o=1;o<a;o++)for(var l=t[a-o-1],h=t[a+o+1],u=0;u<=o;u++)s(l,e[n-1-u],0,r),s(l,e[i-1-u],0,-r),s(h,e[i+u],0,r),s(h,e[n+u],0,-r);re(t[a],e,n,i,r)}function re(t,e,n,i,r){for(;n<i;)ae(t,e[n++],0,r)}function ae(t,e,n,i){t[n|e]+=i,t[256|n|e>>>4]+=i}function se(t,e,n,i,r,a){for(var s=r*i,o=0;o<i;o++)ae(t,n[s+o],o<<9,a),e[o]+=a}function oe(t,e,n){for(var i=0;i<16;i++){var r,a=e[n<<9|256|i];0!=a&&(t[256|i]+=a,le(t,e,r=i<<4,a=n<<9|r),le(t,e,4+r,4+a),le(t,e,8+r,8+a),le(t,e,12+r,12+a))}}function le(t,e,n,i){t[n]+=e[i],t[n+1]+=e[i+1],t[n+2]+=e[i+2],t[n+3]+=e[i+3]}function he(t,e,n,i){t[n]-=e[i],t[n+1]-=e[i+1],t[n+2]-=e[i+2],t[n+3]-=e[i+3]}function ue(t,e,n,i){!i&&t.Pv.iy(t.B)&&e.Sm.iy(e.B)?(n.U.push(e.B.x,e.B.y),n.C.push("L")):(n.U.push(t.Pv.x,t.Pv.y,e.Sm.x,e.Sm.y,e.B.x,e.B.y),n.C.push("C"))}Rr.xz={alq:function(t,e){var n=t.length;t.push(e);for(var i=n>>>1;0!=i&&t[n][0]<t[i][0];){var r=t[n];t[n]=t[i],t[i]=r,i=(n=i)>>>1}},ak5:function(t){if(2==t.length)return t.pop();var e=t[1],n=1;t[1]=t.pop();for(var i=t.length;;){var r=n<<1,a=1+r,s=n;if(r<i&&t[r][0]<t[s][0]&&(s=r),(s=a<i&&t[a][0]<t[s][0]?a:s)==n)break;a=t[n];t[n]=t[s],t[s]=a,n=s}return e},a8s:function(t){for(var e=1;e<t.length;e++)for(var n=e,i=1e9;0!=n;){var r=t[n][0];if(i<r)throw console.log(e),"e";i=r,n>>>=1}}},Rr.a={},Rr.a.lr=new Float64Array(256),Rr.a.LE=new Uint8Array(65536),Rr.a.mw=new Uint8Array(65536),function(){for(var t=0;t<256;t++)Rr.a.lr[t]=255/t;for(t=0;t<256;t++)for(var e=0;e<256;e++)Rr.a.LE[256*t+e]=0==t?0:Math.round(255*e/t);for(t=0;t<256;t++)for(e=0;e<256;e++)Rr.a.mw[256*t+e]=Math.round(t*(255-e)/255)}(),Rr.a.bW=function(t,e,n,i,r,a,s,o){null==o&&(o=Xi.jQ()),-1=="idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(t)&&(s*=o.fill,o.fill=1,o.style=!1);var l="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),h="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),u=Rr.a[t+"F"];null==o.J_&&"norm"==t?Rr.a.auA(e,n,i,r,a,s,u,o.fT?1:0):"diss"==t?Rr.a.aqD(e,n,i,r,a,s,u,o.fT?1:0):-1!=l.indexOf(t)?Rr.a.a2R(e,n,i,r,a,s,u,o):-1!=h.indexOf(t)&&Rr.a.a5$(e,n,i,r,a,s,u,o)},Rr.a.a3U=function(t,e,n){n=t*n+1-n;return n<.001?0:1-Math.min(1,(1-e)/n)},Rr.a.a9I=function(t,e,n){return t*n==1?1:Math.min(1,e/(1-t*n))},Rr.a.FH=function(t){return t<=.25?((16*t-12)*t+4)*t:Math.sqrt(t)},Rr.a.normF=function(t,e,n){return t},Rr.a.darkF=function(t,e,n){return Math.min(t,e)},Rr.a["mul F"]=function(t,e,n){return t*e},Rr.a.idivF=function(t,e,n){n=t*n+1-n;return 1==e?1:n<=1-e?0:1-(1-e)/n},Rr.a.lbrnF=function(t,e,n){return Math.max(0,t*n+e-n)},Rr.a.dkClF=function(t,e,n){e=Rr.Zr(t)<Rr.Zr(e)?t:e;return n.p=e.p,n.z=e.z,n.S=e.S,n},Rr.a.liteF=function(t,e,n){return Math.max(t,e)},Rr.a.scrnF=function(t,e,n){return e+t-e*t},Rr.a["div F"]=function(t,e,n){return t*=n,0==e?0:1-t<=e?1:e/(1-t)},Rr.a.lddgF=function(t,e,n){return t*=n,Math.min(1,t+e)},Rr.a.lgClF=function(t,e,n){e=Rr.Zr(t)>Rr.Zr(e)?t:e;return n.p=e.p,n.z=e.z,n.S=e.S,n},Rr.a.overF=function(t,e,n){return Rr.a.hLitF(e,t,n)},Rr.a.sLitF=function(t,e,n){return t<=.5?e-(1-2*t)*e*(1-e):e+(2*t-1)*(Rr.a.FH(e)-e)},Rr.a.hLitF=function(t,e,n){return t<=.5?Rr.a["mul F"](2*t,e,n):Rr.a.scrnF(2*t-1,e,n)},Rr.a.vLitF=function(t,e,n){return t<=.5?Rr.a.a3U(2*t,e,n):Rr.a.a9I(2*t-1,e,n)},Rr.a.lLitF=function(t,e,n){return t<=.5?Rr.a.lbrnF(2*t,e,n):Rr.a.lddgF(2*t-1,e,n)},Rr.a.pLitF=function(t,e,n){return t<=.5?Rr.a.darkF(2*t,e,n):Rr.a.liteF(2*t-1,e,n)},Rr.a.hMixF=function(t,e,n){return.99<n?t+e<1?0:1:Math.min(1,Math.max(0,(e+t*n-n)/(1-n+1e-6)))},Rr.a.diffF=function(t,e,n){return t*=n,Math.abs(t-e)},Rr.a.smudF=function(t,e,n){return t+e-2*t*e},Rr.a.fsubF=function(t,e,n){return Math.max(e-t,0)},Rr.a.fdivF=function(t,e,n){return Math.min(e/t,1)},Rr.a["hue F"]=function(t,e,n){Rr.a.qs(t,Rr.tf(e),n),Rr.a.jf(n,Rr.Zr(e),n)},Rr.a["sat F"]=function(t,e,n){Rr.a.qs(e,Rr.tf(t),n),Rr.a.jf(n,Rr.Zr(e),n)},Rr.a.colrF=function(t,e,n){Rr.a.jf(t,Rr.Zr(e),n)},Rr.a["lum F"]=function(t,e,n){Rr.a.jf(e,Rr.Zr(t),n)},Rr.a.jf=function(t,e,n){e-=Rr.Zr(t);n.p=t.p+e,n.z=t.z+e,n.S=t.S+e,Rr.a.aeR(n)},Rr.a.aeR=function(t){var e,n=t.p,i=t.z,r=t.S,a=Rr.X_(n,i,r),s=Math.min(n,i,r),o=Math.max(n,i,r);s<0&&(n=a+(n-a)*(e=a/(a-s)),i=a+(i-a)*e,r=a+(r-a)*e),1<o&&(n=a+(n-a)*(e=(1-a)/(o-a)),i=a+(i-a)*e,r=a+(r-a)*e),t.p=n,t.z=i,t.S=r},Rr.a.qs=function(t,e,n){var i=Rr.a.a2B,r=t.p,a=t.z,t=t.S;r==a&&a==t?n.p=n.z=n.S=0:a<r?t<r?t<a?(n.p=e,n.z=i(r,a,t,e),n.S=0):(n.p=e,n.S=i(r,t,a,e),n.z=0):(n.S=e,n.p=i(t,r,a,e),n.z=0):r<t?(t<a?(n.z=e,n.S=i(a,t,r,e)):(n.S=e,n.z=i(t,a,r,e)),n.p=0):(n.z=e,n.p=i(a,r,t,e),n.S=0)},Rr.a.a2B=function(t,e,n,i){return(e-n)*i/(t-n)},Rr.a.auA=function(t,e,n,i,r,a,s,o){for(var r=e.BS(i).BS(r),l=Math.max(0,r.x-e.x),h=Math.max(0,r.x-i.x),u=Math.max(0,r.y-e.y),f=Math.max(0,r.y-i.y),c=r.m,p=r.n,d=e.m,v=i.m,g=(Rr.a.LE,Rr.a.mw,new Uint32Array(t.buffer)),y=new Uint32Array(n.buffer),m=0;m<p;m++)for(var w=(u+m)*d+l,b=(f+m)*v+h,M=0;M<c;M++){var S,C,x,L=g[w+M],D=1;L>>>24!=0&&(L>>>24!=255||1!=a||0!=o?(C=a,x=1/255*((S=y[b+M])>>>24),0==o&&(C=(L>>>24)*a*(1/255),D=x),y[b+M]=~~(.5+255*(o*x+(1-o)*(D=C+(x=D*(1-C)))))<<24|~~(.5+((L>>>16&255)*C+(S>>>16&255)*x)*(D=1/D))<<16|~~(.5+((L>>>8&255)*C+(S>>>8&255)*x)*D)<<8|~~(.5+((255&L)*C+(255&S)*x)*D)):y[b+M]=g[w+M])}},Rr.a.a9r=function(t,e,n,i,r,a){for(var r=e.BS(i).BS(r),s=Math.max(0,r.x-e.x),o=Math.max(0,r.x-i.x),l=Math.max(0,r.y-e.y),h=Math.max(0,r.y-i.y),u=r.m,f=r.n,c=e.m,p=i.m,d=(Rr.a.LE,Rr.a.mw,new Uint32Array(t.buffer)),v=new Uint32Array(n.buffer),g=Math.floor(16777215*Math.random()),y=0,m=0;m<f;m++)for(var w=(l+m)*c+s,b=(h+m)*p+o,M=0;M<u;M++){var S,C,x,L,D,k,T,A,E,O,N=d[w+M];N>>>24!=0&&(N>>24!=255||1!=a?(T=(S=(N>>>24)*a*(1/255))+(C=1/255*((O=v[b+M])>>>24)*(1-S)),x=255&N,L=N>>>8&255,D=N>>>16&255,k=255&O,E=O>>>8&255,A=O>>>16&255,y>>>=8,0==(3&M)&&(y=Rr.a.Fv(b+M+g)),O=0==T?0:1/T,T=Math.floor(65280*T)+(255&y)>>>8,A=Math.floor((D*S+A*C)*O+.5),E=Math.floor((L*S+E*C)*O+.5),O=Math.floor((x*S+k*C)*O+.5),v[b+M]=T<<24|A<<16|E<<8|O):v[b+M]=N)}},Rr.a.RW=function(t,e,n,i,r,a,s,o){var l=Rr.X_(t,e,n),h=Rr.X_(i,r,a),u=Math.min,f=Rr.a.adZ,l=u(l=f(l,o,0),f(t,o,8));l=u(l,f(e,o,16)),l=u(l,f(n,o,24));h=u(h=f(h,o,4),f(i,o,12));h=u(h,f(r,o,20)),h=u(h,f(a,o,28)),h=Math.max(h,1-s);h=Math.min(l,h);return h<0?0:1<h?1:h},Rr.a.adZ=function(t,e,n){return Math.min((t-e[n])*e[n+1],(t-e[n+3])*e[n+2])},Rr.a.a2R=function(t,e,n,i,r,a,s,o){for(var l=1/255,h=l*a,u=o.fT?1:0,f=o.fill,c=o.style,r=e.BS(i).BS(r),p=Math.max(0,r.x-e.x),d=Math.max(0,r.x-i.x),v=Math.max(0,r.y-e.y),g=Math.max(0,r.y-i.y),y=r.m,m=r.n,w=e.m,b=i.m,M=new Uint32Array(t.buffer),S=new Uint32Array(n.buffer),C=0;C<m;C++)for(var x=(v+C)*w+p,L=(g+C)*b+d,D=0;D<y;D++,x++,L++){var k,T,A,E,O,N,I,P,F,_,B=M[x],R=1;B>>>24!=0&&(T=(255&B)*l,A=(B>>>8&255)*l,E=(B>>>16&255)*l,I=(255&(k=S[L]))*l,P=(k>>>8&255)*l,O=(k>>>16&255)*l,N=a,0==u&&(N=(B>>>24)*h,R=(k>>>24)*l),o.J_&&(N*=Rr.a.RW(T,A,E,I,P,O,R,o.J_)),F=0==(_=N+R*(1-N))?0:255/_,I=((1-R)*N*T+(1-(B=c?1:N))*R*I+B*R*s(T,I,(1+N-B)*f))*F,P=((1-R)*N*A+(1-B)*R*P+B*R*s(A,P,(1+N-B)*f))*F,F=((1-R)*N*E+(1-B)*R*O+B*R*s(E,O,(1+N-B)*f))*F,S[L]=u*(k>>>24)+(1-u)*~~(255*(_=N*f+R*(1-N*f))+.5)<<24|F<<16|P<<8|I)}},Rr.a.a5$=function(t,e,n,i,r,a,s,o){for(var l=1/255,h=l*a,u=o.fT?1:0,r=e.BS(i).BS(r),f=Math.max(0,r.x-e.x),c=Math.max(0,r.x-i.x),p=Math.max(0,r.y-e.y),d=Math.max(0,r.y-i.y),v=r.m,g=r.n,y=new Uint32Array(t.buffer),m=new Uint32Array(n.buffer),w={p:0,z:0,S:0},b={p:0,z:0,S:0},M={p:0,z:0,S:0},S=0;S<g;S++)for(var C=(p+S)*e.m+f,x=(d+S)*i.m+c,L=0;L<v;L++,C++,x++){var D=y[C],k=m[x],T=(255&D)*l,A=(D>>>8&255)*l,E=(D>>>16&255)*l,O=(255&k)*l,N=(k>>>8&255)*l,I=(k>>>16&255)*l,P=a,F=1;0==u&&(P=(D>>>24)*h,F=(k>>>24)*l),o.J_&&(P*=Rr.a.RW(T,A,E,O,N,I,F,o.J_));var _=F*(1-P),B=P+_,D=255/B;w.p=T,w.z=A,w.S=E,b.p=O,b.z=N,b.S=I,s(w,b,M);O=(((1-F)*T+F*M.p)*P+O*_)*D,N=(((1-F)*A+F*M.z)*P+N*_)*D,D=(((1-F)*E+F*M.S)*P+I*_)*D,B=u*(k>>>24)+(1-u)*Math.round(255*B);m[x]=B<<24|D<<16|N<<8|O}},Rr.a.k0=function(t){return t=61^t^t>>>16,t+=t<<3,t^=t>>>4,t*=668265261,1/16777215*(16777215&(t^=t>>15))},Rr.a.Fv=function(t){return t=61^t^t>>>16,t+=t<<3,t^=t>>>4,t*=668265261,t^=t>>>15},Rr.a.ol=function(t){this.oA=t},Rr.a.ol.prototype.get=function(){return 1/16777215*(16777215&(this.oA=Rr.a.Fv(this.oA)))},Rr.a.aqD=function(t,e,n,i,r,a,s,o){for(var l=Math.round(a*(16777216/255)),r=e.BS(i).BS(r),h=Math.max(0,r.x-e.x),u=Math.max(0,r.x-i.x),f=Math.max(0,r.y-e.y),c=Math.max(0,r.y-i.y),p=r.m,d=r.n,v=new Uint32Array(t.buffer),g=new Uint32Array(n.buffer),y=0;y<d;y++)for(var m=(f+y)*e.m+h,w=(c+y)*i.m+u,b=0;b<p;b++,m++,w++){var M=v[m],S=g[w],C=255*o+(1-o)*(M>>>24);(16777215&Rr.a.Fv(m))>=C*l||(g[w]=16777215&M|o*(S>>>24)+255*(1-o)<<24)}},Rr.a.apQ=function(t,e,n){for(var i=0;i<t.length;i+=4){var r,a,s,o,l,h,u,f=n[i>>>2];0!=f&&(a=1/(r=f*(1/255)),s=e[i],o=e[i+1],l=e[i+2],h=t[i],u=t[i+1],f=t[i+2],e[i]=Math.min(255,Math.max(0,Math.round((s-(1-r)*h)*a))),e[i+1]=Math.min(255,Math.max(0,Math.round((o-(1-r)*u)*a))),e[i+2]=Math.min(255,Math.max(0,Math.round((l-(1-r)*f)*a))),e[i+3]=255)}},Rr.a.hM=function(t,e,n,i,r,a,s,o,l,h,u){null==h&&(h=!1);var f=255<<24|16711680*(u=null==u?[1,1,1]:u)[2]|65280*u[1]|255*u[0],c=~f;r&&!e.iy(a)&&((u=Rr.t(4*e.Z())).fill(s),Rr.rR(r,a,u,e),r=u,a=e),h?null==r?Rr.a.afE(t,e,n,i,r,o,l,f,c):Rr.a.a4j(t,e,n,i,r,o,l):null==r?Rr.a.a0g(t,e,n,i,r,o,l,f,c):Rr.a.aay(t,e,n,i,r,o,l)},Rr.a.a0g=function(t,e,n,i,r,a,s,o,l){for(var a=e.BS(i).BS(a),h=Math.max(0,a.x-e.x),u=Math.max(0,a.x-i.x),f=Math.max(0,a.y-e.y),c=Math.max(0,a.y-i.y),p=a.m,d=a.n,v=new Uint32Array(t.buffer),g=new Uint32Array(n.buffer),y=Rr.a.LE,m=255*s&255,w=0;w<d;w++)for(var b=(f+w)*e.m+h,M=(c+w)*i.m+u,S=0;S<p;S++,b++,M++){var C=v[b],x=g[M],L=C>>>24,D=x>>>24,k=Rr.oq(m*L+(255-m)*D),T=Rr.oq(L*m),A=Rr.oq(D*(255-m)),L=T*(C>>>8&255)+(x>>>8&255)*A,D=T*(C>>>16&255)+(x>>>16&255)*A,A=y[k<<8|Rr.oq(A=T*(255&C)+(255&x)*A)],L=y[k<<8|Rr.oq(L)],D=y[k<<8|Rr.oq(D)];g[M]=l&x|o&(k<<24|D<<16|L<<8|A)}},Rr.a.afE=function(t,e,n,i,r,a,s,o,l){for(var a=e.BS(i).BS(a),h=Math.max(0,a.x-e.x),u=Math.max(0,a.x-i.x),f=Math.max(0,a.y-e.y),c=Math.max(0,a.y-i.y),p=a.m,d=a.n,v=new Uint32Array(t.buffer),g=new Uint32Array(n.buffer),y=(Rr.a.LE,16777215*s&16777215),m=0;m<d;m++)for(var w=(f+m)*e.m+h,b=(c+m)*i.m+u,M=0;M<p;M++,w++,b++)(16777215&Rr.a.Fv(w))<y&&(g[b]=l&g[b]|o&v[w])},Rr.a.aay=function(t,e,n,i,r,a,s){for(var a=e.BS(i).BS(a),o=Math.max(0,a.x-e.x),l=Math.max(0,a.x-i.x),h=Math.max(0,a.y-e.y),u=Math.max(0,a.y-i.y),f=a.m,c=a.n,p=new Uint32Array(t.buffer),d=new Uint32Array(n.buffer),v=Rr.a.LE,g=0;g<c;g++)for(var y=(h+g)*e.m+o,m=(u+g)*i.m+l,w=0;w<f;w++,y++,m++){var b,M,S,C,x,L,D,k,T=r[y]*s&255;0!=T&&(255!=T?(b=p[y],L=d[m],M=Rr.oq(T*(x=b>>>24)+(255-T)*(D=L>>>24)),S=Rr.oq(x*T),k=Rr.oq(D*(255-T)),C=b>>>8&255,x=b>>>16&255,D=L>>>8&255,T=L>>>16&255,L=v[M<<8|Rr.oq(S*(255&b)+(255&L)*k)],D=v[M<<8|Rr.oq(S*C+D*k)],k=v[M<<8|Rr.oq(S*x+T*k)],d[m]=M<<24|k<<16|D<<8|L):d[m]=p[y])}},Rr.a.a4j=function(t,e,n,i,r,a,s){for(var a=e.BS(i).BS(a),o=Math.max(0,a.x-e.x),l=Math.max(0,a.x-i.x),h=Math.max(0,a.y-e.y),u=Math.max(0,a.y-i.y),f=a.m,c=a.n,p=new Uint32Array(t.buffer),d=new Uint32Array(n.buffer),v=(Rr.a.LE,Math.round(257*s)),g=0;g<c;g++)for(var y=(h+g)*e.m+o,m=(u+g)*i.m+l,w=0;w<f;w++,y++,m++){var b=r[y]*v;(65535&Rr.a.Fv(y))<b&&(d[m]=p[y])}},Rr.a.uB=function(t,e,n,i,r,a,s){for(var a=e.BS(i).BS(a),o=Math.max(0,a.x-e.x),l=Math.max(0,a.x-i.x),h=Math.max(0,a.y-e.y),u=Math.max(0,a.y-i.y),f=a.m,c=a.n,p=new Uint32Array(t.buffer),d=new Uint32Array(n.buffer),v=Math.floor(Math.random()*i.Z()),g=(Rr.a.ahf,0);g<c;g++)for(var y=(h+g)*e.m+o,m=(u+g)*i.m+l,w=0;w<f;w++){var b,M,S,C,x,L,D,k,T,A,E=r[y+w]*s;0!=E&&(255!=E?(b=((L=p[y+w])>>>24)*E*(1/255),T=((D=d[m+w])>>>24)*(255-E)*(1/255),M=255&L,S=L>>>8&255,C=L>>>16&255,x=255&D,A=D>>>8&255,k=D>>>16&255,E=Rr.a.Fv(m+w+v),D=0==(L=Math.floor(256*(b+T)+.5)+(E>>>0&255)>>>8)?0:256/(b+T),A=S*b+A*T,k=C*b+k*T,T=Math.floor((M*b+x*T)*D+.5)+(E>>>8&255)>>>8,A=Math.floor(A*D+.5)+(E>>>16&255)>>>8,E=Math.floor(k*D+.5)+(E>>>24&255)>>>8,d[m+w]=L<<24|E<<16|A<<8|T):d[m+w]=p[y+w])}},Rr.a.ahf=function(t){return Math.floor(t+Math.random())},Rr.a.U8=function(t,e,n,i,r,a,s){for(var a=e.BS(i).BS(a),o=Math.max(0,a.x-e.x),l=Math.max(0,a.x-i.x),h=Math.max(0,a.y-e.y),u=Math.max(0,a.y-i.y),f=a.m,c=a.n,p=0;p<c;p++)for(var d=(h+p)*e.m+o,v=(u+p)*i.m+l,g=0;g<f;g++,d++,v++){var y=s*r[d]*(1/255);0!=y&&(n[v]=1!=y?t[d]*y+n[v]*(1-y):t[d])}},Rr.a2m=(Lt=[],{asn:function(t,e,n){for(var i=1+.55*(1-e),r=Math.round(n*t*i)+2,n=new Fr(0,0,r,r),t=Rr.t(r*r*4),a=new Uint32Array(t.buffer),n=[t,n],s=r/2,o=i/(s-1),i=(Date.now(),function(t){if(Lt[t])return Lt[t];for(var e=Math.pow(t,.55),n=new Float64Array(8e3),i=0,r=8e3,a=0;a<8e3;a++){var s=Kt(3875e-7*a,e);1<=s?i=a:s<=0&&8e3==r&&(r=a),n[a]=s}var o=[n,i,r];return Lt[t]=o}(e)),e=Math.round(8e3/s),l=i[0],h=i[1]-e,u=i[2]+e,f=Math.min(r,r+1>>>1),c=.4*o*(4e3/1.55),p=Rr.t(8e3),d=0;d<8e3;d++){var v=d,g=d,y=~~Math.max(0,v-c-c),m=~~Math.max(0,v-c),w=~~(.5+51*(l[g]+l[y]+l[m]+l[~~(v+c)]+l[~~(v+c+c)]));if(0==(p[d]=w))break}for(d=0;d<f;d++)for(var b=o*(d-s+.5),M=b*b,S=d*r,C=(r-1-d)*r,x=0;x<f;x++){var L=o*(x-s+.5);if(!(u<(g=~~(Math.sqrt(L*L+M)*(4e3/1.55))))){if(g<h){for(w=4278190080;x<f;){var D=r-1-x;a[S+x]=w,a[S+D]=w,a[C+x]=w,a[C+D]=w,x++}break}w=p[g]<<24,D=r-1-x;a[S+x]=w,a[S+D]=w,a[C+x]=w,a[C+D]=w}}return n}}),Rr.et={},Rr.et.auE=function(t,e,n,i,r,a){Rr.et._F(t,e,n,i,r,a,null,0)},Rr.et.a7U=function(t,e,n,i,r){Rr.et._F(t,e,n,i,r,null,null,0)},Rr.et.aiU=function(t,e,n,i,r,a,s){Rr.et._F(t,e,n,i,r,null,a,.5*s)},Rr.et._F=function(t,e,n,i,r,a,s,o){var l=0,h=0,u=1e9,f=0,c=1e9,p=0,d=1e9,v=0,g=0,y=0;a&&(l=.5*r,r=3+Math.round(.75*(r-3)));for(var m=1/(r=s?Math.round(2.2*r):r),w=Math.floor(e*m)+1,b=Math.floor(n*m)+1,M=[],S=new Uint8Array(w*b*4),C=s?.5:1,x=a?64:0,L=0;L<b;L++)for(var D=s?.5*(1&L):0,k=0;k<w;k++){var T=(k+Math.random()*C+D)*r,A=(L+Math.random()*C)*r;M.push(T,A);for(var T=Math.min(e-1,Math.floor(T)),E=4*(Math.min(n-1,Math.floor(A))*e+T),O=4*(L*w+k),N=0;N<4;N++)S[O+N]=Math.max(0,Math.min(255,Math.floor(t[E+N]+(Math.random()-.5)*x)))}for(var I=a||s||[0,0,0],P=w*b*2,F=[-w-1,-w,1-w,-1,0,1,w-1,w,w+1],L=0;L<n;L++)for(y=0,k=0;k<e;k++){var _=k+.5,B=L+.5,R=Math.floor(B*m)*w+Math.floor(_*m),U=0,j=0;if(1+o<y)u=Rr.et.z3(M,h,_,B),v=Math.sqrt(u),y--,0;else{for(u=c=d=1e9,N=0;N<F.length;N++){var H,J=2*(R+F[N]);J<0||P<=J||(H=Rr.et.z3(M,J,_,B))<d&&(H<c?H<u?(p=f,d=c,f=h,c=u,h=J,u=H):(p=f,d=c,f=J,c=H):(p=J,d=H))}v=Math.sqrt(u),y=(g=Math.sqrt(c))-.5*(v+g)}var q=1-(j=null==s?(q=.5*(v+g),G=a?Math.max(0,q-l):0,U=Math.max(0,Math.min(1,.5+q-v-G)),Math.max(0,Math.min(1,1-(.5+q-v)-G))):(Z=Math.min(Rr.et.SO(M,h,f,_,B),Rr.et.SO(M,h,p,_,B)),U=Math.max(0,Math.min(1,Z-.5*o)),(_<o||e-o<_||B<o||n-o<B)&&(U=0),0))-U,G=h<<1,Z=f<<1;i[(O=L*e+k<<2)+0]=Math.floor(.5+U*S[G]+j*S[Z]+q*I[0]),i[O+1]=Math.floor(.5+U*S[1+G]+j*S[1+Z]+q*I[1]),i[O+2]=Math.floor(.5+U*S[2+G]+j*S[2+Z]+q*I[2]),i[O+3]=t[O+3]}},Rr.et.z3=function(t,e,n,i){n-=t[e],e=i-t[e+1];return n*n+e*e},Rr.et.SO=function(t,e,n,i,r){var a=t[e],s=t[e+1],o=t[n],e=t[n+1],t=.5*(a+o),n=.5*(s+e),e=e-s+t,s=n-(o-a),o=s-n,a=e-t;return Math.abs(o*i-a*r+e*n-s*t)/Math.sqrt(a*a+o*o)},Rr.VF={},Rr.VF._M=function(t){return Rr.VF.DK.length<t&&(Rr.VF.DK=Rr.t(t)),Rr.VF.DK},Rr.VF.DK=Rr.t(0),Rr.VF.Yj=function(t){return Rr.VF.yG.length<t&&(Rr.VF.yG=new Float32Array(t)),Rr.VF.yG},Rr.VF.yG=new Float32Array(0),Rr.VF.uc=function(t,e,n,i){var r=n.m,n=n.n;Rr.VF.as1(t,e,r,n,i)},Rr.VF.IS=function(t,e,n,i){var r=n.m,n=n.n;Rr.VF.ams(t,e,r,n,i)},Rr.VF.qr=function(t,e,n){var i=e.m,e=e.n;Rr.VF.a42(t,i,e,n)},Rr.VF.OT=function(t,e,n,i,r){var a=n.m,n=n.n;Rr.VF.a5b(t,e,a,n,i,r)},Rr.VF.TX=function(t,e,n,i){var r=n.m,a=n.n;i=Math.round(i);n=Rr.VF._M(r*a);Rr.VO(t,e),Rr.VF.sn(e,n,r,a,i)},Rr.VF.Jb=function(t,e,n){var i=e.m,r=e.n;n=Math.round(n);e=Rr.VF._M(i*r*4);Rr.VF.wU(t,e,i,r,n)},Rr.VF.$K=function(t,e,n,i){var r=n.m,a=n.n;i=Math.round(i);n=Rr.VF.Yj(r*a);Rr.VO(t,e),Rr.VF.cQ(e,n,r,a,i)},Rr.VF.Bs=function(t,e,n){var i=e.m,r=e.n;n=Math.round(n);e=Rr.VF._M(i*r*4);Rr.VF.sQ(t,e,i,r,n),Rr.VO(e,t)},Rr.VF.yz=function(t,e){var n=Math.sqrt(12*t*t/e+1),i=Math.floor(n);i%2==0&&i--;for(var r=i+2,a=Math.round((12*t*t-e*i*i-4*e*i-3*e)/(-4*i-4)),s=[],o=0;o<e;o++)s.push(o<a?i:r);return s},Rr.VF.as1=function(t,e,n,i,r){var a=Rr.VF.yz(r,3),r=Rr.VF._M(n*i);Rr.VO(t,e),Rr.VF.sn(e,r,n,i,a[0]-1>>1),Rr.VF.sn(e,r,n,i,a[1]-1>>1),Rr.VF.sn(e,r,n,i,a[2]-1>>1)},Rr.VF.ams=function(t,e,n,i,r){var a=Rr.VF.yz(r,2),r=Rr.VF._M(n*i);Rr.VO(t,e),Rr.VF.sn(e,r,n,i,a[0]-1>>1),Rr.VF.sn(e,r,n,i,a[1]-1>>1)},Rr.VF.a42=function(t,e,n,i){var r=Rr.VF.yz(i,3),i=Rr.VF._M(e*n*4);Rr.VF.wU(t,i,e,n,r[0]-1>>1),Rr.VF.wU(t,i,e,n,r[1]-1>>1),Rr.VF.wU(t,i,e,n,r[2]-1>>1)},Rr.VF.a5b=function(t,e,n,i,r,a){var s=Rr.VF.yz(r,a=null==a?3:a),o=Rr.VF.Yj(n*i);Rr.VO(t,e);for(var l=0;l<a;l++)Rr.VF.cQ(e,o,n,i,(s[l]-1)/2)},Rr.VF.sn=function(t,e,n,i,r){Rr.VF.ad7(t,e,n,i,r),Rr.VF.a0G(e,t,n,i,r)},Rr.VF.wU=function(t,e,n,i,r){Rr.VF.sQ(t,e,n,i,r),Rr.VF.a3$(e,t,n,i,r)},Rr.VF.cQ=function(t,e,n,i,r){Rr.VF.amW(t,e,n,i,r),Rr.VF.a6u(e,t,n,i,r)},Rr.VF.Pg=[],Rr.VF._X=function(t){if(Rr.VF.Pg[t])return Rr.VF.Pg[t];for(var e=1/(t+t+1),n=256*(t+t+1),i=Rr.t(n),r=0;r<n;r++)i[r]=Math.round(r*e);return Rr.VF.Pg[t]=i},Rr.VF.ad7=function(t,e,n,i,r){for(var a=n-r-r-1,s=Rr.VF._X(r),o=0;o<i;o++){for(var l=o*n,h=l,u=l+r,f=t[l],c=t[l+n-1],p=(r+1)*f,d=0;d<r;d++)p+=t[l+d];for(d=0;d<=r;d++)p+=t[u+d]-f,e[l+d]=s[p];u+=r+1,l+=r+1;for(d=0;d<a;d++)p+=t[u+d]-t[h+d],e[l+d]=s[p];u+=a,h+=a,l+=a;for(d=n-r;d<n;d++)p+=c-t[h++],e[l++]=s[p]}},Rr.VF.sQ=function(t,e,n,i,r){for(var a=n<<2,s=r<<2,o=n-r-r-1<<2,l=Rr.VF._X(r),h=0;h<i;h++){for(var u=h*a,f=u,c=u+s,p=u+a,d=(r+1)*(w=t[u]),v=(r+1)*(b=t[u+1]),g=(r+1)*(M=t[u+2]),y=(r+1)*(S=t[u+3]),m=0;m<s;m+=4)d+=t[u+m],v+=t[u+m+1],g+=t[u+m+2],y+=t[u+m+3];for(m=0;m<=s;m+=4)d+=t[c]-w,e[u]=l[d],v+=t[c+1]-b,e[u+1]=l[v],g+=t[c+2]-M,e[u+2]=l[g],y+=t[c+3]-S,e[u+3]=l[y],c+=4,u+=4;for(m=0;m<o;m+=4)d+=t[c+m]-t[f+m],e[u+m]=l[d],v+=t[c+m+1]-t[f+m+1],e[u+m+1]=l[v],g+=t[c+m+2]-t[f+m+2],e[u+m+2]=l[g],y+=t[c+m+3]-t[f+m+3],e[u+m+3]=l[y];c+=o,f+=o,u+=o;for(var w=t[p-4],b=t[p-3],M=t[p-2],S=t[p-1],m=n-r;m<n;m++)d+=w-t[f],e[u]=l[d],v+=b-t[f+1],e[u+1]=l[v],g+=M-t[f+2],e[u+2]=l[g],y+=S-t[f+3],e[u+3]=l[y],f+=4,u+=4}},Rr.VF.amW=function(t,e,n,i,r){for(var a=1/(r+r+1),s=n-r-r-1,o=0;o<i;o++){for(var l=o*n,h=l,u=l+r,f=t[l],c=t[l+n-1],p=(r+1)*f,d=0;d<r;d++)p+=t[l+d];for(d=0;d<=r;d++)p+=t[u+d]-f,e[l+d]=p*a;u+=r+1,l+=r+1;for(d=0;d<s;d++)p+=t[u+d]-t[h+d],e[l+d]=p*a;u+=s,h+=s,l+=s;for(d=n-r;d<n;d++)p+=c-t[h++],e[l++]=p*a}},Rr.VF.a0G=function(t,e,n,i,r){for(var a=i-r-r-1,s=Rr.VF._X(r),o=0;o<n;o++){for(var l=o,h=l,u=l+r*n,f=t[l],c=t[l+n*(i-1)],p=(r+1)*f,d=0;d<r;d++)p+=t[l+d*n];for(d=0;d<=r;d++)p+=t[u]-f,e[l]=s[p],u+=n,l+=n;for(d=0;d<a;d++){var v=d*n;p+=t[u+v]-t[h+v],e[l+v]=s[p]}h+=a*n,u+=a*n,l+=a*n;for(d=i-r;d<i;d++)p+=c-t[h],e[l]=s[p],h+=n,l+=n}},Rr.VF.a3$=function(t,e,n,i,r){for(var a=n<<2,s=i-r-r-1,o=Rr.VF._X(r),l=0;l<n;l++){for(var h=l<<2,u=h,f=h+r*a,c=h+a*(i-1),p=(r+1)*(b=t[h]),d=(r+1)*(M=t[h+1]),v=(r+1)*(S=t[h+2]),g=(r+1)*(C=t[h+3]),y=0;y<r;y++){var m=h+y*a;p+=t[m],d+=t[m+1],v+=t[m+2],g+=t[m+3]}for(y=0;y<=r;y++)p+=t[f]-b,e[h]=o[p],d+=t[f+1]-M,e[h+1]=o[d],v+=t[f+2]-S,e[h+2]=o[v],g+=t[f+3]-C,e[h+3]=o[g],f+=a,h+=a;for(y=0;y<s;y++){var w=y*a;p+=t[f+w]-t[u+w],e[h+w]=o[p],d+=t[f+w+1]-t[u+w+1],e[h+w+1]=o[d],v+=t[f+w+2]-t[u+w+2],e[h+w+2]=o[v],g+=t[f+w+3]-t[u+w+3],e[h+w+3]=o[g]}u+=s*a,f+=s*a,h+=s*a;for(var b=t[c],M=t[c+1],S=t[c+2],C=t[c+3],y=i-r;y<i;y++)p+=b-t[u],e[h]=o[p],d+=M-t[u+1],e[h+1]=o[d],v+=S-t[u+2],e[h+2]=o[v],g+=C-t[u+3],e[h+3]=o[g],u+=a,h+=a}},Rr.VF.a6u=function(t,e,n,i,r){for(var a=1/(r+r+1),s=i-r-r-1,o=0;o<n;o++){for(var l=o,h=l,u=l+r*n,f=t[l],c=t[l+n*(i-1)],p=(r+1)*f,d=0;d<r;d++)p+=t[l+d*n];for(d=0;d<=r;d++)p+=t[u]-f,e[l]=p*a,u+=n,l+=n;for(d=0;d<s;d++){var v=d*n;p+=t[u+v]-t[h+v],e[l+v]=p*a}h+=s*n,u+=s*n,l+=s*n;for(d=i-r;d<i;d++)p+=c-t[h],e[l]=p*a,h+=n,l+=n}},Rr.Cs={},Rr.Cs.t=function(t,e,n,i){for(var r=[],a=0;a<4;a++)for(var s=0;s<4;s++)r.push(t+n*s/3,e+i*a/3);return r},Rr.Cs.v3=function(t,e){for(var n=t.slice(0),i=0;i<4;i++)for(var r=0;r<4;r++){var a,s=2*(4*i+r),o=2*(4*r+(3-i));e&&(a=s,s=o,o=a),n[o]=t[s],n[o+1]=t[s+1]}return n},Rr.Cs.Zl=Rr.t(0),Rr.Cs.drawImage=function(t,e,n,i,r,a,s){Date.now();var o=n+4,l=i+4,h=new Fr(2,2,n,i),u=h.clone();u.bA(2,2);var f=Rr.Cs.Zl;f.length!=4*u.Z()?f=Rr.Cs.Zl=Rr.t(4*u.Z()):f.fill(0),Rr.Ik(e,h,f,u),Date.now(),Rr.V4(f);Date.now();for(var c=[],p=[],d=[],v=0;v<51;v++)for(var g=0;g<51;g++){var y,m,w,b=g/50,M=v/50;c.push(o*b,l*M),g<50&&v<50&&(w=(m=(y=51*v+g)+50+1)+1,p.push(y,y=y+1,m),p.push(m,y,w));M=Rr.Cs.arm(t,b,M);d.push(-M)}u=c.slice(0);Rr.Cs.A(t,u,new Fr(2,2,n,i)),Rr.H.A(u,new _r(1,0,0,1,-a.x,-a.y),u),Date.now();i=a.m,a=a.n;Rr.Zg.xm(f,o,l,r,i,a,c,u,d,p),Date.now(),Rr.hY(r),Date.now()},Rr.Cs.Uc=new Array(10),Rr.Cs.a1P=function(t,e){for(var n=0,i=0,r=1e9,a=Rr.Cs.Uc,s=0;s<201;s++)for(var o=0;o<201;o++){var l=o/200,h=s/200;Rr.Cs.PO(t,l,h,a);var u=a[8]-e.x,f=a[9]-e.y,f=u*u+f*f;f<r&&(r=f,n=l,i=h)}return[n,i]},Rr.Cs.A=function(t,e,n){for(var i=n.x,r=n.y,a=1/n.m,s=1/n.n,o=Rr.Cs.Uc,l=0;l<e.length;l+=2){var h=(e[l]-i)*a,u=(e[l+1]-r)*s;Rr.Cs.PO(t,h,u,o),e[l]=o[8],e[l+1]=o[9]}},Rr.Cs.arm=function(t,e,n){var i,r,a=Rr.Cs.Uc;return Rr.Cs.a1D(t,e,n,a),i=a[8],r=a[9],Rr.Cs.afK(t,e,n,a),n=a[8],i*a[9]-r*n},Rr.Cs.PO=function(t,e,n,i){Rr.Cs.eX(i,0,n),Rr.Cs.eX(i,4,e),Rr.Cs.xU(t,i)},Rr.Cs.a1D=function(t,e,n,i){Rr.Cs.eX(i,0,n),Rr.Cs.XJ(i,4,e),Rr.Cs.xU(t,i)},Rr.Cs.afK=function(t,e,n,i){Rr.Cs.XJ(i,0,n),Rr.Cs.eX(i,4,e),Rr.Cs.xU(t,i)},Rr.Cs.XJ=function(t,e,n){var i=1-n;t[e]=i*i*-3,t[e+1]=i*i*3-n*i*6,t[e+2]=n*i*6-n*n*3,t[e+3]=n*n*3},Rr.Cs.eX=function(t,e,n){var i=1-n;t[e]=i*i*i,t[e+1]=3*n*(i*i),t[e+2]=n*n*3*i,t[e+3]=n*n*n},Rr.Cs.xU=function(t,e){var n=0,i=0,r=0,a=e[0],s=e[1],o=e[2],l=e[3],h=e[4],u=e[5],f=e[6],c=e[7];n+=t[0]*(r=a*h),i+=t[1]*r,n+=t[2]*(r=a*u),i+=t[3]*r,n+=t[4]*(r=a*f),i+=t[5]*r,n+=t[6]*(r=a*c),i+=t[7]*r,n+=t[8]*(r=s*h),i+=t[9]*r,n+=t[10]*(r=s*u),i+=t[11]*r,n+=t[12]*(r=s*f),i+=t[13]*r,n+=t[14]*(r=s*c),i+=t[15]*r,n+=t[16]*(r=o*h),i+=t[17]*r,n+=t[18]*(r=o*u),i+=t[19]*r,n+=t[20]*(r=o*f),i+=t[21]*r,n+=t[22]*(r=o*c),i+=t[23]*r,n+=t[24]*(r=l*h),i+=t[25]*r,n+=t[26]*(r=l*u),i+=t[27]*r,n+=t[28]*(r=l*f),i+=t[29]*r,n+=t[30]*(r=l*c),i+=t[31]*r,e[8]=n,e[9]=i},Rr.Nb={},Rr.Nb.amS=function(t,e,n){Date.now();var i=new ArrayBuffer(e*n*16),t=Rr.Nb.a57(t,e,n,i);return{bo:Rr.Nb.a8M(e,n,i),Z5:t}},Rr.Nb.atA=function(t,e,n){var i=Math.round(t.length/8),r=new Uint32Array(i),a=new Uint8Array(i),s=new Uint32Array(i);Rr.Bg(r,4294967295,0),r[n]=0;i=new Qt(i);return i.push(n,r[n]),{bo:t,Z5:e,RU:r,S_:a,$f:s,HH:i,acn:n}},Rr.Nb.W8=function(t,e){for(var n=t.bo,i=t.Z5,r=t.RU,a=t.S_,s=t.$f,o=t.HH;!o.mN()&&(null==e||0==a[e]);){var l=o.pop();a[l]=1;for(var h=0;h<8;h++){var u=n[8*l+h],f=l+u;0==u||a[f]||(u=r[l]+i[8*l+h],o.contains(f)&&u<r[f]&&o.remove(f,r[f]),o.contains(f)||(r[f]=u,s[f]=l,o.push(f,r[f])))}}},Qt.prototype.mN=function(){return 0==this.NP},Qt.prototype.push=function(t,e){var n=this.list;null==n[e]&&(n[e]=[]),n[e].push(t),this.NP++,this.s7[t]=n[e].length-1+1,this.ge=Math.min(this.ge,e)},Qt.prototype.pop=function(){this.NP--;var t=this.list,e=this.ge,n=t[e].pop();return 0==t[e].length&&(t[e]=null),this.WR(),this.s7[n]=0,n},Qt.prototype.contains=function(t){return 0!=this.s7[t]},Qt.prototype.remove=function(t,e){this.NP--;var n,i=this.list,r=this.s7[t]-1;r==i[e].length-1?i[e].pop():(n=i[e].pop(),i[e][r]=n,this.s7[n]=1+r),0==i[e].length&&(i[e]=null),this.s7[t]=0,this.WR()},Qt.prototype.WR=function(){if(0!=this.NP){for(var t=this.ge,e=this.list;null==e[t];)t++;this.ge=t}else this.ge=4294967295},Rr.Nb.ahr=function(t,e,n,i){for(var r=new Int16Array(i),a=0;a<n;a++)for(var s=0;s<e;s++){var o=a*e+s,l=0;1<s&&s<e-2&&1<a&&a<n-2?(l+=t[o-e-e],l+=t[o-e-1]+2*t[o-e]+t[o-e+1],l+=t[o-2]+2*t[o-1]-16*t[o]+2*t[o+1]+t[o+2],l+=t[o+e-1]+2*t[o+e]+t[o+e+1],l+=t[o+e+e]):l=-16*t[o],r[o]=l}return r},Rr.Nb.adO=function(t,e,n,i){null==i&&(i=128);for(var r=new Uint8Array(e*n),a=1;a<n-1;a++)for(var s=1;s<e-1;s++){var o=a*e+s;r[o]=Rr.Nb.abh(t[o],t[o-1],t[o+1],t[o-e],t[o+e],i)}return r},Rr.Nb.abh=function(t,e,n,i,r,a){var s=Math.abs(t);return t*e<0&&s<Math.abs(e)&&Math.abs(e-t)>a||t*n<0&&s<Math.abs(n)&&Math.abs(n-t)>a||t*i<0&&s<Math.abs(i)&&Math.abs(i-t)>a||t*r<0&&s<Math.abs(r)&&Math.abs(r-t)>a?1:0},Rr.Nb.a2z=function(t,e,n,i){var r=new Float32Array(i),a=0;new Uint32Array(i).fill(0);for(var s=0;s<n;s++)for(var o=0;o<e;o++){var l=0,h=0,u=3*(d=s*e+o);0<o&&o<e-1&&(l=t[d+1]-t[d-1]),0<s&&s<n-1&&(h=t[d+e]-t[d-e]);var f=r[2+u]=Math.sqrt(l*l+h*h);0!=f&&(r[u]=l*(l=1/f),r[1+u]=h*l),a<f&&(a=f)}for(var c=e*n,p=0==a?0:1/a,d=0;d<c;d++)r[3*d+2]=1-r[3*d+2]*p;return r},Rr.Nb.alQ=function(t,e,n){return n[~~(255*(.5+.5*t))]+n[~~(255*(.5+.5*e))]},Rr.Nb.a57=function(t,e,n,i){Date.now();for(var r=Rr.Nb.ahr(t,e,n,i),a=Rr.Nb.adO(r,e,n),s=Rr.Nb.a2z(t,e,n,i),o=new Float32Array(256),l=0;l<256;l++)o[l]=Math.acos(2*l/255-1)*(.95/Math.PI);for(var h=[-1,0,1,1,1,0,-1,-1],u=[-1,-1,-1,0,1,1,1,0],l=0;l<8;l++){var f=1/Math.sqrt(h[l]*h[l]+u[l]*u[l]);h[l]*=f,u[l]*=f}var c=[h[0],u[0],h[1],u[1],h[2],u[2],h[3],u[3]],p=[-e-1,-e,1-e,1],d=new Uint8Array(e*n*8);new Uint32Array(d.buffer).fill(4294967295);for(var v=1;v<n-1;v++)for(var g=1;g<e-1;g++)for(var y=v*e+g,m=1-a[y],w=s[3*y+2],b=s[3*y+1],M=-s[3*y],S=0;S<4;S++)Rr.Nb.ank(y,y+p[S],S,d,a,s,m,w,b,M,c,o);return d},Rr.Nb.ank=function(t,e,n,i,r,a,s,o,l,h,u,f){var c=1-r[e],p=0==(1&n)?1:Math.SQRT1_2,d=a[3*e+2]*p,r=a[3*e+1],a=-a[3*e],o=o*p,p=u[n+n],u=u[n+n+1],h=l*p+h*u,u=r*p+a*u;h+u<0&&(h=-h,u=-u);f=Rr.Nb.alQ(h,u,f);i[(t<<3)+n]=Rr.Nb.Zc(c,f,d),i[(e<<3)+n+4]=Rr.Nb.Zc(s,f,o)},Rr.Nb.Zc=function(t,e,n){return 1+~~(.5+20*(.43*t+.43*e+.14*n))},Rr.Nb.a8M=function(t,e,n){var i=new Int16Array(n),r=i,a=0;new Uint32Array(n).fill(0);for(var s=0;s<e;s++)for(var o=0;o<t;o++)0<s&&0<o&&(r[a+0]=-t-1),0<s&&(r[a+1]=-t),0<s&&o<t-1&&(r[a+2]=1-t),o<t-1&&(r[a+3]=1),s<e-1&&o<t-1&&(r[a+4]=t+1),s<e-1&&(r[a+5]=t),s<e-1&&0<o&&(r[a+6]=t-1),0<o&&(r[a+7]=-1),a+=8;return i},Rr.dh={},Rr.dh.EP=function(t){for(var e=t.slice(0),n=0,i=0;i<t.length;i++)n+=t[i];for(i=0;i<t.length;i++)e[i]/=n;return e},Rr.dh.Ab=[Rr.dh.EP([1,2,1,2,16,2,1,2,1]),Rr.dh.EP([1,2,1,2,4,2,1,2,1]),Rr.dh.EP([0,-1,0,-1,8,-1,0,-1,0]),Rr.dh.EP([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]],Rr.dh.ah=function(t,e,n,i,r,a,s,o){null==s&&(s=!1),null==o&&(o=!1);for(var l=Math.floor(Math.sqrt(r.length)),h=l-1>>>1,u=new Uint32Array(t.buffer),e=new Uint8ClampedArray(e.buffer),f=0;f<i;f++)for(var c=0;c<n;c++){for(var p=0,d=0,v=0,g=0,y=0;y<l;y++)for(var m=0;m<l;m++){var w,b,M=r[y*l+m];0!=M&&((b=c-h+m)<0?b=0:n-1<b&&(b=n-1),(w=f-h+y)<0?w=0:i-1<w&&(w=i-1),o&&u[w*n+b]>>>24==0&&(w=f,b=c),p+=(255&(b=u[w*n+b]))*M,d+=(b>>>8&255)*M,v+=(b>>>16&255)*M,g+=(b>>>24&255)*M)}s&&(p<0&&(p=-p),d<0&&(d=-d),v<0&&(v=-v),g<0&&(g=-g)),o&&(p=Math.max(0,Math.min(255,p)),d=Math.max(0,Math.min(255,d)),v=Math.max(0,Math.min(255,v)),g=Math.max(0,Math.min(255,g)));var S=f*n+c<<2;e[S]=~~(.5+p),e[1+S]=~~(.5+d),e[2+S]=~~(.5+v),e[3+S]=255-a&e[3+S]|a&~~(.5+g)}},Rr.dh.Dn=function(t,e,n,i){var r=t.length,a=new Uint8Array(r);Rr.dh.ah(t,e,n,i,Rr.dh.Ab[4],0,!0),Rr.dh.ah(t,a,n,i,Rr.dh.Ab[5],0,!0);for(var s=0;s<r;s+=4){var o=e[s],l=e[s+1],h=e[s+2],u=(e[s+3],a[s]),f=a[s+1],c=a[s+2];a[s+3];e[s]=255-Math.max(0,Math.min(255,Math.sqrt(o*o+u*u))),e[s+1]=255-Math.max(0,Math.min(255,Math.sqrt(l*l+f*f))),e[s+2]=255-Math.max(0,Math.min(255,Math.sqrt(h*h+c*c)))}},Rr.dh.Te=function(t,e,n,i){var r=t.length,a=new Uint8Array(r);Rr.dh.uX(t,e,n,i,Rr.dh.Ab[4],!0),Rr.dh.uX(t,a,n,i,Rr.dh.Ab[5],!0);for(var s=0;s<r;s++){var o=e[s],l=a[s];e[s]=255-Math.max(0,Math.min(255,Math.sqrt(o*o+l*l)))}},Rr.dh.uX=function(t,e,n,i,r,a){e=new Uint8ClampedArray(e.buffer);for(var s=i-1,o=n-1,l=1;l<s;l++)for(var h=1;h<o;h++){var u=l*n+h,f=Rr.dh.sT(t,u,n,r);a&&f<0&&(f=-f),e[u]=~~(f+.5)}},Rr.dh.sT=function(t,e,n,i){return t[e-n-1]*i[0]+t[e-n]*i[1]+t[e-n+1]*i[2]+t[e-1]*i[3]+t[e]*i[4]+t[e+1]*i[5]+t[e+n-1]*i[6]+t[e+n]*i[7]+t[e+n+1]*i[8]},Rr.dh.cA=function(t,e,n,i,r){for(var a=i-1,s=n-1,o=1;o<a;o++)for(var l=1;l<s;l++){var h=o*n+l;e[h]=Rr.dh.amf(t,h,n,r)}},Rr.dh.amf=function(t,e,n,i){return t[e-n-1]*i[0]+t[e-n]*i[1]+t[e-n+1]*i[2]+t[e-1]*i[3]+t[e]*i[4]+t[e+1]*i[5]+t[e+n-1]*i[6]+t[e+n]*i[7]+t[e+n+1]*i[8]},Rr.Hf={},Rr.Hf.jh=function(t,e,n,i,r,a,s){if(0!=r){var o=Rr.t(n*i),l=Rr.t(n*i);if(Rr.Jw(t)){!function(t,e,n,i,r,a,s){for(var o=0,l=new ArrayBuffer(6144),h=[new Int32Array(l,0),new Int32Array(l,2048),new Int32Array(l,4096)],u=1+2*Math.round(Math.sqrt(r)),f=u>>>1,c=new Array(u),p=new Array(u),d=0;d<u;d++){l=new ArrayBuffer(6144);c[d]=[new Int32Array(l,0),new Int32Array(l,2048),new Int32Array(l,4096)],p[d]=c[d][0]}for(var v=a[0],g=a[1],y=h[0],m=0;m<n;m++)if(m<r||n-r-u-1<m){y.fill(0);for(var w=Math.max(m-r,0),b=(C=Math.min(n,m+r+1),0);b<r;b++)te(y,t,b*n+w,b*n+C,1);for(b=0;b<i;b++){var M=b-r-1;(x=b+r)<i&&te(y,t,x*n+w,x*n+C,1),0<=M&&te(y,t,M*n+w,M*n+C,-1);var S=b*n+m<<2;if(0!=(o=y[300]))for(d=0;d<3;d++)e[S+d]=v(h[d],t[S+d],o,s)}}else{for(d=0;d<u;d++)p[d].fill(0);for(var w=m-r+f,C=m+r+1+f,b=0;b<r;b++)$t(p,t,b*n+w,b*n+C,1,f);for(b=0;b<i;b++){var x=b+r;0<=(M=b-r-1)&&$t(p,t,M*n+w,M*n+C,-1,f),x<i&&$t(p,t,x*n+w,x*n+C,1,f);var L=c[f];o=L[0][300];for(d=0;d<f;d++){var D=f-1-d,k=1+f+d,T=c[D],A=c[k],E=o+T[0][300],O=o+A[0][300],N=b*n+m+D<<2,I=b*n+m+k<<2;if(0!=E)for(var P=0;P<3;P++)e[N+P]=g(L[P],T[P],t[N+P],E,s);if(0!=O)for(P=0;P<3;P++)e[I+P]=g(L[P],A[P],t[I+P],O,s)}S=b*n+m+f<<2;if(0!=o)for(P=0;P<3;P++)e[S+P]=v(L[P],t[S+P],o,s)}m+=u-1}}(t,e,n,i,r,a,s);var h=[Rr.Hf.gF,Rr.Hf.Jm],u=h.indexOf(a),u=-1!=u?h[1-u]:a;Rr.VW(t,o,3),Rr.Hf.$N(o,l,n,i,r,u,s),Rr.al(l,e,3)}else for(var f=0;f<3;f++)Rr.VW(t,o,f),Rr.Hf.$N(o,l,n,i,r,a,s),Rr.al(l,e,f)}else e.set(t)},Rr.Hf.$N=function(t,e,n,i,r,a,s){0!=r?(r<=80?function(t,e,n,i,r,a,s){for(var o=0,l=new Int32Array(512),h=1+2*Math.round(Math.sqrt(r)),u=h>>>1,f=new Array(h),c=0;c<h;c++)f[c]=new Int32Array(512);for(var p=a[0],d=a[1],v=0;v<n;v++)if(v<r||n-r-h-1<v){l.fill(0),o=0;for(var g=Math.max(v-r,0),y=(M=Math.min(n,v+r+1))-g,m=0;m<r;m++)o+=y,re(l,t,m*n+g,m*n+M,1);for(m=0;m<i;m++){var w=m+r;0<=(S=m-r-1)&&(o-=y,re(l,t,S*n+g,S*n+M,-1)),w<i&&(o+=y,re(l,t,w*n+g,w*n+M,1));var b=p(l,t[m*n+v],o,s);e[m*n+v]=b}}else{for(c=0;c<h;c++)f[c].fill(0);for(var M,y=(M=v+r+1+u)-(g=v-r+u),m=o=0;m<r;m++)o+=y,ie(f,t,m*n+g,m*n+M,1,u);for(m=0;m<i;m++){var S,w=m+r;0<=(S=m-r-1)&&(o-=y,ie(f,t,S*n+g,S*n+M,-1,u)),w<i&&(o+=y,ie(f,t,w*n+g,w*n+M,1,u));for(c=0;c<u;c++){var C=u-1-c,x=1+u+c;e[m*n+v+C]=d(f[u],f[C],t[m*n+v+C],o,s),e[m*n+v+x]=d(f[u],f[x],t[m*n+v+x],o,s)}e[m*n+v+u]=p(f[u],t[m*n+v+u],o,s)}v+=h-1}}:function(t,e,n,i,r,a,s){for(var o=0,l=new Int32Array(512),h=new Int32Array(+n),u=new Int32Array(512*n),f=Math.min(r,n),c=Math.min(r,i),p=a[0],d=0;d<c;d++)se(u,h,t,n,d,1);for(d=0;d<i;d++){d+r<i&&se(u,h,t,n,d+r,1),0<=d-r-1&&se(u,h,t,n,d-r-1,-1),l.fill(0);for(var v=o=0;v<f;v++)o+=h[v],oe(l,u,v);for(v=0;v<n;v++){var g=v-r-1,y=v+r;0<=g&&0!=h[g]&&(o-=h[g],function(t,e,n){for(var i=0;i<16;i++){var r,a=e[n<<9|256|i];0!=a&&(t[256|i]-=a,he(t,e,r=i<<4,a=n<<9|r),he(t,e,4+r,4+a),he(t,e,8+r,8+a),he(t,e,12+r,12+a))}}(l,u,g)),y<n&&0!=h[y]&&(o+=h[y],oe(l,u,y));y=0==o?0:p(l,t[d*n+v],o,s);e[d*n+v]=y}}})(t,e,n,i,r,a,s):e.set(t)},Rr.Hf.Jm=[function(t,e,n,i){for(var r=15;0==t[256|r]&&0<r;)r--;for(r=15+(r<<4);0==t[r]&&0<r;)r--;return r},function(t,e,n,i,r){for(var a=15;t[256|a]+e[256|a]==0&&0<a;)a--;for(a=15+(a<<4);t[a]+e[a]==0&&0<a;)a--;return a}],Rr.Hf.gF=[function(t,e,n,i){for(var r=0;0==t[256|r]&&r<15;)r++;for(r<<=4;0==t[r]&&r<255;)r++;return r},function(t,e,n,i,r){for(var a=0;t[256|a]+e[256|a]==0&&a<15;)a++;for(a<<=4;t[a]+e[a]==0&&a<255;)a++;return a}],Rr.Hf.PY=.5,Rr.Hf.ix=[function(t,e,n,i){for(var r=~~(.5+Rr.Hf.PY*n),a=0,s=256;a+t[s]<=r;)a+=t[s++];for(s=s-256<<4;a<=r;)a+=t[s++];return s-1},function(t,e,n,i,r){for(var a=~~(.5+Rr.Hf.PY*i),s=0,o=256;s+t[o]+e[o]<=a;)s+=t[o]+e[o],o++;for(o=o-256<<4;s<=a;)s+=t[o]+e[o],o++;return o-1}],Rr.Hf.GK=[function(t,e,n,i){for(var i=i[0],r=0,a=0,s=Math.max(0,e-i),o=Math.min(256,e+i+1);s<o;){var l=t[s];r+=s*l,a+=l,s++}return 0==a?0:r/a},function(t,e,n,i,r){for(var r=r[0],a=0,s=0,o=Math.max(0,n-r),l=Math.min(256,n+r+1);o<l;){var h=t[o]+e[o];a+=o*h,s+=h,o++}return 0==s?0:a/s}],Rr.N={},Rr.N.g_=function(t){var e=qr.Q.Je(t.Trnf),t=t.Sz.v,t=Rr.N.zw(e,new Fr(0,0,t.Wdth.v,t.Hght.v));return Rr.N.gD(t)},Rr.N.zw=function(t,e){t[0],t[1],t[2],t[3],t[6],t[7],t[4],t[5];var n=0,i=0,r=1,a=0,s=0,o=1,l=1,h=1;return e&&(n=e.x,i=e.y,r=e.x+e.m,a=e.y,s=e.x,o=e.y+e.n,l=e.x+e.m,h=e.y+e.n),Rr.N.nh(t,[n,i,r,a,l,h,s,o])},Rr.N.jE=function(t){function e(t,e){for(var n,i,r,a=0;a<e.length;a+=2)if(n=t,i=e[a],r=e[a+1],n[2*i]!=n[2*r]||n[2*i+1]!=n[2*r+1])return;return 1}var n=0;return e(t,[0,1,2,3])&&(n+=1),e(t,[0,3,1,2])&&(n+=2),n},Rr.N.nh=function(t,e){function n(t,e,n){var i=t[2*e]-t[2*n],n=t[2*e+1]-t[2*n+1];return Math.sqrt(i*i+n*n)}var i=t[0],r=t[1],a=t[2],s=t[3],o=t[6],l=t[7],h=t[4],u=t[5],f=e[0],c=e[1],p=e[2],d=e[3],v=e[6],g=e[7],y=e[4],m=e[5],w=[0,0,0,0,0,0,0,0];return 0!=Rr.Cq.Tp([[f,c,1,0,0,0,-f*i,-c*i,i],[0,0,0,f,c,1,-f*r,-c*r,r],[p,d,1,0,0,0,-p*a,-d*a,a],[0,0,0,p,d,1,-p*s,-d*s,s],[v,g,1,0,0,0,-v*o,-g*o,o],[0,0,0,v,g,1,-v*l,-g*l,l],[y,m,1,0,0,0,-y*h,-m*h,h],[0,0,0,y,m,1,-y*u,-m*u,u]],w)&&(w=[0,0,0,0,0,0,0,0],(y=Rr.N.jE(t))==Rr.N.jE(e)&&0!=y&&(y=n(t,0,u=(m=1==y)?3:1),e=n(e,0,u)/y,y=t[2*u]-t[0],u=t[2*u+1]-t[1],(t=new _r).translate(-i,-r),t.rotate(Math.atan2(u,y)-(m?Math.PI/2:0)),m?t.scale(1,e):t.scale(e,1),t.translate(f,c),t.tU(),w=Rr.N.V$(t))),w},Rr.N.p0=function(t){return Math.abs(t[6])<1e-10&&Math.abs(t[7])<1e-10},Rr.N.gD=function(t){return new _r(t[0],t[3],t[1],t[4],t[2],t[5])},Rr.N.V$=function(t){return[t.q4,t.yH,t.E_,t.S,t.DR,t.Qq,0,0]},Rr.N.A=function(t,e){for(var n=new Float64Array(2),i=0;i<e.length;i+=2){var r=e[i],a=e[i+1];Rr.N.If(r,a,t,n),e[i]=n[0],e[i+1]=n[1]}},Rr.N.If=function(t,e,n,i){var r=1/(n[6]*t+n[7]*e+1);i[0]=(n[0]*t+n[1]*e+n[2])*r,i[1]=(n[3]*t+n[4]*e+n[5])*r},Rr.N.OZ=function(t,e){var n=new Float64Array(2);return Rr.N.If(e.x,e.y,t,n),new Pr(n[0],n[1])},Rr.N.$Y=function(t,e,n,i){t=new Uint32Array(t.buffer),e=new Uint32Array(e.buffer);for(var r=0;r<i;r++)for(var a=0;a<n;a++)e[a*i+r]=t[r*n+a]},Rr.N.Gr=function(t,e,n,i){t=new Uint32Array(t.buffer),e=new Uint32Array(e.buffer);for(var r=0;r<i;r++)for(var a=0;a<n;a++)e[r*n+a]=t[r*n+n-1-a]},Rr.N.qM=function(t){return Math.abs(t[6])<1e-9&&Math.abs(t[7])<1e-9},Rr.N.cz=function(t){return Math.abs(t[0])<1e-9&&Math.abs(t[4])<1e-9||Math.abs(t[1])<1e-9&&Math.abs(t[3])<1e-9},Rr.N.drawImage=function(t,e,n,i,r,a,s,o,l){null==s&&(s=!1),null==o&&(o=!1);for(var h=Rr.N.tU(t),u=!0,f=0,c=0;c<8;c++){var p=Math.round(t[c]);2!=c&&5!=c&&(f+=Math.abs(p)),1e-9<Math.abs(p-t[c])&&(u=!1)}var d=Rr.N.qM(t),v=Rr.N.cz(t)&&d?1:0;if(s||u&&f==n+i&&d)Rr.N.aeC(h,e,n,i,r,a,o,d,l);else{var g=a.m,y=a.n;new Float64Array(2);r=new Uint32Array(r.buffer),e=new Uint32Array(e.buffer);for(var m=0;m<y;m++)for(var w=0;w<g;w++){var b,M=m*g+w,S=0,C=0,x=0,L=0;r[M]=0;var D=w+a.x+.5,k=m+a.y+.5,T=(_=h)[0]*(R=D)+_[1]*(U=k)+_[2],A=_[3]*R+_[4]*U+_[5];d||(T*=b=1/(_[6]*R+_[7]*U+1),A*=b);var E=A*i,O=(j=T*n)<-1||n+1<j||E<-1||i+1<E;if(o)j=Math.max(.001,Math.min(n-1,j)),E=Math.max(.001,Math.min(i-1,E));else if(O)continue;var A=Rr.N.aaz(t,n,i,D,k,T,A),N=Math.round(2.3*A);if(A<1.1)Rr.N.te(j,E,e,n,i,r,M,v);else{!o&&(j<.6||n-.6<j||E<.6||i-.6<E)&&(N=Math.max(N,5));for(var I=1/(N=o&&O?1:N),P=a.x+w,F=a.y+m,_=h,c=0;c<N;c++)for(var B=0;B<N;B++){var R=P+(c+.5)*I,U=F+(B+.5)*I,j=_[0]*R+_[1]*U+_[2],E=_[3]*R+_[4]*U+_[5];if(d||(j*=b=1/(_[6]*R+_[7]*U+1),E*=b),o)j=Math.max(.001,Math.min(.999,j)),E=Math.max(.001,Math.min(.999,E));else if(j<0||1<=j||E<0||1<=E)continue;j=Math.floor(j*n);var H=e[(E=Math.floor(E*i))*n+j],J=H>>>24;S+=(255&H)*J,C+=(H>>>8&255)*J,x+=(H>>>16&255)*J,L+=J}0!=L&&(O=1/L,r[M]=(L=~~(L*I*I+.5))<<24|(x=~~(x*O+.5))<<16|(C=~~(C*O+.5))<<8|(S=~~(S*O+.5)))}}}},Rr.N.aaz=function(t,e,n,i,r,a,s){e=Rr.N.HX(t,i,r,a+1/e,s),n=Rr.N.HX(t,i,r,a,s+1/n);return 1/Math.sqrt(Math.max(e,n))},Rr.N.HX=function(t,e,n,i,r){var a=1/(t[6]*i+t[7]*r+1),e=(t[0]*i+t[1]*r+t[2])*a-e,n=(t[3]*i+t[4]*r+t[5])*a-n;return e*e+n*n},Rr.N.aeC=function(t,e,n,i,r,a,s,o,l){if(o&&!s&&4e6<a.Z()&&l)Rr.N.abq(t,e,n,i,r,a,s,o,l);else{var h=a.x+a.m,u=a.y+a.n,f=0,c=new Uint32Array(r.buffer),p=new Uint32Array(e.buffer),d=t[0]*n,v=t[1]*n,g=t[2]*n,y=t[3]*i,m=t[4]*i,w=t[5]*i,b=t[6],M=t[7];if(o&&!s)for(var S=a.y+.5;S<u;S++)for(var C=a.x+.5;C<h;C++){var x=d*C+v*S+g,L=y*C+m*S+w;c[f]=0<x&&x<n&&0<L&&L<i?p[D=~~L*n+~~x]:0,f++}else for(S=a.y+.5;S<u;S++)for(C=a.x+.5;C<h;C++){var D,k=1/(b*C+M*S+1),x=(d*C+v*S+g)*k,L=(y*C+m*S+w)*k;s&&(x=Math.max(.001,Math.min(n-1,x)),L=Math.max(.001,Math.min(i-1,L))),0<x&&x<n&&0<L&&L<i?(D=Math.floor(L)*n+Math.floor(x),c[f]=p[D]):c[f]=0,f++}}},Rr.N.abq=function(t,e,n,i,r,a,s,o,l){var h=new Uint32Array(r.buffer),u=new Uint32Array(e.buffer),f=0;if(l&&0!=(3&a.m))throw"e";for(var c=t[0]*n,p=t[1]*n,d=t[2]*n,v=t[3]*i,g=t[4]*i,y=t[5]*i,m=(t[6],t[7],a.m),w=a.n,b=a.x+.5,M=a.y+.5,S=~~n,C=0==c?0:1/c,x=0==v?0:1/v,L=0;L<w;L++){var D=b*c+p*(L+M)+d,k=b*v+g*(L+M)+y,T=0,A=m;0==c||(0<C?(T=Math.max(T,-D*C),A=Math.min(A,(n-D)*C)):(A=Math.min(A,-D*C),T=Math.max(T,(n-D)*C))),0==v||(0<x?(T=Math.max(T,-k*x),A=Math.min(A,(i-k)*x)):(A=Math.min(A,-k*x),T=Math.max(T,(i-k)*x))),(A=A<0?0:A)<T&&(T=A);for(var T=Math.ceil(T),A=~~A,f=~~(L*m),E=0;E<T;E++)h[f++]=0;for(E=T;E<A;E+=4)h[f++]=h[f++]=h[f++]=h[f++]=u[~~(v*E+k)*S+~~(c*E+D)];for(E=A;E<m;E++)h[f++]=0}},Rr.N.tU=function(t){var e=t[4]-t[5]*t[7],n=t[2]*t[7]-t[1],i=t[1]*t[5]-t[2]*t[4],r=t[5]*t[6]-t[3],a=t[0]-t[2]*t[6],s=t[3]*t[2]-t[0]*t[5],o=t[3]*t[7]-t[4]*t[6],l=t[1]*t[6]-t[0]*t[7],t=1/(t[0]*t[4]-t[1]*t[3]);return[e*t,n*t,i*t,r*t,a*t,s*t,o*t,l*t]},Rr.N.bR=function(t,e){for(var n=t[0],i=t[1],r=t[2],a=t[3],s=t[4],o=t[5],l=t[6],h=t[7],u=e[0],f=e[1],c=e[2],p=e[3],d=e[4],v=e[5],t=e[6],e=e[7],g=[n*u+i*p+r*t,n*f+i*d+r*e,n*c+i*v+r,a*u+s*p+o*t,a*f+s*d+o*e,a*c+s*v+o,l*u+h*p+t,l*f+h*d+e],y=1/(l*c+h*v+1),m=0;m<8;m++)g[m]*=y;return g},Rr.N.te=function(t,e,n,i,r,a,s,o){var l=0,h=0,u=0,f=0;t-=.499999,e-=.499999;var c,p,d,v,g,y,m,w=Math.floor(t),b=Math.floor(e);0==o?(c=b*i+w,v=0<=b&&b<r,g=0<=b+1&&b+1<r,(p=0<=w&&w<i)&&v&&(l=n[c]),(d=0<=w+1&&w+1<i)&&v&&(h=n[c+1]),p&&g&&(u=n[c+i]),d&&g&&(f=n[c+i+1])):f=(u=1==o?(l=n[(m=b<0?0:r-1<b?r-1:b)*i+(y=w<0?0:i-1<w?i-1:w)],h=n[m*i+(S=w<-1?0:i-2<w?i-1:w+1)],n[(M=b<-1?0:r-2<b?r-1:b+1)*i+y]):(l=n[(m=M=(b+50*r)%r)*i+(y=S=(w+50*i)%i)],h=n[m*i+S],n[M*i+y]),n[M*i+S]);var M=t-w,i=e-b,S=(1-i)*(1-M)*(l>>>24),t=(1-i)*M*(h>>>24),w=i*(1-M)*(u>>>24),e=i*M*(f>>>24),b=S+t+w+e,i=S*(255&l)+t*(255&h)+w*(255&u)+e*(255&f),M=S*(l>>>8&255)+t*(h>>>8&255)+w*(u>>>8&255)+e*(f>>>8&255),e=S*(l>>>16&255)+t*(h>>>16&255)+w*(u>>>16&255)+e*(f>>>16&255);0==b?a[s]=0:(f=1/b,a[s]=(b=~~(.5+b))<<24|(e=~~(e*f+.5))<<16|(M=~~(M*f+.5))<<8|(i=~~(i*f+.5)))},Rr.N.qS=function(t,e,n,i,r,a){var s=t-.499999,o=e-.499999,l=~~s,h=~~o,u=s-l,f=o-h,t=(1-f)*(1-u),e=(1-f)*u,s=f*(1-u),o=f*u,f=h*i+l<<2,u=(1+h)*i+l<<2,h=t*n[f]+e*n[4+f]+s*n[u]+o*n[4+u],i=t*n[1+f]+e*n[5+f]+s*n[1+u]+o*n[5+u],l=t*n[2+f]+e*n[6+f]+s*n[2+u]+o*n[6+u],u=t*n[3+f]+e*n[7+f]+s*n[3+u]+o*n[7+u];a[0]=h,a[1]=i,a[2]=l,a[3]=u},Rr.N.f_=function(t,e,n,i,r){t-=.499999,e-=.499999;var a=Math.floor(t),s=Math.floor(e),o=t-a,l=e-s,t=(a+50*i)%i,e=(a+1+50*i)%i,a=(s+50*r)%r,s=(s+1+50*r)%r,r=n[a*i+t],a=n[a*i+e],t=n[s*i+t],e=n[s*i+e];if(null==r||null==e)throw"e";return(1-l)*(1-o)*r+(1-l)*o*a+l*(1-o)*t+l*o*e},Rr.N.bB=function(t,e,n,i,r,a,s,o,l,h,u,f){for(var c=new Uint32Array(t.buffer),p=new Uint32Array(i.buffer),d=(1+2*h)/r,v=[],g=0;g<r;g++){var y=-.25+h-g*d;v.push(Math.cos(2*Math.PI*y)*f/u),v.push(Math.sin(2*Math.PI*y)/u)}s*=e,o*=n;for(var m=0;m<a;m++)for(var w=Math.pow(m/a,l)*a,g=0;g<r;g++){var b=s+v[g<<1]*w,M=o+v[1+(g<<1)]*w;p[m*r+g]=c[~~(.5+(M<0?0:n-1<M?n-1:M))*e+~~(.5+(b<0?0:e-1<b?e-1:b))]}},Rr.N.R3=function(t,e,n,i,r,a,s,o,l,h,u,f){for(var c=new Uint32Array(t.buffer),p=new Uint32Array(i.buffer),d=1/f,v=[],g=4*n,y=1/g,m=0;m<10+g;m++)v.push(Math.pow(m*y,1/l)*n*u);s*=r,o*=a;for(m=0;m<a;m++)for(var w=0;w<r;w++){var b=d*(w-s),M=m-o,S=1.75-Math.atan2(M,b)*(1/(2*Math.PI)),S=((S-=~~S)+h)*(1/(1+2*h)),M=v[~~(4*(M=Math.sqrt(b*b+M*M)))];Rr.N.te(S*e+.5,M+.5,c,e,n,p,m*r+w,1)}},Rr.N.Z7=function(t,e,n,i,r){for(var a=r[0],s=r[1],o=0;o<s;o++)for(var l=0;l<a;l++){var h=r[2]*l+r[3]*o+r[4],u=o*a+l<<2,h=(r[5]*l+r[6]*o+r[7])*e+h<<2;i[u]=t[h],i[1+u]=t[1+h],i[2+u]=t[2+h],i[3+u]=t[3+h]}},Rr.I={Vt:function(t,e){t=~~(.499+t*e);return t<0?0:e<t?e:t},afd:function(t,e,n,i,r,a,s,o){for(var l=n[0],h=n[1],u=n[2],f=n[3],c=i.m,p=i.n,d=new Float64Array(4*c+8),v=new Float64Array(4*c+8),g=0,y=0;g<p;g++){var m=d,d=v;(v=m).fill(0);for(var w=0;w<c;w++,y++){var b=w+r,M=g+a,S=l*b+h*M,b=u*b+f*M,M=0,C=0;0==o?M=.5+S:1==o?M=2*Math.sqrt(S*S+b*b):2==o?M=(Math.PI+Math.atan2(-b,-S))/(2*Math.PI):3==o?M=Math.abs(2*S):4==o&&(M=2*(Math.abs(S)+Math.abs(b)));for(var x=4*Rr.I.Vt(M,s),L=4*w,D=0;D<4;D++){var k=Math.max(0,Math.min(254.999,e[x+D]+d[4+L+D])),T=Math.floor(k);Math.random()<k-T&&T++;k=k-T;d[8+L+D]=7/16*k,v[0+L+D]=3/16*k,v[4+L+D]=5/16*k,v[8+L+D]=1/16*k,C|=T<<8*D}t[y]=C}}},St:[function(t,e,n,i,r,a,s){for(var o=n[0],l=n[1],h=(n[2],n[3],i.m),u=i.n,f=0,c=0;f<u;f++)for(var p=0;p<h;p++,c++){var d=p+r,v=f+a;t[c]=e[Rr.I.Vt(.5+(o*d+l*v),s)]}},function(t,e,n,i,r,a,s){for(var o=n[0],l=n[1],h=n[2],u=n[3],f=i.m,c=i.n,p=0,d=0;p<c;p++)for(var v=0;v<f;v++,d++){var g=v+r,y=p+a,m=o*g+l*y,y=h*g+u*y,y=2*Math.sqrt(m*m+y*y);t[d]=e[Rr.I.Vt(y,s)]}},function(t,e,n,i,r,a,s){for(var o=n[0],l=n[1],h=n[2],u=n[3],f=i.m,c=i.n,p=0,d=0;p<c;p++)for(var v=0;v<f;v++,d++){var g=v+r,y=p+a,y=(Math.PI+Math.atan2(-(h*g+u*y),-(o*g+l*y)))/(2*Math.PI);t[d]=e[Rr.I.Vt(y,s)]}},function(t,e,n,i,r,a,s){for(var o=n[0],l=n[1],h=(n[2],n[3],i.m),u=i.n,f=0,c=0;f<u;f++)for(var p=0;p<h;p++,c++){var d=p+r,v=f+a,v=Math.abs(2*(o*d+l*v));t[c]=e[Rr.I.Vt(v,s)]}},function(t,e,n,i,r,a,s){for(var o=n[0],l=n[1],h=n[2],u=n[3],f=i.m,c=i.n,p=0,d=0;p<c;p++)for(var v=0;v<f;v++,d++){var g=v+r,y=p+a,m=h*g+u*y,m=2*(Math.abs(o*g+l*y)+Math.abs(m));t[d]=e[Rr.I.Vt(m,s)]}}]},Rr.I.as8=function(t,e){return t+.5},Rr.I.atZ=function(t,e){return 2*Math.sqrt(t*t+e*e)},Rr.I.au9=function(t,e){return(Math.PI+Math.atan2(-e,-t))/(2*Math.PI)},Rr.I.ahH=function(t,e){return Math.abs(2*t)},Rr.I.aiQ=function(t,e){return 2*(Math.abs(t)+Math.abs(e))},Rr.I.Sq=function(t,e,n,i,r,a,s,o,l,h,u,f){var c=t.Clrs,p=new Uint32Array(e.buffer),d=1023,h=c?Rr.I.vG(c.v,l,h):null;if(f&&c){f=Rr.I.apx(t,h,1024,s);Rr.I.afd(p,f,i,n,n.x-r,n.y-a,d,o)}else{s=c?Rr.I.Ju(t,h,1024,s):Rr.I.hc(t,1024,s);if(o<5)Rr.I.St[o](p,s,i,n,n.x-r,n.y-a,d);else for(var v=new Uint8Array(s.buffer),g=n.m,y=n.n,m=1/(u.Il-u.Rb),w=u.Ix.m-n.m>>1,b=u.Ix.n-n.n>>1,M=u.Ix.m,S=-.6*m,C=(.4-.6)*m,x=(.8-.6)*m,L=(3*.4-.6)*m,D=0,k=0;D<y;D++)for(var T=0;T<g;T++,k+=4){var A=0,E=0,O=0,N=0,I=(u.fV[(D+b)*M+T+w]-u.Rb)*m,P=0;I<=0||1<=I?(e[k]=v[P=(I<=0?0:d)<<2],e[k+1]=v[P+1],e[k+2]=v[P+2],e[k+3]=v[P+3]):(E+=v[P=Math.max(0,Math.min(1022,Math.round((I+S)*d)))<<2],O+=v[P+1],N+=v[P+2],A+=v[P+3],E+=v[P=Math.max(0,Math.min(1022,Math.round((I+C)*d)))<<2],O+=v[P+1],N+=v[P+2],A+=v[P+3],E+=v[P=Math.max(0,Math.min(1022,Math.round((I+x)*d)))<<2],O+=v[P+1],N+=v[P+2],A+=v[P+3],E+=v[P=Math.max(0,Math.min(1022,Math.round((I+L)*d)))<<2],O+=v[P+1],N+=v[P+2],A+=v[P+3],e[k]=E>>>2,e[k+1]=O>>>2,e[k+2]=N>>>2,e[k+3]=A>>>2)}}},Rr.I.vG=function(t,e,n){for(var i=[],r=0;r<t.length;r++){var a=t[r].v,s=a.Type.v.Clry,a="FrgC"==s?{p:e>>16&255,z:e>>8&255,S:255&e}:"BckC"==s?{p:n>>16&255,z:n>>8&255,S:255&n}:Rr.I.Na(a.Clr.v);i.push(a)}return i},Rr.I.Na=function(t){var e,n,i,r,a,s=t.classID;return"RGBC"==s?a=t.Rd?{p:t.Rd.v,z:t.Grn.v,S:t.Bl.v}:{p:255*t.redFloat.v,z:255*t.greenFloat.v,S:255*t.blueFloat.v}:"HSBC"==s?((a=Rr.ZW(t.H.v.val/360,t.Strt.v/100,t.Brgh.v/100)).p*=255,a.z*=255,a.S*=255):"CMYC"==s?(e=100-t.Cyn.v,n=100-t.Mgnt.v,i=100-t.Ylw.v,a={p:255*e*(r=100-t.Blck.v)*1e-4,z:255*(.2*e+.8*n)*r*1e-4,S:255*(.2*n+.8*i)*r*1e-4}):"Grsc"==s?a={p:255-t.Gry.v,z:255-t.Gry.v,S:255-t.Gry.v}:"LbCl"==s?a=Rr.uV(t.Lmnc.v,t.A.v,t.B.v):console.log(t),isNaN(a.p)&&(a.p=a.z=a.S=0),a},Rr.I.hc=function(t,e,n){var i=new Uint32Array(e),r=new Uint8Array(i.buffer);i.fill(4278190080);for(var a=[],s=[],o=t.RndS.v,l=t.Smth.v/4096,h=0;h<4;h++)a[h]=~~(255*t.Mnm.v[h].v/100),s[h]=~~(255*t.Mxm.v[h].v/100);for(var u=Rr.t(4*e),f=Rr.t(e),c=0;c<3;c++){Rr.X.Mn(null,e,1,u,[1+Math.round(l*l*l*60),22,o*(2+c)]),Rr.VW(u,f,0),Rr.al(f,r,c);for(var p=a[c],d=s[c],h=0;h<e;h++)r[4*h+c]=Math.max(p,Math.min(d,r[4*h+c]))}if(n)for(h=0;h<e/2;h++){var v=i[h];i[h]=i[e-1-h],i[e-1-h]=v}return i},Rr.I.wg=function(t){return{classID:"RGBC",Rd:{t:"doub",v:t.p},Grn:{t:"doub",v:t.z},Bl:{t:"doub",v:t.S}}},Rr.I.apx=function(t,e,n,i){for(var r=[],a=1/+n,s=0;s<n;s++){var o=4*s,l=Rr.I.bf(t,e,(i?n-1-s:s)*a);r[o]=l[0],r[1+o]=l[1],r[2+o]=l[2],r[3+o]=l[3]}return r},Rr.I.Ju=function(t,e,n,i){for(var r=new Uint32Array(n),a=1/+n,s=0;s<n;s++)r[s]=Rr.I.o_(t,e,(i?n-1-s:s)*a);return r},Rr.I.bf=function(t,e,n){for(var i,r=t.Intr.v*(1/4096),a=t.Clrs.v,s=t.Trns.v,o=a.length-1,l=s.length-1,h=-1,u=0,f=0,c=0,p=0;h<l&&s[h+1].v.Lctn.v<=4096*n;)h++;for(u=-1==h?2.55*s[0].v.Opct.v.val:h==l?2.55*s[h].v.Opct.v.val:2.55*((t=Rr.I.Rc(s,1/4096,h,n,r))*s[h].v.Opct.v.val+(1-t)*s[h+1].v.Opct.v.val),h=-1;h<o&&a[h+1].v.Lctn.v<=4096*n;)h++;return p=-1==h?(f=(i=e[0]).p,c=i.z,i.S):h==o?(f=(i=e[h]).p,c=i.z,i.S):(i=e[h],e=e[h+1],f=(r=Rr.I.Rc(a,1/4096,h,n,r))*i.p+(1-r)*e.p,c=r*i.z+(1-r)*e.z,r*i.S+(1-r)*e.S),[f,c,p,u]},Rr.I.o_=function(t,e,n){var i=Rr.I.bf(t,e,n),t=~~(.5+i[0]),e=~~(.5+i[1]),n=~~(.5+i[2]);return~~(.5+i[3])<<24|n<<16|e<<8|t},Rr.I.Rc=function(t,e,n,i,r){2==t.length&&(r*=.5);var a=t[n].v.Lctn.v*e,e=t[n+1].v.Lctn.v*e,n=a+.01*t[n+1].v.Mdpn.v*(e-a),n=i<n?.5*(i-a)/(n-a):.5+.5*(i-n)/(e-n);return n=.5+.5*(r*Math.cos(Math.PI*n)+(1-r)*(1-2*n))},Rr.I.mu=function(t,e){var n=Math.PI*t.Angl.v.val/180,i=t.Scl.v.val/100,r=t.Ofst.v,a=r.Hrzn.v.val/100,s=r.Vrtc.v.val/100,o=Math.cos(n),l=-Math.sin(n),t=.5*e.n,r=o/l*t,n=Math.sqrt(t*t+r*r),t=.5*e.m,r=l/o*t,r=Math.sqrt(t*t+r*r),i=Math.min(n,r)*i,a=e.x+e.m/2+a*e.m,e=e.y+e.n/2+s*e.n;return[new Pr(a,e),new Pr(a+o*i,e+l*i)]},Rr.I.Ye=function(t,e,n,i){var r=e.x-t.x,a=-(e.y-t.y),s=Math.sqrt(r*r+a*a),o=Math.atan2(a,r),l=Math.cos(o),e=-Math.sin(o),a=.5*n.n,r=l/e*a,a=Math.sqrt(a*a+r*r),r=.5*n.m,l=e/l*r,l=Math.sqrt(r*r+l*l),a=s/Math.min(a,l),l=(t.x-n.x-n.m/2)/n.m,n=(t.y-n.y-n.n/2)/n.n;i.Angl.v.val=180*o/Math.PI,i.Scl.v.val=100*a;i=i.Ofst.v;i.Hrzn.v.val=100*l,i.Vrtc.v.val=100*n},Rr.I.MW=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=Math.round(4096*i[0]),a=i[1],s=i[2],i=i[3];null==s&&(s=1),null==i&&(i=.5);a=Rr.I.wg({p:255*a[0],z:255*a[1],S:255*a[2]});e.Clrs.v[n]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:r},Mdpn:{t:"long",v:Math.round(100*i)},Clr:{t:"Objc",v:a},Type:{t:"enum",v:{Clry:"UsrS"}}}},e.Trns.v[n]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:r},Mdpn:{t:"long",v:Math.round(100*i)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*s)}}}}}},Rr.sP={},Rr.sP.agh=function(t,e,n,i,r,a,s,o,l,h,u,f){Date.now();for(var c,s=s,h=h,p=255*a,d=255-255*l,v=1+6*r,g=1+6*o,y=1,m=1+u,w=Rr.t(n*i),b=Rr.t(n*i),u=Rr.t(n*i),M=Rr.t(n*i),S=255/p,C=255/(255-d),x=0;x<i;x++)for(c=0;c<n;c++){var L=(A=x*n+c)<<2,D=Rr.X_(t[L],t[L+1],t[L+2]);(M[A]=D)<p&&(w[A]=255-D*S),d<D&&(b[A]=255-(255-D)*C)}Date.now(),0<r*s&&(u.set(w),Rr.VF.IS(u,w,new Fr(0,0,n,i),s)),0<o*h&&(u.set(b),Rr.VF.IS(u,b,new Fr(0,0,n,i),h));Date.now();for(var k=Rr.t(256),T=Rr.t(256),A=0;A<256;A++){var E=A*(1/255),O=0;O=255*(1-Math.pow(1-E,v)),k[A]=Math.max(0,Math.min(255,~~(O+.5))),O=255*Math.pow(E,g),T[A]=Math.max(0,Math.min(255,~~(O+.5)))}for(var N=new Uint8ClampedArray(e.buffer),I=new Float32Array(32768),A=0;A<32768;A++)_=Math.sqrt(A)*(1/128),I[A]=_=1<m?(1-_)*(m-1)+1:_*(m-1)+1;for(x=0;x<i;x++)for(c=0;c<n;c++){var L=(A=x*n+c)<<2,O=M[A],P=w[A]*(1/255),F=b[A]*(1/255);D=O=(1-F)*(O=(1-P)*O+P*k[~~O])+F*T[~~O];var _,B=t[L],R=t[L+1],U=t[L+2],R=(j=.168736*-B-.331264*R+.5*U)*(_=I[~~(.5+j*j+(B=.5*B-.418688*R-.081312*U)*B)]),U=B*_,U=D-.34414*(j=(y=1-Math.min(2-(P+F),1))*j+(1-y)*R)-.71414*(B=y*B+(1-y)*U),j=D+1.772*j;N[L]=~~(.5+(D+1.402*B)),N[L+1]=~~(.5+U),N[L+2]=~~(.5+j)}Date.now()},Rr.Cn={},Rr.Cn.rc=function(t,e,n,i,r){var a=1,s=0,o=0,l=0;e.st(r)||(G=e.hq(r),u=Rr.t(4*G.Z()),Rr.Ik(t,e,u,G),t=u,e=G);var h=Rr.t(e.Z());Rr.rR(n,r,h,e),Rr.round(h);var u,f=(r=r.BS(e)).m,c=r.n,p=3*f<c?2:1,n=3*c<f?2:1;for(r.Z()*(2*p+1)*(2*n+1)<e.Z()&&(G=new Fr(r.x-f*p,r.y-c*p,f*(2*p+1),c*(2*n+1)).BS(e),u=Rr.t(4*G.Z()),Rr.Ik(t,e,u,G),w=Rr.t(G.Z()),Rr.rR(h,e,w,G),e=G,t=u,h=w);400<(e.m+e.n)/2/a;)a++;var d=t,v=e,g=h,y=Math.floor(v.m/a),m=Math.floor(v.n/a);t=Rr.t(y*m*4),Rr.scale.t4(d,v.m,v.n,t,y,m,1/a),h=Rr.t(y*m),Rr.scale.Z7(g,v.m,v.n,h,y,m,1/a),Rr.round(h,1);var w=Rr._1(h,new Fr(0,0,y,m));if(w.mN())return 1;var b=Math.round((w.m+w.n)/2/15),M=(Date.now(),Rr.t(y*m*4));Rr.ah6(t,M);for(var S,C,w=Int16Array,x=new w(y*m*24),L=new w(64),D=new w(64),k=new w(64),T=new w(64),A=3;A<m-4;A++)for(var E=3;E<y-4;E++)255!=h[A*y+E]&&0==Rr.Cn.a4L(M,h,E,A,y,m,L,D,k)&&(Rr.Cn.W2(L,T),x[s]=E,x[s+1]=A,Rr.Cn.VO(L,x,s+4,12),s+=16,Rr.Cn.W2(D,T),Rr.Cn.VO(D,x,s,4),s+=4,Rr.Cn.W2(k,T),Rr.Cn.VO(k,x,s,4),S=x[(s+=4)-24+5],C=x[s-24+6],x[s-24+5]=x[s-24+20],x[s-24+6]=x[s-24+16],x[s-24+16]=S,x[s-24+20]=C,o++);if(0==o)return 2;Date.now();var O=[];Rr.Cn.YZ(0,o-1,O,x,new w(48)),Date.now();for(var N=new Float32Array(y*m*4),I=0;I<o;I++){var P,F,_,B,R=I,U=Rr.Cn.afr(R,x,O,b);-1!=U&&(_=x[P=24*R],B=x[1+P],R=x[F=24*U],U=x[1+F],Rr.Cn.getError(F,P,x,1e99),N[2*(m+(U-B))*y+(y+(R-_))]+=1)}Date.now();for(var j=[],H=1/(2*y),I=0;I<N.length;I++)0<N[I]&&(E=I-2*(A=Math.floor(I*H))*y,j.push({x:E-y,y:A-m,k:N[I],xV:-1}));j.sort(function(t,e){return e.k-t.k});for(var J=new Int32Array(y*m),q=[],I=0;I<y*m;I++)255==h[I]?(J[I]=l,q.push(I%y,Math.floor(I/y)),l++):t[3+(I<<2)]<200?J[I]=-2:J[I]=-1;w=Rr.Cn.agW(y,m,j,J,q,l);if(null==w)return 3;var G,Z=w.su,z=w.top,Z=Rr.Cn.aiM(Z,t,y,m,z,J,q,l);Date.now(),(G=r.clone()).bA(1,1),G=G.BS(v);var V=Rr.t(4*G.Z()),W=Rr.t(G.Z());Rr.Ik(d,v,V,G);for(var X,Y,K,Q=v.m,$=v.n,A=0;A<$;A++)for(E=0;E<Q;E++)0!=g[A*Q+E]&&(Y=Math.min(Math.floor(E/a),y-1),-1!=(K=J[Math.min(Math.floor(A/a),m-1)*y+Y])&&(K=E+(Y=z[X=Z[K]]).x*a,Y=(A+Y.y*a)*Q+K<<2,V[K=(A-G.y+v.y)*G.m+(E-G.x+v.x)<<2]=d[Y],V[1+K]=d[1+Y],V[2+K]=d[2+Y],V[3+K]=d[3+Y],V[3+K]=d[3+Y],W[K>>2]=X+1));return Date.now(),Rr.BH.rc(V,W,G,null,1e3),Date.now(),Rr.Ik(V,G,i,r),0},Rr.Cn.LG=function(t,e,n,i,r,a){return Rr.Cn.aM(t+r.x,e+r.y,n,i)&&-1==a[(e+r.y)*n+(t+r.x)]?0:1e9},Rr.Cn.aiM=function(t,e,n,i,r,a,s,o){for(var l=Date.now(),h=[-1,0,0,-1,1,0,0,1],u=1e99,f=[],c=[],p=0,d=1e99;Date.now()<l+12e3;){p++;for(var v=null,g=u,y=0;y<r.length;y++){for(var m,w,b=r[y],M=0,S=o+2,C=0,x=0;x<o;x++){for(var L,D,k,T,A,E,O,N=s[2*x],I=s[2*x+1],P=r[t[x]],F=Rr.Cn.LG(N,I,n,i,b,a),_=t[x]==y?1e9:Rr.Cn.LG(N,I,n,i,P,a),B=0;B<4;B++)0==B&&0==N||1==B&&0==I||2==B&&N==n-1||3==B&&I==i-1||(-2==(U=a[(D=I+(E=h[2*B+1]))*n+(L=N+(A=h[2*B]))])||(-1==U?(F+=3*Rr.Cn.gl(L+b.x,D+b.y,L,D,n,i,e,a),F+=2*Rr.Cn.gl(L+b.x+A,D+b.y+E,L+A,D+E,n,i,e,a),_+=3*Rr.Cn.gl(L+P.x,D+P.y,L,D,n,i,e,a),_+=2*Rr.Cn.gl(L+P.x+A,D+P.y+E,L+A,D+E,n,i,e,a)):1<B&&(t[x]==t[U]?(O=0,O+=Rr.Cn.gl(N+P.x,I+P.y,N+b.x,I+b.y,n,i,e,a),O+=Rr.Cn.gl(L+P.x,D+P.y,L+b.x,D+b.y,n,i,e,a),f[M]=x,f[M+1]=U,c[M]=O,c[M+1]=O):(k=r[t[U]],T=S,O=E=A=0,S++,A+=Rr.Cn.gl(N+P.x,I+P.y,N+b.x,I+b.y,n,i,e,a),A+=Rr.Cn.gl(L+P.x,D+P.y,L+b.x,D+b.y,n,i,e,a),E+=Rr.Cn.gl(N+k.x,I+k.y,N+b.x,I+b.y,n,i,e,a),E+=Rr.Cn.gl(L+k.x,D+k.y,L+b.x,D+b.y,n,i,e,a),O+=Rr.Cn.gl(N+k.x,I+k.y,N+P.x,I+P.y,n,i,e,a),O+=Rr.Cn.gl(L+k.x,D+k.y,L+P.x,D+P.y,n,i,e,a),f[M]=x,f[M+1]=T,c[M]=A,c[M+1]=A,f[M+=2]=U,f[M+1]=T,c[M]=E,c[M+1]=E,f[M+=2]=T,f[M+1]=o+1,c[M]=O,c[M+1]=0),M+=2)));f[M]=o,f[M+1]=x,c[M]=F,c[M+1]=0,f[M+=2]=x,f[M+1]=o+1,c[M]=_,c[M+1]=0,M+=2,C+=Math.min(F,_)}g<C||(m=Rr.Ya.Tp(S,M,o,o+1,f,c,g)).RU<g&&(g=m.RU,w=t.slice(0),Rr.Cn.ace(w,M,f,m.hh,y,o),v=w)}if(u<=+g)break;if(u=g,t=v,0==(3&p)){if(d<=1.03*g)break;d=g}if(0==(3&p))for(var R=0*r.length,x=0;x<r.length&&r.length>R;x++)if(-1==t.indexOf(x)){r.splice(x,1);for(var U=0;U<t.length;U++)t[U]>x&&t[U]--;x--}}return t},Rr.Cn.ace=function(t,e,n,i,r,a){for(var s=0;s<i.length;s++){var o=i[s]<<1,l=0,h=0;o<e?(l=n[o],h=n[1+o]):(h=n[o],l=n[1+o]),l==a&&t[h]!=r&&(t[h]=r)}},Rr.Cn.XE=function(t,e,n,i,r,a,s,o,l){for(var h=0;h<n.length;h++){var u=n[h],f=!0;if((null==o||Rr.Cn.aM(o+u.x,l+u.y,a,s)&&-1==i[a*(l+u.y)+o+u.x])&&(-1==u.xV&&(u.xV=Rr.Cn.anu(u,i,r,a,s)),!(u.xV<=0))){for(var c=0;c<t.length;c++){var p=t[c],d=u.x-p.x,p=u.y-p.y;if(d*d+p*p<e){f=!1;break}}if(f)return u}}return null},Rr.Cn.anu=function(t,e,n,i,r){for(var a=0,s=0;s<n.length;s+=2){var o=n[s]+t.x,l=n[s+1]+t.y;Rr.Cn.aM(o,l,i,r)&&-1==e[i*l+o]&&a++}return a/(n.length>>1)},Rr.Cn.agW=function(t,e,n,i,r,a){for(var s=[],o=0;o<60;o++){if(null==(p=Rr.Cn.XE(s,25,n,i,r,t,e)))break;s.push(p)}if(0==s.length)return null;for(var l=[],o=0;o<a;o++){for(var h=r[2*o],u=r[2*o+1],f=-1,c=0;;){c++;var p,d=Math.random(),v=s[f=Math.floor(.99999*d*s.length)],d=h+v.x,v=u+v.y;if(Rr.Cn.aM(d,v,t,e)&&-1==i[v*t+d])break;if(100<c){if(null==(p=Rr.Cn.XE(s,0,n,i,r,t,e,h,u)))return null;s.push(p),c=0}}l.push(f)}return{top:s,su:l}},Rr.Cn.gl=function(t,e,n,i,r,a,s,o){if(t==n&&e==i)return 0;if(t<0||e<0||r<=t||a<=e||n<0||i<0||r<=n||a<=i||-1!=o[e*r+t]||-1!=o[i*r+n])return 1e7;t=e*r+t<<2,i=i*r+n<<2,r=s[t]-s[i],n=s[1+t]-s[1+i],i=s[2+t]-s[2+i];return r*r+n*n+i*i+1},Rr.Cn.aM=function(t,e,n,i){return 0<=t&&t<n&&0<=e&&e<i},Rr.Cn.afr=function(t,e,n,i){for(var r=24*t,a=e[r],s=e[1+r],o=i*i,l=0,h=1e9;99!=n[l];)l=e[r+n[l]]<n[l+1]?n[l+2]:n[l+3];for(var i=n[l+1],u=n[l+2],f=-1,c=i;c<=u;c++){var p=24*(l=c),d=e[p],v=e[1+p];(d-a)*(d-a)+(v-s)*(v-s)<o||(p=Rr.Cn.getError(p,r,e,h))<h&&(h=p,f=l)}return f},Rr.Cn.getError=function(t,e,n,i){for(var r=0,a=4;a<24;a+=4){var s=n[e+a]-n[t+a],o=n[e+a+1]-n[t+a+1],l=n[e+a+2]-n[t+a+2],h=n[e+a+3]-n[t+a+3];if(i<=(r+=s*s+o*o+l*l+h*h))return r+1}return r},Rr.Cn.YZ=function(t,e,n,i,r){var a=0;if(e-t<=16)n.push(99,t,e);else{Rr.Cn.UP(t,e,i,r);for(var s=-1,o=-1,l=4;l<24;l++){var h=r[2*l+1]-r[2*l];o<h&&(o=h,s=l)}for(var u=t+e>>1,f=Rr.Cn.a0z(u,t,e,i,s),c=-1,l=t;l<=e;l++)i[24*l+s]==f&&(-1==c&&(c=l),a=l);if(t+8<c&&e-a<c-t)u=c;else if(a+1<e-8)u=a+1;else if(e-t<64)return void n.push(99,t,e);var p=n.length;n.push(s,f,0,0),n[p+2]=p+4,Rr.Cn.YZ(t,u-1,n,i,r),n[p+3]=n.length,Rr.Cn.YZ(u,e,n,i,r)}},Rr.Cn.UP=function(t,e,n,i){for(var r=0;r<48;r+=4)i[r]=3e4,i[r+1]=-3e4,i[r+2]=3e4,i[r+3]=-3e4;for(r=t;r<=e;r++)for(var a=24*r,s=0;s<24;s++){var o=n[a+s],l=i[s<<1],h=i[1+(s<<1)];o<l&&(i[s<<1]=o),h<o&&(i[1+(s<<1)]=o)}},Rr.Cn.iF=function(t,e,n){var i=n[t+0];n[t+0]=n[e+0],n[e+0]=i,i=n[t+1],n[t+1]=n[e+1],n[e+1]=i,i=n[t+2],n[t+2]=n[e+2],n[e+2]=i,i=n[t+3],n[t+3]=n[e+3],n[e+3]=i,i=n[t+4],n[t+4]=n[e+4],n[e+4]=i,i=n[t+5],n[t+5]=n[e+5],n[e+5]=i,i=n[t+6],n[t+6]=n[e+6],n[e+6]=i,i=n[t+7],n[t+7]=n[e+7],n[e+7]=i,i=n[t+8],n[t+8]=n[e+8],n[e+8]=i,i=n[t+9],n[t+9]=n[e+9],n[e+9]=i,i=n[t+10],n[t+10]=n[e+10],n[e+10]=i,i=n[t+11],n[t+11]=n[e+11],n[e+11]=i,i=n[t+12],n[t+12]=n[e+12],n[e+12]=i,i=n[t+13],n[t+13]=n[e+13],n[e+13]=i,i=n[t+14],n[t+14]=n[e+14],n[e+14]=i,i=n[t+15],n[t+15]=n[e+15],n[e+15]=i,i=n[t+16],n[t+16]=n[e+16],n[e+16]=i,i=n[t+17],n[t+17]=n[e+17],n[e+17]=i,i=n[t+18],n[t+18]=n[e+18],n[e+18]=i,i=n[t+19],n[t+19]=n[e+19],n[e+19]=i,i=n[t+20],n[t+20]=n[e+20],n[e+20]=i,i=n[t+21],n[t+21]=n[e+21],n[e+21]=i,i=n[t+22],n[t+22]=n[e+22],n[e+22]=i,i=n[t+23],n[t+23]=n[e+23],n[e+23]=i},Rr.Cn.$E=function(t,e,n,i){for(var r=t[24*(n+i>>>1)+e];n<=i;){for(;t[24*n+e]<r;)n++;for(;t[24*i+e]>r;)i--;n<=i&&(t[24*n+e]!=t[24*i+e]&&Rr.Cn.iF(24*n,24*i,t),n++,i--)}return n},Rr.Cn.a0z=function(t,e,n,i,r){for(var a;e!=n;)t<(a=Rr.Cn.$E(i,r,e,n))?n=a-1:e=a;return i[24*t+r]},Rr.Cn.VO=function(t,e,n,i){for(var r=0;r<i;r++)e[n+r]=t[r]},Rr.Cn.a4L=function(t,e,n,i,r,a,s,o,l){for(var h=(i-3)*r+(n-3),u=h<<2,f=0;f<8;f++){if(e[h]+e[h+1]+e[h+2]+e[h+3]+e[h+4]+e[h+5]+e[h+6]+e[h+7]!=0||t[u+3]<200||t[u+7]<200||t[u+11]<200||t[u+15]<200||t[u+19]<200||t[u+23]<200||t[u+27]<200||t[u+31]<200)return 1;var c=f<<3;s[c]=t[u+0],o[c]=t[u+1],l[c]=t[u+2],s[1+c]=t[u+4],o[1+c]=t[u+5],l[1+c]=t[u+6],s[2+c]=t[u+8],o[2+c]=t[u+9],l[2+c]=t[u+10],s[3+c]=t[u+12],o[3+c]=t[u+13],l[3+c]=t[u+14],s[4+c]=t[u+16],o[4+c]=t[u+17],l[4+c]=t[u+18],s[5+c]=t[u+20],o[5+c]=t[u+21],l[5+c]=t[u+22],s[6+c]=t[u+24],o[6+c]=t[u+25],l[6+c]=t[u+26],s[7+c]=t[u+28],o[7+c]=t[u+29],l[7+c]=t[u+30],u+=r<<2,h+=r}return 0},Rr.Cn.W2=function(t,e){e[0]=t[32]+t[0],e[1]=t[33]+t[1],e[2]=t[34]+t[2],e[3]=t[35]+t[3],e[4]=t[36]+t[4],e[5]=t[37]+t[5],e[6]=t[38]+t[6],e[7]=t[39]+t[7],e[8]=t[40]+t[8],e[9]=t[41]+t[9],e[10]=t[42]+t[10],e[11]=t[43]+t[11],e[12]=t[44]+t[12],e[13]=t[45]+t[13],e[14]=t[46]+t[14],e[15]=t[47]+t[15],e[16]=t[48]+t[16],e[17]=t[49]+t[17],e[18]=t[50]+t[18],e[19]=t[51]+t[19],e[20]=t[52]+t[20],e[21]=t[53]+t[21],e[22]=t[54]+t[22],e[23]=t[55]+t[23],e[24]=t[56]+t[24],e[25]=t[57]+t[25],e[26]=t[58]+t[26],e[27]=t[59]+t[27],e[28]=t[60]+t[28],e[29]=t[61]+t[29],e[30]=t[62]+t[30],e[31]=t[63]+t[31],e[32]=t[0]-t[32],e[33]=t[1]-t[33],e[34]=t[2]-t[34],e[35]=t[3]-t[35],e[36]=t[4]-t[36],e[37]=t[5]-t[37],e[38]=t[6]-t[38],e[39]=t[7]-t[39],e[40]=t[8]-t[40],e[41]=t[9]-t[41],e[42]=t[10]-t[42],e[43]=t[11]-t[43],e[44]=t[12]-t[44],e[45]=t[13]-t[45],e[46]=t[14]-t[46],e[47]=t[15]-t[47],e[48]=t[16]-t[48],e[49]=t[17]-t[49],e[50]=t[18]-t[50],e[51]=t[19]-t[51],e[52]=t[20]-t[52],e[53]=t[21]-t[53],e[54]=t[22]-t[54],e[55]=t[23]-t[55],e[56]=t[24]-t[56],e[57]=t[25]-t[57],e[58]=t[26]-t[58],e[59]=t[27]-t[59],e[60]=t[28]-t[60],e[61]=t[29]-t[61],e[62]=t[30]-t[62],e[63]=t[31]-t[63],t[0]=e[16]+e[0],t[1]=e[17]+e[1],t[2]=e[18]+e[2],t[3]=e[19]+e[3],t[4]=e[20]+e[4],t[5]=e[21]+e[5],t[6]=e[22]+e[6],t[7]=e[23]+e[7],t[8]=e[24]+e[8],t[9]=e[25]+e[9],t[10]=e[26]+e[10],t[11]=e[27]+e[11],t[12]=e[28]+e[12],t[13]=e[29]+e[13],t[14]=e[30]+e[14],t[15]=e[31]+e[15],t[16]=e[0]-e[16],t[17]=e[1]-e[17],t[18]=e[2]-e[18],t[19]=e[3]-e[19],t[20]=e[4]-e[20],t[21]=e[5]-e[21],t[22]=e[6]-e[22],t[23]=e[7]-e[23],t[24]=e[8]-e[24],t[25]=e[9]-e[25],t[26]=e[10]-e[26],t[27]=e[11]-e[27],t[28]=e[12]-e[28],t[29]=e[13]-e[29],t[30]=e[14]-e[30],t[31]=e[15]-e[31],e[0]=t[8]+t[0],e[1]=t[9]+t[1],e[2]=t[10]+t[2],e[3]=t[11]+t[3],e[4]=t[12]+t[4],e[5]=t[13]+t[5],e[6]=t[14]+t[6],e[7]=t[15]+t[7],e[8]=t[0]-t[8],e[9]=t[1]-t[9],e[10]=t[2]-t[10],e[11]=t[3]-t[11],e[12]=t[4]-t[12],e[13]=t[5]-t[13],e[14]=t[6]-t[14],e[15]=t[7]-t[15],t[0]=e[4]+e[0],t[1]=e[5]+e[1],t[2]=e[6]+e[2],t[3]=e[7]+e[3],t[4]=e[0]-e[4],t[5]=e[1]-e[5],t[6]=e[2]-e[6],t[7]=e[3]-e[7],t[8]=e[12]+e[8],t[9]=e[13]+e[9],t[10]=e[14]+e[10],t[11]=e[15]+e[11],t[12]=e[8]-e[12],t[13]=e[9]-e[13],t[14]=e[10]-e[14],t[15]=e[11]-e[15],e[0]=t[2]+t[0],e[1]=t[3]+t[1],e[2]=t[0]-t[2],e[3]=t[1]-t[3],e[4]=t[6]+t[4],e[5]=t[7]+t[5],e[6]=t[4]-t[6],e[7]=t[5]-t[7],e[8]=t[10]+t[8],e[9]=t[11]+t[9],e[10]=t[8]-t[10],e[11]=t[9]-t[11],e[12]=t[14]+t[12],e[13]=t[15]+t[13],e[14]=t[12]-t[14],e[15]=t[13]-t[15],t[0]=e[1]+e[0],t[1]=e[0]-e[1],t[2]=e[3]+e[2],t[3]=e[2]-e[3],t[4]=e[5]+e[4],t[5]=e[4]-e[5],t[6]=e[7]+e[6],t[7]=e[6]-e[7],t[8]=e[9]+e[8],t[9]=e[8]-e[9],t[10]=e[11]+e[10],t[11]=e[10]-e[11],t[12]=e[13]+e[12],t[13]=e[12]-e[13],t[14]=e[15]+e[14],t[15]=e[14]-e[15]},Rr.Cn.amz=function(){for(var t,e,n="",i="v",r="t",a=5,s=32;0<s;s>>=1,a--){for(e=0;e<64;e++)n+=0!=(e>>a&1)?r+"["+e+"] = "+i+"["+(-s+e)+"] - "+i+"["+e+"];  ":r+"["+e+"] = "+i+"["+(s+e)+"] + "+i+"["+e+"];  ";t=i,i=r,r=t,n+="\n"}console.log(n)},Rr.Cn.akP=function(t,e,n){for(var i,r,a=e,s=n,o=0;t>>o!=2;)o++;for(var e=o,l=t>>1;0<l;l>>=1,o--){for(r=0;r<t;r++)s[r]=0!=(r>>o&1)?a[-l+r]-a[r]:a[l+r]+a[r];i=a,a=s,s=i}if(1==(1&e))for(l=0;l<t;l++)n[l]=a[l]},Rr.zi={},Rr.zi.fX=function(t,e,n,i,r,a,s,o,l){Date.now();var h=new Uint32Array(t.buffer),u=new Uint32Array(e.buffer),f=s/n,c=o/i,p=1/f,d=1/c,v=new Float64Array(2),g=0,y=0,m=n,w=i;r&&(g=r.x,y=r.y,m=r.m,w=r.n);for(var b=0;b<w;b++)for(var M=0;M<m;M++){var S=g+M,C=y+b,x=C*n+S;Rr.zi.asA(a,s,o,(S+.5)*f,(C+.5)*c,v);var L=v[0]*p,D=v[1]*d;0==L&&0==D?u[x]=h[x]:Rr.N.te(S+L+.5,C+D+.5,h,n,i,u,x,l)}},Rr.zi.asA=function(t,e,n,i,r,a){var s=~~(i-=.499999),o=~~(r-=.499999),l=i-s,h=r-o,u=(1-h)*(1-l),f=(1-h)*l,i=h*(1-l),r=h*l,h=s<e-1?1+s:s,l=o<n-1?1+o:o,n=o*e+s<<1,o=o*e+h<<1,s=l*e+s<<1,h=l*e+h<<1;a[0]=u*t[n]+f*t[o]+i*t[s]+r*t[h],a[1]=u*t[1+n]+f*t[1+o]+i*t[1+s]+r*t[1+h]},Rr.zi.ab_=function(t,e,n,i,r){for(var a=1/t,s=i.length,o=0;o<s;o++){var l,h,u=i[o],f=u<<1,c=~~(u*a),p=u-t*c,d=n[f],v=n[1+f],g=0,y=0;0!=p&&p!=t-1&&(g-=(d-.5*(n[l=u-1<<1]+n[h=u+1<<1]))*r,y-=(v-.5*(n[l+1]+n[h+1]))*r),0!=c&&c!=e-1&&(g-=(d-.5*(n[l=u-t<<1]+n[h=u+t<<1]))*r,y-=(v-.5*(n[l+1]+n[h+1]))*r),n[f]=d+g,n[1+f]=v+y}},Rr.zi.a5O=function(t,e){var n=t+","+e;if(Rr.zi.wJ==n)return Rr.zi.Oh;var i=Rr.zi.Oh=[];Rr.zi.wJ=n;for(var r=0;r<=1e3;r++){var a=Math.sqrt(.001*r),s=Math.exp(-4*a);i[r]=e*((1-t)*s+t*(.96*(1-a*a)))}return i},Rr.zi.wJ="",Rr.zi.Oh=[],Rr.zi.akm=function(t,e,n,i,r,a,s,o,l,h,u,f,c){for(var p=Math.max(0,Math.floor(r-s-1)),d=Math.min(e,Math.ceil(r+s+1)),v=Math.max(0,Math.floor(a-s-1)),g=Math.min(n,Math.ceil(a+s+1)),y=2*e,m=1/s,w=0,b=Rr.zi.a5O(o,l=c&&(3==i||6==i)?-l:l),M=v;M<g;M++)for(var S=p;S<d;S++){var C,x,L,D,k=M*e+S,T=k<<1,A=(r-S)*m,E=(a-M)*m,O=A*A+E*E;O<1&&(f[w]=k,D=b[~~(1e3*O)],1==i?(t[T]=t[T]*(1-.05*D),t[1+T]=t[1+T]*(1-.05*D)):((k=C=0)==i?(C=h*D,k=u*D):2==i||(3==i?(C=D*E,k=-D*A):4==i?(C=D*A,k=D*E):5==i?(C=-D*A,k=-D*E):6==i&&(C=u*D,k=-h*D)),O=t[T],A=t[1+T],E=0==S||S!=e-1&&C<0?(x=1+t[2+T]-O,t[3+T]-A):(x=O-t[T-2]+1,A-t[T-1]),D=0==M||M!=n-1&&k<0?(L=t[T+y]-O,1+t[T+y+1]-A):(L=O-t[T-y],A-t[T-y+1]+1),t[T]=-(x*C+L*k-O),t[1+T]=-(E*C+D*k-A)),w++)}},Rr.zi.a8I=function(t){for(var e=t[0],n=t[0],i=t[1],r=t[1],a=0;a<t.length;a+=2){var s=t[a],o=t[a+1];s<e?e=s:n<s&&(n=s),o<i?i=o:r<o&&(r=o)}return[e,i,n,r]},Rr.atq=function(t,M,n,r,e){function S(t,e,n,i){return Math.sqrt((t-n)*(t-n)+(e-i)*(e-i))}function C(t){return t<0?0:M<=t?M-1:t}function x(t){return t<0?0:n<=t?n-1:t}function L(t,e){var n=e[3]*(1/255),i=r[t]+e[0]*n;r[t]=i=255<i?255:i,i=r[t+1]+e[1]*n,r[t+1]=i=255<i?255:i,i=r[t+2]+e[2]*n,r[t+2]=i=255<i?255:i}function p(t,e,n){w(t,e)&&(n[3]<0&&(n[3]=0),L(4*(e*M+t),n))}var i=M/800;function v(t){return b[~~t]}function d(t){return 1-g(t)}function g(t){return t-~~t}function l(t,e,n,i,r,a,s,o,l){null==a&&(a=.5),null==s&&(s=0),null==o&&(o=0),null==l&&(l=!1);var h=t.x,u=t.y,f=n.slice(0),c=~~(n[3]*O);i*=O,l||(e=k(e),r=k(r),s=k(s),o=k(o));for(var l=C(h-e),p=C(h+e),d=l;d<=p;d++){for(var v=d-h,g=Math.floor(Math.sqrt(e*e-v*v)),v=x(u-g),y=x(u),m=v;m<=y;m++){if(e<(b=S(d,m,h,u))||b<=e-r)break;var w=(b-e+r)/r;f[3]=c-i*(1==a?w:Math.pow(w,a)),L(4*(m*M+d),f)}for(var b,m=v=x(u+g);y<m;m--){if(e<(b=S(d,m,h,u))||b<=e-r)break;w=(b-e+r)/r;f[3]=c-i*(1==a?w:Math.pow(w,a)),L(4*(m*M+d),f)}}0<s&&D(t,e+s,f,f[3],s,1,0,0,!0),0<o&&D(t,e-r,T(n),-n[3],o,1,0,0,!0)}function h(t,e){var n=t.DI,i=t.C6,r=e.slice(0),a=e[3]*O,s=Math.abs(i.y-n.y)>Math.abs(i.x-n.x);s&&(h=n.x,n.x=n.y,n.y=h,h=i.x,i.x=i.y,i.y=h),n.x>i.x&&(h=n,n=i,i=h);var o=i.x-n.x,t=i.y-n.y,l=0==o?1:t/o,e=Math.round(n.x),h=n.y+l*(e-n.x),t=d(n.x+.5),o=e,n=~~h;s?(r[3]=a*d(h)*t,p(n,o,r),r[3]=a*g(h)*t,p(1+n,o,r)):(r[3]=a*d(h)*t,p(o,n,r),r[3]=a*g(h)*t,p(o,1+n,r));var u=h-l,e=Math.round(i.x),h=i.y+l*(e-i.x),t=g(i.x+.5),f=e,e=~~h;if(s?(r[3]=a*d(h)*t,p(e,f,r),r[3]=a*g(h)*t,p(1+e,f,r)):(r[3]=a*d(h)*t,p(f,e,r),r[3]=a*g(h)*t,p(f,1+e,r)),s)for(var c=o+1;c<=f-1;c++)r[3]=a*d(u),p(~~u,c,r),r[3]=a*g(u),p(1+~~u,c,r),u+=l;else for(c=o+1;c<=f-1;c++)r[3]=a*d(u),p(c,~~u,r),r[3]=a*g(u),p(c,1+~~u,r),u+=l}function a(t,e){this.x=Math.round(t),this.y=Math.round(e)}var s=Math.PI/180;function o(t,e,n,i){this.DI=new a(t,e),this.C6=new a(n,i)}a.prototype.a3=function(t,e){t*=s;var n=this.x+e*Math.cos(t),t=this.y+e*Math.sin(t);return new o(this.x,this.y,n,t)},a.prototype.ack=function(t,e){return t*=s,new a(this.oL+e*Math.cos(t),this.aoC+e*Math.sin(t))},o.prototype.Ns=function(t){return new a(t*this.DI.x+(1-t)*this.C6.x,t*this.DI.y+(1-t)*this.C6.y)};var u=function(t,e,n,i,r,a,s,o){l(t,e,n,i,r,1,a,s,o)},f=function(t,e,n,i,r,a){D(t,e,n,n[3],e+1,1,i,r,a)},c=function(t,e,n,i){D(t,e,n,0,e+1,1,i)},y=function(t,e,n,i,r,a){D(t,e,n,0,i,1,r,a)},m=function(t,e,n,i,r){var a=t.x,s=t.y;i*=O,(r=null==r?!1:r)||(e=k(e),n=k(n));for(var r=C(a-e),o=C(a+e),l=r;l<o;l++){for(var h=l-a,u=~~Math.sqrt(e*e-h*h),h=x(s-u),f=x(s),c=h;c<=f;c++){if(e<(p=S(l,c,a,s))||p<=e-n)break;(d=v(300*((e-p)/n)))[3]=i,L(4*(c*M+l),d)}for(var p,d,c=h=x(s+u);f<c;c--){if(e<(p=S(l,c,a,s))||p<=e-n)break;(d=v(300*((e-p)/n)))[3]=i,L(4*(c*M+l),d)}}},D=l,k=function(t){return Math.round(t*i)},w=function(t,e){return 0<=t&&t<M&&0<=e&&e<n},T=function(t){return(t=t.slice(0,3))[3]=0,t},b=[];!function(){for(var t=0;t<=300;t++)b[t]=function(t){var e=.8*.2,n=t/60%2-1,i=e*(1-n*n),n=.2-e;i=t<60?[.2,i,0]:t<120?[i,e,0]:t<180?[0,e,i]:t<240?[0,i,e]:t<300?[i,0,e]:[e,0,i];return[255*(i[0]+n),255*(i[1]+n),255*(i[2]+n)]}(t)}();for(var A=0;A<t.length;A++)r[A]=t[A];var E=new o(M*e[2],n*e[3],M/2,n/2),O=e[1],N=[];return N[0]=function(){var t=0;c(E.Ns(1.4),260,[80,40,15,60],10),c(E.Ns(1),100,[240,50,50,30],30),f(E.Ns(1),60,[255,40,0,40]);var e=[255,255,255,255];D(E.Ns(1),70,e,e[3],58,.5),c(E.Ns(1),12,e),e[3]=40,u(E.Ns(1),150,e,e[3],150);for(var n=0;n<40;n++){t+=25*Math.random();var i=Math.random()*k(300)+k(100);E.Ns(1).a3(t,i);h(E.Ns(1).a3(t,i),[110,110,110,30])}f(E.Ns(1),130,[255,255,255,8]);y(E.Ns(1),70,[170,30,23,70],1,3,3);var r=[60,60,130,40];c(E.Ns(.47),44,r,5),c(E.Ns(.43),22,r,3),r[3]=16,c(E.Ns(.53),15,r,2);var a=[138,94,42,100];c(E.Ns(.2),16,a,2);e=[130,255,170,180];f(E.Ns(0),4,e),f(E.Ns(-.25),5,e),a=[150,90,0,50],u(E.Ns(-.45),55,T(a),-a[3],40,2),c(E.Ns(-.42),35,a,2),c(E.Ns(-.5),15,a,2),m(E.Ns(-1.28),145,11,70);a=b[0];a[3]=50,u(E.Ns(-1.28),149,a,a[3],4),(a=b[300])[3]=50,u(E.Ns(-1.28),154,T(a),-a[3],3);y(E.Ns(-1),73,[130,130,10,50],3,2);a=[40,130,70,40];u(E.Ns(-1),70,T(a),-a[3],35),a=[40,170,60,50],c(E.Ns(-.7),25,a,4);a=[70,110,50,60];u(E.Ns(1.3),30,T(a),-a[3],11,3),r=[0,50,210,80],f(E.Ns(-.72),20,r)},N[1]=function(){f(E.Ns(1),150,[240,70,70,60]),c(E.Ns(1),100,[200,60,60,40],30);var t=[255,255,255,255],e=0,n=0;D(E.Ns(1),75,t,t[3],63),c(E.Ns(1),12,t),f(E.Ns(1),270,[200,200,200,20],10);for(var i=0;i<10;i++){e+=10+40*Math.random();n=Math.random()*k(250)+k(80);h(E.Ns(1).a3(e,n),[110,110,110,35])}e=5,n=100;for(i=0;i<12;i++)e+=30,function(t,e,n,i){for(var r=0;r<4;r++)h(t.a3(e+1.3*r,n),i)}(E.Ns(1),e,n,[90,90,90,40]);y(E.Ns(1),70,[150,40,23,100],1,3,3);f(E.Ns(-.9),180,[255,255,255,20]),c(E.Ns(-.9),140,[30,100,60,40],15);y(E.Ns(-.9),120,[170,80,25,15],1,4,4);t=[110,240,190,200];f(E.Ns(-.6),3,t),t[3]=100,f(E.Ns(-.6),7,t);f(E.Ns(-.73),9,[230,120,40,85]);t=[60,60,190,50];c(E.Ns(.3),28,t,6),t[3]=25,c(E.Ns(.34),20,t,3)},N[2]=function(){var t,e=[255,255,255,255],n=0;c(E.Ns(1),13,e),D(E.Ns(1),150,e,e[3],137);c(E.Ns(1.4),260,[120,80,35,20],10);for(var i=0;i<40;i++)n+=5+30*Math.random(),t=Math.random()*k(300),h(E.Ns(1).a3(n,t),[110,110,110,20]);c(E.Ns(1),70,[10,30,255,30],50);c(E.Ns(1.5),60,[15,90,170,15]);var r=[220,220,20,50];c(E.Ns(-1.15),8,r,2);e=[255,255,255,40];f(E.Ns(-1.18),6,e),f(E.Ns(-1.18),4,e),r=[110,110,10,8],u(E.Ns(-1.2),32,T(r),-r[3],20,3);for(var a=[5,0,16,255],i=0;i<4;i++)c(E.Ns(-1.36),10,a,3);var s=[90,200,150,20],o=s.slice(0);o[3]*=2,c(E.Ns(-1.32),7,o,3),c(E.Ns(-1.36),7,o,3),c(E.Ns(-1.4),7,o,3);e=[230,230,230,100];f(E.Ns(-1.36),2,e),e[3]=3,c(E.Ns(-.55),10,e),r=[120,100,10,18],c(E.Ns(-.55),160,r,8),c(E.Ns(-.55),80,r,4),o[s[3]=3]=6,u(E.Ns(-.49),13,T(o),-o[3],13,2),u(E.Ns(-.55),13,T(o),-o[3],13,2),s[3]=20,c(E.Ns(.15),25,s,3),r[3]=100,f(E.Ns(-.52),3,r),r=[200,200,50,40],c(E.Ns(.27),1,r,4);r=[150,40,23,30];u(E.Ns(1),80,T(r),-r[3],2,1)},N[e[0]]()},Rr.Cq={},Rr.Cq.$Y=function(t){for(var e=t.length,n=t[0].length,i=new Array(n),r=0;r<n;r++)i[r]=new Array(e);for(r=0;r<n;r++)for(var a=0;a<e;a++)i[r][a]=t[a][r];return i},Rr.Cq.Pf=function(t,e){for(var n=t.length,i=t[0].length,r=new Array(n),a=0;a<n;a++)r[a]=new Array(i);for(a=0;a<n;a++)for(var s=0;s<i;s++)r[a][s]=t[a][s]-e[a][s];return r},Rr.Cq.add=function(t,e){for(var n=t.length,i=t[0].length,r=new Array(n),a=0;a<n;a++)r[a]=new Array(i);for(a=0;a<n;a++)for(var s=0;s<i;s++)r[a][s]=t[a][s]+e[a][s];return r},Rr.Cq.multiply=function(t,e){var n=t.length,i=t[0].length,r=e[0].length;if(i!=e.length)throw"e";for(var a=new Array(n),s=0;s<n;s++)a[s]=new Array(r);if(0!=(1&i))for(s=0;s<n;s++)for(var o=t[s],l=a[s],h=0;h<r;h++){for(var u=0,f=0;f<i;f++)u+=o[f]*e[f][h];l[h]=u}else for(s=0;s<n;s++)for(o=t[s],l=a[s],h=0;h<r;h++){for(u=0,f=0;f<i;f+=2)u+=o[f]*e[f][h]+o[f+1]*e[f+1][h];l[h]=u}return a},Rr.Cq.ec=function(t,e){for(var n=t.length,i=t[0].length,r=new Array(n),a=0;a<n;a++){for(var s=0,o=0;o<i;o++)s+=t[a][o]*e[o];r[a]=s}return r},Rr.Cq.rt=function(t,e){for(var n=[],i=0;i<t;i++){n.push([]);for(var r=0;r<e;r++)n[i].push(0)}return n},Rr.Cq.ag6=function(t){for(var e=0;e<t.length;e++)console.log(JSON.stringify(t[e]))},Rr.Cq.ai4=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].join(","));return"["+e.join(";")+"]"},Rr.Cq.Tp=function(t,e){for(var n=t.length,i=0;i<n;i++){for(var r=0,a=Number.NEGATIVE_INFINITY,s=i;s<n;s++)Math.abs(t[s][i])>a&&(r=s,a=Math.abs(t[s][i]));Rr.Cq.alJ(t,i,r);for(s=i+1;s<n;s++){if(0==t[i][i])return 1;for(var o=t[s][i]/t[i][i],l=i;l<n+1;l++)t[s][l]-=t[i][l]*o}}for(s=n-1;0<=s;s--){if(0==t[s][s])return 1;var h=t[s][n]/t[s][s];e[s]=h;for(l=s-1;0<=l;l--)t[l][n]-=t[l][s]*h,t[l][s]=0}return 0},Rr.Cq.alJ=function(t,e,n){var i=t[e];t[e]=t[n],t[n]=i},Rr.Cq.at7=function(t){for(var e=t.length,n=Rr.Cq.rt(e,e),i=0;i<e;i++)n[i][i]=t[i];return n},Rr.Cq.anH=function(t){for(var e=t.length,n=t[0].length,i=new Array(e),r=0;r<e;r++){for(var a=i[r]=0;a<n;a++)i[r]+=t[r][a];i[r]/=n}return i},Rr.Cq.JX=function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]*t[n];return Math.sqrt(e)},Rr.i8={},Rr.i8.WI=function(t){t=~~(t+.5);return t<0?0:255<t?255:t},Rr.i8.transform=function(t,e,n){for(var i=Rr.i8.WI,r=t.p.length,a=0;a<r;a++){var s=t.p[a],o=t.z[a],l=t.S[a];e.p[a]=i(n[0]*s+n[1]*o+n[2]*l+255*n[3]),e.z[a]=i(n[4]*s+n[5]*o+n[6]*l+255*n[7]),e.S[a]=i(n[8]*s+n[9]*o+n[10]*l+255*n[11])}},Rr.i8.To=function(t,e,n){for(var i=Rr.i8.WI,r=t.length,a=0;a<r;a+=4){var s=t[a],o=t[a+1],l=t[a+2];e[a]=i(n[0]*s+n[1]*o+n[2]*l+255*n[3]),e[a+1]=i(n[4]*s+n[5]*o+n[6]*l+255*n[7]),e[a+2]=i(n[8]*s+n[9]*o+n[10]*l+255*n[11])}},Rr.i8.RK=function(t){var e,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];return 1==t[0]+t[1]+t[2]?n[e=t.indexOf(1)]=n[e+4]=n[e+8]=1:(n[0]=t[0],n[5]=t[1],n[10]=t[2]),n},Rr.i8.Uu=function(t,e,n){return[1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1]},Rr.i8.GQ=function(t,e,n){return[t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1]},Rr.i8.a4g=function(t){return[t[0],t[1],t[2],t[4],t[5],t[6],t[8],t[9],t[10]]},Rr.i8.O3=function(t){return[t[0],t[1],t[2],0,t[3],t[4],t[5],0,t[6],t[7],t[8],0,0,0,0,1]},Rr.i8.vA=function(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3],t[4]*e[0]+t[5]*e[1]+t[6]*e[2]+t[7]*e[3],t[8]*e[0]+t[9]*e[1]+t[10]*e[2]+t[11]*e[3],t[12]*e[0]+t[13]*e[1]+t[14]*e[2]+t[15]*e[3]]},Rr.i8.$Y=function(t){var e=[];return e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15],e},Rr.i8.add=function(t,e){for(var n=t.slice(0),i=0;i<16;i++)n[i]+=e[i];return n},Rr.i8.multiply=function(t,e){var n=[];return n[0]=t[0]*e[0]+t[1]*e[4]+t[2]*e[8]+t[3]*e[12],n[1]=t[0]*e[1]+t[1]*e[5]+t[2]*e[9]+t[3]*e[13],n[2]=t[0]*e[2]+t[1]*e[6]+t[2]*e[10]+t[3]*e[14],n[3]=t[0]*e[3]+t[1]*e[7]+t[2]*e[11]+t[3]*e[15],n[4]=t[4]*e[0]+t[5]*e[4]+t[6]*e[8]+t[7]*e[12],n[5]=t[4]*e[1]+t[5]*e[5]+t[6]*e[9]+t[7]*e[13],n[6]=t[4]*e[2]+t[5]*e[6]+t[6]*e[10]+t[7]*e[14],n[7]=t[4]*e[3]+t[5]*e[7]+t[6]*e[11]+t[7]*e[15],n[8]=t[8]*e[0]+t[9]*e[4]+t[10]*e[8]+t[11]*e[12],n[9]=t[8]*e[1]+t[9]*e[5]+t[10]*e[9]+t[11]*e[13],n[10]=t[8]*e[2]+t[9]*e[6]+t[10]*e[10]+t[11]*e[14],n[11]=t[8]*e[3]+t[9]*e[7]+t[10]*e[11]+t[11]*e[15],n[12]=t[12]*e[0]+t[13]*e[4]+t[14]*e[8]+t[15]*e[12],n[13]=t[12]*e[1]+t[13]*e[5]+t[14]*e[9]+t[15]*e[13],n[14]=t[12]*e[2]+t[13]*e[6]+t[14]*e[10]+t[15]*e[14],n[15]=t[12]*e[3]+t[13]*e[7]+t[14]*e[11]+t[15]*e[15],n},Rr.i8.tU=function(t){var e=[];e[0]=t[5]*t[10]*t[15]-t[5]*t[14]*t[11]-t[6]*t[9]*t[15]+t[6]*t[13]*t[11]+t[7]*t[9]*t[14]-t[7]*t[13]*t[10],e[1]=-t[1]*t[10]*t[15]+t[1]*t[14]*t[11]+t[2]*t[9]*t[15]-t[2]*t[13]*t[11]-t[3]*t[9]*t[14]+t[3]*t[13]*t[10],e[2]=t[1]*t[6]*t[15]-t[1]*t[14]*t[7]-t[2]*t[5]*t[15]+t[2]*t[13]*t[7]+t[3]*t[5]*t[14]-t[3]*t[13]*t[6],e[3]=-t[1]*t[6]*t[11]+t[1]*t[10]*t[7]+t[2]*t[5]*t[11]-t[2]*t[9]*t[7]-t[3]*t[5]*t[10]+t[3]*t[9]*t[6],e[4]=-t[4]*t[10]*t[15]+t[4]*t[14]*t[11]+t[6]*t[8]*t[15]-t[6]*t[12]*t[11]-t[7]*t[8]*t[14]+t[7]*t[12]*t[10],e[5]=t[0]*t[10]*t[15]-t[0]*t[14]*t[11]-t[2]*t[8]*t[15]+t[2]*t[12]*t[11]+t[3]*t[8]*t[14]-t[3]*t[12]*t[10],e[6]=-t[0]*t[6]*t[15]+t[0]*t[14]*t[7]+t[2]*t[4]*t[15]-t[2]*t[12]*t[7]-t[3]*t[4]*t[14]+t[3]*t[12]*t[6],e[7]=t[0]*t[6]*t[11]-t[0]*t[10]*t[7]-t[2]*t[4]*t[11]+t[2]*t[8]*t[7]+t[3]*t[4]*t[10]-t[3]*t[8]*t[6],e[8]=t[4]*t[9]*t[15]-t[4]*t[13]*t[11]-t[5]*t[8]*t[15]+t[5]*t[12]*t[11]+t[7]*t[8]*t[13]-t[7]*t[12]*t[9],e[9]=-t[0]*t[9]*t[15]+t[0]*t[13]*t[11]+t[1]*t[8]*t[15]-t[1]*t[12]*t[11]-t[3]*t[8]*t[13]+t[3]*t[12]*t[9],e[10]=t[0]*t[5]*t[15]-t[0]*t[13]*t[7]-t[1]*t[4]*t[15]+t[1]*t[12]*t[7]+t[3]*t[4]*t[13]-t[3]*t[12]*t[5],e[11]=-t[0]*t[5]*t[11]+t[0]*t[9]*t[7]+t[1]*t[4]*t[11]-t[1]*t[8]*t[7]-t[3]*t[4]*t[9]+t[3]*t[8]*t[5],e[12]=-t[4]*t[9]*t[14]+t[4]*t[13]*t[10]+t[5]*t[8]*t[14]-t[5]*t[12]*t[10]-t[6]*t[8]*t[13]+t[6]*t[12]*t[9],e[13]=t[0]*t[9]*t[14]-t[0]*t[13]*t[10]-t[1]*t[8]*t[14]+t[1]*t[12]*t[10]+t[2]*t[8]*t[13]-t[2]*t[12]*t[9],e[14]=-t[0]*t[5]*t[14]+t[0]*t[13]*t[6]+t[1]*t[4]*t[14]-t[1]*t[12]*t[6]-t[2]*t[4]*t[13]+t[2]*t[12]*t[5],e[15]=t[0]*t[5]*t[10]-t[0]*t[9]*t[6]-t[1]*t[4]*t[10]+t[1]*t[8]*t[6]+t[2]*t[4]*t[9]-t[2]*t[8]*t[5];for(var n=t[0]*e[0]+t[1]*e[4]+t[2]*e[8]+t[3]*e[12],i=0;i<16;i++)e[i]/=n;return e},Rr.i8.ajS=function(t){var e=t[5]*t[10]*t[15]-t[5]*t[14]*t[11]-t[6]*t[9]*t[15]+t[6]*t[13]*t[11]+t[7]*t[9]*t[14]-t[7]*t[13]*t[10],n=-t[4]*t[10]*t[15]+t[4]*t[14]*t[11]+t[6]*t[8]*t[15]-t[6]*t[12]*t[11]-t[7]*t[8]*t[14]+t[7]*t[12]*t[10],i=t[4]*t[9]*t[15]-t[4]*t[13]*t[11]-t[5]*t[8]*t[15]+t[5]*t[12]*t[11]+t[7]*t[8]*t[13]-t[7]*t[12]*t[9],r=-t[4]*t[9]*t[14]+t[4]*t[13]*t[10]+t[5]*t[8]*t[14]-t[5]*t[12]*t[10]-t[6]*t[8]*t[13]+t[6]*t[12]*t[9];return t[0]*e+t[1]*n+t[2]*i+t[3]*r},Rr.i8.YP=Rr.i8.O3([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]),Rr.i8.aaB=Rr.i8.O3([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]),Rr.i8.aqC=Rr.i8.tU(Rr.i8.YP),Rr.Ya={},Rr.Ya.Hb=new Uint32Array(1),Rr.Ya.CJ=function(t,e,n,i,r,a){var s=new Uint32Array(t),o=0,l=Rr.Ya.Hb;l.length<4*e&&(Rr.Ya.Hb=l=new Uint32Array(4*e));for(var h=new Float64Array(l.buffer),u=0;u<e;u+=2){var f=r[u],c=r[u+1],p=a[u],d=a[u+1];l[o]=c,h[o+2>>1]=p,l[o+1]=s[f],s[f]=o+1,l[o+=4]=f,h[o+2>>1]=d,l[o+1]=s[c],s[c]=o+1,o+=4}return{S_:l,ab6:h,aih:s}},Rr.Ya.Tp=function(t,e,n,i,r,a,s){var a=Rr.Ya.CJ(t,e,n,i,r,a),o=a.S_,l=a.ab6,h=a.aih,u=new Uint32Array(t),f=new Rr.Ya.CF(t),c=1,p=0;f.push(n),f.push(i);var d=new Rr.Ya.CF(t),v=new Uint8Array(t),g=new Uint32Array(t);v[n]=1,v[i]=2;var y=new Uint32Array(t),m=new Uint32Array(t);for(m[n]=m[i]=0,y[n]=y[i]=1;;){for(var w=-1,b=0,M=1e30;!f._L()&&-1==w;){for(var S=v[O=f.top()],C=h[O]-1;-1!=C;){var x=v[N=o[C]];0!=l[(R=C^S-1<<2)+2>>1]&&(0==x?(Rr.Ya.if(O,C,N,v,g,m,y),f.push(N)):x==S&&y[N]<=y[O]&&m[N]>m[O]?Rr.Ya.if(O,C,N,v,g,m,y):x!=S&&(w=R)),C=o[C+1]-1}if(-1!=w)break;f.pop()}if(-1==w)break;c++;for(var L=w;-1!=L;)u[b]=L,b++,L=g[o[4^L]]-1;for(var D=b>>1,k=0;k<D;k++){var T=u[k];u[k]=u[b-k-1],u[b-k-1]=T}for(L=g[o[w]]-1;-1!=L;)u[b]=4^L,b++,L=g[o[4^L]]-1;for(k=0;k<b;k++)M=Math.min(M,l[u[k]+2>>1]);if(s<=(p+=M))return{hh:null,RU:p};for(k=0;k<b;k++){var A=u[k],E=4^A,O=o[E],N=o[A];l[A+2>>1]-=M,l[2+E>>1]+=M,0==l[A+2>>1]&&v[O]==v[N]&&(1==v[O]&&(g[N]=0,d.push(N)),2==v[O]&&(g[O]=0,d.push(O)))}for(;!d._L();){for(var S=v[O=d.pop()],C=h[O]-1,I=1==S?4:0,P=0,F=0,_=1e9;-1!=C;){var B=4^C,R=C^I;v[N=o[C]]==S&&0<l[R+2>>1]&&Rr.Ya.a3I(N,n,i,g,o,c,y,m)+1<_&&(F=B,_=m[P=N]+1),C=o[C+1]-1}if(0==F){for(C=h[O]-1;-1!=C;){R=C^I;v[N=o[C]]==S&&(0<l[R+2>>1]&&f.push(N),g[N]==C+1&&(g[N]=0,d.push(N))),C=o[C+1]-1}v[O]=0,f.remove(O)}else Rr.Ya.if(P,F,O,v,g,m,y)}}for(var U=[],k=0;k<e;k+=2){O=r[k],N=r[k+1];1==v[O]&&1!=v[N]&&U.push(k>>1),1==v[N]&&1!=v[O]&&U.push(e+k>>1)}return{hh:U,RU:p}},Rr.Ya.if=function(t,e,n,i,r,a,s){i[n]=i[t],r[n]=e+1,a[n]=a[t]+1,s[n]=s[t]},Rr.Ya.a3I=function(t,e,n,i,r,a,s,o){for(var l=t,h=i[t]-1,u=0;-1!=h&&s[t]!=a;)h=i[t=r[4^h]]-1,u++;if(-1==h&&t!=e&&t!=n)return 1e9;for(var f=o[t]+u,u=0,h=i[l]-1;l!=t;)o[l]=f-u,u++,s[l]=a,h=i[l=r[4^h]]-1;return f},Rr.Ya.asX=function(t,e,n,i,r,a){for(var a=Rr.Ya.CJ(t,e,n,i,r,a),s=a.S_,o=a.ab6,l=a.aih,h=0,u=new Uint32Array(2*t),f=new Rr.Ya.$W(t),c=0;;){f.reset(),f.push(n);for(var p=0;p<t;p++)u[p<<1]=0;for(;!f._L();){for(var d=f.pop(),v=l[d]-1;-1!=v;)0==u[(c=s[v])<<1]&&0<o[v+2>>1]&&c!=n&&(u[c<<1]=d+1,u[1+(c<<1)]=v,f.push(c)),v=s[v+1]-1;if(0!=u[i<<1])break}if(0==u[i<<1])break;var g=1e30;for(c=i;;){if(-1==(b=u[c<<1]-1))break;var y=u[1+(c<<1)],g=Math.min(g,o[y+2>>1]);c=b}for(c=i;;){if(-1==(b=u[c<<1]-1))break;var m=4^(y=u[1+(c<<1)]);o[y+2>>1]-=g,o[2+m>>1]+=g,c=b}h+=g}for(var w=[],p=0;p<e;p+=2){var b=r[p],c=r[p+1];0==u[b<<1]&&b!=n||0!=u[c<<1]||c==n||w.push(p>>1),0==u[c<<1]&&c!=n||0!=u[b<<1]||b==n||w.push(e+p>>1)}return{hh:w,RU:h}},Rr.Ya.$W=function(t){t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,this.kI=new Uint32Array(t+1),this.Hy=t,this.MD=0,this.o6=0},Rr.Ya.$W.prototype={push:function(t){var e=this.o6;this.kI[e]=t,this.o6=e+1&this.Hy},pop:function(){var t=this.MD,e=this.kI[t];return this.MD=t+1&this.Hy,e},_L:function(){return this.MD==this.o6},reset:function(){this.MD=0,this.o6=0}},Rr.Ya.CF=function(t){t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,this.kI=new Uint32Array(t+1),this.RG=new Uint32Array(t+1),this.Hy=t,this.MD=0,this.o6=0},Rr.Ya.CF.prototype={top:function(){return this.kI[this.MD]},anh:function(){return this.kI[this.o6]},push:function(t){var e;0==this.RG[t]&&(this.RG[t]=this.o6+1,e=this.o6,this.kI[e]=t,this.o6=e+1&this.Hy)},pop:function(){var t=this.MD,e=this.kI[t];return this.RG[e]=0,this.MD=t+1&this.Hy,e},_L:function(){return this.MD==this.o6},remove:function(t){var e=this.RG[t]-1;-1!=e&&(this.RG[t]=0,e!=this.MD?(t=this.pop(),this.kI[e]=t,this.RG[t]=1+e):this.pop())},r4:function(t){return t+this.Hy+1&this.Hy}},Rr.Ya.a0=function(t,e,n){var i=Rr.Ya.$E(t,e,n);e<i-1&&Rr.Ya.a0(t,e,i-1),i<n&&Rr.Ya.a0(t,i,n)},Rr.Ya.$E=function(t,e,n){for(var i=t[e+n>>>1];e<=n;){for(;t[e]<i;)e++;for(;t[n]>i;)n--;e<=n&&(Rr.Ya.iF(t,e,n),e++,n--)}return e},Rr.Ya.iF=function(t,e,n){var i=t[e];t[e]=t[n],t[n]=i},Rr.UY={},Rr.UY.aqF=function(t){for(var e=0;e<t.length;e++)Rr.UY.P9(t,e)},Rr.UY.P9=function(t,e){t[e].v.keyShapeInvalidated={t:"bool",v:!0}},Rr.UY.a2j=function(t){for(var e=0;e<t.length;e++)t[e].v.keyOriginIndex.v=e},Rr.UY.lk=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}},Rr.UY.Xx=function(t){var e={Rctn:2,Ln:4,Elps:5}[(t=t.v).classID],n=t.topLeft?Rr.UY.Pi(t):null,i=null,r=0,a=[!1,!1,0,0,0];if(4==e)for(var s=t.Strt.v,o=t.End.v,i=[s.Hrzn.v.val,s.Vrtc.v.val,o.Hrzn.v.val,o.Vrtc.v.val],r=t.Wdth.v.val,l=0;l<2;l++){var h=t[0==l?"StrA":"EndA"];null!=h&&(h=h.v,a[l]=h.On.v,a[2]=h.Wdth.v,a[3]=h.Lngt.v,a[4]=h.Cncv.v.val)}return null==e?null:Rr.UY.Lp(e,4==e?null:Rr.UY.LJ(t),n,i,r,a)},Rr.UY.UW=function(t,e,n,i,r,a,s){var o={classID:t,unitValueQuadVersion:{t:"long",v:1}};if(e&&Rr.UY.KM(o,["Left","Top","Rght","Btom"],e),n&&Rr.UY.KM(o,["topLeft","topRight","bottomRight","bottomLeft"],n),"Ln"==t){o.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:i[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:i[1]}}}},o.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:i[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:i[3]}}}},o.Wdth={t:"UntF",v:{type:"#Pxl",val:r}};for(var l=0;l<2;l++)o[0==l?"StrA":"EndA"]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:s[l]},Wdth:{t:"doub",v:s[2]},Lngt:{t:"doub",v:s[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:s[4]}}}}}return a&&(o.Nm={t:"TEXT",v:a}),{t:"Objc",v:o}},Rr.UY.Bk=function(t,e){var n=Rr.UY.SX(t),i=t[2]-t[0],r=t[3]-t[1],r=Math.sqrt(i*i+r*r),r=[0,0,r,0,r,e,0,e],e=new _r;return e.rotate(-n),e.translate(t[0],t[1]),Rr.H.A(r,e,r),r},Rr.UY.Lp=function(t,e,n,i,r,a){var s,o=Rr.UY.lk(),l=o.v;delete l.keyShapeInvalidated,l.keyOriginType={t:"long",v:t},l.keyOriginResolution={t:"doub",v:75},4==t?(l.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:i[0]},Vrtc:{t:"doub",v:i[1]}}},l.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:i[2]},Vrtc:{t:"doub",v:i[3]}}},s=Rr.UY.Bk(i,r),e=[(i=Rr.H.UP(s)).x,i.y,i.x+i.m,i.y+i.n],l.keyOriginLineWeight={t:"doub",v:r},a&&Rr.UY.a4t(l,a)):s=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]],l.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}},Rr.UY.ql(l,"keyOriginBoxCorners",s);return l.keyOriginShapeBBox={t:"Objc",v:{classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}}},Rr.UY.up(l,e),null!=n&&(l.keyOriginRRectRadii={t:"Objc",v:{classID:"radii",unitValueQuadVersion:{t:"long",v:1}}},Rr.UY.yB(l,n)),o},Rr.UY.A=function(t,e,n,i){Rr.N.cz(e),Rr.N.qM(e);for(var r=0;r<t.length;r++){var a=t[r].v;if(Rr.UY.nP(a)&&(0==n.length||-1!=n.indexOf(r))){for(var s=a.keyOriginType.v,o=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"],l=0;l<o.length;l++)if(null!=(d=Rr.UY.dp(a,o[l]))){Rr.N.A(e,d),Rr.UY.ql(a,o[l],d);var h=Rr.H.UP(d);Rr.UY.up(a,[h.x,h.y,h.x+h.m,h.y+h.n]);h=new _r;h.rotate(-Rr.UY.SX(d));var u={classID:"Trnf"};a.Trnf={t:"Objc",v:u};for(var f="xx xy yx yy tx ty".split(" "),c=[h.q4,h.S,h.yH,h.DR,h.E_,h.Qq],p=0;p<6;p++)u[f[p]]={t:"doub",v:c[p]}}var d,v=(d=Rr.UY.dp(a,"keyOriginBoxCorners"))[2]-d[0],g=d[3]-d[1],y=Math.sqrt(v*v+g*g);v/=y,g/=y;var m=d[6]-d[0],w=d[7]-d[1],y=Math.sqrt(m*m+w*w);m/=y,w/=y,4==s&&(a.keyOriginLineWeight.v=y,y=Rr.UY.cc(a),Rr.N.A(e,y),Rr.UY.a2D(a,y)),.001<Math.abs(v*m+g*w)&&Rr.UY.P9(t,r)}}},Rr.UY.nP=function(t){var e=t.keyShapeInvalidated,t=t.keyOriginType;return(null==e||!e.v)&&null!=t&&9!=t.v},Rr.UY.acz=function(t){var e,n,i=t.keyOriginType.v,r=Rr.UY._h(t),a=(r[0],r[1],r[2],r[3],new _r),s=(s=t.keyOriginPolyCornerRadius)?s.v:0,o=Rr.UY.dp(t,7==i||8==i?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),l=Rr.UY.Ge(o),h=l[2],r=l[3],u=-h/2,f=h/2,c=-r/2,p=r/2;return a.rotate(-Rr.UY.SX(o)),a.E_=l[0],a.Qq=l[1],1==i||2==i?(n=1==i?0:Rr.UY.qp(t),e=Rr.$.lO.Rect(u,c,f-u,p-c,n)):4==i?(l=Rr.UY.cc(t),n=Rr.UY.a9g(t),a=new _r,e=null==n?Rr.$.lO.Ca(l[0],l[1],l[2],l[3],t.keyOriginLineWeight.v):Rr.$.lO.Rs(l[0],l[1],l[2],l[3],t.keyOriginLineWeight.v,n)):5==i?e=Rr.$.lO._D(u,c,f-u,p-c):7!=i&&8!=i||(t=7==i?3:t.keyOriginPolySides.v,e=Rr.$.lO.Ll(0,0,100,Math.PI/t-Math.PI/2,t,s,f,p)),Rr.$.yl(e,a),e},Rr.UY.pR=function(t,e){for(var n=e.Y,i=0;i<t.length;i++){var r=t[i].v;if(Rr.UY.nP(r)){var a=Rr.UY.acz(r),s=Rr.$.PX(n,i),r=Rr.$.Tb(n,i);a[2].Gw=n[s].Gw;for(var o=n,n=n.slice(0,s),l=2;l<a.length;l++)n.push(a[l]);for(l=s+r;l<o.length;l++)n.push(o[l])}}e.Y=n,e.X$=!0},Rr.UY.zw=function(t){for(var e=-(p=1e9),n=-(d=1e9),i=[],t=t.l7(),r=t[0],a=t[1],s=0;s<a.length;s++){var o=r[a[s]],l=o.add.vogk;if(null!=l)for(var h=o.add.vmsk.w,u=0;u<l.length;u++){var f,c,p,d,v,g,y,m=l[u].v,w=0;Rr.UY.nP(m)&&(1==a.length&&0!=h.length&&-1==h.indexOf(u)||9!=(f=m.keyOriginType.v)&&(c=Rr.UY._h(m),p=Math.min(p,c[0]),d=Math.min(d,c[1]),e=Math.max(e,c[2]),n=Math.max(n,c[3]),(v=Rr.UY.dp(m,"keyOriginBoxCorners"))&&(g=(y=Rr.UY.Ge(v))[2],y=y[3],c[2]=c[0]+g,c[3]=c[1]+y,w=Rr.UY.SX(v)),i.push(w=[f,c,w]),2==f&&w.push(Rr.UY.qp(m)),7!=f&&8!=f||w.push(m.keyOriginPolyCornerRadius.v),8==f&&w.push(m.keyOriginPolySides.v)))}}return 1==i.length?i[0]:[0,p<e?[p,d,e,n]:null,0]},Rr.UY.SX=function(t){var e=t[2]-t[0],t=t[3]-t[1];return-Math.atan2(-t,e)},Rr.UY.a16=function(t,e){for(var n=Rr.UY.zw(t),i=-1,r=0;r<e.length;r++)JSON.stringify(e[r])!=JSON.stringify(n[r])&&(i=r);for(var t=t.l7(),a=t[0],s=t[1],o=0;o<s.length;o++){var l=a[s[o]],h=l.add.vogk;if(null!=h)for(var u=l.add.vmsk.w,f=0;f<h.length;f++){var c=h[f].v;if(Rr.UY.nP(c)&&(1!=s.length||0==u.length||-1!=u.indexOf(f))){var p=c.keyOriginType.v;if(1==i||2==i){Rr.UY.A(h,Rr.UY.aaN(i,c,n,e),u,!1);break}3==i&&(2==p?Rr.UY.yB(c,e[3]):c.keyOriginPolyCornerRadius.v=e[3]),4==i&&(c.keyOriginPolySides.v=e[4])}}}},Rr.UY.aaN=function(t,e,n,i){var r,a,s=i[1],o=n[1],l=(s[2]-s[0])/(o[2]-o[0]),h=(s[3]-s[1])/(o[3]-o[1]),u=new _r;return 1==t?1e-8<Math.max(Math.abs(l-1),Math.abs(h-1))?(r=s[0],a=s[1],0!=i[0]&&(r=(t=Rr.UY.dp(e,"keyOriginBoxCorners"))[0],a=t[1]),u.translate(-r,-a),u.rotate(i[2]),u.scale(l,h),u.rotate(-i[2]),u.translate(r,a)):(u.translate(-o[0],-o[1]),u.translate(s[0],s[1])):(r=((s=0!=i[0]?Rr.UY._h(e):s)[0]+s[2])/2,a=(s[1]+s[3])/2,u.translate(-r,-a),0!=n[0]&&u.rotate(n[2]),u.rotate(-i[2]),u.translate(r,a)),Rr.N.V$(u)},Rr.UY.Ge=function(t){var e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],s=t[5],o=(t[6],t[7],i-e),l=r-n,t=Math.sqrt(o*o+l*l),o=a-i,l=s-r;return[(e+a)/2,(n+s)/2,t,Math.sqrt(o*o+l*l)]},Rr.UY.dp=function(t,e){if(null==(i=t[e]))return null;for(var n=[],i=i.v,r=0;r<4;r++){var a=i["rectangleCorner"+["A","B","C","D"][r]].v;n.push(a.Hrzn.v,a.Vrtc.v)}return n},Rr.UY.ql=function(t,e,n){if(null==(i=t[e]))return null;for(var i=i.v,r=0;r<4;r++)i["rectangleCorner"+["A","B","C","D"][r]]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:n[2*r]},Vrtc:{t:"doub",v:n[2*r+1]}}}},Rr.UY._h=function(t){return Rr.UY.LJ(t.keyOriginShapeBBox.v)},Rr.UY.LJ=function(t){var e=t.classID,n=t.Left.v,i=t.Rght.v,r=t.Top.v,t=t.Btom.v;return"unitRect"!=e&&"radii"!=e&&"Rctn"!=e||(n=n.val,i=i.val,r=r.val,t=t.val),[n,r,i,t]},Rr.UY.up=function(t,e){Rr.UY.KM(t.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],e)},Rr.UY.qp=function(t){return Rr.UY.Pi(t.keyOriginRRectRadii.v)},Rr.UY.Pi=function(t){for(var e=[],n=["topLeft","topRight","bottomRight","bottomLeft"],i=0;i<4;i++)e.push(t[n[i]].v.val);return e},Rr.UY.yB=function(t,e){Rr.UY.KM(t.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],e)},Rr.UY.KM=function(t,e,n){var i=t.classID;if("unitRect"==i||"radii"==i||"Rctn"==i)for(var r=0;r<4;r++)null!=n[r]&&(t[e[r]]={t:"UntF",v:{type:"#Pxl",val:n[r]}});else for(r=0;r<4;r++)null!=n[r]&&(t[e[r]]={t:"doub",v:n[r]})},Rr.UY.cc=function(t){var e=t.keyOriginLineStart.v,t=t.keyOriginLineEnd.v;return[e.Hrzn.v,e.Vrtc.v,t.Hrzn.v,t.Vrtc.v]},Rr.UY.a2D=function(t,e){var n=t.keyOriginLineStart.v,t=t.keyOriginLineEnd.v;n.Hrzn.v=e[0],n.Vrtc.v=e[1],t.Hrzn.v=e[2],t.Vrtc.v=e[3]},Rr.UY.a9g=function(t){for(var e=[],n=["owSt","owEnd","Wdth","Lngth","Conc"],i=0;i<5;i++){var r=t["keyOriginLineArr"+n[i]];if(null==r)return null;e[i]=r.v}return e},Rr.UY.a4t=function(t,e){t.keyOriginLineArrowSt={t:"bool",v:e[0]},t.keyOriginLineArrowEnd={t:"bool",v:e[1]},t.keyOriginLineArrWdth={t:"doub",v:e[2]},t.keyOriginLineArrLngth={t:"doub",v:e[3]},t.keyOriginLineArrConc={t:"long",v:e[4]}},Rr.H={},Rr.H.clone=function(t){return{C:t.C.slice(0),U:t.U.slice(0)}},Rr.H.yc=function(t){if(t.length<6)return!0;for(var e=t.length-4,n=0;n<e;n+=2)if(!Rr.H.Xq(t[n],t[n+1],t[n+2],t[n+3],t[n+4],t[n+5]))return!1;return!!Rr.H.Xq(t[e],t[1+e],t[2+e],t[3+e],t[0],t[1])&&!!Rr.H.Xq(t[2+e],t[3+e],t[0],t[1],t[2],t[3])},Rr.H.Xq=function(t,e,n,i,r,a){return 0<=(e-i)*(r-n)+(n-t)*(a-i)},Rr.H.eN=function(t){for(var e={},n=null,i=0,r={M:2,L:2,Q:4,C:6},a=0;a<t.C.length;a++){var s=t.C[a];if("#"==s.charAt(0))null==e[s]&&(e[s]={U:[],C:[]}),n=e[s];else if("X"!=s){n.C.push(s);var o=r[s];null==o&&(o=0);for(var l=0;l<o;l++)n.U.push(t.U[i+l]);i+=o}}return e},Rr.H.z8=function(t,e,n){for(var i=(t=Rr.H.PE(t)).U,r=t.C,a=0,s=[],o=null,l=0;l<r.length;l++){var h=r[l];"M"==h&&(s.push(o={rU:a,Lo:0,EH:!1}),a+=2),"C"==h&&(o.Lo++,a+=6),"Z"==h&&null!=o&&(o.EH=!0)}for(var u=[],l=0;l<s.length;l++)0!=s[l].Lo&&u.push(s[l]);for(s=u,l=0;l<s.length;l++){var f=(E=(A=s[l]).rU)+2+6*A.Lo,c=0;A.sz=Rr.H.UP(i,E,f);for(var p,d,v,g,y,m,w,b,M=i[E]==i[f-2]&&i[E+1]==i[f-1],S=0;S<A.Lo;S++){var C=(x=E+6*S)+6;c+=(i[C]-i[x])*(i[C+1]+i[x+1])}2==A.Lo&&(w=i[E],p=i[E+1],d=i[E+6],v=i[E+7],g=i[E+6],y=i[E+7],c=((m=(b=function(t,e,n){var i=1-n;return i*i*i*t[e]+3*i*i*n*t[e+2]+3*i*n*n*t[e+4]+n*n*n*t[e+6]})(i,E,.5))-w)*((w=b(i,E+1,.5))-p)+(d-m)*(v-w)+((w=b(i,E+6,.5))-d)*((b=b(i,E+7,.5))-v)+(g-w)*(y-b)),M||(c+=(i[E]-i[f-2])*(i[E+1]+i[f-1])),A.YR=c<=0}for(l=0;l<s.length-1;l++)for(var x=l+1;x<s.length;x++){var L=s[l],D=s[x];D.sz.st(L.sz)&&(s[l]=D,s[x]=L)}for(var k=0==s.length||s[0].YR,T=[{type:6},{type:8,all:0}],l=0;l<s.length;l++){var A,E,f=(E=(A=s[l]).rU)+2+6*A.Lo,M=i[E]==i[f-2]&&i[E+1]==i[f-1],O=A.EH||M?0:3,N=A.YR!=k||e?0:1;if(!e&&0!=l){s[l-1].sz.st(A.sz)&&s[l-1].YR!=A.YR&&(N=0);for(x=0;x<s.length;x++)x!=l&&s[x].sz.st(A.sz)&&(N=0)}T.push({type:O,length:A.Lo+(M?0:1),Gw:n?1:N,aD:2});for(var I,x=0;x<A.Lo;x++){var P=new Pr(i[a=E+6*x],i[a+1]),F=new Pr(i[a+2],i[a+3]),_=0==x?M?new Pr(i[f-4],i[f-3]):P.clone():new Pr(i[a-2],i[a-1]);T.push({type:2+O,Sm:_,B:P,Pv:F})}M||(I=new Pr(i[f-2],i[f-1]),T.push({type:2+O,Sm:new Pr(i[f-4],i[f-3]),B:I,Pv:I.clone()}))}for(x=0;x<T.length;x++){var B,R=T[x];5<R.type||0==R.type||3==R.type||((B=R.Sm.iy(R.B)||R.Pv.iy(R.Pv))||(L=R.Sm.x*(R.B.y-R.Pv.y)+R.B.x*(R.Pv.y-R.Sm.y)+R.Pv.x*(R.Sm.y-R.B.y),Math.abs(L)<1e-6&&(B=!0)),B&&R.type--)}return T},Rr.H.tR=function(t,e){for(var n=Rr.$.M$(t),i=!1,r=2;r<t.length;r++){var a=t[r].Gw;null!=a&&(2!=a&&0!=a&&3!=a||(i=!0))}return(i||e)&&t.length<15e3&&1<n&&(t=Rr.$.rf(t)),{gH:Rr.H.x4(t),LH:i?1:0}},Rr.H.x4=function(t,e){t=Rr.$.aoB(t),null==e&&(e=!1);for(var n={U:[],C:[]},i=0;i<t.length;i++)if(!(5<t[i].type)){var r=t[i].length;if(0!=r){if(i==t.length-1)break;var a=3==t[i].type;!function(t,e,n,i,r,a){var s=e[n];t.U.push(s.B.x,s.B.y),t.C.push("M");for(var o=n;o<n+i-1;o++)ue(e[o],e[o+1],t,a);r||ue(e[o],e[n],t,a)}(n,t,i+1,r,a,e),a||n.C.push("Z"),i+=r}}return n},Rr.H.ad_=function(t){for(var e,n=t.U,i=[],r=0,a=0;a<t.C.length;a++){var s=t.C[a];"C"==s?e.push(n[r++],n[r++],n[r++],n[r++],n[r++],n[r++]):"Z"==s||(e=[],"M"!=s&&(e.push(s),a++),e.push(n[r++],n[r++]),i.push(e))}return i},Rr.H.KL=function(t,e,n,i){null==i&&(i=1e9);for(var r=1e9,a=0,s=0;s<t.length;s+=2){var o=e-t[s],l=n-t[s+1],l=o*o+l*l;l<r&&(r=l,a=s>>>1)}return r<i*i?a:-1},Rr.H.Ey=function(t,e,n,i){for(var r=0;r<t.length;r+=2){var a=t[r],s=t[r+1],o=e[r],l=e[r+1];n[r]=a+(o-a)*i,n[r+1]=s+(l-s)*i}},Rr.H.A=function(t,e,n){for(var i=0;i<t.length;i+=2){var r=t[i],a=t[i+1];n[i]=r*e.q4+a*e.yH+e.E_,n[i+1]=r*e.S+a*e.DR+e.Qq}},Rr.H.UP=function(t,e,n){null==n&&(n=t.length);for(var i=-(l=99999999999),r=-(h=99999999999),a=e=null==e?0:e;a<n;a+=2)var s=t[a],o=t[a+1],l=Math.min(l,s),h=Math.min(h,o),i=Math.max(i,s),r=Math.max(r,o);return new Fr(l,h,i-l,r-h)},Rr.H.j5=function(t,e){var n=Math.max(e.x,Math.min(e.x+e.m,t.x)),e=Math.max(e.y,Math.min(e.y+e.n,t.y)),n=t.x-n,e=t.y-e;return Math.sqrt(n*n+e*e)},Rr.H.dP=function(t){if(t.mN())return new Fr(Math.floor(t.x),Math.floor(t.y),Math.ceil(t.m),Math.ceil(t.n));var e=Math.floor(t.x),n=Math.ceil(t.x+t.m),i=Math.floor(t.y);return new Fr(e,i,n-e,Math.ceil(t.y+t.n)-i)},Rr.H.ws=function(t){return Rr.H.dP(Rr.H.UP(t))},Rr.H.UQ=function(t){var e=t.x,n=t.y,i=t.x+t.m,t=t.y+t.n;return{C:["M","L","L","L","Z"],U:[e,n,i,n,i,t,e,t]}},Rr.H.concat=function(t,e,n){null==n&&(n=new _r);for(var i=0;i<e.U.length;i+=2){var r=e.U[i],a=e.U[i+1];t.U.push(r*n.q4+a*n.yH+n.E_),t.U.push(r*n.S+a*n.DR+n.Qq)}for(i=0;i<e.C.length;i++)t.C.push(e.C[i])},Rr.H.PE=function(t){for(var e,n,i=t.U,r=[],a=[],s=0,o=0,l=0,h=0,u=0,f=0,c=0,p=0;p<t.C.length;p++){var d,v,g,y,m=t.C[p];"M"==m?(o=i[s],l=i[s+1],s+=2,a.push(m),r.push(o,l)):"C"==m?(h=i[s],u=i[s+1],f=i[s+2],c=i[s+3],e=i[s+4],n=i[s+5],s+=6,a.push(m),r.push(h,u,f,c,e,n),o=e,l=n):"Q"==m?(h=i[s],u=i[s+1],f=i[s+2],c=i[s+3],s+=4,d=h-o,v=u-l,g=f-h,y=c-u,a.push("C"),r.push(o+2/3*d,l+2/3*v,h+1/3*g,u+1/3*y,f,c),o=f,l=c):"L"==m?(h=i[s],u=i[s+1],s+=2,a.push("C"),r.push(o,l,h,u,h,u),o=h,l=u):a.push(m)}return{C:a,U:r}},Rr.H.a5f=function(t){for(var e=t.U,n=[],i=[],r=0,a=0;a<t.C.length;a++){var s=t.C[a];if("Q"==s){var o=e[r-2],l=e[r-1],h=e[r],u=e[r+1],f=e[r+2],c=e[r+3];r+=4;var p=h-o,d=u-l,v=f-h,g=c-u;i.push("C"),n.push(o+2/3*p,l+2/3*d,h+1/3*v,u+1/3*g,f,c)}else{var y=0;"M"==s||"L"==s?y=2:"C"==s&&(y=6);for(var m=0;m<y;m++)n.push(e[r+m]);r+=y,i.push(s)}}return{C:i,U:n}},Rr.H.Hh=function(t,e){for(var n,i,r,a,s,o,l=t.U,h=[],u=[],f=0,c=0,p=0,d=0;d<t.C.length;d++){var v=t.C[d];"M"==v?(c=l[f],p=l[f+1],f+=2,u.push(v),h.push(c,p)):"C"==v?(n=l[f],i=l[f+1],r=l[f+2],a=l[f+3],s=l[f+4],o=l[f+5],f+=6,Rr.H.Em(c,p,n,i,r,a,s,o,e,u,h,0),c=s,p=o):u.push(v)}return{C:u,U:h}},Rr.H.Em=function(t,e,n,i,r,a,s,o,l,h,u,f){var c,p,d,v,g,y,m,w,b,M,S,C;(Math.sqrt((s-t)*(s-t)+(o-e)*(o-e))+(Math.sqrt((s-r)*(s-r)+(o-a)*(o-a))+Math.sqrt((r-n)*(r-n)+(a-i)*(a-i))+Math.sqrt((n-t)*(n-t)+(i-e)*(i-e))))/2<=l?(h.push("C"),u.push(n,i,r,a,s,o)):(C=S=M=b=w=m=y=g=v=d=p=c=0,Rr.H.Em(t,e,c=(t+n)/2,p=(e+i)/2,m=(c+(d=(n+r)/2))/2,w=(p+(v=(i+a)/2))/2,S=(m+(b=(d+(g=(r+s)/2))/2))/2,C=(w+(M=(v+(y=(a+o)/2))/2))/2,l,h,u,f+1),Rr.H.Em(S,C,b,M,g,y,s,o,l,h,u,f+1))},Rr.H.s9=function(t,e,n,i,r){var a=Date.now(),s=Rr.H.apm(t,e,n);r&&(console.log("trace polygons",Date.now()-a),a=Date.now());for(var o=[],l=0;l<s.length;l++){var h=s[l],u=h[0],f=["M"],c=t[u[1]*e+u[0]];if(!((u=8<u.length?Rr.H.M4(u,i,h[1]):u).length<=4)){for(var p=2;p<u.length;p+=2)f.push("L");f.push("Z"),o.push({path:{U:u,C:f},color:c,parent:-1,sz:Rr.H.UP(u)})}}r&&(console.log("simplify polygons",Date.now()-a),a=Date.now());for(l=1;l<o.length;l++)for(var d=o[l].sz,p=l-1;0<=p;p--)if(o[p].sz.st(d)){o[l].parent=p;break}return r&&(console.log("checking parents",Date.now()-a),a=Date.now()),o},Rr.H.apm=function(t,e,n){for(var i=e*n,r=new Uint16Array(e*n),a=0,s=0;s<i;s++)r[s]=t[s];for(var o=new Uint8Array(e*n),l=o[+e+1]=o[(n-1)*e+1]=o[+e+e-1]=o[(n-1)*e+e-1]=1;l<n;l++)for(var h=1;h<e;h++){var u=r[(s=l*e+h)-e-1],f=r[s-e],c=r[s-1],p=r[s],d=u==p&&f==c&&u!=f,v=0;p<c&&(a=p,p=c,c=a),c<f&&(a=c,c=f,f=a),f<u&&(a=f,f=u,u=a),p<c&&(a=p,p=c,c=a),c<f&&(a=c,c=f,f=a),p<c&&(a=p,p=c,c=a),u!=f&&v++,f!=c&&v++,c!=p&&v++,p!=u&&v++,(3<=v||d)&&(o[s]=1)}for(var g=[],l=1;l<n;l++)for(h=1;h<e;h++)if(r[s=l*e+h]!=r[s-1]){for(var y=Rr.H.aiL(r,e,n,h,l),m=[],w=0;w<y.length;w+=2)1==o[y[w+1]*e+y[w]]&&m.push(w>>>1);g.push([y,m]),Rr.H.c8(r,e,n,h,l)}return g},Rr.H.c8=function(t,e,n,i,r){var a=[r*e+i],s=t[r*e+i];for(t[r*e+i]=65535;0!=a.length;){var o=a.pop();t[o]=0,t[o+e]==s&&(a.push(o+e),t[o+e]=65535),t[o-e]==s&&(a.push(o-e),t[o-e]=65535),t[o-1]==s&&(a.push(o-1),t[o-1]=65535),t[o+1]==s&&(a.push(o+1),t[o+1]=65535)}},Rr.H.aiL=function(a,s,t,e,n){var i=[0,-1,1,0,0,1,-1,0],r=1;function o(t,e,n){var i=u*s+h,r=0;return 0==n?r=i-s:1==n?r=i:2==n?r=i-1:3==n&&(r=i-s-1),a[r]}for(var l=[],h=e,u=n,f=o(0,0,r);l.push(h,u),h+=i[2*r],u+=i[2*r+1],o(0,0,r)!=f?r=r+1&3:o(0,0,r+3&3)!=f||o(0,0,r+2&3)!=f&&(r=r+3&3),h!=e||u!=n;);return l},Rr.H.M4=function(t,e,n){var i=t.length-2;if(n&&0!=n.length){for(var r=2*n[0],a=2*n[n.length-1],s=0==r?i:r-2,o=t.slice(a),l=0;l<r;l++)o.push(t[l]);r==a?o.push(.9*t[r]+.1*t[s],.9*t[1+r]+.1*t[1+s]):o.push(t[r],t[1+r]),(o=Rr.H.pv(o,e)).pop(),o.pop();for(l=0;l<n.length-1;l++)for(var h=t.slice(2*n[l],2*n[l+1]+2),h=Rr.H.pv(h,e),u=0;u<h.length-2;u++)o.push(h[u]);return o}s=t.slice(0);return s.push(.9*t[0]+.1*t[i],.9*t[1]+.1*t[1+i]),(s=Rr.H.pv(s,e)).pop(),s.pop(),s},Rr.H.pv=function(t,e){for(var n=t.length-2,i=t[0],r=t[1],a=t[n],s=t[1+n],o=a-i,l=s-r,h=1/Math.sqrt(o*o+l*l),u=a*r-s*i,f=-1,c=-1,p=0,d=2;d<n;d+=2){var v=t[d],g=t[d+1],y=g*g*1e6+v*v,g=Math.abs(l*v-o*g+u)*h;(c<g||g==c&&p<y)&&(c=g,f=d,p=y)}if(c<e)return[i,r,a,s];for(var m=Rr.H.pv(t.slice(0,f+2),e),w=Rr.H.pv(t.slice(f),e),d=2;d<w.length;d++)m.push(w[d]);return m},Rr.H.a23=function(t){var e=t.length>>>1,n=0;if(e<3)return[];for(var i=[],r=[],n=0;n<e;n++)r.push(n);for(var a=e;3<a;){var s=r[(n+0)%a],o=r[(n+1)%a],l=r[(n+2)%a],h=t[2*s],u=t[2*s+1],f=t[2*o],c=t[2*o+1],p=t[2*l],d=t[2*l+1],v=!1;if(0<=(u-c)*(p-f)+(f-h)*(d-c))for(var v=!0,g=0;g<a;g++){var y=r[g];if(y!=s&&y!=o&&y!=l&&function(t,e,n,i,r,a,s,o){s-=n,o-=i,r-=n,a-=i,t-=n,n=e-i,e=s*s+o*o,i=s*r+o*a,s=s*t+o*n,o=r*r+a*a,a=r*t+a*n,n=1/(e*o-i*i),o=(o*s-i*a)*n,n*=e*a-i*s;return 0<=o&&0<=n&&o+n<1}(t[2*y],t[2*y+1],h,u,f,c,p,d)){v=!1;break}}if(v)i.push(s,o,l),r.splice((n+1)%a,1),a--,n=0;else if(n++>3*a)break}return i.push(r[0],r[1],r[2]),i},Rr.H.apy=function(t,e){for(var n={},i={C:[],U:[]},r=0;r<e.length;r+=3){var a=2*e[r],s=2*e[r+1],o=2*e[r+2];Rr.H.T5(t,a,s,i,n),Rr.H.T5(t,a,o,i,n),Rr.H.T5(t,s,o,i,n)}return i},Rr.H.T5=function(t,e,n,i,r){var a;n<e&&(a=n,n=e,e=a),r[e+","+n]||(r[e+","+n]=!0,i.C.push("M","L"),i.U.push(t[e],t[e+1],t[n],t[n+1]))},Rr.H.Kf=function(t,e){for(var n=[],i=t.length,r=0;r<i;r+=2){var a,s=t[r],o=t[r+1],l=t[(r+2)%i],h=t[(r+3)%i];h<o&&(a=o,o=h,h=a),o<e&&e<h&&n.push(s+(e-o)/(h-o)*(l-s))}return n.sort(function(t,e){return t-e}),n},Rr.H.qe=function(t,e,n,i,r,a,s){t-=n,e-=i,r-=n,n=a-i,a=1/Math.sqrt(t*t+e*e),i=1/Math.sqrt(r*r+n*n),t*=a,e*=a,a=r*i,r=n*i,n=e*s,i=-t*s,s=Rr.H.Ji(n,i,t,e,-r*s,a*s,a,r),i=t*(s=Rr.H.Ji(0,0,t,e,n+t*s,i+e*s,-e,t)),s*=e;return[Math.sqrt(i*i+s*s),t,e,a,r]},Rr.H.f8=function(t,e,n,i,r,a,s){var o=Rr.H.qe(t,e,n,i,r,a,s),l=o[0],h=o[1],u=o[2],t=o[3],e=o[4],r=Math.atan2(h*e-u*t,h*t+u*e);r<0&&(r*=-1);a=Math.PI-r,o=4/3*Math.tan(a/4),r=n+l*h,a=i+l*u,n+=l*t,l=i+l*e;return[0,0,r,a,r+o*s*-h,a+o*s*-u,n+o*s*-t,l+o*s*-e,n,l]},Rr.H.Ji=function(t,e,n,i,r,a,s,o){i=o*n-s*i;return 0==i?0:(s*(e-a)-o*(t-r))/i},Rr.H.f8(0,50,0,0,30,30,10),Rr.BH=function(){},Rr.BH.rc=function(t,e,n,i,r){for(var a=n.m,s=n.n,o=a*s,l=new Int32Array(o),h=0,u=0;u<o;u++)0!=e[u]?(l[u]=h,h++):t[3+(u<<2)]<200?l[u]=-2:l[u]=-1;if(0!=h){for(var f=new Rr.nd(h,h),c=new Array(3*h),p=new Array(3*h),u=0;u<p.length;u++)p[u]=c[u]=0;for(var d=[-a,-1,1,a],v=[],g=[],y=0;y<s;y++)for(var m=0;m<a;m++){var w=y*a+m,b=w<<2,M=3*(u=l[w]),S=0,C=0,x=0;if(-1!=u&&-2!=u){for(var L=0;L<4;L++){2==L&&(v[C=x]=0,g[x]=u,x++);var D=w+d[L],k=D<<2,T=l[D];0==L&&0==y||1==L&&0==m||2==L&&m==a-1||3==L&&y==s-1||-2==T||(S++,-1==T?(c[0+M]+=t[k],c[1+M]+=t[1+k],c[2+M]+=t[2+k]):(v[x]=-1,g[x]=T,x++,e[w]==e[D]&&(c[0+M]+=t[b]-t[k],c[1+M]+=t[1+b]-t[1+k],c[2+M]+=t[2+b]-t[2+k])))}v[C]=S,f.tT(v,g,x)}}for(var A,u=0;u<o;u++)-1!=l[u]&&(p[A=3*(E=l[u])]=t[(N=u<<2)+0],p[1+A]=t[N+1],p[2+A]=t[N+2]);n=Date.now();f.ahB(p,c,i,r),console.log(Date.now()-n);for(u=0;u<o;u++){var E,O=3*(E=l[u]),N=u<<2;-1!=E&&255==t[N+3]&&(t[N+0]=~~(.5+Math.max(0,Math.min(255,p[0+O]))),t[N+1]=~~(.5+Math.max(0,Math.min(255,p[1+O]))),t[N+2]=~~(.5+Math.max(0,Math.min(255,p[2+O]))))}}},Rr.rect={},Rr.rect.O4=function(t,e){for(var n=[t],i=[],r=0;r<e.length;r++){for(var a=e[r],s=!1,o=r+1;o<e.length;o++)if((l=e[o])[0]<=a[0]&&l[1]<=a[1]&&a[2]<=l[2]&&a[3]<=l[3]){s=!0;break}s||i.push(a)}e=i;for(r=0;r<e.length;r++){for(a=e[r],o=0;o<n.length;o++){var l=n[o],h=Math.max(a[0],l[0]),u=Math.min(a[2],l[2]),f=Math.max(a[1],l[1]),c=Math.min(a[3],l[3]);if(h<u&&f<c){var p,d,v=[];if(l[1]<a[1]&&((p=l.slice(0))[3]=a[1],v.push(p)),l[0]<a[0]&&((d=l.slice(0))[1]=f,d[2]=a[0],v.push(d)),a[2]<l[2]&&((d=l.slice(0))[1]=f,d[0]=a[2],v.push(d)),a[3]<l[3]&&(u=[h,c,u,l[3]],v.push(u)),0!=v.length){n[o]=v[0];for(var g=1;g<v.length;g++)n.push(v[g])}}}n.push(a),n=Rr.rect.aif(n)}n.sort(function(t,e){return t[1]!=e[1]?t[1]-e[1]:t[0]-e[0]});for(r=1;r<n.length;r++){a=n[r-1],l=n[r];a[0]==l[0]&&a[1]==l[1]&&a[2]==l[2]&&a[3]==l[3]&&(n.splice(null==a[4]?r-1:r,1),r--)}return n},Rr.rect.aif=function(t){t=t.slice(0);for(var e=0;e<t.length;e++){var n=t[e],i=null;if(null==n[4]){for(var r=0;r<t.length;r++){var a=t[r];if(e!=r&&null==a[4]){var s=n[0]==a[0],o=n[1]==a[1],l=n[2]==a[2],h=n[3]==a[3];if(o&&h&&(n[2]==a[0]||n[0]==a[2])&&(i=[Math.min(n[0],a[0]),n[1],Math.max(n[2],a[2]),n[3]]),i=s&&l&&(n[3]==a[1]||n[1]==a[3])?[n[0],Math.min(n[1],a[1]),n[2],Math.max(n[3],a[3])]:i){t[e]=i,t.splice(r,1);break}}}i&&e--}}return t},Rr.rect.pD=function(t){for(var e=new Fr,n=0;n<t.length;n++)e=e.hq(t[n]);return e},Rr.rect.aax=function(t,e){for(var n,i,r,a,s,o,l,h,u=Rr.rect.pD,f=new UnionFind(t.length),c=1e3,p=1e3,d=0;d<t.length;d++)for(var v=d+1;v<t.length;v++)e&&(n=t[d],i=t[v],a=r=1e9,n.$B(i)?f.link(d,v):(s=n.x+n.m,o=n.y+n.n,l=i.x+i.m,h=i.y+i.n,(s<i.x||l<n.x)&&(o<i.y||h<n.y)||(o<i.y||h<n.y||(r=Math.min(Math.abs(s-i.x),Math.abs(n.x-l))),s<i.x||l<n.x||(a=Math.min(Math.abs(o-i.y),Math.abs(n.y-h))),Math.min(r,a)<.3*Math.min(n.m,n.n,i.m,i.n)&&f.link(d,v))));for(var g=[],y={},d=0;d<t.length;d++){var m=f.find(d),w=t[d];null==y[m]&&(y[m]=g.length,g.push([])),g[y[m]].push(w)}for(var b=[],M=[],d=0;d<g.length;d++){b.push(u(g[d]));var S=u(g[d]);S.r4=d,M.push(S)}M.sort(function(t,e){return Math.max(e.n,e.m)-Math.max(t.n,t.m)});for(var C=new NETXUS.RectanglePacker(c,p);;){var x=!1;C.reset(c,p);for(d=0;d<M.length;d++){var L=C.findCoords(M[d].m,M[d].n);if(!L){c=Math.floor(1.1*c),p=Math.floor(1.1*p),x=!0;break}M[d].x=L.x,M[d].y=L.y}if(!x)break}for(d=0;d<g.length;d++)for(var D=M[d],k=D.r4,T=b[k],A=g[k],E=D.x-T.x,O=D.y-T.y,v=0;v<A.length;v++)A[v].offset(E,O)},Rr.IR=function(){},Rr.IR.jC=Math.floor(16*window.devicePixelRatio),Rr.IR.p9={},Rr.IR.Lb=0,Rr.IR.d2=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]],Rr.IR.ak9=["px","in","cm","mm","%"],Rr.IR.GX=function(t,e,n,i){return t*[1,e,e/2.54,e/25.4,n/100][i]},Rr.IR.an7=function(t,e,n,i){return t/[1,e,e/2.54,e/25.4,n/100][i]},Rr.IR.KQ=function(t,e,n,i,r){var a=n.jv.el,n=[2,3,2,1,2][a];t/=[1,e,e/2.54,e/25.4,i/100][a];i=Math.round(t),n=0==a&&Math.abs(t-i)<1e-6?i+"":t.toFixed(n);return r&&(n+=" "+Rr.IR.ak9[a]),n},Rr.IR.atW=function(t,e,n,i){n=[1,e,e/2.54,e/25.4,i/100][n.jv.el];return t=parseFloat(t)*n},Rr.IR.a4T=function(t,e){var n=t+","+e;if(Rr.IR.p9.clr!=n){var i=Math.round(.5*Rr.IR.jC);Rr.IR.Lb=i;var r=document.createElement("canvas");r.width=r.height=i;var a=r.getContext("2d");a.font=1.5*i+"px monospace";for(var s="0 1 2 3 4 5 6 7 8 9 -".split(" "),o=0;o<s.length;o++)a.fillStyle="#"+Rr.zI(e),a.fillRect(0,0,i,i),a.fillStyle="#"+Rr.zI(t),a.fillText(s[o],0,i),Rr.IR.p9[s[o]]=a.getImageData(0,0,i,i).data;Rr.IR.p9.clr=n}},Rr.IR.aug=function(t,e,n){for(var i=0,r=0,a=4*Rr.IR.jC,s=9;0<=s;s--){var o=Math.pow(10,s);if(5*o*t<=a){i=5*o,r=10;break}if(2*o*t<=a){i=2*o,r=4;break}if(+o*t<=a){i=+o,r=10;break}}0==i&&(i=1,r=10);var l=Math.ceil(i*t),h=Rr.t(l*Rr.IR.jC*4);Rr.Bg(h,4278190080|n);for(s=0;s<Rr.IR.jC;s++)Rr.IR._6(h,4*s*l,e);for(s=0;s<l;s++)Rr.IR._6(h,4*((Rr.IR.jC-1)*l+s),e);if(2==i&&(r=2),5==i&&(r=5),1<i||1==i&&20<l)for(s=1;s<r;s++)Rr.IR.a39(h,s*(l/r),l,1==(1&s)?.8:.7,e);return{vl:h,step:i}},Rr.IR.a39=function(t,e,n,i,r){for(var e=Math.round(e),a=Math.round(Rr.IR.jC*i);a<Rr.IR.jC-1;a++)Rr.IR._6(t,4*(a*n+e),r)},Rr.IR._6=function(t,e,n){t[e+0]=n>>16&255,t[e+1]=n>>8&255,t[e+2]=255&n},Rr.IR.ald=function(t,e,n,i,r,a,s){var o=t.ct.m,l=t.ct.n,h=Rr.IR.jC,u=255&e,f=e>>8&255,c=e>>16&255;e=Math.round(.6*u)<<16|Math.round(.6*f)<<8|Math.round(.6*c),Rr.IR.a4T(Math.round(.8*u)<<16|Math.round(.8*f)<<8|Math.round(.8*c),n);for(var p=t.V,f=t.r,c=t.Zw,d=0;d<2;d++){var v=0==d?a:s;t.V=v[0],t.r=v[1],t.Zw=0;var g=this.aug(t.V,e,n),y=t.Qi(0,0),m=t.Qi(o,l),w=Math.floor(y.x/g.step)*g.step,b=Math.ceil(m.x/g.step)*g.step,M=Math.floor(y.y/g.step)*g.step,v=Math.ceil(m.y/g.step)*g.step,S=t.d$(w,M),C=(t.d$(b,M),g.step*t.V),y=Math.ceil(C);1==d&&(m=g.vl,g.vl=Rr.t(4*m.length),Rr.N.$Y(m,g.vl,y,h));for(var x=(0==d?t.IK:t.uG).data,L=new Fr(0,0,[o,h][d],[h,l][d]),D=new Fr(0,0,[y,h][d],[h,y][d]),k=new Fr([0,Math.round(.2*h)][d],[Math.round(.08*h),0][d],Rr.IR.Lb,Rr.IR.Lb),T=(0==d?b-w:v-M)/g.step,A=0;A<T;A++){0==d?D.x=Math.round(S.x+A*C):D.y=Math.round(S.y+A*C),Rr.Ik(g.vl,D,x,L,D);for(var E=(0==d?w+A*g.step:Math.abs(M+A*g.step)).toString(10),O=0;O<E.length;O++){0==d?k.x=D.x+3+O*Math.round(.8*Rr.IR.Lb):k.y=D.y+3+O*Math.round(1.15*Rr.IR.Lb);var N=Rr.IR.p9[E[O]];Rr.Ik(N,k,x,L,k)}}}t.V=p,t.r=f,t.Zw=c;var I=Math.floor(.6*h),P=new Uint32Array(t.IK.data.buffer),F=new Uint32Array(t.uG.data.buffer),_=u<128?4278190080:4294967295;if(0<i&&i<o)for(A=0;A<I;A++)P[A*o+i]=_;if(0<r&&r<l)for(A=0;A<I;A++)F[r*h+A]=_},Rr.scale={},Rr.scale.O=document.createElement("canvas"),Rr.scale.XN=Rr.scale.O.getContext("2d"),Rr.scale.Sb=document.createElement("canvas"),Rr.scale.GB=Rr.scale.Sb.getContext("2d"),Rr.scale.mm=function(t,e,n){var i=Rr.scale.O,r=Rr.scale.XN;i.width=e,i.height=n;n=new ImageData(new Uint8ClampedArray(t.buffer),e,n);return r.putImageData(n,0,0),r.createPattern(i,"repeat")},Rr.scale.v0=function(t,e,n,i,r,a,s,o,l){l=Rr.scale.a2i(t,n,i,r,a,s,o,l).data;return e&&Rr.VO(l,e),new Uint8Array(l.buffer)},Rr.scale.a2i=function(t,e,n,i,r,a,s,o){var l=Rr.scale.O,h=Rr.scale.XN;return l.width=e,l.height=n,h.rect(0,0,e,n),h.translate(a,s),h.scale(i,r),null!=o&&h.rotate(-o),h.fillStyle=t,h.fill(),h.getImageData(0,0,e,n)},Rr.scale.A=function(t,e,n,i,r){var a=n.clone();a.tU();var s=r.m,o=(r.n,Rr.H.UQ(e).U);Rr.H.A(o,a,o);for(var o=Rr.H.ws(o).BS(r),l=o.x,r=o.y,h=l+o.m,u=r+o.n,f=~~e.x,c=~~e.y,p=~~e.m,d=~~e.n,v=r;v<u;v++)for(var g=l;g<h;g++){var y=g+.5,m=v+.5,w=n.q4*y+n.yH*m+n.E_-f,m=n.S*y+n.DR*m+n.Qq-c;0<=w&&0<=m&&w<p&&m<d&&(i[v*s+g]=t[~~m*p+~~w])}},Rr.scale.I0=function(t,e,n,i,r){var a=new Uint32Array(t.buffer),s=new Uint32Array(i.buffer),t=n.clone();t.tU();var o=r.m,i=(r.n,Rr.H.UQ(e).U);Rr.H.A(i,t,i);for(var i=Rr.H.ws(i).BS(r),l=i.x,r=i.y,h=l+i.m,u=r+i.n,f=~~e.x,c=~~e.y,p=~~e.m,d=~~e.n,v=r;v<u;v++)for(var g=l;g<h;g++){var y=g+.5,m=v+.5,w=n.q4*y+n.yH*m+n.E_-f,m=n.S*y+n.DR*m+n.Qq-c;0<=w&&0<=m&&w<p&&m<d&&(s[v*o+g]=a[~~m*p+~~w])}},Rr.scale.Z7=function(t,e,n,i,r,a,s){s<1?Rr.scale.ak0(t,e,n,i,r,a,Math.round(1/s)):Rr.scale.a8c(t,e,n,i,r,a,s)},Rr.scale.t4=function(t,e,n,i,r,a,s,o){o=o&&o.BS(new Fr(0,0,e,n)),t=new Uint32Array(t.buffer),i=new Uint32Array(i.buffer),s<1?Rr.scale.af4(t,e,n,i,r,a,Math.round(1/s),o):Rr.scale.a4U(t,e,n,i,r,a,s)},Rr.scale.a8c=function(t,e,n,i,r,a,s){for(var o=0;o<n;o++)for(var l=0;l<e;l++)for(var h=t[o*e+l],u=Math.min(s,r-l*s),f=Math.min(s,a-o*s),c=0;c<f;c++)for(var p=0;p<u;p++)i[(s*o+c)*r+s*l+p]=h},Rr.scale.ak0=function(t,e,n,i,r,a,s){for(var o=0;o<a;o++)for(var l=0;l<r;l++){for(var h=0,u=Math.min(s,e-l*s),f=Math.min(s,n-o*s),c=0;c<f;c++)for(var p=0;p<u;p++)h+=t[(s*o+c)*e+(s*l+p)];i[o*r+l]=Math.round(h/(u*f))}},Rr.scale.a4U=function(t,e,n,i,r,a,s){for(var o=0;o<n;o++)for(var l=0;l<e;l++)for(var h=t[o*e+l],u=Math.min(s,r-l*s),f=Math.min(s,a-o*s),c=0;c<f;c++)for(var p=0;p<u;p++)i[(s*o+c)*r+s*l+p]=h},Rr.scale.asG=function(t,e,n){return(t>>>n&255)+(e>>>n&255)>>>1},Rr.scale.d3=function(t,e){var n=Rr.scale.asG;return n(t,e,24)<<24|n(t,e,16)<<16|n(t,e,8)<<8|n(t,e,0)},Rr.scale.aa8=function(t,e,n,i,r,a){for(var s=new Uint32Array(t.buffer),o=new Uint32Array(i.buffer),l=0;l<n;l++)for(var h=0;h<e;h++){var u=l*e+h,f=s[u],c=f,p=f,d=f;h<e-1&&(c=Rr.scale.d3(f,s[u+1])),l<n-1&&(p=Rr.scale.d3(f,s[u+e])),h<e-1&&l<n-1&&(d=Rr.scale.d3(f,s[u+e+1]));u=2*(l*r+h);o[u]=f,o[1+u]=c,o[u+r]=p,o[u+r+1]=d}if(1==(1&r))for(l=0;l<a;l++)o[l*r+r-1]=o[l*r+r-2];var v=r*(a-1);if(1==(1&a))for(h=0;h<r;h++)o[v+h]=o[v-r+h]},Rr.scale.af4=function(t,e,n,i,r,a,s,o){var l=0,h=r,u=0,f=a;o&&(l=Math.floor(o.x/s),h=Math.ceil((o.x+o.m)/s),u=Math.floor(o.y/s),f=Math.ceil((o.y+o.n)/s));for(var c=u;c<f;c++)for(var p=l;p<h;p++){for(var d,v=0,g=0,y=0,m=0,w=Math.min(s,e-p*s),b=Math.min(s,n-c*s),M=0;M<b;M++)for(var S=0;S<w;S++){var C=t[(s*c+M)*e+s*p+S],x=C>>>24;v+=x,g+=x*(C>>>16&255),y+=x*(C>>>8&255),m+=x*(255&C)}i[c*r+p]=0!=v?v/(w*b)<<24|g*(d=1/v)<<16|y*d<<8|m*d:0}},Rr.v={},Rr.v.ail=function(t,e,n){for(var i=0,r=n.m,a=n.n,s=0;s<a;s++)for(var o=0;o<r;o++)128<=t[i]&&(0==o||t[i-1]<128||o==r-1||t[i+1]<128||0==s||t[i-r]<128||s==a-1||t[i+r]<128)&&(e[i]=255),i++},Rr.v.apJ=function(t,e,n,i){var r=new Uint32Array([4278190080,4294967295]),a=n.m,s=n.n,o=0,l=0,h=a,u=s;i&&(o=i.x-n.x,l=i.y-n.y,h=o+i.m,u=l+i.n);new Uint8Array(e.buffer);for(var f=new Uint32Array(e.buffer),c=l;c<u;c++)for(var p=o;p<h;p++){var d=c*a+p;0==(128&t[d])||0!=c&&0!=(128&t[d-a])&&0!=p&&0!=(128&t[d-1])&&p!=a-1&&0!=(128&t[d+1])&&c!=s-1&&0!=(128&t[d+a])||(f[d]=r[(p+c&4)>>>2])}},Rr.v.a3S=function(t,e,n,i,r,a){var s=n.m,o=0,l=0,h=s,u=n.n;i&&(o=i.x-n.x,l=i.y-n.y,h=o+i.m,u=l+i.n);new Uint8Array(e.buffer);for(var f=new Uint32Array(e.buffer),c=l;c<u;c++)for(var p=o;p<h;p++){var d=c*s+p,v=t[d];f[d]=1==r?255-v>>>1<<24|255:255<<24|v<<16|v<<8|v}},Rr.sx={},Rr.sx.NJ=function(t,e,n){var i;if(0==n&&(i=t.rect.clone(),r=Rr.sx.atN),1==n&&(i=t.rect.hq(e.rect),r=Rr.sx.hq),2==n&&(i=e.rect.clone(),r=Rr.sx.a2a),3==n&&(i=t.rect.BS(e.rect),r=Rr.sx.BS),4==n&&(i=t.rect.hq(e.rect),r=Rr.sx.ag2),i.mN())return null;n=Rr.t(i.Z());Rr.rR(e.channel,e.rect,n,i);e=Rr.t(i.Z());Rr.rR(t.channel,t.rect,e,i),r(e,n,n);var r=Rr._1(n,i);return r.mN()?null:(r.iy(i)||(e=Rr.t(r.Z()),Rr.rR(n,i,e,r),n=e,i=r),{channel:n,rect:i})},Rr.sx.atN=function(t,e,n){for(var i=0;i<t.length;i++)n[i]=t[i]},Rr.sx.hq=function(t,e,n){for(var i=0;i<t.length;i++)n[i]=Math.min(t[i]+e[i],255)},Rr.sx.a2a=function(t,e,n){for(var i=0;i<t.length;i++)n[i]=Math.max(e[i]-t[i],0)},Rr.sx.BS=function(t,e,n){for(var i=0;i<t.length;i++)n[i]=t[i]*e[i]*(1/255)},Rr.sx.ag2=function(t,e,n){for(var i=0;i<t.length;i++)n[i]=Math.min(t[i]+e[i],255)-t[i]*e[i]*(1/255)},Rr.nd=function(t,e){this.J=[],this.xL=[0],this.Qt=[],this.xl=[],this.wx=[0],this.yk=[],this.Q6=[],this.rows=t,this.cols=e},Rr.nd.prototype.clone=function(){var t=this.rows,e=this.cols,e=new Rr.nd(t,e);return e.J=this.J.slice(0),e.xL=this.xL.slice(0),e.Qt=this.Qt.slice(0),e.xl=this.xl.slice(0),e.wx=this.wx.slice(0),e.yk=this.yk.slice(0),e.Q6=this.Q6.slice(0),e},Rr.nd.prototype.tT=function(t,e,n){for(var i=this.xL.length-1,r=0;r<n;r++){var a=t[r],s=e[r];this.J.push(a),this.Qt.push(s),s==i?this.Q6.push(0==a?0:1/a):(this.xl.push(a),this.yk.push(s))}this.xL.push(this.J.length),this.wx.push(this.xl.length)},Rr.nd.prototype.ec=function(t,e){var n=this.rows,i=this.J,r=this.Qt;null==e&&(e=new Array(n));for(var a=0;a<n;a++){for(var s=this.xL[a],o=this.xL[a+1],l=0;0!=(o-s&3);)l+=i[s]*t[r[s]],s++;for(var h=s;h<o;h+=4)l+=i[h]*t[r[h]]+i[h+1]*t[r[h+1]]+i[h+2]*t[r[h+2]]+i[h+3]*t[r[h+3]];e[a]=l}return e},Rr.nd.prototype.multiply=function(t){return this.jw(t.$Y())},Rr.nd.prototype.jw=function(t){for(var e=this.rows,n=(this.cols,t.rows),i=new Rr.nd(e,n),r=this.Qt,a=t.Qt,s=0;s<e;s++){for(var o=[],l=[],h=this.xL[s],u=this.xL[s+1],f=0;f<n;f++){for(var c=t.xL[f],p=t.xL[f+1],d=0,v=h,g=c;v<u&&g<p;){for(var y=Math.max(r[v],a[g]);v<u&&r[v]<y;)v++;for(;g<p&&a[g]<y;)g++;v<u&&g<p&&r[v]==a[g]&&(d+=this.J[v++]*t.J[g++])}0!=d&&(o.push(d),l.push(f))}i.tT(o,l,o.length)}return i},Rr.nd.prototype.$Y=function(){for(var t=this.rows,e=this.cols,n=[],i=0;i<e;i++)n.push([[],[]]);for(var r=this.J,a=this.xL,s=this.Qt,i=0;i<t;i++)for(var o=a[i],l=a[i+1],h=o;h<l;h++){var u=n[s[h]];u[0].push(r[h]),u[1].push(i)}for(var f=new Rr.nd(e,t),i=0;i<e;i++)f.tT(n[i][0],n[i][1],n[i][1].length);return f},Rr.nd.prototype.UU=function(){for(var t=this.rows,e=this.cols,n=new Array(t),i=this.J,r=this.xL,a=this.Qt,s=0;s<t;s++){for(var o=n[s]=new Array(e),l=0;l<e;l++)o[l]=0;for(var h=r[s],u=r[s+1],f=h;f<u;f++)o[a[f]]=i[f]}return n},Rr.nd.prototype.XW=function(t,e,n,i,r){function a(t,e,n,i){for(var r=t.length,a=0;a<r;a++)i[a]=t[a]-e[a]*n}function s(t,e,n,i){for(var r=t.length,a=0;0!=(r-a&3);)i[a]=t[a]+e[a]*n,a++;for(var s=a;s<r;s+=4)i[s]=t[s]+e[s]*n,i[s+1]=t[s+1]+e[s+1]*n,i[s+2]=t[s+2]+e[s+2]*n,i[s+3]=t[s+3]+e[s+3]*n}function o(t,e,n){for(var i=t.length,r=0;r<i;r++)n[r]=t[r]*e[r]}function l(t,e){for(var n=t.length,i=0,r=0;0!=(n-i&3);)r+=t[i]*e[i],i++;for(var a=i;a<n;a+=4)r+=t[a]*e[a]+t[a+1]*e[a+1]+t[a+2]*e[a+2]+t[a+3]*e[a+3];return r}var h=null!=i?2:1,u=(Date.now(),0),f=t.slice(0),c=t.slice(0);this.ec(t,c),a(e,c,1,f);var p=this.Q6;0==h&&(p=f.slice(0)).fill(1);var d=f.slice(0);o(p,f,d);for(var v=d.slice(0),g=l(f,d);;){this.ec(v,c);var y=g/l(v,c);if(s(t,v,y,t),a(f,c,y,f),0==(7&u)&&Math.sqrt(l(f,f))<n)break;h<=1?o(p,f,d):(m=f.slice(0),i.a7b(m,f),r.aq6(d,m));var m=l(f,d);s(d,v,m/g,v),g=m,u++}},Rr.nd.prototype.a6S=function(t,e,n,i){var r=Date.now();null==n&&(n=5e-6),null==i&&(i=1e9);for(var a=this.rows,s=this.xl,o=this.wx,l=this.yk,h=this.Q6;;){for(var u=0,f=0;f<a;f++){var c=e[f],p=o[f],d=o[f+1];if(d-p==4)c-=s[p]*t[l[p]]+s[p+1]*t[l[p+1]]+s[p+2]*t[l[p+2]]+s[p+3]*t[l[p+3]];else for(var v=p;v<d;v++)c-=s[v]*t[l[v]];var g=-.96*t[f]+h[f]*c*1.96,p=g-t[f];u+=p*p,t[f]=g}if(u/a<n||Date.now()>r+i)break}},Rr.nd.prototype.ahB=function(t,e,n,i){var r=Date.now();null==n&&(n=5e-5),null==i&&(i=1e9);for(var a=this.rows,s=this.xl,o=this.wx,l=this.yk,h=this.Q6;;){for(var u=0,f=0;f<a;f++){for(var c=3*f,p=e[c],d=e[1+c],v=e[2+c],g=o[f],y=o[f+1],m=g;m<y;m++){var w=s[m],b=3*l[m];p-=w*t[0+b],d-=w*t[1+b],v-=w*t[2+b]}var M=1.96*h[f],S=-.96*t[0+c]+p*M,C=-.96*t[1+c]+d*M,x=-.96*t[2+c]+v*M,L=S-t[0+c],g=C-t[1+c],M=x-t[2+c];u+=.4*L*L+.5*g*g+.1*M*M,t[0+c]=S,t[1+c]=C,t[2+c]=x}if(u/a<n||Date.now()>r+i)break}},Rr.Cj={},Rr.Cj.sG=function(t,e,n){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:t},Vrtc:{t:"doub",v:e},Cnty:{t:"bool",v:n}}}},Rr.Cj.A=function(t,e){for(var n=0;n<t.length;n++){var i=t[n].v,r=e.iX(new Pr(i.Hrzn.v,i.Vrtc.v));i.Hrzn.v=Math.round(r.x),i.Vrtc.v=Math.round(r.y)}},Rr.Cj.Is=function(t,e,n){for(var i=t.length-1,r=Rr.Cq.rt(1+i,2+i),a=1;a<i;a++)r[a][a-1]=1/(t[a]-t[a-1]),r[a][a]=2*(1/(t[a]-t[a-1])+1/(t[a+1]-t[a])),r[a][a+1]=1/(t[a+1]-t[a]),r[a][1+i]=3*((e[a]-e[a-1])/((t[a]-t[a-1])*(t[a]-t[a-1]))+(e[a+1]-e[a])/((t[a+1]-t[a])*(t[a+1]-t[a])));r[0][0]=2/(t[1]-t[0]),r[0][1]=1/(t[1]-t[0]),r[0][1+i]=3*(e[1]-e[0])/((t[1]-t[0])*(t[1]-t[0])),r[i][i-1]=1/(t[i]-t[i-1]),r[i][i]=2/(t[i]-t[i-1]),r[i][1+i]=3*(e[i]-e[i-1])/((t[i]-t[i-1])*(t[i]-t[i-1])),Rr.Cq.Tp(r,n)},Rr.Cj.a1b=function(t,e,n,i){if(t<=e[0])return n[0];if(t>=e[e.length-1])return n[e.length-1];for(var r=1;e[r]<t;)r++;var a=e[r],s=e[r-1],o=n[r],l=n[r-1],n=(t-s)/(a-s);return(1-n)*l+n*o+n*(1-n)*((i[r-1]*(a-s)-(o-l))*(1-n)+(-i[r]*(a-s)+(o-l))*n)},Rr.Cj.nR=function(t,e,n,i){var r={Gh:[t[0]],AT:[e[0]],t_:[]};i[0]=r;for(var a=1;a<t.length-1;a++)r.Gh.push(t[a]),r.AT.push(e[a]),0==n[a]&&(Rr.Cj.Is(r.Gh,r.AT,r.t_),r={Gh:[t[a]],AT:[e[a]],t_:[]}),i[a]=r;r.Gh.push(t[a]),r.AT.push(e[a]),Rr.Cj.Is(r.Gh,r.AT,r.t_),i[a]=r},Rr.Cj.sS=function(t,e,n,i){if(t<=e[0])return n[0];if(t>=e[e.length-1])return n[e.length-1];for(var r=1;e[r]<t;)r++;i=i[r-1];return Rr.Cj.a1b(t,i.Gh,i.AT,i.t_)},Rr.Cj.TJ=function(t){for(var e={Gh:[],AT:[],li:[]},n=0;n<t.length;n++)e.Gh[n]=t[n].v.Hrzn.v,e.AT[n]=t[n].v.Vrtc.v,e.li[n]=!t[n].v.Cnty||t[n].v.Cnty.v;return e},Rr.Cj.D7=function(t,e,n){var i=0,r=255;n&&(i=-1e9,r=1e9);var a=Rr.Cj.TJ(t),s=[];Rr.Cj.nR(a.Gh,a.AT,a.li,s);for(var o=[],l=0;l<e;l++)o[l]=1/255*Math.max(i,Math.min(r,Rr.Cj.sS(l*(255/(e-1)),a.Gh,a.AT,s)));return o},Rr.Cj.aeD=function(t,e,n){for(var i=Math.round(t.length/20),r=e-t.length,a=n?(t[i]-t[0])/i:0,s=n?t[0]-r*a:t[t.length-1],o=[],l=0;l<r;l++)o.push(s+l*a);return n?o.concat(t):t.concat(o)},Rr.Cj.wZ=function(t,e,n){var i=Rr.Cj.TJ(t),r=[];Rr.Cj.nR(i.Gh,i.AT,i.li,r);for(var a=new Uint8Array(e),s=e/256,o=0;o<e;o++)a[o]=Math.max(0,Math.min(e-1,Rr.Cj.sS(o*s,i.Gh,i.AT,r)));return n&&(a[0]=0,100<a[1]&&(a[1]=.4*a[1]),150<a[2]&&(a[1]=.7*a[2])),a},Rr.Cj.bC=function(t,e){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=e[t[i]];return n},Rr.Cj.sW=function(t,e,n){var i=document.createElement("canvas");i.width=e,i.height=n;var r=i.getContext("2d"),a=Rr.Cj.wZ(t,256);r.scale(e/255,n/255),r.fillStyle="#fff",r.fillRect(0,0,255,255),r.fillStyle="#333",r.beginPath(),r.moveTo(0,255);for(var s=0;s<a.length;s++)r.lineTo(s,255-a[s]);return r.lineTo(255,255),r.closePath(),r.fill(),i.toDataURL()},Rr.style={},Rr.style.stroke=function(t,e,n,i){var r=n.m,a=n.n,s=new Float64Array(r*a);Rr.style.In(t,s,r,a),Rr.style.Kz(e,n,s,n,i)},Rr.style.Kz=function(t,e,n,i,r){var a=e.BS(i),s=a.m,o=a.n;r+=.5;for(var l=a.x-e.x,h=a.y-e.y,u=e.m,f=a.x-i.x,c=a.y-i.y,p=i.m,d=0;d<o;d++)for(var v=(d+c)*p+f,g=(d+h)*u+l,y=0;y<s;y++){var m=Math.max(0,Math.min(1,r-n[v+y]));t[g+y]=Math.round(255*m)}},Rr.style.aru=function(t,e,n,i){for(var r=0;r<n;r++)for(var a=0;a<e;a++){var s=r*e+a,o=0,l=0,h=t[s],l=0==a||0==r?(o=t[s+1]-h,t[s+e]-h):a==n-1||r==e-1?(o=h-t[s-1],h-t[s-e]):(o=t[s+1]-t[s-1],t[s+e]-t[s-e]);0==o&&0==l||(o*=h=1/Math.sqrt(o*o+l*l),l*=h),i[s+s]=o,i[s+s+1]=l}},Rr.style.In=function(t,e,n,i){for(var r=0,a=n*i,s=0;s<a;s++)r|=t[s];if(0!=r)for(var o=Rr.style.SS(t,n,i),l=0;l<i;l++)for(var h=0;h<n;h++){var u,f,c=o[2*(s=l*n+h)],p=o[2*s+1],d=(l+p)*n+h+c;0!=c||0!=p?(u=Math.sqrt(c*c+p*p),f=t[d]*(1/255),d=1/u,(c=Math.abs(c)*d)<(p=Math.abs(p)*d)&&(d=p,p=c,c=d),e[s]=u+Rr.style.acu(c,p,f)):e[s]=0}else e.fill(1e9)},Rr.style.acu=function(t,e,n){return(.5-n)*t},Rr.style.SS=function(t,e,n,i){var r=new Int16Array(e*n*2);return Rr.style.af3(t,r,e,n,128),r},Rr.style.af3=function(t,e,n,i,r){var a=new Int32Array(n*i);Rr.style.aip(t,a,n,i,r),Rr.style.aaD(a,e,n,i)},Rr.style.aip=function(t,e,n,i,r){for(var a=new Int32Array(i),s=0;s<n;s++){for(var o=n+i,l=i-1;0<=l;l--)t[l*n+s]>r?o=0:o++,a[l]=o;for(o=n+i,l=0;l<i;l++)t[l*n+s]>r?o=0:o++,e[l*n+s]=o<a[l]?-o:a[l]}},Rr.style.aaD=function(t,e,n,i){for(var r=(n+i)*(n+i),a=new Float64Array(n),s=new Uint16Array(n),o=0;o<i;o++){var l=o*n,h=0;a[s[0]=0]=-r,a[1]=+r;for(var u=1;u<n;u++){for(var f=t[u+l]*t[u+l]+u*u,c=(f-(t[s[h]+l]*t[s[h]+l]+s[h]*s[h]))/(2*u-2*s[h]);c<=a[h];)c=(f-(t[s[--h]+l]*t[s[h]+l]+s[h]*s[h]))/(2*u-2*s[h]);s[++h]=u,a[h]=c,a[h+1]=r}for(h=0,u=0;u<n;u++){for(;a[h+1]<u;)h++;var p=s[h]-u,d=t[s[h]+l],v=o*n+u<<1;e[v]=p,e[1+v]=d}}},Rr.style.E8=function(t,e,n){if(n)for(var i=0;i<t.length;i++)0<(r=t[i])&&(t[i]=Math.max(0,Math.min(255,r+2*e*(Rr.style.k0(i)-128))));else for(i=0;i<t.length;i++){var r;0<(r=t[i])&&(t[i]=Math.max(0,Math.min(255,r+Math.min(3*r,2*e*(Rr.style.k0(i)-128)))))}},Rr.style.k0=function(t){return t=61^t^t>>16,t+=t<<3,t^=t>>4,t*=668265261,255&(t^=t>>15)},Rr.qm={},Rr.qm.U2=function(t,e,n){t=t.canvas;t.width==e&&t.height==n||(t.width=e,t.height=n)},Rr.qm.Ti=function(t,e,n,i,r,a){Rr.qm.U2(t,e,n),null==a&&(a=!1);var s=r.channel,o=r.rect,l=!r.isEnabled;if(e*n!=0){for(var h=t.createImageData(e,n),u=h.data,f=1/e,c=1/n,p=0;p<n;p++)for(var d=0;d<e;d++){var v=4*(p*e+d),g=Math.round(i.x+d*f*i.m),y=Math.round(i.y+p*c*i.n),m=0,m=g<o.x||g>=o.x+o.m||y<o.y||y>=o.y+o.n?r.color:s[(y-o.y)*o.m+(g-o.x)];m=255*(255-r.Py)+m*r.Py>>>8,a&&(m=170+Math.round(.4*(m-170))),u[v]=m,u[1+v]=m,u[2+v]=m,u[3+v]=255}t.putImageData(h,0,0),l&&Rr.qm.Vm(t,e,n)}},Rr.qm.r$=[],Rr.qm.apF=function(t,e,n,i){var r,a,s=Math.ceil(.35*Math.max(e,n)),o=e-s,l=n-s,h=Rr.qm.r$[s];null==h&&((r=Rr.XQ(s,s)).fillStyle="#eeeeee",r.fillRect(0,0,s,s),a=Math.round(.27*s),e=r.lineWidth=Math.max(1,Math.round(.12*s)),r.strokeRect(1+(n=e/2),1+n,s-e-2,s-e-2),r.strokeRect(a+n,a+n,s-a-a-e,s-a-a-e),h=Rr.qm.r$[s]=r.getImageData(0,0,s,s)),t.putImageData(h,o,l)},Rr.qm.wb=[],Rr.qm.amF=function(t,e,n){var i=Math.ceil(.35*Math.max(e,n)),r=e-i,a=n-i,s=Rr.qm.wb[i];null==s&&((e=Rr.XQ(i,i)).fillStyle="#eeeeee",e.fillRect(0,0,i,i),e.lineWidth=1,e.strokeRect(2.5,2.5,i-5,i-5),n=e.createImageData(3,3),Rr.Bg(n.data,4278190080),n.data[16]=n.data[17]=n.data[18]=238,e.putImageData(n,1,1),e.putImageData(n,i-4,1),e.putImageData(n,1,i-4),e.putImageData(n,i-4,i-4),s=Rr.qm.wb[i]=e.getImageData(0,0,i,i)),t.putImageData(s,r,a)},Rr.qm.alS=function(t,e,n,i,r){Rr.qm.U2(t,e,n);i=e/i.m;e*n!=0&&(t.fillStyle="#999999",t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e,n),null==(n=Rr.qm.rK)&&((n=Rr.qm.rK=JSON.parse(JSON.stringify(Wi.XF.default))).strokeEnabled.v=!0),n.strokeStyleLineWidth.v.val=1/i,t.fillStyle="#ffffff",t.scale(i,i),Rr.$.oZ(r.Y,t,0,0),Rr.$.oZ(r.Y,t,0,0,n))},Rr.qm.He=null,Rr.qm.BJ=function(t,e,n,i,r,a,s,o){if(Rr.qm.U2(t,e,n),e*n!=0){var l=Math.max(e,n),h=Rr.qm.He;(null==h||h.width<l||h.height<l)&&(Rr.qm.He=h=t.createImageData(l,l));for(var l=h.width,u=h.data,f=i.m/e,c=i.n/n,p=a.x,d=a.x+a.m,v=a.y,g=a.y+a.n,y=0;y<n;y++)for(var m=0;m<e;m++){var w=4*(y*l+m),b=~~(i.x+m*f),M=~~(i.y+y*c),S=Rr.aJ(y,m,2);b<p||d<=b||M<v||g<=M?(u[w]=S,u[1+w]=S,u[2+w]=S):(b=r[3+(M=(M-a.y)*a.m+(b-a.x)<<2)]*(1/255),u[w]=r[M]*b+S*(1-b),u[1+w]=r[1+M]*b+S*(1-b),u[2+w]=r[2+M]*b+S*(1-b)),u[3+w]=255}if(null!=o)for(y=0;y<u.length;y+=4)u[y]=u[y+1]=u[y+2]=u[y+o];t.putImageData(h,0,0),s&&Rr.qm.Vm(t,e,n)}},Rr.qm.ao4=function(t,e,n,i){Rr.qm.U2(t,e,n),t.fillStyle=Rr.qm.Na(i.Clr.v),t.fillRect(0,0,e,n),Rr.qm.Ja(t,e,n)},Rr.qm.LQ=null,Rr.qm.agq=function(t,e,n,i){Rr.qm.U2(t,e,n);var r=t.canvas.width,a=t.canvas.height,s=Rr.qm.LQ;null==s||s.width!=r||s.height!=a?(t.fillStyle="#ffffff",t.fillRect(0,0,e,n),t.fillStyle="#000000",t.font=.7*n+"px serif",t.fillText("T",(e-.43*n)/2,.75*n),t.fillText("T",(e-.43*n)/2,.75*n),Rr.qm.LQ=t.getImageData(0,0,r,a)):t.putImageData(s,0,0)},Rr.qm.ac6=function(t,e,n){Rr.qm.U2(t,e,n),t.clearRect(0,0,e,n),t.font=.7*n+"px serif",t.fillText(":(",(e-.43*n)/2,.7*n)},Rr.qm.ap1=function(t,e,n,i){Rr.qm.U2(t,e,n);var r=ji.get(i),a=t.canvas.width,s=Rr.qm.sU[a+r];null==s&&(e=PIMG["adj/"+r],n=ai.l4(e),i=UPNG.decode(n.buffer),e=new Uint8Array(UPNG.toRGBA8(i)[0]),n=new Fr(0,0,160,160),e=qr.Q.xX([e,n],new _r((i=+a)/160,0,0,i/160,0,0)),n=new Fr(0,0,a,a),i=Rr.t(4*n.Z()),Rr.a.bW("norm",e.buffer,e.rect,i,n,e.rect,1),s=Rr.qm.sU[a+r]=new ImageData(new Uint8ClampedArray(i.buffer),a,a)),t.putImageData(s,0,0)},Rr.qm.sU={},Rr.qm.apE=function(t,e,n,i){Rr.qm.U2(t,e,n);var r=t.canvas.width,a=t.canvas.height,s=t.getImageData(0,0,r,a);Rr.I.Sq(i.Grad.v,new Uint8Array(s.data.buffer),new Fr(0,0,r,a),[1/r,0,0,1/a],r/2,a/2,!1,0,16711680,65280),t.putImageData(s,0,0),Rr.qm.Ja(t,e,n)},Rr.qm.a3Z=function(t,e,n,i,r){Rr.qm.U2(t,e,n);var a=t,i=Xi.B8(i.Ptrn.v,r.add.Patt);null!=i&&(r=i.ax[1],Rr.qm.BJ(t,e,n,r,i.ax[0],r,!1),Rr.qm.Ja(a,e,n))},Rr.qm.Vm=function(t,e,n){t.strokeStyle="#bb0000",t.lineWidth=3,t.beginPath(),t.moveTo(.15*e,.15*n),t.lineTo(.85*e,.85*n),t.moveTo(.85*e,.15*n),t.lineTo(.15*e,.85*n),t.closePath(),t.stroke()},Rr.qm.Ja=function(t,e,n){t.fillStyle="#eeeeee",t.fillRect(0,.75*n,e,.25*n),t.beginPath(),t.moveTo(0,.75*n),t.lineTo(e,.75*n),t.moveTo(.1*e,.875*n),t.lineTo(.9*e,.875*n),t.moveTo(.65*e,.825*n),t.lineTo(.65*e,.95*n),t.closePath(),t.stroke()},Rr.qm.Na=function(t){t=Rr.I.Na(t),t=Math.round(t.p)<<16|Math.round(t.z)<<8|Math.round(t.S);return"#"+Rr.zI(t)},Rr.$={},Rr.$.i0=function(t,e,n){for(var i=[],r=-1,a=0;a<t.length;a++){var s=t[a];0!=s.type&&3!=s.type||-1==s.Gw||r++,5<s.type||0==s.type||3==s.type||null!=e&&-1==e.indexOf(r)||null!=n&&-1==n.indexOf(a)||(i.push(s.Sm.x),i.push(s.Sm.y),i.push(s.B.x),i.push(s.B.y),i.push(s.Pv.x),i.push(s.Pv.y))}return i},Rr.$.vc=function(t,e,n,i){for(var r=0,a=-1,s=0;s<e.length;s++){var o=e[s];0!=o.type&&3!=o.type||-1==o.Gw||a++,5<o.type||0==o.type||3==o.type||null!=n&&-1==n.indexOf(a)||null!=i&&-1==i.indexOf(s)||(o.Sm.R7(t[r],t[r+1]),o.B.R7(t[r+2],t[r+3]),o.Pv.R7(t[r+4],t[r+5]),r+=6)}},Rr.$.yl=function(t,e,n,i){var r=Rr.$.i0(t,n,i);Rr.H.A(r,e,r),Rr.$.vc(r,t,n,i)},Rr.$.ai$=function(t,e,n,i){var r=Rr.$.i0(t,n,i);Rr.N.A(e,r),Rr.$.vc(r,t,n,i)},Rr.$.ab$=function(t,e,n,i){if(null==n&&null==i)for(var r=Rr.$.aen(t,40),a=0;a<r.length;a++)t[a]=r[a];var s=Rr.$.i0(t,n,i);Rr.Cs.A(e,s,Rr.H.UP(s)),Rr.$.vc(s,t,n,i)},Rr.$.aen=function(t,e){for(var n=[],i=0;i<t.length;i++){var r=t[i];if(5<r.type)n.push(JSON.parse(JSON.stringify(r)));else{var a=Rr.$.aag(t,i+1,r.length),a=Rr.H.Hh(a,e),s=Rr.$.aqn(a);i+=r.length,(r=JSON.parse(JSON.stringify(r))).length=s.length,n.push(r);for(var o=0;o<s.length;o++)n.push(s[o])}}return n},Rr.$.aag=function(t,e,n){var i={C:["M"],U:[]},r=t[e],a=t[e+n-1];i.U.push(r.B.x,r.B.y);for(var s=1;s<n;s++){var o=t[e+s-1],l=t[e+s];i.C.push("C"),i.U.push(o.Pv.x,o.Pv.y,l.Sm.x,l.Sm.y,l.B.x,l.B.y)}return i.C.push("C"),i.U.push(a.Pv.x,a.Pv.y,r.Sm.x,r.Sm.y,r.B.x,r.B.y),i},Rr.$.aqn=function(t){var e=[],n=t.C,i=t.U,t=i.length;e.push({type:2,Sm:new Pr(i[t-4],i[t-3]),B:new Pr(i[0],i[1]),Pv:new Pr(i[2],i[3])});for(var r=0;r<n.length-2;r++){var a=6*r+4;e.push({type:2,Sm:new Pr(i[a],i[1+a]),B:new Pr(i[2+a],i[3+a]),Pv:new Pr(i[4+a],i[5+a])})}return e},Rr.$.a66=function(t){for(var e=0;e<t.length;e++)if(!(5<t[e].type)){var n=t[e].length;if(4==n||6==n||8==n)for(var i=0;i<n;i++){var r=t[e+1+i],a=t[e+1+(i+1)%n],s=Math.min(r.B.x,a.B.x),o=Math.min(r.B.y,a.B.y),l=0,h=0,h=r.B.x<a.B.x?(l=r.B.y-o)-(a.B.x-s):(l=a.B.y-o)-(r.B.x-s);if(Math.abs(h)<.2*l)return l}else e+=n}return-1},Rr.$.b3=function(t,e,n){function i(t,e){var n=Math.min(t.x,e.x),i=Math.min(t.y,e.y);return new Fr(n,i,Math.max(t.x+t.m,e.x+e.m)-n,Math.max(t.y+t.n,e.y+e.n)-i)}for(var r=null,a=-1,s=!Rr.$.k_(t),o=0;o<t.length;o++){var l=t[o];if(!(5<l.type)&&(0!=l.type&&3!=l.type||-1==l.Gw||a++,null==e||-1!=e.indexOf(a))){if(o==t.length-1)break;var h=3==l.type,u=l.length,l=l.Gw,h=Rr.$.ak$(t,o+1,u,h);null==r?r=h:n?r=i(r,h):s?null!=e||0==l||-1==l||2==l?r=i(r,h):1==l||3==l&&(r=h,s=!1):null!=e||0==l||-1==l||1==l?r=i(r,h):2==l||3==l&&(r=r.BS(h)),o+=u}}return r=null==r||r.m<0||r.n<0?new Fr(0,0,0,0):r},Rr.$.a7I=new Float64Array(4),Rr.$.ak$=function(t,e,n,i){var r=Rr.$.a7I;r[0]=1e30,r[1]=1e30,r[2]=-1e30,r[3]=-1e30;var a=t[e+n-1];i||Rr.$.zv(a.B.x,a.B.y,a.Pv.x,a.Pv.y,t[e].Sm.x,t[e].Sm.y,t[e].B.x,t[e].B.y,r);for(var s=e;s<e+n-1;s++){var o=t[s],l=t[s+1];Rr.$.zv(o.B.x,o.B.y,o.Pv.x,o.Pv.y,l.Sm.x,l.Sm.y,l.B.x,l.B.y,r)}return new Fr(r[0],r[1],r[2]-r[0],r[3]-r[1])},Rr.$.zv=function(t,e,n,i,r,a,s,o,l){if(t==n&&e==i&&r==s&&a==o)return l[0]=Math.min(l[0],Math.min(t,s)),l[1]=Math.min(l[1],Math.min(e,o)),l[2]=Math.max(l[2],Math.max(t,s)),void(l[3]=Math.max(l[3],Math.max(e,o)));for(var h=t,u=e,f=t,c=e,p=0;p<40;p++){var d=p*(1/39),v=1-d,g=v*v*v,y=3*v*v*d,m=3*v*d*d,v=d*d*d,d=g*t+y*n+m*r+v*s,v=g*e+y*i+m*a+v*o;d<h?h=d:f<d&&(f=d),v<u?u=v:c<v&&(c=v)}h<l[0]&&(l[0]=h),u<l[1]&&(l[1]=u),f>l[2]&&(l[2]=f),c>l[3]&&(l[3]=c)},Rr.$.IB=function(t,e){var n=t.length-3,i=e%n,r=Math.floor(i);if(e<0||n<=r)return null;var a=t[3+r],e=t[3+(r+1)%n],t=a.B,n=a.Pv,a=e.Sm,e=e.B,i=i-r,r=1-i;return new Pr(r*r*r*t.x+3*r*r*i*n.x+3*r*i*i*a.x+i*i*i*e.x,r*r*r*t.y+3*r*r*i*n.y+3*r*i*i*a.y+i*i*i*e.y)},Rr.$.rE=function(t){var e=Rr.H.tR(t),t=e.gH;return e.gH=Typr.U.pathToSVG({crds:t.U,cmds:t.C},2),e},Rr.$.rf=function(t){Rr.$.zF();for(var e,n=Rr.$.Qr(t),i=[],r=0;r<n.length;r++){var a=n[r][0],s=n[r][1];Math.abs(a.area)<1e-5?i.push(a):null==e?e=a:(a.closed||(a.closed=!0),(e=e[s](a)).remove())}if(null==e)e=new paper.CompoundPath(i);else{e.segments&&(e=new paper.CompoundPath(e));for(r=0;r<i.length;r++)e.addChild(i[r])}var o=t.slice(0,2);(o=o.concat(Rr.$.ZH(e)))[2]&&(o[2].Gw=1);for(r=3;r<o.length;r++)null!=o[r].Gw&&(o[r].Gw=-1);return o},Rr.$.zF=function(){var t;null==Rr.$.ahT&&(t=document.createElement("canvas"),paper.setup(t),Rr.$.ahT=!0)},Rr.$.ah_=function(t,e){Rr.$.zF();var n=[],i=Rr.$.Qr(t),r=new paper.Path.Rectangle(new paper.Rectangle(e.x,e.y,e.m,e.n));r.remove(),r.fillColor=new paper.Color(1,0,0);for(var a=0;a<i.length;a++)(r.intersects(i[a][0])||r.contains(i[a][0].children[0].segments[0].point))&&n.push(a);return n},Rr.$.LP=function(t,e,n,i){Rr.$.zF();for(var r=n?{curves:!0,tolerance:i}:null,a=new paper.Point(e.x,e.y),s=Rr.$.Qr(t),o=s.length-1;0<=o;o--){var l=s[o][0].hitTest(a,r);if(null!=l)return{BT:o,ZP:n?l.location.index:null}}return{BT:-1}},Rr.$.Be=function(t,e,n){for(var i=[[],[],[]],r=0;r<t.length;r++){var a,s=t[r];5<s.type||0==s.type||3==s.type||(a=null==n||-1!=n.indexOf(r),e.tl(s.B)&&i[0].push(r),e.tl(s.Sm)&&a&&i[1].push(r),e.tl(s.Pv)&&a&&i[2].push(r))}return i},Rr.$.abS=function(t,e,n){for(var i=n.slice(0),r=[null,null],a=-1,s=null,o=2;o<t.length;o++)0!=t[o].type&&3!=t[o].type||-1==t[o].Gw||a++,r[o]=n[a];n=r;for(var l=t.slice(0,2),r=n.slice(0,2),o=2;o<t.length;o++)0==t[o].type||3==t[o].type?(s=t[o],l.push(s),r.push(n[o])):-1==e.indexOf(o)?(l.push(t[o]),r.push(n[o])):(s.length--,Rr.UY.P9(n,o));for(o=2;o<l.length;o++){var h=l[o];0!=h.type&&3!=h.type||0==h.length&&(l[o+1]&&-1==l[o+1].Gw&&(l[o+1].Gw=h.Gw),r.splice(o,1),l.splice(o,1),o--)}for(o=0;o<i.length;o++)-1==r.indexOf(i[o])&&(i.splice(o,1),o--);return l},Rr.$.a4s=function(t,e){for(var n=t.slice(0,2),i=-1,r=2;r<t.length;r++)0!=t[r].type&&3!=t[r].type||-1==t[r].Gw||i++,-1==e.indexOf(i)&&n.push(t[r]);return n},Rr.$.arO=function(t,e){for(var n=t.slice(0,2),i=-1,r=2;r<t.length;r++)0!=t[r].type&&3!=t[r].type||-1==t[r].Gw||i++,-1!=e.indexOf(i)&&n.push(t[r]);return n},Rr.$.ad5=function(t){for(var e=0,n=0;n<t.length;n++)0!=t[n].type&&3!=t[n].type||(e=n);return t[e]},Rr.$.M$=function(t){for(var e=-1,n=0;n<t.length;n++)0!=t[n].type&&3!=t[n].type||-1==t[n].Gw||e++;return e+1},Rr.$.PX=function(t,e,n){for(var i=-1,r=0;r<t.length;r++)if((0==t[r].type||3==t[r].type)&&(n||-1!=t[r].Gw)&&++i==e)return r;return-1},Rr.$.Fu=function(t,e,n){for(var i=-1,r=0;r<t.length;r++)if((0==t[r].type||3==t[r].type)&&(n||-1!=t[r].Gw)){if(e<=r)return i;i++}return i},Rr.$.Tb=function(t,e){for(var n=-1,i=0,r=0;r<t.length;r++)0!=t[r].type&&3!=t[r].type||-1==t[r].Gw||n++,n==e&&i++;return i},Rr.$.aci=function(t){for(var e=180,n=0;n<t.length;n++)if(0==t[n].type||3==t[n].type){var i=t[n].length;if(!(i<3))for(var r=0;r<i;r++){var a=t[n+1+(r-1+i)%i],s=t[n+1+r],o=t[n+1+(r+1)%i],l=s.B,a=s.Sm.iy(l)?a.Pv:s.Sm,s=s.Pv.iy(l)?o.Sm:s.Pv;l.iy(a)||l.iy(s)||(a.x,l.x,a.y,l.y,s.x,l.x,s.y,l.y,a=180*Math.atan2(a.y-l.y,a.x-l.x)/Math.PI,s=180*Math.atan2(s.y-l.y,s.x-l.x)/Math.PI,(a=180<(a=Math.abs(s-a)%360)?360-a:a)<e&&(e=a))}}return e*Math.PI/180},Rr.$.ZH=function(t){for(var e=t.segments?[t]:t.children,n=[],i=0;i<e.length;i++){var r=e[i],a=r.segments,s=r.closed?0:3,o=n.length,l=null;if(!(a.length<=1)){n.push({type:s,length:a.length,Gw:0,aD:2});for(var h=0;h<a.length;h++){var u=a[h],f=new Pr(u.handleIn.x,u.handleIn.y),c=new Pr(u.handleOut.x,u.handleOut.y),u=new Pr(u.point.x,u.point.y),c={type:1+s,Sm:u.add(f),B:u,Pv:u.add(c)};if(null==l&&(l=c),n.push(c),h+1==a.length&&Pr.Tn(l.B,c.B)<1e-5&&(n.pop(),n[o].length--,l.Sm=c.Sm,3==s))for(var p=o;p<n.length;p++)n[p].type-=3}}}return n},Rr.$.Qr=function(t){Rr.$.zF();var e,n=[],i=new paper.Color(1,0,0);for(var r,a,s=0;s<t.length;s++)if(!(5<t[s].type)){var o,l=t[s].length;if(s==t.length-1)break;var h=3==t[s].type;2==s?o=Rr.$.k1(t)?"unite":"subtract":(0==t[s].Gw&&(o="exclude"),1==t[s].Gw&&(o="unite"),2==t[s].Gw&&(o="subtract"),3==t[s].Gw&&(o="intersect")),-1!=t[s].Gw&&(e=new paper.CompoundPath,n.push([e,o]),e.fillRule="evenodd",e.fillColor=i);for(var u=[],f=0;f<l;f++){var c=t[s+1+f],p=c.Sm.Pf(c.B),d=c.Pv.Pf(c.B);u.push([[c.B.x,c.B.y],[p.x,p.y],[d.x,d.y]])}var v=new paper.Path(u);a=h,(r=v).remove(),r.closed=!a,r.fillRule="evenodd",e.addChild(v),s+=l}return n},Rr.$.WC=function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null!=n.B&&(!n.B.iy(n.Sm)||!n.B.iy(n.Pv)))return!1}return!0},Rr.$.ahR=function(t){if(t.length<=5)return 0;for(var e=0,n=t.length-3-1,i=0;i<n;i++){var r=t[3+i],a=t[3+i+1];if(0==r.type||0==a.type)return 0;e+=(a.B.x-r.B.x)*(r.B.y+a.B.y)}return.5*-(e+=(t[3].B.x-t[3+n].B.x)*(t[3+n].B.y+t[4].B.y))},Rr.$.k_=function(t){var e=t[2];return 2==t.length?0==t[1].all:1==t[1].all?1==e.Gw||3==e.Gw:1==e.Gw||3==e.Gw||0==e.Gw},Rr.$.k1=function(t){for(var e=Rr.$.k_(t),n=3;n<t.length;n++)3==t[n].Gw&&(e=!0);return e},Rr.$.ahz=0,Rr.$.XK=0,Rr.$.a8z=0,Rr.$.aeP=function(t,e,n,i){if(!n.mN()){var r=n.Z();Rr.$.ahz+=r,r>Rr.$.XK&&(Rr.$.XK=r);var a=n.m,s=n.n;if(null==i&&Rr.$.WC(t)){for(var o=!0,l=2;l<t.length;){if(2!=t[l].length){o=!1;break}l+=3}if(o)return;if(Rr.$.IE(t)){e.fill(255);var h=Rr.$.b3(t);if(h.Z()!=r){var u=1-(h.x-n.x),f=1-(h.y-n.y),c=1-(n.x+n.m-(h.x+h.m)),p=1-(n.x+n.n-(h.x+h.n)),d=~~(255*u),v=~~(255*c),h=~~(255*p);e.fill(~~(255*f),0,a),e[0]=~~(u*f*255),e[a-1]=~~(c*f*255);for(l=a;l<r;l+=a)e[l]=d,e[l+a-1]=v;e.fill(h,(s-1)*a,s*a),e[r-a]=~~(u*p*255),e[r-1]=~~(c*p*255)}return}}for(var g=Math.ceil(a/16384),y=Math.ceil(s/16384),m=Math.ceil(a/g),w=Math.ceil(s/y),b=(Date.now(),0);b<y;b++)for(var M=0;M<g;M++){var S=M*m,C=b*w,x=m,L=w,D=Rr.XQ(x,L);Rr.$.k_(t)||D.fillRect(0,0,x,L),Rr.$.oZ(t,D,-n.x-S,-n.y-C,i);D=new Uint8Array(D.getImageData(0,0,x,L).data.buffer);x==a&&L==s?Rr.VW(D,e,3):Rr.px(D,new Fr(S,C,x,L),e,new Fr(0,0,a,s))}}},Rr.$.oZ=function(t,e,n,i,r){if(null!=r){for(var a=!1,s=0,o=!1,l=0;l<t.length;l++)null!=(f=t[l].Gw)&&(s++,-1==f&&(a=!0),0==t[l].type&&(o=!0));!a&&s<20&&(null==r||o)&&(t=Rr.$.rf(t))}for(l=0;l<t.length;l++)if(!(5<t[l].type)){var h=t[l].length;if(0!=h){if(l==t.length-1)break;var u=3==t[l].type,f=t[l].Gw;if(-1!=f&&null==r&&(e.globalCompositeOperation=["xor","source-over","destination-out","source-in"][f]),-1!=t[l].Gw&&(e.beginPath(),r)){for(var c=r.strokeStyleLineWidth.v.val,p=r.strokeStyleLineAlignment.v.strokeStyleLineAlignment,d=r.strokeStyleLineCapType.v.strokeStyleLineCapType,v=r.strokeStyleLineJoinType.v.strokeStyleLineJoinType,g=r.strokeStyleMiterLimit.v,y=[],m=r.strokeStyleLineDashSet.v,w=0;w<m.length;w++)y.push(m[w].v.val*c);e.setLineDash(y),e.lineCap=["butt","round","square"][Wi.XF.Sl.indexOf(d)],e.lineJoin=["miter","round","bevel"][Wi.XF.join.indexOf(v)],e.lineWidth=1==Wi.XF.Qb.indexOf(p)?c:c*=2,e.miterLimit=g}Rr.$.acF(e,t,l+1,h,n,i,u),u||e.closePath(),null!=t[l+1+h]&&-1==t[l+1+h].Gw||(r?e.stroke():e.fill("evenodd")),l+=h}}e.globalCompositeOperation="source-over"},Rr.$.acF=function(t,e,n,i,r,a,s){var o=e[n],l=null;t.moveTo(o.B.x+r,o.B.y+a);for(var h=n;h<n+i-1;h++)o=e[h],l=e[h+1],t.bezierCurveTo(o.Pv.x+r,o.Pv.y+a,l.Sm.x+r,l.Sm.y+a,l.B.x+r,l.B.y+a);s||(o=e[h],l=e[n],t.bezierCurveTo(o.Pv.x+r,o.Pv.y+a,l.Sm.x+r,l.Sm.y+a,l.B.x+r,l.B.y+a))},Rr.$.an1=function(t,e){for(var n=[],i=e?4:1,r=0;r<t.length;r+=2){var a=new Pr(t[r],t[r+1]);n.push({type:i,Sm:a.clone(),B:a.clone(),Pv:a.clone()})}return n},Rr.$.G1=function(t,e){Rr.$.zF();var n=new paper.Path;n.remove();var i=t.length-1,i=Math.sqrt((t[i-1]-t[0])*(t[i-1]-t[0])+(t[i]-t[1])*(t[i]-t[1]))<3;n.closed=i;for(var r=0;r<t.length;r+=2)n.add(new paper.Point(t[r],t[r+1]));return n.simplify(e),[{type:6},{type:8,all:0}].concat(Rr.$.ZH(n))},Rr.$.kA=function(t,e,n){for(var i=t[e].length,r=t[e].type,a=0,s=t.slice(e+1,e+1+i),o=0;o<i;o++){var l,h,u,f,c,p,d=n[(o-1+i)%i],v=n[(o+1+i)%i],g=n[o];0!=g&&(l=s[(o-1+i)%i].B,h=s[(o+0+i)%i].B,p=s[(o+1+i)%i].B,u=Pr.Tn(h,l),f=Pr.Tn(h,p),c=Rr.H.qe(l.x,l.y,h.x,h.y,p.x,p.y,g)[0],g*=Math.min(c,0==d?u:u/2,0==v?f:f/2)/c,g={type:r+1,Sm:new Pr((p=Rr.H.f8(l.x,l.y,h.x,h.y,p.x,p.y,g))[2],p[3]),B:new Pr(p[2],p[3]),Pv:new Pr(p[4],p[5])},p={type:r+1,Sm:new Pr(p[6],p[7]),B:new Pr(p[8],p[9]),Pv:new Pr(p[8],p[9])},t.splice(e+a+1,1,g,p),a++,t[e].length++),a++}},Rr.$.WC=function(t){for(var e=0;e<t.length;e++){var n=t[e],i=n.type;if(!(1!=i&&2!=i&&4!=i&&5!=i||n.B.iy(n.Sm)&&n.B.iy(n.Pv)))return!1}return!0},Rr.$.IE=function(t){if(7!=t.length||!Rr.$.WC(t))return!1;for(var e=0;e<4;e++){for(var n=!0,i=0;i<4;i++){var r=t[3+(e+i&3)],a=t[3+(e+i+1&3)];r.B.x!=a.B.x&&r.B.y!=a.B.y&&(n=!1)}if(n)return!0}return!1},Rr.$.abG=function(t){if(t.length<6)return 0;for(var e=t.length-2,n=0,i=0;i<e;i+=2)n+=(t[i+2]-t[i])*(t[i+1]+t[i+3]);return.5*-(n+=(t[0]-t[e])*(t[1+e]+t[1]))},Rr.$.aoB=function(t){t=qi.g6.nk(t);for(var e=Rr.$.M$(t),n=0;n<e;n++){for(var i=Rr.$.PX(t,n)+1,r=t[i-1].length,a=[],s=0;s<r;s++){var o=t[i+s].B;a.push(o.x,o.y)}if(Rr.$.abG(a)<0){for(var l=[],s=0;s<r;s++){var h=t[i+s],u=h.Sm;h.Sm=h.Pv,h.Pv=u,l.push(h)}for(s=0;s<r;s++)t[i+s]=l[r-1-s]}}return t},Rr.$.lO={},Rr.$.lO._5=function(t,e,n){var i=[{type:6},{type:8,all:0}],r=null;if(i.push({type:n?3:0,Gw:1,length:0,QL:0,Bt:0,aD:1}),0!=e)if(e instanceof Array)r=e;else for(var r=[],a=0;a<t.length;a+=2)r.push(e);return(i=i.concat(Rr.$.an1(t,n)))[2].length=i.length-3,r&&Rr.$.kA(i,2,r),i},Rr.$.lO.a3v=function(t,e,n,i,r){var a=[],s=1,o=-1;(p=[]).push({type:1,Sm:new Pr(0,.553),B:new Pr(0,0),Pv:new Pr(0,-.553)}),r+=2;for(var l=0;l<r;l++){var h,u,f={type:1};0==l?(f.B=new Pr(1,-1),f.Sm=new Pr(1-.553,-1),f.Pv=new Pr(1.553,-1)):(u=-(l+2)*Math.PI/2,s+=(h=1+(1==(1&l)?l-1:l))*((c=Math.sin(u))-(u=Math.cos(u))),o+=h*(u+c),f.B=new Pr(s,o),f.Sm=new Pr(s+h*u*.553,o-h*c*.553),1==(1&l)&&(h+=2),f.Pv=new Pr(s-h*u*.553,o+h*c*.553));var c={type:1,Sm:new Pr(-f.Pv.x,-f.Pv.y),B:new Pr(-f.B.x,-f.B.y),Pv:new Pr(-f.Sm.x,-f.Sm.y)};p.push(f),l<r-2&&a.push(c)}a.reverse();var p=p.concat(a);(d=[{type:6},{type:8,all:0}]).push({type:0,Gw:1,length:p.length,QL:0,Bt:0,aD:1});var d=d.concat(p),n=new _r(n/r,0,0,n/r,0,0);return n.rotate(i),n.translate(t,e),Rr.$.yl(d,n),d},Rr.$.lO.Rect=function(t,e,n,i,r){return Rr.$.lO._5([t,e,t+n,e,t+n,e+i,t,e+i],r)},Rr.$.lO.Ll=function(t,e,n,i,r,a,s,o){for(var l=[],h=2*Math.PI/r,u=0;u<r;u++)l.push(Math.cos(u*h-i),Math.sin(u*h-i));if(null!=s){for(var f=Rr.H.UP(l),c=f.m,p=f.n,d=s/(c/2),v=o/(p/2),u=0;u<l.length;u+=2)l[u]=(l[u]-(f.x+c/2))*d,l[u+1]=(l[u+1]-(f.y+p/2))*v;n=1}n=new _r(n,0,0,n,0,0);return n.translate(t,e),Rr.H.A(l,n,l),Rr.$.lO._5(l,a)},Rr.$.lO.a$=function(t,e,n,i,r,a,s){for(var o=[],l=Math.PI/r,h=0;h<2*r;h++){var u=0==(1&h)?1:s;o.push(u*Math.cos(h*l),u*Math.sin(h*l))}n=new _r(n,0,0,n,0,0);return n.rotate(i),n.translate(t,e),Rr.H.A(o,n,o),Rr.$.lO._5(o,a)},Rr.$.lO.Ca=function(t,e,n,i,r){return Rr.$.lO.r5(0,t,e,n,i,r)},Rr.$.lO.aub=function(t,e,n,i,r,a){return Rr.$.lO.r5(1,t,e,n,i,r,a)},Rr.$.lO.Rs=function(t,e,n,i,r,a){return Rr.$.lO.r5(2,t,e,n,i,r,a)},Rr.$.lO.r5=function(t,e,n,i,r,a,s){var o,l,h,u=Math.sqrt((i-e)*(i-e)+(r-n)*(r-n));a/=2,0==t&&(o=[-a,0,a,0,a,u,-a,u]),1==t&&(o=[-a,0,a,0,a,u-(h=2*a*s*1.3/1.5),l=a*s,u-h,0,u,-l,u-h,-a,u-h]),2==t&&(h=s[3],l=s[2]/2,t=h-h*(2/3)*s[4]/100,h=h,o=[],s[0]?o.push(-a,t,-l,h,0,0,l,h,a,t):o.push(-a,0,a,0),s[1]?o.push(a,u-t,l,u-h,0,u,-l,u-h,-a,u-t):o.push(a,u,-a,u));u=new _r(1,0,0,1,0,0);return u.rotate(Math.atan2(-r+n,i-e)+Math.PI/2),u.translate(e,n),Rr.H.A(o,u,o),Rr.$.lO._5(o,0)},Rr.$.lO._D=function(t,e,n,i){var r=[{type:6},{type:8,all:0}];r.push({type:0,Gw:1,length:4,QL:0,Bt:0,aD:1});var a=t,s=e,n=t+n,i=e+i,t=(a+n)/2,e=(s+i)/2,n=(a-n)/2,i=(s-i)/2;return r.push({type:1,Sm:new Pr(t-.553*n,e-i),B:new Pr(t,e-i),Pv:new Pr(t+.553*n,e-i)}),r.push({type:1,Sm:new Pr(t+n,e-.553*i),B:new Pr(t+n,e),Pv:new Pr(t+n,e+.553*i)}),r.push({type:1,Sm:new Pr(t+.553*n,e+i),B:new Pr(t,e+i),Pv:new Pr(t-.553*n,e+i)}),r.push({type:1,Sm:new Pr(t-n,e+.553*i),B:new Pr(t-n,e),Pv:new Pr(t-n,e-.553*i)}),r},Rr.$.lO.a9j=function(t,e,n,i,r){var a=[{type:6},{type:8,all:0}];a.push({type:3,Gw:1,length:5,QL:0,Bt:0,aD:1});for(var s=(r-i)/4,o=0;o<5;o++){var l=o*s,h=Math.cos(l),u=Math.sin(l),f=s/(Math.PI/2)*.553,c=u*f,l=-h*f,f=new Pr(h,u);a.push({type:4,Sm:0==o?f.clone():new Pr(h+c,u+l),B:f,Pv:4==o?f.clone():new Pr(h-c,u-l)})}r=new _r;return r.rotate(-i),r.scale(n,n),r.translate(t,e),Rr.$.yl(a,r),a},Rr.oH={},Rr.oH.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]},Rr.oH.pz=function(t){var e=t.warpStyle.v.warpStyle;if("warpNone"==e)return!0;if("warpCustom"!=e)return 0==t.warpValue.v&&0==t.warpPerspective.v&&0==t.warpPerspectiveOther.v;for(var n=!1,t=t.customEnvelopeWarp.v.meshPoints.v.arr,i=t[0].arr,r=t[1].arr,a=0;a<4;a++)for(var s=0;s<4;s++)(1<Math.abs(i[a]-i[4*s+a])||1<Math.abs(r[4*a]-r[4*a+s]))&&(n=!0);return!n},Rr.oH.t=function(t){var e={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};return t&&(e.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:t.y}},Left:{t:"UntF",v:{type:"#Pxl",val:t.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:t.y+t.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:t.x+t.m}}}},e.uOrder={t:"long",v:4},e.vOrder={t:"long",v:4}),e},Rr.oH.aoM=function(t,e,n,i){for(var r=0;r<t.length;r+=2){var a=t[r],s=t[r+1],o=(a-e.x)/e.m,l=(s-e.y)/e.n,h=(1-n)/2,u=(1-i)/2,a=e.x+(o=.5+(o-.5)*(u+(l=.5+(l-.5)*(h+o*(1-h-h))*2)*(1-u-u))*2)*e.m,s=e.y+l*e.n;t[r]=a,t[r+1]=s}},Rr.oH.LZ=function(t,e){for(var n=[],i=[],r=0;r<t.length;r+=2)n.push(t[r]),i.push(t[r+1]);var a=[];a.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:n}),a.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:i}),e.warpStyle.v.warpStyle="warpCustom",e.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:a}}}}},Rr.oH.Av=function(t,e){var n,i;null==e&&(n=(a=t.bounds.v).Left.v.val,i=a.Rght.v.val,e=new Fr(n,s=a.Top.v.val,i-n,a.Btom.v.val-s)),e.mN()&&(e.m=e.n=1);var r=[],a=t.warpStyle.v.warpStyle;if("warpCustom"==a)for(var s=t.customEnvelopeWarp.v.meshPoints.v.arr,o=s[0].arr,l=s[1].arr,h=0;h<16;h++)r.push(o[h],l[h]);else r=Rr.oH.oH(e,a,"Hrzn"==t.warpRotate.v.Ornt,t.warpValue.v/100,t.warpPerspective.v/100,t.warpPerspectiveOther.v/100);return r},Rr.oH.oH=function(t,e,n,i,r,a){var s=Rr.Cs.t(t.x,t.y,t.m,t.n);if("warpNone"==e)return s;var o=JSON.parse(JSON.stringify(t)),l=new _r;return n||(l.translate(-t.x,-t.y),l.rotate(-Math.PI/2),l.translate(t.n,0),Rr.H.A(s,l,s),t=new Fr(0,0,t.n,t.m),s=Rr.Cs.v3(s,!1)),Rr.oH.apS(s,t,e,i,r,a),n||(s=Rr.Cs.v3(s,!0),t=o,l.tU(),Rr.H.A(s,l,s)),0==i?Rr.oH.aoM(s,t,r,a):((l=new _r(1/t.m,0,0,1/t.n,-t.x,-t.y)).translate(-.5,-.5),Rr.H.A(s,l,s),Rr.oH.a4O(s,a,r),l.tU(),Rr.H.A(s,l,s)),s},Rr.oH.apS=function(t,e,n,i,r,a){for(var s=0;s<4;s++)for(var o=0;o<4;o++){var l,h,u,f,c,p,d,v,g,y,m,w,b,M,S,C,x,L,D,k=2*(4*s+o),T=l=t[k]-e.x,A=h=t[1+k]-e.y;0!=i&&(u=e.m/2,A-=f=e.n/2,w=T-=u,b=T,x=-f,L=f,g=Math.abs(i),c=Math.tan((1-g)*Math.PI/2),D=Math.sqrt(c*c+1),d=T/u*(p=Math.atan2(1,c)),M=(v=u*D)+e.n,y=Math.cos(p),m=Math.sin(p),g=Rr.oH.a02(y,m),y=Rr.oH.a0b(y,m),m=-c*u+g*v,"warpArc"==n&&(w=Math.sin(d)*M,x=c*u-Math.cos(p)*M+f,b=Math.sin(d)*v,L=c*u-Math.cos(p)*v+f,1!=o&&2!=o||(w=1==o?-y*M:y*M,b=1==o?-y*v:y*v,x=c*u+f-g*M,L=c*u+f-g*v),i<0&&(M=w,w=b,b=M,M=x,x=-L,L=-M)),"warpArcLower"==n&&(1!=o&&2!=o||(b=1==o?-y*v:y*v,L=i<0?f-m:f+m)),"warpArcUpper"!=n&&"warpArch"!=n&&"warpBulge"!=n||(1!=o&&2!=o||(w=1==o?-y*v:y*v,x=i<0?m-f:-f-m),"warpArch"==n&&(b=w,L=x+2*f),"warpBulge"==n&&(b=w,L=-x)),"warpFish"!=n&&"warpFlag"!=n&&"warpWave"!=n||(1==(S="warpFlag"==n?3-o:o)&&(x-=4*i*f,L+=4*i*f),2==S&&(x+=4*i*f,L-=4*i*f),"warpFlag"!=n&&"warpWave"!=n||(x=L-2*f)),"warpRise"==n&&(L=(x=o<2?i*f*4-f:x)+2*f),T=w+(S=(A+f)/e.n)*(b-w),A=x+S*(L-x),"warpWave"==n&&(0==s&&(A=-f),3==s&&(A=f),1!=s&&2!=s||(A=2*f*(s/3-.5)*(1/3)+A*(2/3))),"warpFisheye"==n&&(1!=s&&2!=s||1!=o&&2!=o||(T+=4*T*i,A+=4*A*i)),"warpInflate"==n&&(C=2/3,1!=s&&2!=s||1!=o&&2!=o?1==s||2==s?T+=C*T*i:1!=o&&2!=o||(A+=C*A*i):(T+=.5*T*i,A+=.5*A*i)),"warpSqueeze"==n&&(C=2/3,1!=s&&2!=s||1!=o&&2!=o?1==s||2==s?T-=C*T*i:1!=o&&2!=o||(A+=C*A*i):0<i?T-=C*T*i:A+=C*A*i),"warpTwist"==n&&(1!=s&&2!=s||1!=o&&2!=o||(L=i*Math.PI/2,D=1+2*Math.abs(i),x=T*Math.cos(L)-A*Math.sin(L),L=T*Math.sin(L)+A*Math.cos(L),T=x*D,A=L*D)),"warpShellLower"!=n&&"warpShellUpper"!=n||("warpShellUpper"==n&&(s=3-s,A=-A),(2<s||2==s&&(0==o||3==o))&&(0<i?(D=v+s/3*2*f,T=Math.sin(d)*D,A=-c*u-f+Math.cos(d)*D,1!=o&&2!=o||(T=1==o?-y*D:y*D,A=-c*u-f+g*D)):1!=o&&2!=o||3!=s?2==s&&(A=f-2/3*f*Math.cos(d),T+=2/3*f*Math.sin(d)):(T=1==o?-y*v:y*v,A=c*u-g*v+f)),"warpShellUpper"==n&&(s=3-s,A=-A)),T+=u,A+=f),l=T,h=A,t[k]=l+e.x,t[1+k]=h+e.y}},Rr.oH.a4O=function(t,e,n){for(var i=[],r=0;r<4;r++)i.push(1-n+r/3*2*n);for(var a=[],r=0;r<4;r++)a.push(1-e+r/3*2*e);for(var s=[0,0,0,0],o=[0,0,0,0],l=0;l<4;l++)for(r=0;r<4;r++){var h=t[F=2*(4*l+r)],u=t[F+1];s[r]+=h/4,o[r]+=u/4}for(l=0;l<4;l++)for(r=0;r<4;r++){var f=i[r],h=t[F=2*(4*l+r)],u=t[F+1],c=s[r],p=o[r];t[F]=c+f*(h-c),t[F+1]=p+f*(u-p)}for(var d=t.slice(0),l=0;l<4;l++)for(r=1;r<3;r++){var h=t[F=2*(4*l+r)],u=t[F+1],v=t[P=F+(1==r?-2:2)],g=t[P+1];t[F]=h-v,t[F+1]=u-g}for(var y=t[0],m=t[1],w=t[8],b=t[9],M=t[16],S=t[17],C=t[24],x=t[25],L=t[6]-y,D=t[7]-m,k=(t[14],t[15],t[22],t[23],t[30]-C),T=t[31]-x,l=0;l<4;l++){var A=2*l*4,E=0,O=0,N=1==l?.33:.66,I=1-N;0==l&&(E=L,O=D),1==l&&(E=I*L+N*-k,O=I*D+N*-T),2==l&&(E=I*L+N*-k,O=I*D+N*-T),3==l&&(E=-k,O=-T),t[A]=t[A]+E/2,t[1+A]=t[1+A]+O/2,t[6+A]=t[6+A]-E/2,t[7+A]=t[7+A]-O/2}for(l=0;l<4;l++)for(r=1;r<3;r++){var P,h=t[F=2*(4*l+r)],u=t[F+1],v=t[P=F+(1==r?-2:2)],g=t[P+1],f=2*l/3;t[F]=v+f*h,t[F+1]=g+f*u}for(l=1;l<3;l++)for(r=1;r<3;r++){var F,h=t[F=2*(4*l+r)],u=t[F+1],_=1==l?-8:-16,B=1==l?16:8,R=t[F+_],U=t[F+_+1],_=t[F+B];u=(1-(f=l/3))*U+f*t[F+B+1],t[F]=h=(1-f)*R+f*_,t[F+1]=u}Rr.H.Ey(d,t,t,e)},Rr.oH.a02=function(t,e){return 1/3*(4-t)},Rr.oH.a0b=function(t,e){return(1-t)*(3-t)/(3*e)},Rr.Iq={},Rr.Iq.a0v=function(t,e,n,i,r,a,s,o,l,h){for(var u=0;u<o;u++)for(var f=0;f<s;f++){var c=3*(u*s+f),p=t[(u+a)*e+(f+r)];i[c]=p,i[1+c]=p,i[2+c]=p}},Rr.Iq.Z7=function(t,e,n,i,r,a,s,o,l,h){for(var u=[0,1,.5,1/3,.25,.2,1/6,1/7,1/8,1/9],f=1/l,c=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],p=new Uint32Array(6),d=0;d<o;d++)for(var v=0;v<s;v++){var g=3*(d*s+v),y=d+a,m=v+r;p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0;for(var w=p[5]=0;w<16;w+=2){var b,M,S=m+c[w];p[M=h[((b=y+c[w+1])-l*~~(b*f))*l+(S-l*~~(S*f))]]+=t[b*e+S],p[M+3]++}p[M=h[((b=y)-l*~~(b*f))*l+((S=m)-l*~~(S*f))]]=t[y*e+m],p[M+3]=1,i[g]=p[0]*u[p[3]],i[1+g]=p[1]*u[p[4]],i[2+g]=p[2]*u[p[5]]}},Rr.Iq.oG=function(t,e,n){for(var i=0;i<n;i+=2)t[e+i]=t[e+i+1];e+=n;for(i=0;i<n;i+=2)t[e+i+1]=t[e+i]},Rr.Iq.LL=function(t,e,n,i){for(var r=0;r<i;r+=2){var a=e+r*n;t[a]=t[a+n],t[a+n+1]=t[a+1]}},Rr.Iq.Rz=function(t,e,n,i,r,a){var s=i[r],o=i[r+1],r=i[a],i=i[a+1],a=o+r>>>1;t[e]=t[e+3]=t[n]=t[n+3]=s,t[e+1]=a,t[e+4]=o,t[n+1]=r,t[n+4]=a,t[e+2]=t[e+5]=t[n+2]=t[n+5]=i},Rr.Iq.aox=function(t,e,n,i,r,a){for(var s=3*a,o=0;o<a;o+=2){var l=e+o,h=r+3*o;Rr.Iq.Rz(i,h,h+s,t,l,l+n)}},Rr.Iq.ad6=function(t,e,n,i,r,a,s){for(var o=3*a,l=0;l<s;l+=2){var h=e+l*n,u=r+l*a*3;Rr.Iq.Rz(i,u,u+o,t,h,h+n)}},Rr.Iq.Ln=function(t,e,n){var i=t[e-n-n],r=t[e-n],a=t[e-2],s=t[e-1],o=t[e],l=t[e+1],h=t[e+2],u=t[e+n],f=t[e+n+n],c=Math.abs(r-u),t=Math.abs(s-l),e=2*Math.abs(o-i)+c,n=2*Math.abs(o-h)+t,t=2*Math.abs(o-a)+t,c=2*Math.abs(o-f)+c,c=Math.min(e,Math.min(n,Math.min(t,c)));return c==e?3*r+u+o-i>>2:c==n?3*l+s+o-h>>2:c==t?3*s+l+o-a>>2:3*u+r+o-f>>2},Rr.Iq.BR=function(t,e,n,i,r){return t<e&&e<n||e<t&&n<e?~~(.5+i+(r-i)*(e-t)/(n-t)):(i+r>>1)+(e+e-t-n>>2)},Rr.Iq.GJ=function(t,e,n,i){var r=e[n-i-1],a=e[n-i+1],s=e[n],o=e[n+i-1],l=e[n+i+1],h=t[n-i-1],u=t[n-i+1],f=t[n],c=t[n+i-1],e=t[n+i+1];return Math.abs(u-c)+Math.abs(t[n-i-i+2]-f)+Math.abs(f-t[n+i+i-2])+Math.abs(a-s)+Math.abs(s-o)<Math.abs(h-e)+Math.abs(t[n-i-i-2]-f)+Math.abs(f-t[n+i+i+2])+Math.abs(r-s)+Math.abs(s-l)?Rr.Iq.BR(a,s,o,u,c):Rr.Iq.BR(r,s,l,h,e)},Rr.Iq.uy=function(t,e,n,i,r,a){t[e+0]=n[r],t[e+1]=i[r],t[e+2]=Rr.Iq.GJ(n,i,r,a)},Rr.Iq.YI=function(t,e,n,i,r,a){var s=i[r];t[e+0]=Rr.Iq.BR(i[r-1],s,i[r+1],n[r-1],n[r+1]),t[e+1]=s,t[e+2]=Rr.Iq.BR(i[r-a],s,i[r+a],n[r-a],n[r+a])},Rr.Iq.iY=function(t,e,n,i,r,a){var s=i[r];t[e+0]=Rr.Iq.BR(i[r-a],s,i[r+a],n[r-a],n[r+a]),t[e+1]=s,t[e+2]=Rr.Iq.BR(i[r-1],s,i[r+1],n[r-1],n[r+1])},Rr.Iq.NR=function(t,e,n,i,r,a){t[e+0]=Rr.Iq.GJ(n,i,r,a),t[e+1]=i[r],t[e+2]=n[r]},Rr.Iq.a7S=function(t,e,n,i,r,a,s,o,l){Date.now();var h=2,u=e-2,f=2;1==(1&r)&&(h++,u--);var c=n-2;1==(1&a)&&(f++,c--),1!=l&&3!=l||(h++,u--);var p=t.slice(0);Rr.Iq.oG(p,0,e),Rr.Iq.LL(p,0,e,n),Rr.Iq.LL(p,e-2,e,n),Rr.Iq.oG(p,(n-2)*e,e);for(var d=f;d<c;d+=2)for(var v=h;v<u;v+=2){var g=d*e+v,y=Rr.Iq.Ln(p,g,e),m=Rr.Iq.Ln(p,g+e+1,e);p[g]=Math.max(0,y),p[g+e+1]=Math.max(0,m)}var w=s,b=o;if(a+o==n&&(b-=2,Rr.Iq.aox(t,(n-2)*e+r,e,i,(o-2)*s*3,s)),r+s==e&&(w-=2,Rr.Iq.ad6(t,a*e+r+s-2,e,i,3*(s-2),s,o)),0==l)for(d=0;d<b;d+=2)for(v=0;v<w;v+=2){var M=(d+a)*e+v+r,S=3*(d*s+v);Rr.Iq.uy(i,S,t,p,M,e),Rr.Iq.YI(i,S+3,t,p,M+1,e),M+=e,S+=3*s,Rr.Iq.iY(i,S,t,p,M,e),Rr.Iq.NR(i,S+3,t,p,M+1,e)}else if(1==l)for(d=0;d<b;d+=2)for(v=0;v<w;v+=2){M=(d+a)*e+v+r,S=3*(d*s+v);Rr.Iq.YI(i,S,t,p,M,e),Rr.Iq.uy(i,S+3,t,p,M+1,e),M+=e,S+=3*s,Rr.Iq.NR(i,S,t,p,M,e),Rr.Iq.iY(i,S+3,t,p,M+1,e)}else if(2==l)for(d=0;d<b;d+=2)for(v=0;v<w;v+=2){M=(d+a)*e+v+r,S=3*(d*s+v);Rr.Iq.NR(i,S,t,p,M,e),Rr.Iq.iY(i,S+3,t,p,M+1,e),M+=e,S+=3*s,Rr.Iq.YI(i,S,t,p,M,e),Rr.Iq.uy(i,S+3,t,p,M+1,e)}else if(3==l)for(d=0;d<b;d+=2)for(v=0;v<w;v+=2){M=(d+a)*e+v+r,S=3*(d*s+v);Rr.Iq.iY(i,S,t,p,M,e),Rr.Iq.NR(i,S+3,t,p,M+1,e),M+=e,S+=3*s,Rr.Iq.uy(i,S,t,p,M,e),Rr.Iq.YI(i,S+3,t,p,M+1,e)}},Rr.raw={},Rr.raw.af2=function(t){Date.now();var e,n=t.width,i=t.height,r=0,a=0,s=n,o=i;t.t50829&&(r=(e=t.t50829)[1],a=e[0],s=e[3],o=e[2]),t.t50719&&(r+=(e=t.t50719)[0]>>1<<1,a+=e[1]>>1<<1),t.t50720&&(s=r+(c=t.t50720)[0],o=a+c[1]);var l=s-r,h=o-a,u=Rr.raw.am3(t),f=t.t33422,s=t.t33421;if(s){for(var c=s[0],p=f.slice(0),d=0;d<c;d++)for(var v=0;v<c;v++)p[d*c+v]=f[(d+(1&a))%c*c+(v+(1&r))%c];f=p}1==t.t277[0]&&Rr.raw.am0(u,n,i,t,f),Rr.raw.T2(2,t,u,n,i);var g=new Float32Array(l*h*3);if(1==t.t277[0])if(null==s)Rr.Iq.a0v(u,n,i,g,r,a,l,h);else if(2!=s.length||2!=s[0]||2!=s[1])console.log("Unknown CFA pattern size",s),Rr.Iq.Z7(u,n,i,g,r,a,l,h,s[0],f);else{o=t.t33422.join(","),s=0;if("0,1,1,2"==o)s=0;else if("1,0,2,1"==o)s=1;else if("2,1,1,0"==o)s=2;else{if("1,2,0,1"!=o)throw"Unknown CFA pattern "+o;s=3}if(0!=(1&l)||0!=(1&h))throw"e";Rr.Iq.a7S(u,n,i,g,r,a,l,h,s)}else for(d=0;d<h;d++)for(v=0;v<l;v++){var y=3*((d+a)*n+v+r);g[(L=3*(d*l+v))+0]=u[y+0],g[L+1]=u[y+1],g[L+2]=u[y+2]}for(var m=g,w=g.length,b=1/Rr.raw.bT(t),M=0;M<w;M+=3)g[M]=m[M]*b,g[M+1]=m[M+1]*b,g[M+2]=m[M+2]*b;Rr.raw.T2(3,t,g,l,h);var t=t.Bi,S=l,C=h;if(1!=t&&9!=t)for(var x=Rr.raw.e9(t,l,h),L=0,S=x[0],C=x[1],D=g.slice(0),d=0;d<C;d++)for(v=0;v<S;v++){var k=x[2]*v+x[3]*d+x[4],y=3*((x[5]*v+x[6]*d+x[7])*l+k);g[L]=D[y],g[L+1]=D[y+1],g[L+2]=D[y+2],L+=3}return{L0:g,YO:S,Zv:C}},Rr.raw.e9=function(t,e,n){if(0,2==t)return[e,n,-1,0,e-1,0,1,0];if(3==t)return[e,n,-1,0,e-1,0,-1,n-1];if(4==t)return[e,n,1,0,0,0,-1,n-1];if(5==t)return[n,e,0,1,0,1,0,0];if(6==t)return[n,e,0,1,0,-1,0,n-1];if(7==t)return[n,e,0,-1,e-1,-1,0,n-1];if(8==t)return[n,e,0,-1,e-1,1,0,0];throw"unknown orientation "+t},Rr.raw.am0=function(t,e,n,i,r){Date.now();var a=0,s=0;if(4e4<Rr.raw.bT(i)){for(var o=0;o<t.length;o++)t[o]>>=1;for(var l=["t50714","t50715","t50712","t50717"],o=0;o<l.length;o++){var h=i[l[o]];if(h)for(var u=0;u<h.length;u++)h[u]>>>=1}console.log("remapping to lower bit depth")}for(var f=~~Math.sqrt(r.length),c=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],p=[],d=0;d<f;d++)for(var v=0;v<f;v++){for(var g,y=r[o=d*f+v],m=4,w=4,b=8,M=0,S=0,u=0;u<18;u+=2){var C=r[(f+d+c[u+1])%f*f+(f+v+c[u])%f];if(C!=y)if(4==m)m=C,M=u;else if(4==w&&C!=m){w=C,S=u;break}}w<m&&(g=w,w=m,m=g,g=S,S=M,M=g),m<y&&(g=m,m=y,y=g,g=M,M=b,b=g),w<m&&(g=w,w=m,m=g,g=S,S=M,M=g),p[3*o]=c[b+1]*e+c[b],p[3*o+1]=c[M+1]*e+c[M],p[3*o+2]=c[S+1]*e+c[S]}for(var x=~~(.996*Rr.raw.bT(i)),L=~~(.992*Rr.raw.bT(i)),D=i.t50728,k=[],T=[0,0,0],d=1;d<n-1;d++)for(v=1;v<e-1;v++){var y=t[(o=d*e+v)+p[3*(I=d%f*f+v%f)+0]],m=t[o+p[3*I+1]],w=t[o+p[3*I+2]],A=Math.max(y,m,w);x<A?k.push(o):L<A&&(T[0]+=y,T[1]+=m,T[2]+=w,a++)}if(0!=k.length){a/(e*n)<1e-5&&(console.log("not enough semi-saturated pixels",a),T=D),T[1]<T[s]&&(s=1),T[2]<T[s]&&(s=2);for(var E=[T[0]/T[s],T[1]/T[s],T[2]/T[s]],O=t.slice(0),N=0;N<k.length;N++){var I=(d=~~((o=k[N])/e))%f*f+(v=o-d*e)%f,P=Math.min(65535,~~(t[o+p[3*I+s]]*E[r[I]]));P>O[o]&&(O[o]=P)}t.set(O)}},Rr.raw.KA=function(t,e,n,i){var t=t.L0,r=Math.round(t.length/3),a=t.slice(0);Rr.raw.Ra(t,a,n,i);for(var s=Math.pow(2,i[2]),o=new Uint8Array(4e3),l=0;l<4e3;l++){var h=Rr.wo(h=.001*l);h*=s,h=Rr.I$(h),h=Math.max(0,Math.min(1,h)),h=Rr.raw.rM.as4(h,i[3]/100),o[l]=~~(.5+255*h)}for(l=0;l<r;l++){var u=l<<2,f=u-l;e[u]=o[~~(1e3*a[f])],e[1+u]=o[~~(1e3*a[1+f])],e[2+u]=o[~~(1e3*a[2+f])]}},Rr.raw.Ra=function(t,e,n,i){var r=Math.round(t.length/3),i=fe.abM(i[0],i[1]),i=Rr.raw.asc(n,i),a=Rr.i8.multiply(Rr.i8.YP,i),n=Math.pow(2,n.t50730?n.t50730[0]:0),a=Rr.i8.multiply(a,Rr.i8.GQ(n,n,n));if(null==(s=Rr.raw.Ra.an5))for(var s=Rr.raw.Ra.an5=new Float64Array(8e3),o=0;o<8e3;o++)s[o]=Rr.I$(.001*o);for(o=0;o<r;o++){var l=(o<<2)-o,h=t[l],u=t[1+l],f=t[2+l],c=a[0]*h+a[1]*u+a[2]*f,p=a[4]*h+a[5]*u+a[6]*f,f=a[8]*h+a[9]*u+a[10]*f;c<0&&(c=0),p<0&&(p=0),f<0&&(f=0),e[l]=s[~~(1e3*c)],e[1+l]=s[~~(1e3*p)],e[2+l]=s[~~(1e3*f)]}},Rr.raw.rM={as4:function(t,e){var n,i=.5-.5*Math.cos(3.2*t),r=0;r=0<e?(n=.2*t)*t+(1-n)*i:(1-(n=Math.pow(t,.33)))*n+n*(t+.63*(t-i));e=Math.abs(e);return e*r+(1-e)*t},ata:function(t,e){var n,i,r=0;r=0<e?(n=1.47*t,i=Math.pow(t,2.4),Math.min(1,i*t+(1-i)*n)):(n=.68*t,(i=Math.pow(t,3))*t*.5+(1-i)*n);e=Math.abs(e);return e*r+(1-e)*t},a3f:function(t,e){var n,i=0;i=0<e?(1-t)*(n=Math.pow(t,.3))+t*t:(n=Math.pow(t,2.5),Math.min(1,(1-t)*n+t*t));e=Math.abs(e);return e*i+(1-e)*t}},Rr.raw.am3=function(t){var e=t.width,n=t.height,i=e*n*t.t277,r=new Uint16Array(i),a=null,s=0;if(Rr.raw.alV(t,r),Rr.raw.T2(1,t,r,e,n),t.t50712&&65535<(a=t.t50712)[s=a.length-1])throw"too big values";var o=Rr.raw.H3(t);Rr.raw.Ww(t);if(null==a)for(var l=0;l<i;l++)r[l]=Math.max(0,r[l]-o);else for(l=0;l<i;l++){var h=a[h=s<(h=r[l])?s:h];r[l]=Math.max(0,h-o)}return r},Rr.raw.H3=function(t){var e=t.t50714,n=e?e[0]:0,e=t.t50715,t=t.t50716;return e&&(n+=e[0][0]/e[0][1]),t&&(n+=t[0][0]/t[0][1]),Math.round(n)},Rr.raw.Ww=function(t){var e=null,n=0;t.t50712&&(n=(e=t.t50712).length-1);t=t.t50717?t.t50717[0]:(1<<t.t258[0])-1;return t=e?Math.min(t,e[n]):t},Rr.raw.bT=function(t){var e=Rr.raw.H3(t);return Rr.raw.Ww(t)-e},Rr.raw.alV=function(t,e){var n=e.length,i=t.data,r=t.t258[0];if(16!=r&&14!=r&&12!=r&&10!=r&&8!=r)throw"Unsupported Bits Per Sample:"+r;if(16==(r=Math.round(8*i.length/n))&&t.isLE)Rr.VO(i,e);else for(var a=0;a<n;a+=2){var s,o,l,h=0,u=0,f=0;16==r?(u=i[h=a<<1]<<8|i[h+1],f=i[h+2]<<8|i[h+3]):14==r?(s=i[l=(o=14*a)>>>3]<<24|i[l+1]<<16|i[l+2]<<8|i[l+3],f=0==(7&o)?(u=s>>>18,s>>>4&16383):(u=s>>>14&16383,16383&s)):12==r?(u=i[h=a+(a>>>1)]<<4|i[h+1]>>4,f=(15&i[h+1])<<8|i[h+2]):10==r?(l=(o=10*a)>>>3,f=0==(7&o)?(u=1023&(i[l]<<2|i[l+1]>>6),1023&(i[l+1]<<4|i[l+2]>>4)):(u=1023&(i[l]<<6|i[l+1]>>2),1023&(i[l+1]<<8|i[l+2]>>0))):8==r&&(u=i[h=a],f=i[h+1]),e[a]=u,e[a+1]=f}},Rr.raw.T2=function(t,e,n,i,r){var a=e["t"+[51008,51009,51022][t-1]],s=0;if(null!=a){var o=i*r,l=ln.l,h=ln.tG,u=new Uint8Array(a),f=ln.l(u,s);s+=4;for(var c=0;c<f;c++){var p=l(u,s),d=(l(u,s+=4),l(u,s+=4),l(u,s+=4));if(s+=4,0,1==p&&3==t){var v=l(u,W=s),g=h(u,W+=4),y=h(u,W+=8),m=h(u,W+=8),w=h(u,W+=8),b=h(u,W+=8),M=h(u,W+=8);W+=8;var S=h(u,W+=8*(v-1)*6),C=h(u,W+=8);W+=8;for(var x=S*i,L=C*r,D=Math.max(x,i-x),k=Math.max(L,r-L),T=1/(R=Math.sqrt(D*D+k*k)),A=n.slice(0),E=0;E<r;E++)for(var O=0;O<i;O++){var N=g+y*(H=(U=(O+.5-x)*T)*U+(j=(E+.5-L)*T)*j)+m*(H*H)+w*(H*H)*H,N=3*(~~(L+R*(N*j+(M*(2*U*j)+b*(H+2*j*j))))*i+~~(x+R*(N*U+(b*(2*U*j)+M*(H+2*U*U)))));n[pt=3*(E*i+O)]=A[N],n[pt+1]=A[1+N],n[pt+2]=A[2+N]}}else if(3==p&&3==t){var I=h(u,W=s),P=h(u,W+=8),F=h(u,W+=8),_=h(u,W+=8),B=h(u,W+=8),S=h(u,W+=8),C=h(u,W+=8);W+=8;for(var R,x=S*i,L=C*r,D=Math.max(x,i-x),k=Math.max(L,r-L),T=1/(R=Math.sqrt(D*D+k*k)),E=0;E<r;E++)for(O=0;O<i;O++){var U,j,H,J=1+(I+(P+(F+(_+B*(H=(U=(O+.5-x)*T)*U+(j=(E+.5-L)*T)*j))*H)*H)*H)*H;n[pt=3*(E*i+O)]=J*n[pt],n[pt+1]=J*n[pt+1],n[pt+2]=J*n[pt+2]}}else if(4==p&&1==t){var q=l(u,W=s);l(u,W+=4);W+=4;for(var G=0;G<o;G++)n[G]==q&&(n[G]=n[G-2]+n[G+2]>>1)}else if(5==p&&1==t){l(u,W=s);var Z=l(u,W+=4);l(u,W+=4);W+=4;for(G=0;G<Z;G++){var z=l(u,W),V=l(u,W+=4);W+=4,n[G=z*i+V]=n[G-2]+n[G+2]>>1}}else if(7==p&&1==t){var W=s,X=ln.e4(u,W),Y=l(u,W+=16),K=l(u,W+=4),Q=l(u,W+=4),$=l(u,W+4),tt=l(u,W+=8);W+=4;for(var et=new Uint16Array(tt),G=0;G<tt;G++)et[G]=ln.aV(u,W+2*G);for(var nt=X.m,it=X.n,E=0;E<it;E+=Q)for(O=0;O<nt;O+=$)n[G=(X.y+E)*i+(X.x+O)]=et[n[G]]}else if(8==p&&2==t){var W=s,X=ln.e4(u,W),Y=l(u,W+=16),K=l(u,W+=4),Q=l(u,W+=4),$=l(u,W+4),rt=l(u,W+=8);W+=4;for(var at=[],G=0;G<=rt;G++)at[G]=ln.tG(u,W+8*G);for(var st=X.x,ot=X.x+X.m,lt=X.y,ht=X.y+X.n,ut=e.t50717[0],ft=1/ut,ct=0;ct<K;ct++)for(E=lt;E<ht;E+=Q)for(var pt=3*E*i+Y+ct,O=st;O<ot;O+=$){for(var dt=n[G=pt+3*O]*ft,vt=at[rt],gt=rt;0<gt;gt--)vt=vt*dt+at[gt-1];n[G]=Math.max(0,Math.min(65535,~~(vt*ut)))}}else if(9==p&&2==t){var W=s,X=ln.e4(u,W),yt=!0,Y=l(u,W+=16),K=l(u,W+=4),Q=l(u,W+=4),$=l(u,W+4),mt=l(u,W+=8),wt=l(u,W+4),v=(h(u,W+=8),h(u,W+8),h(u,W+=16),h(u,W+8),l(u,W+=16));if(W+=4,1!=v)throw"more than one map plane";for(var bt=mt*wt,Mt=new Float32Array(bt),gt=0;gt<bt;gt++)Mt[gt]=ln.PT(u,W+4*gt);for(gt=0;gt<bt;gt++)1!=Mt[gt]&&(yt=!1);if(!yt)for(var St=.9999*(wt-1)/(nt=X.m),Ct=.9999*(mt-1)/(it=X.n),E=0;E<it;E+=Q)for(O=0;O<nt;O+=$){var G=(X.y+E)*i+(X.x+O),xt=O*St,Lt=E*Ct,Dt=Math.floor(xt),kt=Math.floor(Lt),xt=xt-Dt,Lt=Lt-kt,Dt=Mt[pt=kt*wt+Dt]*(1-xt)+Mt[pt+1]*xt,xt=Mt[pt+wt]*(1-xt)+Mt[pt+1+wt]*xt;n[G]=Math.max(0,Math.min(65535,~~(n[G]*(Dt*(1-Lt)+xt*Lt)+.5)))}}else console.log("Unknown opcode "+p+" in OpcodeList"+t+". Length: "+d);s+=d}}},Rr.raw.asc=function(t,e){var n=fe.Ke(e),e=Rr.raw.DU(t,e),e=Rr.i8.tU(e),n=fe.a07(n,fe.Ke(fe.aot));return Rr.i8.multiply(n,e)},Rr.raw.a0T=function(t){var e=(t.t50728||[1,1,1]).slice(0);e.push(0);var n={x:.34567,y:.3585};do{var i=Rr.i8.tU(Rr.raw.DU(t,n)),i=Rr.i8.vA(i,e),i=fe.asB(i),r=Math.abs(n.x-i.x)+Math.abs(n.y-i.y),n=i}while(1e-7<r);return n},Rr.raw.DU=function(t,e){var n=fe.ZO(e),i=Rr.raw.aqP,r=t.t50778?t.t50778[0]:0,a=t.t50779?t.t50779[0]:0,e=(e=i(t.t50721,t.t50722,r,a,n.Hw))||[1,0,0,0,1,0,0,0,1],n=(n=i(t.t50723,t.t50724,r,a,n.Hw))||[1,0,0,0,1,0,0,0,1],t=t.t50727?[t.t50727[0],0,0,0,t.t50727[1],0,0,0,t.t50727[2]]:[1,0,0,0,1,0,0,0,1];return Rr.i8.multiply(Rr.i8.O3(t),Rr.i8.multiply(Rr.i8.O3(n),Rr.i8.O3(e)))},Rr.raw.aqP=function(t,e,n,i,r){if(t||e){if(t&&!e)return t;if(r<n)return t;if(i<r)return e;for(var a=(1/r-1/i)/(1/n-1/i),s=1-a,o=[],l=0;l<9;l++)o[l]=t[l]*a+e[l]*s;return o}return null};var fe={},ce,pe;function de(t,e,n,i){var r=i[0],a=i[1],s=i[2],o=t[r+0],l=t[r+1],h=t[a+0]-o,r=t[a+1]-l,a=t[s+0]-o,s=t[s+1]-l,a=((o=e-o)*s-a*(n=n-l))*(l=1/(1e-9+(h*s-a*r))),l=(h*n-o*r)*l;return 0<=a&&0<=l&&a+l<=1?(i[3]=1-a-l,i[4]=a,i[5]=l,1):0}function ve(t,e,n,i){var r=~~(t+.5),a=~~(e+.5);return t=r-ce,e=((e=a-ce)-1)*(i=i),n[(i*=a+ce)+(r=r+ce)]-n[i+t-1]-n[e+r]+n[e+t-1]}fe.aot={x:.34567,y:.3585},fe.qI=[{p:0,rY:.18006,JL:.26352,sB:-.24341},{p:10,rY:.18066,JL:.26589,sB:-.25479},{p:20,rY:.18133,JL:.26846,sB:-.26876},{p:30,rY:.18208,JL:.27119,sB:-.28539},{p:40,rY:.18293,JL:.27407,sB:-.3047},{p:50,rY:.18388,JL:.27709,sB:-.32675},{p:60,rY:.18494,JL:.28021,sB:-.35156},{p:70,rY:.18611,JL:.28342,sB:-.37915},{p:80,rY:.1874,JL:.28668,sB:-.40955},{p:90,rY:.1888,JL:.28997,sB:-.44278},{p:100,rY:.19032,JL:.29326,sB:-.47888},{p:125,rY:.19462,JL:.30141,sB:-.58204},{p:150,rY:.19962,JL:.30921,sB:-.70471},{p:175,rY:.20525,JL:.31647,sB:-.84901},{p:200,rY:.21142,JL:.32312,sB:-1.0182},{p:225,rY:.21807,JL:.32909,sB:-1.2168},{p:250,rY:.22511,JL:.33439,sB:-1.4512},{p:275,rY:.23247,JL:.33904,sB:-1.7298},{p:300,rY:.2401,JL:.34308,sB:-2.0637},{p:325,rY:.24792,JL:.34655,sB:-2.4681},{p:350,rY:.25591,JL:.34951,sB:-2.9641},{p:375,rY:.264,JL:.352,sB:-3.5814},{p:400,rY:.27218,JL:.35407,sB:-4.3633},{p:425,rY:.28039,JL:.35577,sB:-5.3762},{p:450,rY:.28863,JL:.35714,sB:-6.7262},{p:475,rY:.29685,JL:.35823,sB:-8.5955},{p:500,rY:.30505,JL:.35907,sB:-11.324},{p:525,rY:.3132,JL:.35968,sB:-15.628},{p:550,rY:.32129,JL:.36011,sB:-23.325},{p:575,rY:.32931,JL:.36038,sB:-40.77},{p:600,rY:.33724,JL:.36051,sB:-116.45}],fe.ZO=function(t){for(var e=fe.qI,n=2*t.x/(1.5-t.x+6*t.y),i=3*t.y/(1.5-t.x+6*t.y),r=0,a=0,s=0;s<31&&(r=i-e[s].JL-e[s].sB*(n-e[s].rY),!(0<s&&r<0));s++)a=r;for(;s>=e.length;)s--;r/=Math.sqrt(1+e[s].sB*e[s].sB);var o=(a/=Math.sqrt(1+e[s-1].sB*e[s-1].sB))/(a-r),l=1e6/((e[s].p-e[s-1].p)*o+e[s-1].p),h=n-((e[s].rY-e[s-1].rY)*o+e[s-1].rY),u=i-((e[s].JL-e[s-1].JL)*o+e[s-1].JL),f=Math.sqrt(1+e[s].sB*e[s].sB),c=1/f,p=e[s].sB/f,t=Math.sqrt(1+e[s-1].sB*e[s-1].sB),f=1/t,t=e[s-1].sB/t,f=(c-f)*o+f,o=(p-t)*o+t,t=Math.sqrt(f*f+o*o);return{Hw:l,mr:-3e3*(h*(f/=t)+u*(o/=t))}},fe.abM=function(t,e){for(var n=fe.qI,i=1e6/t,r=1;r<31&&!(i<n[r].p);r++);var a=(n[r].p-i)/(n[r].p-n[r-1].p),s=(n[r-1].rY-n[r].rY)*a+n[r].rY,o=(n[r-1].JL-n[r].JL)*a+n[r].JL,l=Math.sqrt(1+n[r].sB*n[r].sB),h=1/l,t=n[r].sB/l,l=Math.sqrt(1+n[r-1].sB*n[r-1].sB),h=(1/l-h)*a+h,a=(n[r-1].sB/l-t)*a+t,t=Math.sqrt(h*h+a*a);return{x:1.5*(s+=(h/=t)*e/-3e3)/(s-4*(o+=(a/=t)*e/-3e3)+2),y:o/(s-4*o+2)}},fe.asB=function(t){var e=t[0]+t[1]+t[2];return{x:t[0]/e,y:t[1]/e}},fe.Ke=function(t){return{x:t.x/t.y,y:1,yI:(1-t.x-t.y)/t.y}},fe.a07=function(t,e){var n=Rr.i8.O3([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),i=[t.x,t.y,t.yI,0],r=[e.x,e.y,e.yI,0],i=Rr.i8.vA(n,i),t=(r=Rr.i8.vA(n,r))[0]/i[0],e=r[1]/i[1],i=r[2]/i[2],e=Rr.i8.O3([t,0,0,0,e,0,0,0,i]),i=Rr.i8.tU(n);return Rr.i8.multiply(Rr.i8.multiply(i,e),n)},Rr.raw.JX={},Rr.raw.ft=function(t){t*=8;var e,n=[8,10,12,14,16];for(e in CAMS)if(4!=(o=CAMS[e]).length)for(var i=o[4],r=o[5],a=0;a<n.length;a++)if(i*r*n[a]==t)return[e,n[a]];for(var s=[[4e3,3e3]],a=0;a<s.length;a++)for(var o,i=(o=s[a])[0],r=o[1],a=0;a<n.length;a++)if(i*r*n[a]==t)return[o,n[a]];return null},Rr.raw.a08=function(t){for(var t=new Uint8Array(t),e=0;e<t.length;e+=2){var n=t[e];t[e]=t[e+1],t[e+1]=n}for(var i=Rr.raw.ft(t.length),r=CAMS[i[0]],a=(r=null==r?[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,i[0][0],i[0][1]]:r)[4],s=r[5],o=Math.max(r[2],116),l={data:t,Bi:1,width:a,height:s,t256:[a],t257:[s],t258:[i[1]],t277:[1],t33421:[2,2],t33422:Rr.raw.Tz[r[1]],t50706:[1,2,0,0],t50714:[o,o,o,o],t50717:[r[3]],t50721:r[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]},e=0;e<9;e++)l.t50721[e]/=1e4;return l},Rr.raw.aT=function(t){if(null==t||0==t.length||"number"==typeof t[0])return t;for(var e=[],n=0;n<t.length;n++)e[n]=0==t[n][1]?0:t[n][0]/t[n][1];return e},Rr.raw.Tz=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]],Rr.raw.normalize=function(t,e){if(null!=t.t50706||t.t271[0].startsWith("Hasselblad")){for(var n=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965],i=0;i<n.length;i++)null!=t["t"+n[i]]&&(t["t"+n[i]]=Rr.raw.aT(t["t"+n[i]]));if(t.t271&&t.t271[0].startsWith("Hasselblad")&&(t.t50706=[1,2,0,0],t.t33422=Rr.raw.Tz[1],t.t50723=[1,0,0,0,1,0,0,0,1],t.t50778=[17],!t.isLE))for(i=0;i<t.data.length;i+=2){var r=t.data[i];t.data[i]=t.data[i+1],t.data[i+1]=r}}else{var a=t.t258[0],s=t.exifIFD,e=new Uint8Array(e);t.t50706=[1,2,0,0];var o=t.t272[0].trim();-1==o.indexOf(" ")&&(o=t.t271[0].trim()+" "+o),null==t.t50708&&(t.t50708=[o]);var l=o.toLowerCase(),h=CAMS,u=h[l];if(null==u)for(var f in h)l.startsWith(f)&&(u=h[f]);if(null==u)alert("Unknown camera:"+o);else{var c=u[2];t.t50714=[c,c,c,c],t.t50717=[u[3]],t.t50721=u[0].slice(0);for(i=0;i<9;i++)t.t50721[i]=1e-4*t.t50721[i]}if(t.t50723=[1,0,0,0,1,0,0,0,1],null==t.t50728&&(t.t50728=[.35,1,.6]),t.t50778=[17],t.t271[0].startsWith("SONY")){var p=UTIF["_bin"+(t.isLE?"LE":"BE")],d=t.t28688;if("[8000,10400,12900,14100]"!=JSON.stringify(d)&&console.log(d),d){for(var v=[0,0,0,0,0,4095],g=new Uint16Array(16385),i=0;i<4;i++){var y=d[i]>>>2;if(4095<(v[i+1]=y))throw"e"}for(i=0;i<16385;i++)g[i]=i;for(i=0;i<5;i++)for(var m=v[i]+1;m<=v[i+1];m++)g[m]=g[m-1]+(1<<i);8*e.length<t.width*t.height*a&&(t.t50712=g)}else console.log("no curve");var w=t.dngPrvt;if(w){var b=w.t29184[0],M=w.t29185[0],S=(t.isLE?ln.UF:ln.l)(w.t29217,0),w=new Uint32Array(e.slice(b,b+(4294967292&M)).buffer),C=new Uint32Array(M>>>2);Rr.raw.aoN(w,C,M>>>2,S);M=new Uint8Array(b+M);M.set(new Uint8Array(C.buffer),b);C=[];UTIF._readIFD(p,M,b,C,0,!1);var M=C.pop(),x=M.t29458;t.t50728=[x[1]/x[0],1,x[1]/x[3]],t.t50730=[.5];C=M.t29891;t.t50829=[C[1],C[0],C[3],C[2]]}else if(s.makerNote&&s.makerNote.t8208){for(var L=(J=s.makerNote).t8208,D=L.length,k=0,T=new Uint8Array(256),i=249;i<256;i++)T[i]=i;for(i=0;i<249;i++)T[i*i*i%249]=i;for(i=0;i<D;i++)L[i]=T[L[i]];if(6604!=D)throw"e";k=612;for(x=[],i=0;i<3;i++)x.push(ln.FP(L,k+2*i));console.log(x),t.t50728=[x[1]/x[0],1,x[1]/x[2]]}else console.log("no white balance");t.width*t.height*1.5==t.t279[0]&&(t.t50714=[c>>>=2,c,c,c],t.t50717=[u[3]>>>2])}else if(t.t271[0].startsWith("Canon")){var A=(e=t.data).slice(0),E=t.t50752,O=[],N=0;if(null==E||0==E[0]&&0==E[1])O.push(t.width);else{for(i=0;i<E[0];i++)O.push(E[1]);O.push(E[2])}for(var I=2*t.width,P=0;P<O.length;P++){for(var F=O[P],_=2*N,B=2*F,R=0;R<t.height;R+=2)for(var U=R*I+_,j=t.height*_+(R>>1)*B*2,i=0;i<B;i++)e[U+i]=A[j+i],e[U+i+I]=A[j+i+B];N+=F}if((J=s.makerNote).t16385){var M=J.t224,H=0;M&&(t.t50719=[M[5],M[6]],t.t50720=[M[7]+1-M[5],M[8]+1-M[6]]);C=J.t16385,M=C.length;if(582==M)H=1;else if(653==M)H=2;else if(796==M)H=3;else if(-1!=[692,674,702,1227,1250,1251,1337,1338,1346].indexOf(M))H=4;else if(5120==M)H=5,C=new Int16Array(C.slice(0).buffer);else if(1273==M||1275==M)H=6;else if(-1!=[1312,1313,1316,1506].indexOf(M))H=7;else{if(-1==[1560,1592,1353,1602].indexOf(M))throw"e"+M;H=8}M=C[0],M=[null,[25,166],[34,286],[63,196],[63],[71,-4==M?333:264],[63,251],[63,10==M?504:728],[63,326]],k=M[H][0],M=M[H][1];if(4==H)if(2==C[0])M=231;else if(3==C[0])M=231;else if(4==C[0])M=231;else if(5==C[0])M=231;else if(6==C[0])M=231;else if(7==C[0])M=231;else{if(9!=C[0])throw"e";M=231}t.t50728=[C[k+1]/C[k],1,C[k+1]/C[k+3]];c=null==M?1024:C[M];4!=H&&(t.t50714=[c,c,c,c])}else t.t50728=[.4,1,.6]}else if(t.t271[0].startsWith("NIKON")){var J=s.makerNote,q=t.isLE?ln.FP:ln.Kh,H=0,c=0,G=0;if(J.t61){for(var Z=J.t61,z=[],i=0;i<4;i++)z[i]=Z[i]/Math.pow(2,14-a);t.t50714=z}if(J.t3585)for(var V=J.t3585,i=0,b=22;b<V.length&&-4!=i;){var W=ln.UF(V,b);if(b+=4,b+=14,i=ln.UF(V,b)-4,b+=4,1990472198==W&&0!=V[b])throw"Flip";if(1990472199==W){W=ln.FP(V,b);if(0==W)t.Bi=1;else{if(270!=W)throw"e "+W;t.Bi=8}}b+=i}if(J.t183){for(var X=J.t183,Y=[],i=0;i<6;i++)Y.push(q(X,16+2*i));H=Y[0],c=Y[1]}J.t3614&&(s=J.t3614,H=ln.UF(s,8),c=ln.UF(s,12)),0!=H&&Math.max(H,c)<Math.max(t.width,t.height)&&(H<c&&(r=H,H=c,c=r),N=t.width-H>>>1,R=t.height-c>>>1,t.t50829=[R,N,R+c,N+H]);c=J.t69;if(c&&(t.t50829=[c[1],c[0],c[1]+c[3],c[0]+c[2]]),J.t12)var K=Rr.raw.aT(J.t12),Q=[1/K[0],1,1/K[1]];else if(J.t151){var H=Rr.raw.acC(J,151),c=H[0],K=H[1],$=H[2];if("0100"==c&&80<=K)throw"e";if("0102"==c){for(var tt=[],i=0;i<4;i++)tt.push(q($,6+2*i));Q=[tt[1]/tt[0],1,tt[1]/tt[3]]}else if("0103"==c&&26<=K){for(tt=[],i=0;i<4;i++)tt.push(q($,16+2*i));Q=[tt[1]/tt[0],1,tt[3]/tt[2]]}else{if(!("0204"==c&&564<=K||"0205"==c&&284<=K))throw"e";for(b="0204"==c?6:14,tt=[],i=0;i<4;i++)tt.push(q($,b+2*i));Q=[tt[1]/tt[0],1,tt[1]/tt[3]]}}else console.log("no white balance info");(Q="NIKON D1"==o?[1,1,1]:Q)&&(t.t50728=Q);var et=J.t150||J.t140;if(et){var nt,Q=et[G++],J=et[G++];73!=Q&&88!=J||(G+=2110);var it=1<<a&32767,rt=q(et,G+=8);G+=2;g=[];if(1<rt&&(nt=Math.floor(it/(rt-1))),68==Q&&32==J&&0<nt){for(i=0;i<rt;i++)g[i*nt]=q(et,G),G+=2;for(i=0;i<it;i++)g[i]=Math.floor((g[i-i%nt]*(nt-i%nt)+g[i-i%nt+nt]*(i%nt))/nt)}else if(70!=Q&&rt<=16385){for(it=rt,i=0;i<rt;i++)g[i]=q(et,G+2*i);G+=2*rt}0!=g.length?t.t50712=new Uint16Array(g):"NIKON D750"==t.t272[0]&&(t.t50717[0]*=4)}}else o.startsWith("FujiFilm")||alert("Unknown camera "+o)}},Rr.raw.aoN=function(t,e,n,i){if(0!=n){for(var r=new Uint32Array(128),a=new Uint8Array(r.buffer),s=127,o=0,l=0,s=0;s<4;s++)r[s]=i=3125*(15625*i>>>0)+1>>>0;r[3]=r[3]<<1|(r[0]^r[2])>>>31;for(s=4;s<127;s++)r[s]=(r[s-4]^r[s-2])<<1|(r[s-3]^r[s-1])>>>31;for(s=0;s<127;s++)r[s]=ln.l(a,4*s);for(;0<n;n--){r[127&s]=r[s+1&127]^r[s+1+64&127];var h=r[127&s],u=t[o];u^=h,e[l]=u,o++,l++,s++}}},Rr.raw.a30=function(t,e){for(var n=ln.fb(e,0,4),i=Rr.raw.atU,r=0;r<i.length;r++)if(i[r][0]==t&&n.startsWith(i[r][1])&&(0==i[r][2]||i[r][2]==e.length))return i[r];throw"e"},Rr.raw.aos=function(t){if(null==t.t29)return[];for(var e=Rr.raw.apa,n=Rr.raw.a0k,i=t.t29[0],r=0,a=0,s=0;s<i.length;s++)var o=i.charCodeAt(s),r=10*r+(48<=o&&o<=57?o-48:o%10);for(var l=t.t167[0],s=0;s<4;s++)a^=l>>>(s<<3)&255;return[e[255&r],n[255&a],96]},Rr.raw.acC=function(t,e){var n=t["t"+e],i=n.length,r=Rr.raw.a30(e,n),e=ln.fb(n,0,4),a=r[4];if(null==a)s=n.slice(4);else for(var s=new Uint8Array(i-a),t=Rr.raw.aos(t),o=t[0],l=t[1],h=t[2],u=0;u<s.length;u++)l=l+o*h++&255,s[u]=n[a++]^l;return[e,i,s]},Rr.raw.atU=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]],Rr.raw.apa=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199],Rr.raw.a0k=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47],Rr.Nv={},Rr.Nv.Nv=function(t,n,e,i,r){null==i&&(i=3),null==r&&(r=!0);var a=t.m,s=t.n,o=1/a,l=a*s,h=(Date.now(),Rr.Nv.ki(e,a,s,255,128)),u=Rr.Nv.ki(e,a,s,0,128),f=0;Date.now();t=function(t,e){t<<=2,e<<=2;return n[t]+n[1+t]+n[2+t]-(n[e]+n[1+e]+n[2+e])};h.sort(t),u.sort(t);var c=Rr.t(l),p=Rr.t(l),d=[],v=new Uint32Array(a*s);v.fill(4294967295);for(var g=0;g<l;g++)0==e[g]?p[g]=255:255==e[g]?c[g]=255:(v[g]=d.length,d.push(g));var y=h.length,m=u.length,w=d.length;function b(t,e,n,i){for(var r=t.length,a=new Array(2*r),s=0;s<r;s++){var o=t[s],l=~~(o*i),h=o<<2;a[2*s]=o-l*n<<16|l,a[2*s+1]=e[h]<<16|e[1+h]<<8|e[2+h]}return a}var M=b(h,n,a,o),S=b(u,n,a,o),C=b(d,n,a,o);Date.now();var x=Rr.style.SS(c,a,s,!0),L=Rr.style.SS(p,a,s,!0),D=new Array(w),k=new Array(w),T=new Array(w),A=new Array(w),E=new Array(w);Date.now();for(var O=Rr.Nv.RU,g=0;g<w;g++){var N=(j=d[g])-(H=~~(j*o))*a,I=x[j<<1],P=x[1+(j<<1)],F=Math.sqrt(I*I+P*P),I=L[j<<1],P=L[1+(j<<1)],P=Math.sqrt(I*I+P*P);D[g]=1/F,k[g]=1/P;var _=Math.floor(Rr.a.k0(17*j)*y),B=Math.floor(Rr.a.k0(19*j)*m);T[g]=_,A[g]=B,E[g]=O(C[2*g],C[2*g+1],M[2*_],M[2*_+1],S[2*B],S[2*B+1],D[g],k[g],1e9)}for(var R=[-a-1,-a,1-a,-1,1,a-1,a,a+1];1<Math.floor(Math.max(y,m)*Math.pow(.5,f));)f++;for(var U=0;U<i;U++)for(g=0;g<w;g++){var j,H,N=(j=d[g])-(H=~~(j*o))*a,J=D[g],q=k[g],G=C[2*g],Z=C[2*g+1],z=E[g],_=T[g],B=A[g],V=1;if(0!=H&&0!=N&&N!=a-1&&H!=s-1)for(var W=0;W<8;W++){var X=v[j+R[W]];4294967295!=X&&($=T[X],at=A[X],$==_&&at==B||(tt=O(G,Z,M[2*$],M[2*$+1],S[2*at],S[2*at+1],J,q,z))<z&&(z=tt,_=$,B=at))}for(var Y=0;Y<f;Y++){var K=~~(y*V),Q=~~(m*V);V*=.5;var $,tt,et=Rr.a.k0(j+17*U+31*Y),nt=Rr.a.k0(j+29*U+63*Y),it=Math.max(0,_-K),rt=Math.min(_+K,y-1),K=Math.max(0,B-Q),at=K+~~(nt*(Math.min(B+Q,m-1)-K));(tt=O(G,Z,M[2*($=it+~~(et*(rt-it)))],M[2*$+1],S[2*at],S[2*at+1],J,q,z))<z&&(z=tt,_=$,B=at)}E[g]=z,T[g]=_,A[g]=B,0}Date.now();for(var st=e.slice(0),g=0;g<w;g++){var ot=Rr.Nv.alpha(C[2*g+1],M[2*T[g]+1],S[2*A[g]+1]);st[d[g]]=~~(.5+255*ot)}if(st=Rr.ko.asi(st,n,new Fr(0,0,a,s),16,1e-4),Date.now(),r)for(g=0;g<l;g++)255!=e[g]&&0!=e[g]||(st[g]=e[g]);for(var lt=n.slice(0),g=0;g<w;g++){var ht=d[g],_=h[T[g]],z=E[g],ut=ht<<2,ht=(250<=st[ht]?ht:_)<<2;lt[ut]=n[ht],lt[1+ut]=n[1+ht],lt[2+ut]=n[2+ht]}return Rr.al(st,lt,3),Date.now(),lt},Rr.Nv.RU=function(t,e,n,i,r,a,s,o,l){var h=t>>>16,u=65535&t,t=h-(n>>>16),n=u-(65535&n),h=h-(r>>>16),r=u-(65535&r),s=Math.sqrt(t*t+n*n)*s,o=Math.sqrt(h*h+r*r)*o;return l<=s+o?1e9:Rr.Nv.aj4(e,i,a)+s+o},Rr.Nv.aj4=function(t,e,n){var i=t>>>16,r=t>>>8&255,a=255&t,s=e>>>16,o=e>>>8&255,l=255&e,h=n>>>16,u=n>>>8&255,f=255&n,n=Rr.Nv.alpha(t,e,n),h=i-(n*s+(1-n)*h),u=r-(n*o+(1-n)*u),f=a-(n*l+(1-n)*f);return Math.sqrt(h*h+u*u+f*f)},Rr.Nv.alpha=function(t,e,n){var i=n>>>16,r=n>>>8&255,a=255&n,s=(e>>>16)-i,o=(e>>>8&255)-r,n=(255&e)-a,e=s*s+o*o+n*n;return Math.max(0,Math.min(1,0==e?.5:(((t>>>16)-i)*s+((t>>>8&255)-r)*o+((255&t)-a)*n)/e))},Rr.Nv.a7a=function(t){},Rr.Nv.ki=function(t,e,n,i,r){for(var a=[],s=e-1,o=n-1,l=1;l<o;l++)for(var h=1;h<s;h++){var u=l*e+h;t[u]!=i||t[u-e-1]!=r&&t[u-e]!=r&&t[u-e+1]!=r&&t[u-1]!=r&&t[u+1]!=r&&t[u+e-1]!=r&&t[u+e]!=r&&t[u+e+1]!=r||a.push(u)}return a},Rr.ko={},Rr.ko.au4=function(t,e,n,i,r){var a=n.m*n.n,s=Rr.ko.hE,o=Rr.t(4*a);Rr.Bg(o,4294967295);var l,h,u,f=n;Rr.al(t,o,0),t=Rr.U4(o,n),f=(t=Rr.U4(t.L0,t.rect)).rect,u=i>>>2,console.log(f,u),l=Rr.t(f.Z()),Rr.VW(t.L0,l,0),Rr.al(e,o,0),t=Rr.U4(o,n),t=Rr.U4(t.L0,t.rect),h=Rr.t(f.Z()),Rr.VW(t.L0,h,0);var r=Rr.ko.avi(l,h,f,u,r),c=r[0],p=r[1],r=new Fr(0,0,2*f.m,2*f.n),c=s(c,f,r,!0);c=s(c,r,n,!0),p=s(p,f,r,!0);for(var p=s(p,r,n,!0),d=Rr.t(a),v=0;v<a;v++)d[v]=Math.max(0,Math.min(255,Math.floor(c[v]*e[v]+255*p[v]+.5)));return d},Rr.ko.hE=function(t,e,n,i){for(var r=n.m,n=n.n,a=e.m,s=e.n,o=(Rr.ko.te,new Float32Array(r*n)),l=0;l<s;l++)for(var h=(l+l)*r,u=0;u<a;u++)o[h]=o[h+1]=o[h+r]=o[h+r+1]=t[l*a+u],h+=2;return o},Rr.ko.te=function(t,e,n,i,r){t-=.499999,e-=.499999;var a=Math.floor(t),s=Math.floor(e),o=s*i+a,l=t-a,h=e-s,u=(1-h)*(1-l),a=(1-h)*l,s=h*(1-l),l=h*l;if(null==n[o]||null==n[o+i+1])throw console.log(t,e,i,r),"e";return u*n[o+0]+a*n[o+1]+s*n[o+i+0]+l*n[o+i+1]},Rr.ko.avi=function(t,e,n,i,r){var a=n.m*n.n,s=Rr.ko.A8,o=Rr.ko.t,l=Rr.VF.$K,h=Rr.ko.Fe,e=s(e),t=s(t),u=o(a);l(e,u,n,i);var f=o(a);l(t,f,n,i);var c=o(a);h(e,e,c),l(c,c,n,i);var p=o(a);h(e,t,p),l(p,p,n,i);for(var d=o(a),v=o(a),g=0;g<a;g++){var y=u[g],m=f[g],w=c[g]-y*y,w=(p[g]-y*m)/(w+r),y=m-w*y;d[g]=w,v[g]=y}t=o(a);l(d,t,n,i);o=o(a);return l(v,o,n,i),[t,o]},Rr.ko.asi=function(t,e,n,i,r){var a=n.m,s=n.n,o=a*s,n=(Rr.ko.hE,Date.now(),i),l=new Fr(0,0,a>>>2,s>>>2),n=i>>>2,h=Rr.ko.a1J(t,a,s),u=Rr.ko.afl(e,a,s),r=(Date.now(),Rr.ko.acf(h,u,l,n,r)),f=r[0],c=r[1],p=r[2],d=r[3];Date.now();for(var v=Rr.t(o),g=0;g<s;g++)for(var y=0;y<a;y++){var m=g*a+y,w=(g>>>2)*(a>>>2)+(y>>>2),b=m<<2,w=f[w]*e[b]+c[w]*e[1+b]+p[w]*e[2+b]+255*d[w];v[m]=Math.max(0,Math.min(255,~~(.5+w)))}return Date.now(),v},Rr.ko.a1J=function(t,e,n){for(var i=e>>>2,r=n>>>2,a=Rr.t(e*n),s=0;s<r;s++)for(var o=0;o<i;o++)a[s*i+o]=t[s*e+o<<2];return a},Rr.ko.afl=function(t,e,n){for(var i=e>>>2,r=n>>>2,a=Rr.t(e*n*4),s=0;s<r;s++)for(var o=0;o<i;o++){var l=s*i+o<<2,h=s*e+o<<4;a[l]=t[h],a[1+l]=t[1+h],a[2+l]=t[2+h],a[3+l]=t[3+h]}return a},Rr.ko.acf=function(t,e,n,i,r){var a=n.m,s=n.n,o=a*s,l=Rr.ko.A8,h=Rr.ko.t,u=Rr.VF.$K,f=Rr.ko.Fe,t=l(t),s=new Rr.vs(a*s);Rr.Sk(e,s);var e=[l(s.p),l(s.z),l(s.S)],c=Rr.ko.a40(t,e,n,i,r),p=h(o);u(t,p,n,i);var d=h(o);f(e[0],t,d),u(d,d,n,i);var v=h(o);f(e[1],t,v),u(v,v,n,i);var g=h(o);f(e[2],t,g),u(g,g,n,i);for(var y=h(o),m=h(o),w=h(o),b=h(o),M=0;M<o;M++){var S=p[M],C=c.MS[M],x=c.sO[M],L=c.Zz[M],D=d[M]-C*S,k=v[M]-x*S,T=g[M]-L*S;y[M]=c.a8o[M]*D+c.YS[M]*k+c.Ut[M]*T,m[M]=c.YS[M]*D+c.a1o[M]*k+c.Qc[M]*T,w[M]=c.Ut[M]*D+c.Qc[M]*k+c.a3M[M]*T,b[M]=S-y[M]*C-m[M]*x-w[M]*L}return u(y,y,n,i),u(m,m,n,i),u(w,w,n,i),u(b,b,n,i),[y,m,w,b]},Rr.ko.a40=function(t,e,n,i,r){var a=n.m*n.n,s=Rr.ko.t,o=Rr.VF.$K,l=Rr.ko.Fe,h={};h.MS=s(a),o(e[0],h.MS,n,i),h.sO=s(a),o(e[1],h.sO,n,i),h.Zz=s(a),o(e[2],h.Zz,n,i);var u=s(a);l(e[0],e[0],u),o(u,u,n,i);var f=s(a);l(e[0],e[1],f),o(f,f,n,i);var c=s(a);l(e[0],e[2],c),o(c,c,n,i);var p=s(a);l(e[1],e[1],p),o(p,p,n,i);var d=s(a);l(e[1],e[2],d),o(d,d,n,i);var v=s(a);l(e[2],e[2],v),o(v,v,n,i),h.a8o=u,h.YS=f,h.Ut=c,h.a1o=p,h.Qc=d,h.a3M=v;for(var g=0;g<a;g++){var y=h.MS[g],m=h.sO[g],w=h.Zz[g],b=u[g]-y*y+r,M=f[g]-y*m,S=c[g]-y*w,C=p[g]-m*m+r,x=d[g]-m*w,L=v[g]-w*w+r,y=C*L-x*x,m=x*S-M*L,w=M*x-C*S,L=b*L-S*S,x=S*M-b*x,C=b*C-M*M,S=1/(y*b+m*M+w*S);h.a8o[g]=y*S,h.YS[g]=m*S,h.Ut[g]=w*S,h.a1o[g]=L*S,h.Qc[g]=x*S,h.a3M[g]=C*S}return h},Rr.ko.t=function(t){return new Float32Array(t)},Rr.ko.A8=function(t){for(var e=t.length,n=new Float32Array(e),i=0;i<e;i++)n[i]=t[i]*(1/255);return n},Rr.ko.Fe=function(t,e,n){for(var i=0;i<t.length;i++)n[i]=t[i]*e[i]},Rr.$o={},Rr.$o.Ph=function(t,e,n,i){var r=t[e]-n[i],a=t[e+1]-n[i+1],i=t[e+2]-n[i+2];return Math.sqrt(r*r+a*a+i*i)*(1/441.7)},Rr.$o.getSelection=function(t,e,n){for(var i,r=e*n,a=Rr.t(r),s=Math.round(.7*n),o=new Uint32Array(12),l=Rr.t(12),h=0;h<s;h++)for(var u=0;u<e;u++)(u<1||h<1||e-1-1<u||n-1-1<h)&&(d=(f=h*e+u)<<2,i=0,h<1?i=4:e-1-1<u&&(i=8),o[i]+=t[d],o[i+1]+=t[d+1],o[i+2]+=t[d+2],o[i+3]++,a[f]=255);for(var f=0;f<12;f+=4)for(var c=0;c<3;c++)l[f+c]=o[f+c]/o[f+3];for(var p=new Float32Array(r),f=0;f<r;f++){var d=4*f,v=Rr.$o.Ph(t,d,l,0),g=Rr.$o.Ph(t,d,l,4),y=Rr.$o.Ph(t,d,l,8),m=Math.max(v,Math.max(g,y));p[f]=v+g+y-m}Rr.$o.dn(p);Date.now();for(var w=new Float32Array(r),b=[],M=Rr.t(r),f=0;f<3;f++){Rr.VW(t,M,f);var S=new Uint16Array(r);b.push(S),Rr.$o.afc(M,a,e,n,S)}Date.now();for(f=0;f<r;f++)w[f]=b[0][f]+b[1][f]+b[2][f];Rr.$o.dn(w);for(f=0;f<r;f++)w[f]+=.4*p[f];for(var C=e>>>1,s=n>>>1,x=1/Math.sqrt(C*C+s*s),h=0;h<n;h++)for(u=0;u<e;u++){var L=u-C,D=h-s,D=1-Math.sqrt(L*L+D*D)*x;w[h*e+u]*=D}Date.now();for(f=0;f<r;f++)a[f]=255*w[f];var k=Math.round(e/120);Math.round(.8*k);Rr.Hf.$N(a,M,e,n,k,Rr.Hf.gF,[]),a.set(M),Date.now();for(f=0;f<r;f++)w[f]=a[f];Rr.$o.dn(w);for(var T=Rr.t(256),f=0;f<256;f++)T[f]=256/(1+Math.exp(-20*(f/255-.5)));for(f=0;f<r;f++){var A=~~(255*w[f]+.5);a[f]=T[A]}return Date.now(),a},Rr.$o.dn=function(t){for(var e=t.length,n=0,i=0;i<e;i++)n=Math.max(n,t[i]);for(var r=1/n,i=0;i<e;i++)t[i]=t[i]*r},Rr.$o.afc=function(t,e,n,i,r){for(var a=n*i,s=t.slice(0),o=t.slice(0),l=0;l<a;l++)r[l]=255==e[l]?0:65535;return Rr.$o.U5(t,o,s,r,n,i),Rr.$o.ZA(t,o,s,r,n,i),Rr.$o.U5(t,o,s,r,n,i),Rr.$o.ZA(t,o,s,r,n,i),r},Rr.$o.U5=function(t,e,n,i,r,a){for(var s=1;s<r;s++)Rr.$o.$k(s,-1,t,e,n,i);for(var o=1;o<a;o++){Rr.$o.$k(o*r,-r,t,e,n,i);for(s=1;s<r;s++){var l=o*r+s;Rr.$o.$k(l,-1,t,e,n,i),Rr.$o.$k(l,-r,t,e,n,i)}}},Rr.$o.ZA=function(t,e,n,i,r,a){for(var s=r-2;0<=s;s--)Rr.$o.$k(r*a-r+s,1,t,e,n,i);for(var o=a-2;0<=o;o--){Rr.$o.$k(o*r+r-1,r,t,e,n,i);for(s=r-2;0<=s;s--){var l=o*r+s;Rr.$o.$k(l,1,t,e,n,i),Rr.$o.$k(l,r,t,e,n,i)}}},Rr.$o.$k=function(t,e,n,i,r,a){var s=t+e,o=n[t],e=i[s],n=r[s];e<o?e=o:o<n&&(n=o);o=e-n;65535!=a[s]&&o<a[t]&&(a[t]=o,i[t]=e,r[t]=n)},Rr.fE={},Rr.fE.filter=function(t,e,n,i){var r=e.m,a=e.n,s=r*a,o=i[0],l=i[1],h=i[2],u=i[3],f=i[4],c=i[5],p=i[6],d=(Date.now(),new Float32Array(r*a*4));Rr.fE.aa1(t,r,a,d);for(var v=Math.ceil(o*Math.sqrt(-2*Math.log(.1))),g=new ArrayBuffer(4*s),y=new Float32Array(g),m=new Float32Array(s),w=new Float32Array(s),b=0;b<s;b++){var M=4*b;y[b]=d[M],m[b]=d[M+1],w[b]=d[M+2]}Rr.VF.OT(y,y,e,+v/2.4,2),Rr.VF.OT(m,m,e,+v/2.4,2),Rr.VF.OT(w,w,e,+v/2.4,2);for(b=0;b<s;b++)d[M=4*b]=y[b],d[M+1]=m[b],d[M+2]=w[b];for(var S=new Uint8Array(g),b=0;b<s;b++){var C=4*b,y=d[M=4*b],m=d[M+1],w=d[M+2],x=Math.sqrt((y-w)*(y-w)+4*m*m),L=.5*(y+w-x)-w,D=m,x=L*L+D*D;0!=x&&(L*=x=1/Math.sqrt(x),D*=x),S[C]=128+127*L,S[1+C]=128+127*D}i=1.3*l+2,o=.2*u,v=t.slice();Br.jR?(g=new Float32Array([1/r,1/a]),(l=Br.KU(0,r,a)).set(v),(u=Br.KU(1,r,a)).set(S),Br._9(l,e),f&&(l.Qg(e),Br.filter.uY({type:Br.filter.a1G,Ho:g,ahL:1/h,a0w:o},l.Zo)),l.Qg(e),Br.filter.uY({type:Br.filter.Y9,O1:u.I8,Ho:g,aq7:i,apP:2},l.Zo),f&&(l.Qg(e),Br.filter.uY({type:Br.filter.acW,Ho:g,a8i:new Float32Array(p),a97:c},l.Zo)),l.get(n)):(f&&Rr.fE.E8(1/h,o,v,r,a),Rr.fE.Y9(v,n,S,r,a,i),f&&Rr.fE.a3H(r,a,n,p,c));for(var k=4*s,b=3;b<k;b+=4)n[b]=t[b]},Rr.fE.Y9=function(t,e,n,i,r,a){for(var s=Math.ceil(2*a),o=-1/(2*a*a),l=[],h=0;h<s+20;h++)l[h]=Math.exp(h*h*o);for(var u=[0,0,0,0],f=0;f<r;f++)for(var c=0;c<i;c++){for(var p=4*(f*i+c),d=1,v=t[p],g=t[1+p],y=t[2+p],m=t[3+p],w=(n[p]-128)*(1/127),b=(n[1+p]-128)*(1/127),M=w,S=b,C=0==c?.51:.49,x=0==f?.51:.49,h=0;h<2;h++){for(var L=c+C,D=f+x,k=0;k<s&&!(L<.5||i-.5<L||D<.5||r-.5<D);){var T=4*(~~D*i+~~L),A=(n[T]-128)*(1/127),T=(n[1+T]-128)*(1/127);if(A*M+T*S<0&&(A=-A,T=-T),D+=+(S=T),(L+=+(M=A))<.5||i-.5<L||D<.5||r-.5<D)break;A=l[~~(k+=1)];Rr.N.qS(L,D,t,i,r,u),v+=u[0]*A,g+=u[1]*A,y+=u[2]*A,m+=u[3]*A,d+=A}M=-w,S=-b}var E=1/d;e[p]=~~(.5+v*E),e[1+p]=~~(.5+g*E),e[2+p]=~~(.5+y*E),e[3+p]=~~(.5+m*E)}},Rr.fE.a3H=function(t,e,n,i,r){for(var a=0;a<e;a++)for(var s=0;s<t;s++){var o=a*t+s<<2,l=1+Rr.fE.agw(s,a,n,t,e,i)*r;n[o]=Math.max(0,Math.min(255,n[o]*l)),n[1+o]=Math.max(0,Math.min(255,n[1+o]*l)),n[2+o]=Math.max(0,Math.min(255,n[2+o]*l))}},Rr.fE.agw=function(t,e,n,i,r,a){var s=n[4*(e*i+Math.max(0,t-1))+3],o=n[4*(e*i+Math.min(i-1,t+1))+3],l=n[4*(Math.max(0,e-1)*i+t)+3],s=.7*-(1/255*(o-s)),t=-.7*(1/255*(n[4*(Math.min(r-1,e+1)*i+t)+3]-l)),l=1/Math.sqrt(s*s+t*t+.7*.7*(.7*.7));return a[0]*(s*l)+a[1]*(t*l)+a[2]*(.7*.7*l)},Rr.fE.E8=function(t,e,n,i,r){for(var a=0;a<r;a++)for(var s=0;s<i;s++){var o=Rr.fE.anf(s+.5,a+.5,t,e);n[4*(a*i+s)+3]=Math.max(0,Math.min(255,255*o))}},Rr.fE.anf=function(t,e,n,i){function r(t,e,n){return(1-n)*t+n*e}var a=(t+613)*n,s=(e+117)*n,o=~~a,l=~~s,h=a-o,u=s-l,f=Math.sin(11),t=Math.cos(o)*f,e=Math.cos(1+o)*f,n=Math.cos(l)*f,o=Math.cos(1+l)*f,l=Rr.fE.hash(t,n),n=Rr.fE.hash(e,n),t=Rr.fE.hash(t,o),o=Rr.fE.hash(e,o),n=r(l,n,h),h=r(t,o,h);return 1/3*((r(n,h,u)<.5?0:1)+i*Rr.fE.hash(Math.cos(a)*f,Math.cos(s)*f))},Rr.fE.hash=function(t,e){e=12157.47691*Math.sin(11.697096*t+73.32456*e);return e-Math.floor(e)},Rr.fE.aa1=function(t,e,n,i){for(var r=[-1,0,1,-2,0,2,-1,0,1],a=[-1,-2,-1,0,0,0,1,2,1],s=e-1,o=n-1,l=4*e,h=1;h<o;h++)for(var u=1;u<s;u++){var f=4*(h*e+u),c=Rr.fE.sT(t,f,l,r),p=Rr.fE.sT(t,f,l,a),d=Rr.fE.sT(t,1+f,l,r),v=Rr.fE.sT(t,1+f,l,a),g=Rr.fE.sT(t,2+f,l,r),y=Rr.fE.sT(t,2+f,l,a);i[f]=c*c+d*d+g*g,i[1+f]=c*p+d*v+g*y,i[2+f]=p*p+v*v+y*y}Rr.fE.asq(i,e,n)},Rr.fE.sT=function(t,e,n,i){return t[e-n-4]*i[0]+t[e-n]*i[1]+t[e-n+4]*i[2]+t[e-4]*i[3]+t[e]*i[4]+t[e+4]*i[5]+t[e+n-4]*i[6]+t[e+n]*i[7]+t[e+n+4]*i[8]},Rr.fE.asq=function(t,e,n){function i(t,e,n){e*=4,n*=4;t[n]=t[e],t[1+n]=t[1+e],t[2+n]=t[2+e]}var r=e-1,a=n-1;i(t,e+1,0),i(t,2*e-2,e-1);for(var s=1;s<r;s++)i(t,e+s,s);for(var o=1;o<a;o++)i(t,o*e+1,o*e),i(t,o*e+e-2,o*e+e-1);for(s=1;s<r;s++)i(t,(n-2)*e+s,(n-1)*e+s);i(t,(o-2)*e+1,(o-1)*e),i(t,(o-1)*e-2,o*e-1)},Rr.jk={},Rr.jk.nz=function(t,e,n,i){var r=t[2*e],a=t[2*e+1],s=t[2*n],e=t[2*n+1],n=t[2*i],i=t[2*i+1];return r*e+s*i+n*a-n*e-s*a-r*i},Rr.jk.pa=function(t,e){for(var n=[],i=[],r=[],a={},s=0;s<e.length;s+=3){var o=~~(s*(1/3)),l=e[s+0],h=e[s+1],u=e[s+2];0<Rr.jk.nz(t,l,h,u)&&(g=h,h=u,u=g);var f=a[u+"-"+h],c=a[h+"-"+l],p=a[l+"-"+u],d=[u,f,o,null],v=[h,c,o,d],g=[l,p,o,v];d[3]=g,f&&(f[1]=d),c&&(c[1]=v),p&&(p[1]=g),a[u+"-"+l]=g,a[l+"-"+h]=v,a[h+"-"+u]=d,n[l]=v,r[s]=v,n[h]=d,r[s+1]=d,n[u]=g,r[s+2]=g,i[o]=v}return{D_:n,Yn:i,E0:r}},Rr.jk.a8K=function(t){for(var e=[],n=t.Yn,i=0;i<n.length;i++){var r=n[i];e.push(r[0]),r=r[3],e.push(r[0]),r=r[3],e.push(r[0])}return e},Rr.jk.apL=function(t,e,n,i){var r=t[2*e],a=t[2*e+1],s=t[2*n],o=t[2*n+1],l=t[2*i],h=t[2*i+1],u=s-r,f=o-a,c=l-r,e=h-a,n=u*(r+s)+f*(a+o),t=c*(r+l)+e*(a+h),i=2*(u*(h-o)-f*(l-s));if(Math.abs(i)<1e-5){var p=Math.min(r,s,l),d=Math.min(a,o,h);return[p+(p=.5*(Math.max(r,s,l)-p)),d+(d=.5*(Math.max(a,o,h)-d)),p*p+d*d,1]}f=(e*n-f*t)/i,i=(u*t-c*n)/i;return[f,i,(p=f-r)*p+(d=i-a)*d,0]},Rr.jk.auh=function(t,e,n){var i=n[1],r=n[3],a=r[3],s=i[3],o=s[3],l=n[2],h=i[2],u=n[0],f=i[0],c=r[0],p=s[0],d=Rr.jk.apL(t,f,p,c),v=t[2*u]-d[0],g=t[2*u+1]-d[1],t=v*v+g*g>d[2]&&0==d[3]&&Rr.jk.nz(t,p,u,c)<0&&Rr.jk.nz(t,c,f,p)<0;return t&&(n[0]=c,i[0]=p,((n[3]=a)[3]=s)[3]=n,((i[3]=o)[3]=r)[3]=i,r[2]=h,s[2]=l,e.Yn[h]=o,e.Yn[l]=a,e.D_[f]=s,e.D_[u]=r),t},Rr.jk.anv=function(t,e,n){var i=t[2*e]-t[2*n],n=t[2*e+1]-t[2*n+1];return Math.sqrt(i*i+n*n)},Rr.jk.aqd=function(t,e,n){var i,r,a,s=n[1],o=n[3],l=o[3],h=n[2],u=n[0],f=l[0],c=o[0];s&&(r=(i=s[3])[3],d=s[2],a=i[0]);var p=t.length>>>1;t[2*p]=.5*(t[2*f]+t[2*u]),t[2*p+1]=.5*(t[2*f+1]+t[2*u+1]);var d,v=h,g=n,y=e.Yn.length,t=[p,null,v,g],h=[c,t,y,l],n=[p,null,y,t[1]=h];o[3]=t,l[3]=n,l[2]=y,e.Yn[v]=o,e.Yn[y]=n,e.D_[u]=o,e.D_[c]=l,e.E0.push(t,h,n),s&&(h=d,d=y+1,(n[1]=y=s)[1]=n,y=[p,g,d,(s=[p,null,h,y])[1]=n=[a,s,d,r]],g[1]=y,i[3]=s,r[3]=y,r[2]=d,e.Yn[h]=i,e.Yn[d]=r,e.D_[f]=i,e.D_[a]=r,e.E0.push(s,n,y)),e.D_[p]=g},Rr.jk.Wc=function(t,e){for(var n=0;;){for(var i=n,r=0;r<e.E0.length;r++){var a=e.E0[r];if(null!=a[1])if(Rr.jk.auh(t,e,a)){n++;break}}if(i==n)break}return 0!=n},Rr.jk.a1f=function(t,e,n,i){for(var r=0,a=0;a<i;a++){for(var s=null,o=0,l=0;l<e.E0.length;l++){var h=e.E0[l],u=Rr.jk.anv(t,h[0],h[3][3][0])*(h[1]?1:2);o<u&&(s=h,o=u)}n<o&&(Rr.jk.aqd(t,e,s),r++)}return 0!=r},Rr.jk.a0o=function(t,e){for(var n=[],i=0,r=0;r<t.length;r++)n.push(0);for(r=0;r<e.E0.length;r++){var a=(u=e.E0[r])[0],s=u[3][3][0],o=t[2*a],l=t[2*a+1],o=o-t[2*s],l=l-t[2*s+1];n[2*a]+=-o,n[2*a+1]+=-l,n[2*s]+=o,n[2*s+1]+=l}for(r=0;r<t.length;r+=2){var h=e.D_[r>>>1],u=h,f=!0;do{if(null==u[1]){f=!1;break}}while((u=u[1][3])!=h);f&&(t[r]+=.02*n[r],t[r+1]+=.02*n[r+1],i+=.02*(n[r]*n[r]+n[r+1]*n[r+1]))}return i},Rr.jk.abz=function(t,e,n){Rr.H.UP(t);var i=Rr.jk.pa(t,e);Rr.jk.Wc(t,i);for(var r=0;r<300;r++){var a=!1,s=!1;(a=Rr.jk.a1f(t,i,n,5))&&(s=Rr.jk.Wc(t,i));var o=Rr.jk.a0o(t,i);if(!a&&!s&&o<1e-4)break}return Rr.jk.a8K(i)},Rr.Zg={},Rr.Zg.mM=function(t){var e=t.JM,n=t.AO,i=(t.EJ,t._j),r=t.vh,a=t.dz,s=t.lD,o=Rr.Cq.ec,l=0;function h(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e}for(var u=n.length>>>1,f=h(2*e.GZ),c=h(e.GZ),p=h(e.GZ),d=(Date.now(),0);d<t.g9.length;d++){var v=e.ad$+d,g=e.r2*(a[2*d]+s[2*d]),y=e.r2*(a[2*d+1]+s[2*d+1]);f[2*v]=g,f[2*v+1]=y,c[v]=g,p[v]=y}e.af6.XW(i,e.atI.ec(f),.01,void 0,void 0);for(d=0;d<e.auF.E0.length;d++){var m,w,b,M,S,C,x,L,D=e.auF.E0[d],k=D[3][3][0],T=D[0],A=D[3][0],E=D[1]?D[1][3][0]:A;D[1]&&T<k||(x=n[2*k],L=n[2*k+1],m=n[2*T],w=n[2*T+1],b=i[2*k],M=i[2*k+1],S=i[2*T],C=i[2*T+1],k=i[2*A],T=i[2*A+1],A=i[2*E],E=i[2*E+1],T=[b,M,S,C,k,T],D[1]&&T.push(A,E),E=(A=o(e.anV[l],T))[0],T=A[1],E*=A=1/Math.sqrt(E*E+T*T),T*=A,c[l]=E*(x=m-x)+T*(L=w-L),p[l]=-T*x+E*L,l++)}for(var O=new Array(u),N=new Array(u),d=0;d<u;d++)O[d]=r[2*d],N[d]=r[2*d+1];e.ahw.XW(O,e.a6L.ec(c),.5),e.ahw.XW(N,e.a6L.ec(p),.5);for(d=0;d<u;d++)r[2*d]=O[d],r[2*d+1]=N[d]},Rr.Zg.pf=function(t){for(var e=t.AO,n=t.EJ,i=t.g9,r=Rr.Cq.multiply,a=(Date.now(),Rr.jk.pa(e,n)),s=e.length>>>1,o=0,l=0;l<a.E0.length;l++)o+=a.E0[l][1]?.5:1;for(var h=o+i.length,u=[],f=new Rr.nd(2*h,2*s),c=new Rr.nd(h,s),p=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],d=[],v=[],l=0;l<a.E0.length;l++){var g=a.E0[l],y=g[3][3][0],m=g[0],w=g[3][0],b=g[1]?g[1][3][0]:w;if(!(g[1]&&m<y)){var M=e[2*y],S=e[2*y+1],C=e[2*m],x=e[2*m+1],L=e[2*w],D=e[2*w+1],k=e[2*b],T=e[2*b+1],L=[[M,S,1,0],[S,-M,0,1],[C,x,1,0],[x,-C,0,1],[L,D,1,0],[D,-L,0,1]];g[1]&&L.push([k,T,1,0],[T,-k,0,1]);k=Rr.Cq.$Y(L),k=r(linear.invert(r(k,L)),k);k.pop(),k.pop(),u.push(k);for(var M=C-M,S=x-S,A=p[g[1]?1:0],A=Rr.Cq.Pf(A,r([[M,S],[S,-M]],k)),E=[2*y,2*y+1,2*m,2*m+1,2*w,2*w+1,2*b,2*b+1],O=g[1]?8:6,N=[],I=0;I<O;I++)N.push([E[I],A[0][I],A[1][I]]);N.sort(function(t,e){return t[0]-e[0]});for(var P=0;P<2;P++){for(I=0;I<O;I++)d[I]=N[I][0],v[I]=N[I][1+P];f.tT(v,d,O)}y<m?c.tT([-1,1],[y,m],2):c.tT([1,-1],[m,y],2),0}}for(l=0;l<i.length;l++){var F=i[l];f.tT([1e3],[2*F],1),f.tT([1e3],[2*F+1],1),c.tT([1e3],[F],1)}var _=f.$Y(),t=_.jw(_),n=c.$Y(),s=n.jw(n);return{ad$:o,GZ:h,atI:_,af6:t,a6L:n,ahw:s,auF:a,anV:u,r2:1e3}},Rr.Zg.ae2=function(t,e,n,i,r){var a=new Fr(0,0,e,n),s=Rr.t(a.Z());Rr.VW(t,s,3),Rr.round(s,70);var t=Rr._1(s,a),o=[.1,.065,.035][i]*Math.max(t.m,t.n),i=r+1,l=e+2*i,h=n+2*i,n=new Fr(-i,-i,l,h),u=Rr.t(n.Z());Rr.rR(s,a,u,n);for(var f=u.slice(0),c=0;c<r;c++){for(var p=1;p<h-1;p++)for(var d=1;d<l-1;d++)f[m=p*l+d]=u[m-l]|u[m-1]|u[m]|u[m+1]|u[m+l];var v=f,f=u,u=v}for(var t=Be.mT(u,l,h,Math.round(5e-4*t.Z())),g=Be.l7(t),y=new _r(1,0,0,1,-i,-i),m=0;m<g.length;m++){var w=g[m];Rr.H.A(w.path.U,y,w.path.U),w.AO=Rr.Zg.at_(w.path),w.EJ=Rr.H.a23(w.AO),w.EJ=Rr.jk.abz(w.AO,w.EJ,o)}return g},Rr.Zg.at_=function(t){for(var e=[],n=t.U,i=t.C.length-1,r=0;r<i;r++)for(var a=n[(v=6*r)+6]-n[v+0],s=n[v+7]-n[v+1],o=Math.ceil(Math.sqrt(a*a+s*s)),l=0;l<o;l++){var h=l/o,u=1-h,f=u*u*u*n[v+0]+3*u*u*h*n[v+2]+3*u*h*h*n[v+4]+h*h*h*n[v+6],c=u*u*u*n[v+1]+3*u*u*h*n[v+3]+3*u*h*h*n[v+5]+h*h*h*n[v+7];e.push(f,c),0}for(var p=[],d=(e=Rr.H.M4(e,1)).length,v=0;v<d;v+=2){c=e.pop(),f=e.pop();p.push(f,c)}return p},Rr.Zg.ajx=function(t,e,n,i){function r(t,e,n,i,r){var a=r[2*t]-r[2*e],r=r[2*t+1]-r[2*e+1],r=Math.sqrt(a*a+r*r);-1==n[t].indexOf(e)&&(n[t].push(e),i[t].push(r)),-1==n[e].indexOf(t)&&(n[e].push(t),i[e].push(r))}var a=t.length>>>1,s=new Array(a);if(0==n.length)return s.fill(0),s;for(var o=new Array(a),l=new Array(a),h=0;h<a;h++)o[h]=[],l[h]=[];for(h=0;h<e.length;h+=3)r(e[h],e[h+1],o,l,t),r(e[h],e[h+2],o,l,t),r(e[h+1],e[h+2],o,l,t);var u=new Float64Array(2*a),f=new Uint32Array(2*a);u.fill(1e9);for(var c=new Uint8Array(a),p=0;p<n.length;p++){c.fill(0);for(var d=["---",[0,n[p]]];1!=d.length;){var v=Rr.xz.ak5(d),g=v[0],v=v[1];if(1!=c[v]){g<u[b=v<<1]?(u[b+1]=u[b],f[b+1]=f[b],u[b]=g,f[b]=p):g<u[b+1]&&(u[b+1]=g,f[b+1]=p),c[v]=1;for(var y=o[v],m=l[v],h=0;h<y.length;h++){var w=y[h];1!=c[w]&&Rr.xz.alq(d,[g+m[h],w])}}}}for(h=0;h<a;h++){var b,M=u[b=h<<1],S=u[b+1],C=1/(M+S);s[h]=(1-M*C)*i[f[b]]+(1-S*C)*i[f[b+1]]}return s},Rr.Zg.alp=function(t){for(var e={C:[],U:[]},n=[t];0!=n.length;){var i=n.pop(),r=i.sz;i.a4a instanceof Array||i.agt instanceof Array?(e.C.push("M","L","L","L","Z"),e.U.push(r[0],r[1],r[2],r[1],r[2],r[3],r[0],r[3])):n.push(i.a4a,i.agt)}return e},Rr.Zg.xm=function(t,e,n,i,r,a,s,o,l,h){for(var u=Math.round(h.length/3),f=new Array(u),c=0;c<u;c++)f[c]=c;f.sort(function(t,e){return l[h[3*t]]-l[h[3*e]]});for(c=0;c<u;c++){var p=3*f[c];Rr.Zg.a03(2*h[p],2*h[1+p],2*h[2+p],s,o,t,e,n,i,r,a)}},Rr.Zg.a03=function(t,e,n,i,r,a,s,o,l,h,u){Rr.Zg.ow;for(var f=[0,0,0,0],c=r[t],p=r[t+1],d=r[e],v=r[e+1],g=r[n],r=r[n+1],y=Math.max(0,Math.min(s-1,i[t])),m=Math.max(0,Math.min(s-1,i[e])),w=Math.max(0,Math.min(s-1,i[n])),b=Math.max(0,Math.min(o-1,i[t+1])),M=Math.max(0,Math.min(o-1,i[e+1])),S=Math.max(0,Math.min(o-1,i[n+1])),C=d-c,x=v-p,L=g-c,D=r-p,k=1/(C*D-L*x+1e-9),T=Math.max(0,Math.floor(Math.min(c,d,g))),A=Math.min(h,Math.ceil(Math.max(c,d,g))),g=Math.max(0,Math.floor(Math.min(p,v,r))),E=Math.min(u,Math.ceil(Math.max(p,v,r))),O=g;O<E;O++)for(var N=T;N<A;N++){var I=N+.5-c,P=O+.5-p,F=(I*D-L*P)*k,P=(C*P-I*x)*k;0<=F&&0<=P&&F+P<=1&&(Rr.N.qS(y*(I=1-F-P)+m*F+w*P,b*I+M*F+S*P,a,s,o,f),Rr.Zg.aoX(f,l,O*h+N<<2))}},Rr.Zg.aoX=function(t,e,n){var i=e[n],r=e[n+1],a=e[n+2],s=e[n+3],o=1-t[3]*(1/255);e[n]=~~(.5+t[0]+i*o),e[n+1]=~~(.5+t[1]+r*o),e[n+2]=~~(.5+t[2]+a*o),e[n+3]=~~(.5+t[3]+s*o)},Rr.Zg.ow={aiX:de,ade:function(t,e,n,i){for(var r=[0,0,0,0,0,0],a=0;a<e.length;a+=3)if(r[0]=2*e[a],r[1]=2*e[a+1],r[2]=2*e[a+2],1==de(t,n,i,r))return!0;return!1}},Rr.Ny={},Rr.Ny.aj9=function(t,e,n){var i=Rr.t(e*n*4);return Rr.N.Z7(t,e,n,i,[n,e,0,1,0,1,0,0]),[Rr.Ny.zg(t,e,n,!1),Rr.Ny.zg(i,n,e,!1)]},Rr.Ny.A=function(t,e){var n=t[0],i=t[1],r=n[1],a=n[2],s=n[3],o=e.m,t=e.n;return a==o&&s==t?r=r.slice(0):s!=t?(e=Rr.t(a*t*4),Rr.Ny.R9(i,t,e,!1),r=Rr.t(a*t*4),Rr.N.Z7(e,t,a,r,[a,t,0,1,0,1,0,0]),a!=o&&(n=Rr.Ny.zg(r,a,t,!1),r=Rr.t(o*t*4),Rr.Ny.R9(n,o,r,!1))):a!=o&&(r=Rr.t(o*s*4),Rr.Ny.R9(n,o,r,!1)),r},Rr.Ny.zg=function(t,e,n,i){var r=Date.now(),a=new Uint16Array(e*n);Rr.Ny.ajc(t,e,n,a);for(var s=Math.ceil(+e),o=new Uint32Array(1),l=new Uint32Array(1),s=Math.floor(+e),h=0;h<1;h++)l[h]=h<0?s:e-0*s;for(var u=0;u<n;u++)for(var f=u*e,h=0;h<1;h++){for(var s=l[h],c=0;c<s;c++)o[h]+=a[f+c];f+=s}i&&(console.log(Date.now()-r,"cost"),r=Date.now());for(var p=new Uint32Array(e),d=new Uint32Array(e),v=new Uint32Array(e*n),c=0;c<e;c++)v[(n-1)*e+c]=a[(n-1)*e+c];for(u=n-2;0<=u;u--)for(var g=u*e,h=0;h<1;h++){s=l[h];v[g]=a[g]+Math.min(v[g+e],v[g+e+1]);for(c=1;c<s-1;c++)v[f=g+c]=a[f]+Math.min(v[f+e-1],Math.min(v[f+e],v[f+e+1]));v[g+=s-1]=a[g]+Math.min(v[g+e-1],v[g+e]),g++}function y(t,e){return t<e?t:e}function m(t,e){return~~(d[t]*v[e]*1e-4)}i&&(console.log(Date.now()-r,"Building M"),r=Date.now());for(var w=new Uint8Array(e*n),b=new Uint32Array(e),f=0;f<e;f++)p[f]=f,d[f]=a[f];for(u=1;u<n;u++){for(var M=0,g=u*e,h=0;h<1;h++){s=l[h],f=g;b[M]=m(M,f);var S=b[M]+m(M+1,f+1),C=m(M,f+1)+m(M+1,f);b[M+1]=y(S,C);for(c=2;c<s;c++){var f=g+c,x=b[M+c-1]+m(M+c-1,f-1),L=b[M+c-2]+m(M+c-1,f-2)+m(M+c-2,f-1);b[M+c]=y(x,L)}for(c=s-1;2<=c;){f=g+c,x=b[M+c-1]+m(M+c-1,f-1),L=b[M+c-2]+m(M+c-1,f-2)+m(M+c-2,f-1);b[M+c]==x?(w[f-e]=1,--c):(w[f-e]=0,c-=w[f-e-1]=2)}f=g;0==c?w[f-e]=1:b[M+1]==S?(w[f+1-e]=1,w[f-e]=1):(w[f+1-e]=0,w[f-e]=2),g+=s,M+=s}Rr.Ny.akF(u,e,w,a,p,d,!0,r)}i&&(console.log(Date.now()-r,"Matching"),r=Date.now());i=a;return[UZIP.adler(t,0,t.length),t,e,n,1,l,o,p,d,w,i]},Rr.Ny.R9=function(t,e,n,i){for(var t=t.slice(0),r=(t.shift(),t.shift()),a=t.shift(),s=t.shift(),o=t.shift(),l=t.shift(),h=(t.shift(),t.shift()),u=t.shift().slice(0),f=t.shift(),c=t.shift(),t=Date.now(),p=Math.abs(a-e),d=Math.floor(p/o),v=new Uint32Array(o),g=0,y=1e9,m=0,w=0,b=0;b<o;b++)v[b]=b<o-1?d:p-(o-1)*d;c.fill(0);for(var M=0;M<a;M++)g=Math.max(g,u[M]),y=Math.min(y,u[M]);for(b=0;b<o;b++){for(var S=l[b],d=v[b],C=0;C<d;C++){for(var x=0,L=1e9,M=0;M<S;M++)u[m+M]<L&&(L=u[m+M],x=m+M);e<a?u[x]=1e9:u[x]*=1.2,w<a/3&&0;var D=h[x],k=c[D],T=k<65280?65280:k+1;if(T<65280)throw"e";for(var A=0;A<s;A++)c[N=A*a+D]=T,D+=f[N]-1;w++}m+=S}function E(t,e){t<<=2,e<<=2;n[t]=r[e],n[1+t]=r[1+e],n[2+t]=r[2+e],n[3+t]=r[3+e]}i&&(console.log(Date.now()-t,"Removing best seams"),t=Date.now());for(A=0;A<s;A++)for(var O=0,N=A*a,M=0;M<e;M++,O++)if(e<a){for(;65280==c[N+O];)O++;E(A*e+M,A*a+O)}else for(E(A*e+M,A*a+O);65280<=c[N+O];)c[N+O]--,E(A*e+ ++M,A*a+O);i&&(console.log(Date.now()-t,"Shifting image pixels"),Date.now())},Rr.Ny.akF=function(t,e,n,i,r,a){for(var s,o=0,l=t*e;o<e;)1==n[l-e]?(a[o]=a[o]+i[l],o++,l++):(s=r[o],r[o]=r[o+1],r[o+1]=s,s=a[o],a[o]=a[o+1]+i[l],a[o+1]=s+i[l+1],o+=2,l+=2)},Rr.Ny.ajc=function(t,e,n,i){function r(t,e,n){var i=e<<2,r=n<<2,e=t[i]-t[r],n=t[1+i]-t[1+r],r=t[2+i]-t[2+r];return Math.abs(e)+Math.abs(n)+Math.abs(r)}for(var a=1;a<e;a++){var s=r(t,a,a-1);i[a-1]+=s,i[a]+=s}for(var o=1;o<n;o++){var l=o*e,s=r(t,l,l-e);i[l]+=s,i[l-e]+=s;for(a=1;a<e;a++){var h=r(t,f=o*e+a,f-1),u=r(t,f,f-e);i[f-e]+=u,i[f-1]+=h,i[f]+=u+h}}for(o=0;o<n;o++)i[o*e]*=2,i[o*e+e-1]*=2;for(var f=0;f<i.length;f++)0==i[f]&&(i[f]=1)},Rr._q=(ce=Math.round(15/8),pe=[],{a3m:function(t,e){for(var n=0;n<e.length;n++){for(var i=e[n],r=0,a=0,s=t[i.Fs],o=s.wk,l=s.r2,h=(s.kY,-15);h<=15;h++)for(var u=-15;u<=15;u++){var f=u+i.as_,c=h+i.a2C;225<u*u+h*h||f<0||c<0||l<=f||l<=c||(r+=u*(f=o[c*l+f]),a+=h*f)}i.LY=Math.atan2(a,r)}},amh:function(t,e,n,i,r){if(0==pe.length){var a=new Rr.a.ol(16200817),s=0;for(var o=function(){for(var t=0,e=0;0===t;)t=a.get();for(;0===e;)e=a.get();return Math.sqrt(-2*Math.log(t))*Math.cos(2*Math.PI*e)};256!=s;){var l=Math.max(-15,Math.min(15,8*o())),h=Math.max(-15,Math.min(15,8*o())),u=l-(C=Math.max(-15,Math.min(15,8*o()))),f=h-(x=Math.max(-15,Math.min(15,8*o()))),f=Math.sqrt(u*u+f*f);f<3||12<f||(pe.push(l,h,C,x),s++)}}for(var c=0;c<e.length;c++){var p=e[c],d=t[p.Fs],v=d.FZ,i=(d.wk,d.r2),r=d.kY,g=p.as_,y=p.a2C,d=p.LY,m=Math.cos(d),w=Math.sin(d),b=new Uint8Array(32);p.l5=b;for(var M=0;M<256;M++){var S=4*M,l=pe[0+S],h=pe[1+S],C=pe[2+S],x=pe[3+S],L=ve(g+(m*l-w*h),y+(w*l+m*h),v,i),S=ve(g+(m*C-w*x),y+(w*C+m*x),v,i);b[M>>>3]|=(L<S?0:1)<<(7&M)}}}}),Rr.a7r={atd:function(t,e){Date.now();for(var n=[],i=0;i<t.length;i++){var r=t[i],a=r.FZ,s=r.r2,o=r.kY;if(null!=a){var l=new Float32Array(s*o),h=new Uint8Array(s*o),u=Math.round(3);if(3!=u)throw"e";for(var f=5;f<o-4;f+=1)for(var c=5;c<s-4;c+=1){var p=Rr.CR(a,s,c-2,c+2,f-4,f+4)-3*Rr.CR(a,s,c-2,c+2,f-4+u,f+4-u),d=Rr.CR(a,s,c-4,c+4,f-2,f+2)-3*Rr.CR(a,s,c-4+u,c+4-u,f-2,f+2),v=c-4+1,g=c+4-1,y=f-4+1,m=f+4-1,m=Rr.CR(a,s,v,c-1,y,f-1)+Rr.CR(a,s,c+1,g,f+1,m)-Rr.CR(a,s,c+1,g,y,f-1)-Rr.CR(a,s,v,c-1,f+1,m),m=1/81*(1/81)*(d*p-.9*m*(.9*m));l[f*s+c]=Math.abs(m),h[f*s+c]=m<0?0:1}for(var w=+s,f=24;f<o-24;f+=1)for(c=24;c<s-24;c+=1){var b,M=l[b=f*s+c];M<16||l[b-1]>=M||l[b+1]>=M||l[b-w-1]>=M||l[b-w]>=M||l[b-w+1]>=M||l[b+w-1]>=M||l[b+w]>=M||l[b+w+1]>=M||n.push({x:~~(c*r.Bo+.5),y:~~(f*r.Bo+.5),as_:c,a2C:f,Fs:i,k:M,ajk:h[b],gB:1.2})}}}return null!=e&&(n.sort(function(t,e){return e.k-t.k}),n=n.slice(0,e)),n}},Rr.Ua={},Rr.Ua.auc=function(t){t.length,Rr.Ua.u4(t,!1);throw"e"},Rr.Ua.Wq=function(t,e){var n=t.length,i=(Date.now(),Rr.Ua.u4(t,!1,1e4));Date.now();for(var r=0;r<n;r++)for(var a=t[r][1],s=0;s<i[r].length;s++)i[r][s].x+=a.x,i[r][s].y+=a.y;Date.now();for(var o=[],r=0;r<n;r++)o[r]=Rr.Ua.Yk(i[r]);Date.now();for(var l=[],r=0;r<n-1;r++)for(s=r+1;s<n;s++){var h=Rr.Ua.match(i[r],i[s],o[s]);if(0,(h=h.slice(0,h.length>>>1)).length<10)return null;var u=Rr.Ua.a54(i[r],i[s],h,2);l.push([r,s,h,u])}l.sort(function(t,e){return e[2].length-t[2].length}),Date.now();for(var f=[],c=new UnionFind(n),r=0;r<l.length;r++){var p=l[r],d=c.find(p[0]);d!=(m=c.find(p[1]))&&(f.push(p),c.link(d,m))}for(var v=[],r=0;r<n;r++)v[r]=[1,0,0,0,1,0,0,0];var g=[0],y=new Uint8Array(n);for(y[g[0]]=1;0!=g.length;)for(var m,u=v[m=g.pop()],r=0;r<f.length;r++){var w=(p=f[r])[0],b=p[1];w==m&&0==y[b]&&(v[b]=Rr.N.bR(u,p[3]),g.push(b),y[b]=1),b==m&&0==y[w]&&(v[w]=Rr.N.bR(u,Rr.N.tU(p[3])),g.push(w),y[w]=1)}if(null==e){for(var M=[],r=0;r<n;r++)M.push([v[r][2],r]);M.sort(function(t,e){return t[0]-e[0]}),e=M[M.length>>>1][1]}for(var S=Rr.N.tU(v[e]),r=0;r<n;r++)v[r]=Rr.N.bR(v[r],S);return Date.now(),v},Rr.Ua.u4=function(t,e,n){for(var i=[],r=0;r<t.length;r++){var a=t[r][0],s=t[r][1],o=s.m,l=s.n,h=Rr.t(s.Z());Rr.JT(a,h);Date.now();a=Rr.Ua.af_(h,s,!0);0;Date.now();s=Rr.a7r.atd(a,n);0,Date.now(),e||(Rr._q.a3m(a,s),Date.now(),Rr._q.amh(a,s,h,o,l),Date.now()),i.push(s)}return i},Rr.Ua.af_=function(t,e,n){var i,r=[],a=[t,e];Rr.zl(a),n&&(e=(t=Rr.MM(t,e)).rect,i=[t.L0,e],Rr.zl(i));for(var s=0;s<a.length;s++){var o=a[2*s],l=(u=a[2*s+1]).m,h=u.n;if((f=Math.min(l,h))<30)break;if(f<1600&&r.push({wk:o,r2:l,kY:h,Bo:1<<s,FZ:Rr.N4(o,l,h)}),n){var u,f,o=i[2*s],l=(u=i[2*s+1]).m,h=u.n;if((f=Math.min(l,h))<30)break;f<1600&&r.push({wk:o,r2:l,kY:h,Bo:3*(1<<s)/2,FZ:Rr.N4(o,l,h)})}}return r},Rr.Ua.a54=function(t,e,n,i){Date.now();for(var r,a=0,s=0,o=n.length,l=new Float64Array(2),h=0;h<3e3;h++){var u=~~(Math.random()*o),f=~~(Math.random()*o),c=~~(Math.random()*o),p=~~(Math.random()*o),d=0,v=0;if(u!=f&&u!=c&&u!=p&&f!=c&&f!=p&&c!=p){var g=n[u],y=n[f],m=n[c],w=n[p],u=t[g[0]],f=e[g[1]],c=t[y[0]],p=e[y[1]],g=t[m[0]],y=e[m[1]],m=t[w[0]],w=e[w[1]],m=[u.x,u.y,c.x,c.y,g.x,g.y,m.x,m.y],w=[f.x,f.y,p.x,p.y,y.x,y.y,w.x,w.y],b=Rr.N.nh(m,w);if(0!=b[0]||0!=b[1]||0!=b[3]||0!=b[4]){for(var M=o-a+2,S=0;S<o&&S-d<M;S++){var C=t[n[S][0]],x=e[n[S][1]];Rr.N.If(x.x,x.y,b,l);x=l[0]-C.x,C=l[1]-C.y,C=x*x+C*C;C<i&&(d++,v+=C)}(a<d||d==a&&v<s)&&(r=b,a=d,s=v)}}}return r};for(var ge=new Uint8Array(256),ye=0,me,we,be,Me,Se,Ce;ye<256;ye++){for(var xe=0,Le=ye;0!=Le;)Le&=Le-1,xe++;ge[ye]=xe}function De(t,e,n,i,r,a){for(var s=[],o=a,l=a,h=a>>>2,u=0;u<r;u++)for(var f=0;f<i;f++){for(var c=~~((f+.5)*o),p=~~((u+.5)*l),d=1e9,v=Math.max(0,c-h),g=Math.min(e,c+h+1),y=Math.max(0,p-h),m=Math.min(n,p+h+1),w=y;w<m;w++)for(var b=v;b<g;b++){var M=function(t,e,n,i){i=4*(i*e+n),n=4*e,e=ke(t,i-4,i)+ke(t,i,4+i),n=ke(t,i-n,i)+ke(t,i,i+n);return e+n}(t,e,b,w);M<d&&(c=b,p=w,d=M)}s.push(c,p)}return s}function ke(t,e,n){var i=t[e]-t[n],r=t[e+1]-t[n+1],n=t[e+2]-t[n+2];return i*i+r*r+n*n}function Te(t,e,n,i){we++,i<me&&(me=i),t[i].push(e,n)}function Ae(t,e,n,i,r){we=me=0;for(var a=e*n,s=Math.round(Math.min(e,n)/(i||50)),o=(r||30)/(s=0==s?1:s),l=Math.floor(e/s),h=Math.floor(n/s),u=new Uint16Array(a),f=0;f<a;f++)u[f]=65535;var c=De(t,e,n,l,h,s),r=c.length>>>1;if(65535<r)throw r;for(var p=[],f=0;f<1e3+n;f++)p.push([]);for(var d=Math.min(h,5),v=new Uint32Array(6*r),g=0;g<h;g+=d){for(var y=Math.min(g+d+1,h),m=g;m<y;m++)for(var w=0;w<l;w++){var b=2*(f=m*l+w);Te(p,c[1+b]<<16|c[b],f,c[1+b]>>>16)}var M=Math.min(n,y*s);for(h<=g+d&&(M=n);0!=we;){!function(t){for(we--;0==t[me].length;)me++}(p);var S,C=p[me].pop(),x=p[me].pop();65535==u[f=(D=x>>>16)*e+(k=65535&x)]&&(S=6*C,x=f<<2,u[f]=C,v[S]+=t[x],v[1+S]+=t[1+x],v[2+S]+=t[2+x],v[3+S]+=k,v[4+S]+=D,v[5+S]++,x=D>>>16,D!=M-1&&65535==u[f+e]&&Te(p,D+1<<16|k,C,Ee(t,e,o,k,D+1,v,S)+x),0!=D&&65535==u[f-e]&&Te(p,D-1<<16|k,C,Ee(t,e,o,k,D-1,v,S)+x),0!=k&&65535==u[f-1]&&Te(p,D<<16|k-1,C,Ee(t,e,o,k-1,D,v,S)+x),k!=e-1&&65535==u[f+1]&&Te(p,D<<16|k+1,C,Ee(t,e,o,k+1,D,v,S)+x))}if(M!=D){var L=(g+d)*l;v.fill(0,6*L,6*(L+l));for(var D=(g+d-2)*s;D<M;D++)for(var k=0;k<e;k++)u[f=D*e+k]>=L&&(u[f]=65535)}}return{EJ:u,nW:r,Ct:v}}function Ee(t,e,n,i,r,a,s){var o=4*(r*e+i),l=a[s+5],h=1/l,u=t[o]*l-a[s],e=t[1+o]*l-a[s+1],o=t[2+o]*l-a[s+2],i=i*l-a[s+3],s=r*l-a[s+4];return~~((Math.sqrt(u*u+e*e+o*o)+n*Math.sqrt(i*i+s*s))*h+.5)}function Oe(t,e,n,i){var r=1/t[n+5],a=1/t[i+5],s=t[n]*r-t[i]*a,o=t[n+1]*r-t[i+1]*a,l=t[n+2]*r-t[i+2]*a,h=t[n+3]*r-t[i+3]*a,a=t[n+4]*r-t[i+4]*a;return~~(Math.sqrt(s*s+o*o+l*l)+e*Math.sqrt(h*h+a*a)+.5)}function Ne(t,e){for(var n=0,i=t.length;n!=i&&t[n]!=e;)n+=2;return n==i?-1:n}function Ie(t,e){e==t.length-2?(t.pop(),t.pop()):(t[e+1]=t.pop(),t[e]=t.pop())}function Pe(t,e,n,i){for(var r=Rr.t(n),a=0;a<i;a++){var s=t[a];0!=s&&255!=s||(r[e[a]]=2-(s>>>7))}return r}function Fe(t){for(var e=0,n=0,i=t.length,r=0;r<i;r+=2){var a=t[r+1];n<a&&(n=a,e=r)}return t[e]}function _e(t,e,n){for(var i=0,r=4400*e,a=4400*n,s=0;s<16;s++)if(0!=t[4360+r+s]&&0!=t[4360+a+s])for(var o=0;o<16;o++){var l=s<<4|o;if(0!=t[4100+r+l]&&0!=t[4100+a+l])for(var h=r+(l<<4),u=a+(l<<4),f=0;f<16;f++)i+=Math.sqrt(t[h+f]*t[u+f])}return~~(999.99999*(i/Math.sqrt(t[4096+r]*t[4096+a])))}Rr.Ua.a6B=function(t,e,n){for(var i=0,r=t.length,a=0;a<r&&i<n;a++)i+=ge[t[a]^e[a]];return i},Rr.Ua.atH=function(t,e,n,i,r){1!=r[n]&&((e=Rr.Ua.a6B(t.l5,e.l5,i[0]))<i[0]&&(e<i[2]?(i[0]=i[2],i[1]=i[3],i[2]=e,i[3]=n):(i[0]=e,i[1]=n)),r[n]=1)},Rr.Ua.Yk=function(t){for(var e=[],n=[],i=[[],[]],r=0;r<t.length;r++)(0==t[r].ajk?e:n).push(r);for(var a=0;a<2;a++){for(var s=new Array(4),o=[],l=0==a?e:n,h=l.length/256,u=[],f=0;f<32;f++){for(var c=new Array(256),p=0,d=0;d<256;d++)c[d]=[];for(d=0;d<l.length;d++){var v=l[d];c[t[v].l5[f]].push(v)}for(d=0;d<256;d++)p+=Math.abs(c[d].length-h);u.push([p,f,c])}u.sort(function(t,e){return t[0]-e[0]});o=[],s=[];i[a]=[o,s];for(r=0;r<4;r++)o.push(u[r][1]),s.push(u[r][2])}return i},Rr.Ua.match=function(t,e,n){var i=[],r=new Uint16Array(e.length);r.fill(65535);for(var a=new Uint8Array(e.length),s=new Uint32Array(4),o=0;o<t.length;o++){var l=t[o],h=l.l5;s.fill(1e6),a.fill(0);for(var u,f=n[l.ajk],c=0;c<f[1].length;c++)for(var p=f[1][c][h[f[0][c]]],d=0;d<p.length;d++){var v=p[d];Rr.Ua.atH(l,e[v],v,s,a)}s[2]<50&&s[2]<.5*s[0]&&(65535==(u=r[s[3]])?(r[s[3]]=i.length,i.push([o,s[3],s[2]])):s[2]<i[u][2]&&(i[u]=[o,s[3],s[2]]))}return i.sort(function(t,e){return t[2]-e[2]}),i},Rr.Ua.aee=function(t){for(var e=new Fr,n=0;n<t.length;n++)e=e.hq(t[n][1]);for(var i=Rr.t(4*e.Z()),n=0;n<t.length;n++)Rr.a.bW("norm",t[n][0],t[n][1],i,e,e,1);return[i,e]},Rr.Ua.a6x=function(t,e,n,i,r,a,s,o){var l=t[1].clone(),h=l.clone();l.x=l.y=0;var u=e[1].clone(),f=u.clone();u.x=u.y=0,u.x=l.m;var c=l.hq(u),p=f.y-h.y,d=Rr.t(4*c.Z());Rr.Ik(t[0],l,d,c),Rr.Ik(e[0],new Fr(u.x,u.y+p,u.m,u.n),d,c);u=document.createElement("canvas");u.width=c.m,u.height=c.n;var v=u.getContext("2d");if(v.lineWidth=.5,v.putImageData(new ImageData(new Uint8ClampedArray(d.buffer),c.m,c.n),0,0),a)for(var g=a[0],y=Rr.Cq.$Y(g),m=l.m,w=o.m,b=0;b<r.length;b++){t=n[(x=r[b])[0]],e=i[x[1]];v.strokeStyle="#ff0000",v.beginPath();var M=Rr.s$.akN(y,s[0],e,0,w),S=Rr.s$.akN(g,s[1],t,0,w);v.moveTo(-h.x+M[0],-h.y+M[1]),v.lineTo(-h.x+M[2],-h.y+M[3]),v.moveTo(m-f.x+S[0],-f.y+p+S[1]),v.lineTo(m-f.x+S[2],-f.y+p+S[3]),v.stroke()}if(r)for(var C=r.length,b=0;b<C;b++){var x,t=n[(x=r[b])[0]],e=i[x[1]];v.strokeStyle="#ffff00"}o=new Uint8Array(v.getImageData(0,0,c.m,c.n).data.buffer);return[o,c]},Rr.stack={},Rr.stack.stack=function(t,e,n){var i=t.length,r=e.length;if(1!=i)if("avrg"==n||"stdv"==n||"summ"==n||"vari"==n)for(var a=1/i,s=0;s<r;s++){for(var o=0,l=0;l<i;l++)o+=t[l][s];var h=~~(o*a+.5);if("avrg"==n||3==(3&s))e[s]=h;else if("summ"==n)e[s]=255*Math.pow(Math.min(255,o)*(1/255),1/2.4);else{for(var u=0,l=0;l<i;l++){var f=t[l][s]-h;u+=f*f}var c=Math.sqrt(u*a)*(1/255);e[s]="stdv"==n?255*Math.pow(c,1/2.4):255*Math.pow(c*c,1/2.4)}}else if("maxx"==n)for(s=0;s<r;s++){for(var p=0,l=0;l<i;l++)p=Math.max(p,t[l][s]);e[s]=p}else if("minn"==n)for(s=0;s<r;s++){for(p=255,l=0;l<i;l++)p=Math.min(p,t[l][s]);e[s]=p}else if("medn"==n||"rang"==n){function d(t,e){return t-e}for(var v=new Array(i),g=0,y=0,g=i%1==0?(y=i>>>1)-1:y=i>>>1,s=0;s<r;s++){for(l=0;l<i;l++)v[l]=t[l][s];v.sort(d),e[s]="medn"==n?v[g]+v[y]>>>1:3==(3&s)?v[i-1]:v[i-1]-v[0]}}else console.log(n);else e.set(t[0])},Rr.$P={},Rr.$P.ai5=function(t,e,n,i){Date.now();for(var r=new Uint32Array(e*n),a=new Uint8Array(e*n);;){a.fill(0),r.fill(0);for(var s=[],o=0,l=0;l<n;l++)for(var h=0;h<e;h++)0==a[p=l*e+h]&&(m=s.length,d=Rr.$P.c8(t,e,n,h,l,a,r,m),s.push([m,h,l,d[0],d[1],t[p]]),d[0]<i&&o++);if(0==o)break;for(var u=s.length,f=new UnionFind(u),c=[],p=0;p<u;p++)c.push([]);for(p=0;p<u;p++){var d,v=(d=s[p])[4],g=0,y=0;if(!(d[3]>=i)){for(var m=d[0],w=0;w<v.length;w+=2){var b=r[v[w+1]*e+v[w]],M=s[b];M[3]>y&&(y=M[3],g=b)}f.find(m)!=f.find(g)&&(f.link(m,g),c[m].push(g),c[g].push(m))}}var S=new Uint32Array(u);S.fill(4294967295);for(var C=new Uint32Array(u),p=0;p<u;p++)if(4294967295==S[p]&&0!=c[p].length){for(var x=[p],L=[p],D=p,k=s[p][3];0!=L.length;)for(var T=c[L.pop()],w=0;w<T.length;w++){var A,E=T[w];-1==x.indexOf(E)&&(x.push(E),L.push(E),(A=s[E])[3]>k&&(k=A[3],D=E))}for(w=0;w<x.length;w++){var O=s[S[x[w]]=D];C[x[w]]=t[O[2]*e+O[1]]}}for(l=0;l<n;l++)for(h=0;h<e;h++){var N=S[r[p=l*e+h]];4294967295!=N&&(t[p]=C[N])}}},Rr.$P.c8=function(t,e,n,i,r,a,s,o){var l=[i,r],h=t[r*e+i],u=0,f=[];for(a[r*e+i]=1;0!=l.length;){var c=l.pop(),p=l.pop(),d=c*e+p;s[d]=o,u++,c!=n-1&&(t[d+e]==h?0==a[d+e]&&(l.push(p,c+1),a[d+e]=1):f.push(p,c+1)),0!=c&&(t[d-e]==h?0==a[d-e]&&(l.push(p,c-1),a[d-e]=1):f.push(p,c-1)),p!=e-1&&(t[d+1]==h?0==a[d+1]&&(l.push(p+1,c),a[d+1]=1):f.push(p+1,c)),0!=p&&(t[d-1]==h?0==a[d-1]&&(l.push(p-1,c),a[d-1]=1):f.push(p-1,c))}return[u,f]},Rr.$P.as6=function(t,e,n,i,r){for(var a=Rr.$P.kt(t.buffer,e,n).fS,s=(Date.now(),[]),o=0;o<a.length;o++)for(var l=a[o],h=0;h<1;h++)s.push(l.yH);for(var u=new Uint32Array(s),f=UPNG.quantize.getKDtree(new Uint8Array(u.buffer),i),c=[e,1,-e,-1,e+1,1-e,-e-1,e-1,e+e,2,-e-e,-2,e+e-1,e+e+1,e+2,2-e,-e-e+1,-e-e-1,-e-2,e-2,e+e+2,-e-e+2-e-e-2,e+e-2],p=new Uint8Array(e*n),d=t,v=0;v<n;v++)for(var g=0;g<e;g++){var y=d[o=v*e+g<<2]*(1/255),m=d[o+1]*(1/255),w=d[o+2]*(1/255),b=d[o+3]*(1/255);if(null==(M=Rr.$P.g$(f,y,m,w,b,r))){for(var M,S,C,x,L,D,k,T,A,E,O,N,I,P,F,_,B,R=[],U=0;U<20;){var j=v*e+g+c[U]<<2,H=d[j]*(1/255),J=d[1+j]*(1/255),q=d[2+j]*(1/255),j=d[3+j]*(1/255),j=Rr.$P.g$(f,H,J,q,j,.005);null!=j&&(-1==R.indexOf(j)?(R.push(j),j.H5=1):j.H5++),U++}for(R.sort(function(t,e){return e.H5-t.H5});0!=R.length&&R[R.length-1].H5<3;)R.pop();M=0==R.length?Rr.$P.g$(f,y,m,w,b,100):1==R.length?R[0]:2==R.length?(S=R[0],C=R[1],L=S.est.q,E=(D=C.est.q)[0]-L[0],O=D[1]-L[1],N=D[2]-L[2],_=D[3]-L[3],(k=y-L[0])*k+(T=m-L[1])*T+(A=w-L[2])*A+(I=b-L[3])*I-(F=(k*E+T*O+A*N+I*_)/(B=E*E+O*O+N*N+_*_))*F*B<.5?F<.5?S:C:Rr.$P.g$(f,y,m,w,b,100)):(S=R[0],C=R[1],x=R[2],L=S.est.q,D=C.est.q,P=x.est.q,k=L[0]-P[0],T=L[1]-P[1],A=L[2]-P[2],I=L[3]-P[3],F=((B=(E=D[0]-P[0])*E+(O=D[1]-P[1])*O+(N=D[2]-P[2])*N+(_=D[3]-P[3])*_)*(b=(y=P[0]-y)*k+(m=P[1]-m)*T+(w=P[2]-w)*A+(P=P[3]-b)*I)-(w=y*E+m*O+w*N+P*_)*(P=k*E+T*O+A*N+I*_))*(B=1/(P*(_=k*E+T*O+A*N+I*_)-(I=k*k+T*T+A*A+I*I)*B)),_=(w*I-b*_)*B,(B=Math.max(F,_,1-F-_))==F?S:B==_?C:x)}p[o>>2]=M.ind}return{EJ:p,fS:f[1]}},Rr.$P.kt=function(t,e,n){for(var i=[],r={},a=e-1,s=n-1,o=0,l=new Uint32Array(t),h=[-e-1,-e,1-e,-1,1,e-1,e,e+1,e+e,2,-e-e,-2,e+e-1,e+e+1,e+2,2-e,-e-e+1,-e-e-1,-e-2,e-2,e+e+2,-e-e+2-e-e-2,e+e-2],u=1;u<s;u++)for(var f=1;f<a;f++){for(var c,p=u*e+f,d=l[p],v=!0,g=0;g<8;g++)v=v&&l[p+h[g]]==d;v&&(o++,null==(c=r[d])?(r[d]=i.length,i.push({yH:d,bo:1})):i[c].bo++)}return{fS:i,a77:o}},Rr.$P.g$=function(t,e,n,i,r,a){t=UPNG.quantize.getNearest(t[0],e,n,i,r);return Rr.$P.alk(t,e,n,i,r)<a?t:null},Rr.$P.alk=function(t,e,n,i,r){t=t.est.q,e-=t[0],n-=t[1],i-=t[2],t=r-t[3];return e*e+n*n+i*i+t*t},Rr.$P.HQ=(me=0,we=0,Rr.$P.G1=function(t,e,n,i,r){for(var a=t.nW,s=e*n,o=t.Ct,l=t.EJ,h=Pe(i,l,a,s),u=new UnionFind(a),f=0,c=1;c<n;c++)for(var p=1;p<e;p++){var d=l[m=c*e+p],v=0;(v=l[m-1])!=d&&h[v]==h[d]&&Oe(o,0,6*d,6*v)<r&&u.link(d,v),(v=l[m-e])!=d&&h[v]==h[d]&&Oe(o,0,6*d,6*v)<r&&u.link(d,v)}var g=new Uint16Array(a);g.fill(65535);for(var y=new Uint16Array(a),m=0;m<a;m++){var w=u.find(m);65535==g[w]&&(g[w]=f++),y[m]=g[w]}for(var b=new Uint16Array(s),m=0;m<s;m++)b[m]=y[l[m]];return{EJ:b,nW:f}},Rr.$P.a4Y=function(t,e,n,i){for(var r=Rr.t(n),a=e.length,s=0,o=0;o<a&&3!=s;o++){var l,h=i[o];0!=h&&255!=h||(r[l=e[o]]=s=r[l]|2-(h>>>7))}return 3!=s},Rr.$P.app=function(t,e,n,i,r){for(var a=new Uint32Array(4400*r),s=[],o=0;o<r;o++)s.push([]);for(var l=0;l<n;l++)for(var h=0;h<e;h++){var u=(o=l*e+h)<<2,f=i[o],c=0,p=t[u]>>>4,d=t[1+u]>>>4;a[4400*f+(p<<8|d<<4|(v=t[2+u]>>>4))]++,a[4400*f+4096]++,a[4400*f+4100+(p<<4|d)]++,a[4400*f+4360+p]++,0!=h&&(c=i[o-1])!=f&&-1==Ne(s[f],c)&&(s[f].push(c,0),s[c].push(f,0)),0!=l&&(c=i[o-e])!=f&&-1==Ne(s[f],c)&&(s[f].push(c,0),s[c].push(f,0))}for(o=0;o<r;o++)for(var v=s[o],g=0;g<v.length;g+=2)v[g+1]=_e(a,o,v[g]);return[a,s]},Rr.$P.ahK=function(t,e,n,i,r,a,s){for(var o=e*n,l=s[0],h=s[1],u=new UnionFind(i),f=Pe(r,t,i,o),c=-1,p=!0,d=0,v=0;v<i;v++)1==f[v]&&(-1==c?c=v:u.link(v,c));if(-1!=c){for(;p;){for(;p;)for(p=!1,v=0;v<i;v++)0==f[v]&&1==f[b=Fe(h[v])]&&(f[v]=f[b],p=!0,u.link(v,b));for(p=!0,d=0;p;){p=!1;for(v=0;v<i;v++)if(0==f[v])if(0==f[b=Fe(h[v])]){for(var g=4400*v,y=4400*b,m=0;m<4400;m+=2)l[g+m]+=l[y+m],l[g+m+1]+=l[y+m+1];!function(t,e,n,i){var r=t[n],a=t[i];Ie(r,Ne(r,i)),Ie(a,Ne(a,n));for(var s=0;s<a.length;s+=2){var o=a[s];Ie(l=t[o],Ne(l,i)),-1==Ne(l,n)&&(l.push(n,0),r.push(o,0))}for(s=0;s<r.length;s+=2){var o=r[s],l=t[o],h=_e(e,n,o);r[s+1]=h,l[Ne(l,n)+1]=h}}(h,l,v,b),d++,f[b]=3,p=!0,u.link(v,b)}}p=0!=d}for(var w=u.find(c),v=0;v<i;v++)f[v]=u.find(v)==w?255:0;for(v=0;v<o;v++)a[v]=f[t[v]];for(var b,v=0;v<o;v++)0!=(b=r[v])&&255!=b||(a[v]=b)}else for(var v=0;v<o;v++)a[v]=255==r[v]?255:0},Ae),Rr.ys={},Rr.ys.aju=(be=1e3,Me=[],Se=null,Ce="",function(t,e,n,i,r,a){Date.now();var s=Rr.t(e*n);Rr.JT(t,s);var o,l,h,u,f,c=UZIP.adler(s,0,e*n);if(c!=Ce){var p=Rr.N4(s,e,n);Se=Rr.t(e*n*4),Ce=c;for(var d=[1,1/9,.04,1/49,1/81],v=0;v<n;v++)for(var g=0;g<e;g++)for(var y=0;y<4;y++){var m=Math.max(1,g-y),w=Math.min(e-1,g+y),b=Math.max(1,v-y),M=Math.min(n-1,v+y),M=Rr.CR(p,e,m,w,b,M);if(isNaN(M))throw g+","+v+","+y+","+M;Se[4*(v*e+g)+y]=M*d[y]}}if(Br.jR){var S=Br.KU(0,e,n);S.set(t);s=Br.KU(1,e,n);s.set(Se);c=Br.KU(2,e,n);Br._9(c),Br.filter.uY({type:Br.filter.ae7,Ho:new Float32Array([1/e,1/n]),a8b:s.I8,ak6:r,a17:a},S.I8),c.get(i)}else{for(y=0;y<2e3;y++)Me[y]=Math.exp(-y/2e3*2*(100+(1-r)*(1-r)*1e4));for(v=5;v<n-5;v++)for(g=5;g<e-5;g++){for(var C,x,L=0,D=0,k=0,T=0,A=0;A<11;A++)for(var E=0;E<11;E++){var O,N=g+E-5,I=v+A-5;N==g&&I==v||N<5||I<5||e-5<=N||n-5<=I||(O=4*(I*e+N),f=u=h=void 0,h=((o=Se)[(l=4*(v*e+g))+0]-o[O+0])*(1/255),u=(o[l+1]-o[O+1])*(1/255),f=(o[l+2]-o[O+2])*(1/255),O=(o[l+3]-o[O+3])*(1/255),L+=(O=Me[~~((h*h*.125+u*u*.25+f*f*.5+O*O)*be)])*t[N=I*e+N<<2],D+=O*t[1+N],k+=O*t[2+N],T+=O)}0!=T&&(i[0+(x=4*(v*e+g))]=~~((1-a)*(C=1/T)*L+a*i[0+x]),i[1+x]=~~((1-a)*C*D+a*i[1+x]),i[2+x]=~~((1-a)*C*k+a*i[2+x]))}}});var Be={av0:function(u,f,t,c){function p(t,e,n){for(var i=2;i<5;i++){for(var r=0,a=1-i;a<=i-1;a++)r+=u[f*(e+i-1)+(t+a)]==n?1:-1,r+=u[f*(e+a-1)+(t+i-1)]==n?1:-1,r+=u[f*(e-i)+(t+a-1)]==n?1:-1,r+=u[f*(e+a)+(t-i)]==n?1:-1;if(0<r)return 1;if(r<0)return}}for(var e=0,n=[];;){if(-1==(e=function(t){for(var e=u.length;t<e&&0==u[t];)t++;return t<e?t:-1}(e)))break;for(var i=Math.floor(e/f),r=function(t,e){var n,i=new Re,r=t,a=e,s=0,o=1;for(i.color=u[e*f+t],i.sign=u[f*e+t]==i.color?"+":"-";;){if(i.za.push(r,a),r>i.dC&&(i.dC=r),r<i.iH&&(i.iH=r),a>i.tS&&(i.tS=a),a<i.S1&&(i.S1=a),i.Lo++,r+=s,a+=o,i.Z-=r*o,r==t&&a==e)break;var l=u[f*(a+(o-s-1>>1))+(r+(s+o-1>>1))]==i.color,h=u[f*(a+(o+s-1>>1))+(r+(s-o-1>>1))]==i.color;h&&!l?o="right"==c.sd||"black"==c.sd&&"+"==i.sign||"white"==c.sd&&"-"==i.sign||"majority"==c.sd&&p(r,a,i.color)||"minority"==c.sd&&!p(r,a,i.color)?(n=s,s=-o,n):(n=s,s=o,-n):h?(n=s,s=-o,o=n):l||(n=s,s=o,o=-n)}return i}(e-i*f,i),a=0;a<r.za.length-2;a+=2){var s=r.za[a],o=r.za[a+1],l=o*f+s;s==r.za[a+2]&&o+1==r.za[a+3]&&0!=u[l]&&Be.fill(l,u,f,0)}r.Z>c.a1r&&n.push(r)}for(a=0;a<n.length;a++)n[a].parent=-1;for(Date.now(),a=1;a<n.length;a++)for(var h=n[a],d=a-1;0<=d;d--){var v=n[d];if(!(h.iH<v.iH||h.dC>v.dC||h.S1<v.S1||h.tS>v.tS)&&Be.a31(v.za,h.za[0]+.5,h.za[1]+.5)){h.parent=d;break}}return n},a1l:function(t,F){function a(t,e,n,i,r){this.x=t,this.y=e,this.Ze=n,this.tE=i,this.DV=r}function X(t,e){return(e+t)%e}function Y(t,e,n,i){return t*i-n*e}function K(t,e,n,i){return t*n+e*i}function C(t,e,n){return t<=n?t<=e&&e<n:t<=e||e<n}function E(t,e,n){var i=0;return i+=e*t[0]*e,i+=e*t[1]*n,i+=e*t[2],i+=n*t[3]*e,i+=n*t[4]*n,i+=n*t[5],i+=t[6]*e,i+=t[7]*n,i+=t[8]}function Q(t,e,n){return e+t*(n-e)}function $(t,e){return Math.sqrt(t*t+e*e)}function tt(t,e,n,i,r){var a=1-t;return a*a*a*e+a*a*t*3*n+t*t*a*3*i+t*t*t*r}function et(t,e,n,i,r,a,s,o){e=t*o-s*e,i=n*o-s*i,s=e-2*i+(r*o-s*a),a=-2*e+2*i,i=a*a-4*s*e;if(0==s||i<0)return-1;e=Math.sqrt(i),i=(-a+e)/(2*s),s=(-a-e)/(2*s);return 0<=i&&i<=1?i:0<=s&&s<=1?s:-1}function e(t){for(var e,n,i,r,a,s,o,l,h,u,f,c,p,d,v,g,y,m,w=t.Lo,b=new Array(w+1),M=new Array(w+1),S=new Array(w),C=new Array(w+1),x=new Array(w+1),L=new Array(w+1),D=0;D<w;D++)(s=X(t.WF[X(D-1,w)]-1,w))==D&&(s=X(D+1,w)),S[D]=s<D?w:s;for(e=1,D=0;D<w;D++)for(;e<=S[D];)C[e]=D,e++;for(e=D=0;D<w;e++)D=S[x[e]=D];for(D=x[e]=w,e=n=e;0<e;e--)D=C[L[e]=D];for(b[L[0]=0]=0,e=1;e<=n;e++)for(D=L[e];D<=x[e];D++){for(a=-1,i=x[e-1];i>=C[D];i--)l=i,h=D,m=y=g=v=d=p=c=f=u=void 0,v=(o=t).Lo,g=o.za,y=o.lX,m=0,v<=h&&(h-=v,m=1),o=0==m?(u=y[h+1].x-y[l].x,f=y[h+1].y-y[l].y,p=y[h+1].tE-y[l].tE,c=y[h+1].Ze-y[l].Ze,d=y[h+1].DV-y[l].DV,h+1-l):(u=y[h+1].x-y[l].x+y[v].x,f=y[h+1].y-y[l].y+y[v].y,p=y[h+1].tE-y[l].tE+y[v].tE,c=y[h+1].Ze-y[l].Ze+y[v].Ze,d=y[h+1].DV-y[l].DV+y[v].DV,h+1-l+v),m=(g[l<<1]+g[h<<1])/2-g[0],y=(g[1+(l<<1)]+g[1+(h<<1)])/2-g[1],v=g[h<<1]-g[l<<1],l=-(g[1+(h<<1)]-g[1+(l<<1)]),r=Math.sqrt(l*l*((p-2*u*m)/o+m*m)+2*l*v*((c-u*y-f*m)/o+m*y)+v*v*((d-2*f*y)/o+y*y))+b[i],(a<0||r<a)&&(M[D]=i,a=r);b[D]=a}for(t.a6U=n,t.a2J=new Array(n),D=w,e=n-1;0<D;e--)D=M[D],t.a2J[e]=D}function n(t){var e,n,i,r,a,s,o,l,h=t.a6U,u=t.a2J,f=t.Lo,c=t.za,p=t.DE,d=t.apM,v=new Array(2*h),g=new Array(2*h),y=new Array(h),m=new Array(3);for(t.ui=new Ue(h),M=0;M<h;M++)D=u[X(M+1,h)],D=X(D-u[M],f)+u[M],v[M<<1]=0,v[1+(M<<1)]=0,g[M<<1]=0,g[1+(M<<1)]=0,function(t,e,n,i,r,a){for(var s,o=t.Lo,l=t.lX,h=0;o<=n;)n-=o,h+=1;for(;o<=e;)e-=o,--h;for(;n<0;)n+=o,--h;for(;e<0;)e+=o,h+=1;var u=l[n+1].x-l[e].x+h*l[o].x,f=l[n+1].y-l[e].y+h*l[o].y,c=l[n+1].tE-l[e].tE+h*l[o].tE,p=l[n+1].Ze-l[e].Ze+h*l[o].Ze,t=l[n+1].DV-l[e].DV+h*l[o].DV,l=n+1-e+h*o;i[a]=u/l,i[a+1]=f/l,c=(c-u*u/l)/l,u=(p-u*f/l)/l,l=(c+(f=(t-f*f/l)/l)+Math.sqrt((c-f)*(c-f)+4*u*u))/2,c-=l,f-=l,Math.abs(c)>=Math.abs(f)?0!=(s=Math.sqrt(c*c+u*u))&&(r[a]=-u/s,r[a+1]=c/s):0!=(s=Math.sqrt(f*f+u*u))&&(r[a]=-f/s,r[a+1]=u/s),0==s&&(r[a]=r[a+1]=0)}(t,u[M],D,v,g,M<<1);for(M=0;M<h;M++){y[M]=[0,0,0,0,0,0,0,0,0];var w=1/(A=g[M<<1]*g[M<<1]+g[1+(M<<1)]*g[1+(M<<1)]);if(0!=A)for(m[0]=g[1+(M<<1)],m[1]=-g[M<<1],m[2]=-m[1]*v[1+(M<<1)]-m[0]*v[M<<1],k=0;k<3;k++)y[M][3*k+0]=m[k]*m[0]*w,y[M][3*k+1]=m[k]*m[1]*w,y[M][3*k+2]=m[k]*m[2]*w}for(var b=[0,0,0,0,0,0,0,0,0],M=0;M<h;M++){b[0]=b[1]=b[2]=b[3]=b[4]=b[5]=b[6]=b[7]=b[8]=b[9]=0;for(var S=c[u[M]<<1]-p,C=c[1+(u[M]<<1)]-d,x=0,L=0,D=X(M-1,h),k=0;k<9;k+=3)b[k+0]=y[D][k+0]+y[M][k+0],b[k+1]=y[D][k+1]+y[M][k+1],b[k+2]=y[D][k+2]+y[M][k+2];for(;;){var T=b[0]*b[4]-b[1]*b[3];if(0!=T){x=(-b[2]*b[4]+b[5]*b[0])/T,L=(b[2]*b[3]-b[5]*b[0])/T;break}b[0]>b[4]?(m[0]=-b[1],m[1]=b[0]):b[4]?(m[0]=-b[4],m[1]=b[3]):(m[0]=1,m[1]=0);var A,w=1/(A=m[0]*m[0]+m[1]*m[1]);for(m[2]=-m[1]*C-m[0]*S,k=0;k<3;k++)b[3*k+0]+=m[k]*m[0]*w,b[3*k+1]+=m[k]*m[1]*w,b[3*k+2]+=m[k]*m[2]*w}if(n=Math.abs(x-S),i=Math.abs(L-C),n<=.5&&i<=.5)t.ui._T[M<<1]=x+p,t.ui._T[1+(M<<1)]=L+d;else{if(r=E(b,S,C),s=S,o=C,0!=b[0])for(l=0;l<2;l++)x=-(b[1]*(L=C-.5+l)+b[2])/b[0],n=Math.abs(x-S),a=E(b,x,L),n<=.5&&a<r&&(r=a,s=x,o=L);if(0!=b[4])for(l=0;l<2;l++)L=-(b[3]*(x=S-.5+l)+b[5])/b[4],i=Math.abs(L-C),a=E(b,x,L),i<=.5&&a<r&&(r=a,s=x,o=L);for(k=0;k<2;k++)for(e=0;e<2;e++)(a=E(b,x=S-.5+k,L=C-.5+e))<r&&(r=a,s=x,o=L);t.ui._T[M<<1]=s+p,t.ui._T[1+(M<<1)]=o+d}}}function i(t){for(var e,n,i,r=t.ui.Lr,a=t.ui,s=0;s<r;s++){var o=X(s+1,r),l=X(s+2,r),h=a._T[s<<1],u=a._T[1+(s<<1)],f=a._T[l<<1],c=a._T[1+(l<<1)],p=a._T[o<<1],d=a._T[1+(o<<1)],v=Q(.5,f,p),g=Q(.5,c,d);n=h,m=u,i=f,l=c,0!=(m=Math.sign(i-n)*(i-n)- -Math.sign(l-m)*(l-m))?(y=Y(p-h,d-u,f-h,c-u)/m,e=1<(y=Math.abs(y))?1-1/y:0,e*=1/.75):e=4/3;var y,m=3*o<<1;(a.O0[o]=e)>=F.auq?(a.Fa[o]=0,a.yH[m]=a.yH[1+m]=0,a.yH[2+m]=p,a.yH[3+m]=d):(e<.55?e=.55:1<e&&(e=1),y=.5+.5*e,a.Fa[o]=1,a.yH[m]=Q(y,h,p),a.yH[1+m]=Q(y,u,d),a.yH[2+m]=Q(y,f,p),a.yH[3+m]=Q(y,c,d)),a.yH[4+m]=v,a.yH[5+m]=g,a.alpha[o]=e,a.la[o]=.5}a.ac$=1}function r(t){function e(){this.js=0,this.Qn=0,this.U3=0,this.oe=0,this.w$=0,this.sB=0,this.gB=0,this.alpha=0}for(var n,i,r,a,s,o,l,h,u,f,c,p,d=t.ui,v=d.Lr,g=d._T,y=new Array(v+1),m=new Array(v+1),w=new Array(v+1),b=new Array(v+1),M=new e,S=new Array(v),C=new Array(v+1),x=0;x<v;x++)"CURVE"==d.Fa[x]?(l=g[X(x-1,v)<<1],h=g[1+(X(x-1,v)<<1)],u=g[x<<1],f=g[1+(x<<1)],c=g[X(x+1,v)<<1],p=g[1+(X(x+1,v)<<1)],S[x]=Math.sign(Y(u-l,f-h,c-u,p-f))):S[x]=0;C[r=0]=0;var L=d._T[0],D=d._T[1];for(x=0;x<v;x++){var k,T,A,E,O=X(x+1,v);"CURVE"==d.Fa[O]&&(A=d.alpha[O],k=d.yH[E=3*x+2<<1],T=d.yH[1+E],r+=.3*A*(4-A)*Y(g[O<<1]-k,g[1+(O<<1)]-T,(A=d.yH[E=3*O+2<<1])-k,(E=d.yH[1+E])-T)/2,r+=Y(k-L,T-D,A-L,E-D)/2),C[x+1]=r}for(y[0]=-1,w[m[0]=0]=0,i=1;i<=v;i++)for(y[i]=i-1,m[i]=m[i-1],w[i]=w[i-1]+1,x=i-2;0<=x&&!function(t,e,n,i,r,a,s){var o=t.ui.Lr,l=t.ui.yH,h=t.ui._T;if(e==n)return 1;var u=X(e+1,o),f=X((m=e)+1,o),c=h[e<<1],p=h[1+(e<<1)],d=h[u<<1],v=h[1+(u<<1)],g=a[f];if(0==g)return 1;for(var y=$(c-d,p-v),m=f;m!=n;m=f){var f=X(m+1,o),w=X(m+2,o),b=h[f<<1],M=h[1+(f<<1)],S=h[w<<1],w=h[1+(w<<1)];if(a[f]!=g)return 1;if(Math.sign(Y(d-c,v-p,S-b,w-M))!=g)return 1;if(K(d-c,v-p,S-b,w-M)<y*$(b-S,M-w)*-.999847695156)return 1}var C=3*X(e,o)+2<<1,x=X(e+1,o)<<1,L=X(n,o)<<1,D=3*X(n,o)+2<<1,k=l[C],T=l[1+C],A=h[x],E=h[1+x],O=h[L],N=h[1+L],I=l[D],P=l[1+D],F=h[0],_=h[1],B=l[C=3*n+2<<1],R=l[1+C],u=s[n]-s[e];if(u-=Y(B-F,R-_,B-F,R-_)/2,n<=e&&(u+=s[o]),s=(L=A-k)*(F=N-T)-(B=O-k)*(D=E-T),D=L*(_=P-T)-(R=I-k)*D,R=B*_-R*F,D==s)return 1;if(F=D/(D-s),0==(D=D*(U=R/(R-(s+R-D)))/2))return 1;for(D=2-Math.sqrt(4-u/D/.3),i.Qn=Q(U*D,k,A),i.U3=Q(U*D,T,E),i.oe=Q(F*D,I,O),i.w$=Q(F*D,P,N),i.alpha=D,i.sB=U,i.gB=F,A=i.Qn,E=i.U3,O=i.oe,N=i.w$,i.js=0,m=X(e+1,o);m!=n;m=f){f=X(m+1,o);var U,j=h[m<<1],H=h[1+(m<<1)];if((U=et(A-k,E-T,O-A,N-E,I-O,P-N,(b=h[f<<1])-j,(M=h[1+(f<<1)])-H))<-.5)return 1;var J=tt(U,k,A,O,I),q=tt(U,T,E,N,P);if(0==(y=$(b-j,M-H)))return 1;var G=Y(b-j,M-H,J-j,q-H)/y;if(Math.abs(G)>r)return 1;if(K(b-j,M-H,J-j,q-H)<0||K(j-b,H-M,J-b,q-M)<0)return 1;i.js+=G*G}for(m=e;m!=n;m=f){f=X(m+1,o);var Z=l[C=3*m+2<<1],z=l[1+C],V=l[x=3*f+2<<1],W=l[1+x];if((U=et(A-k,E-T,O-A,N-E,I-O,P-N,V-Z,W-z))<-.5)return 1;J=tt(U,k,A,O,I),q=tt(U,T,E,N,P);if(0==(y=$(V-Z,W-z)))return 1;G=Y(V-Z,W-z,J-Z,q-z)/y,z=Y(V-Z,W-z,h[f<<1]-Z,h[1+(f<<1)]-z)/y;if((z*=.75*t.ui.alpha[f])<0&&(G=-G,z=-z),G<z-r)return 1;G<z&&(i.js+=(G-z)*(G-z))}return 0}(t,x,X(i,v),M,F.ap7,S,C);x--)(w[i]>w[x]+1||w[i]==w[x]+1&&m[i]>m[x]+M.js)&&(y[i]=x,m[i]=m[x]+M.js,w[i]=w[x]+1,b[i]=M,M=new e);for(a=new Ue(n=w[v]),s=new Array(n),o=new Array(n),i=v,x=n-1;0<=x;x--){var N=X(i,v),I=3*x+0<<1,P=3*N+0<<1;y[i]==i-1?(a.Fa[x]=d.Fa[N],a.yH[I]=d.yH[P],a.yH[1+I]=d.yH[1+P],a.yH[2+I]=d.yH[2+P],a.yH[3+I]=d.yH[3+P],a.yH[4+I]=d.yH[4+P],a.yH[5+I]=d.yH[5+P],a._T[x<<1]=d._T[N<<1],a._T[1+(x<<1)]=d._T[1+(N<<1)],a.alpha[x]=d.alpha[N],a.O0[x]=d.O0[N],a.la[x]=d.la[N],s[x]=o[x]=1):(a.Fa[x]="CURVE",a.yH[I]=b[i].Qn,a.yH[1+I]=b[i].U3,a.yH[2+I]=b[i].oe,a.yH[3+I]=b[i].w$,a.yH[4+I]=d.yH[4+P],a.yH[5+I]=d.yH[5+P],a._T[x<<1]=Q(b[i].gB,d.yH[4+P],g[N<<1]),a._T[1+(x<<1)]=Q(b[i].gB,d.yH[5+P],g[1+(N<<1)]),a.alpha[x]=b[i].alpha,a.O0[x]=b[i].alpha,s[x]=b[i].gB,o[x]=b[i].sB),i=y[i]}for(x=0;x<n;x++)O=X(x+1,n),a.la[x]=s[x]/(s[x]+o[O]);a.ac$=1,t.ui=a}for(var s=0;s<t.length;s++){var o=t[s];!function(t){var e,n,i;t.DE=t.za[0],t.apM=t.za[1],t.lX=[];var r=t.lX;for(r.push(new a(0,0,0,0,0)),e=0;e<t.Lo;e++)n=t.za[e<<1]-t.DE,i=t.za[1+(e<<1)]-t.apM,r.push(new a(r[e].x+n,r[e].y+i,r[e].Ze+n*i,r[e].tE+n*n,r[e].DV+i*i))}(o),function(t){var e,n,i,r,a,s,o,l,h,u,f,c,p,d,v,g=t.Lo,y=t.za,m=new Array(g),w=new Array(g),b=new Array(4),M=0;for(t.WF=new Array(g),f=g-1;0<=f;f--)y[f<<1]!=y[M<<1]&&y[1+(f<<1)]!=y[1+(M<<1)]&&(M=f+1),w[f]=M;for(f=g-1;0<=f;f--){var S=X(f+1,g)<<1;for(b[0]=b[1]=b[2]=b[3]=0,b[(3+3*(y[S]-y[f<<1])+(y[1+S]-y[1+(f<<1)]))/2]++,r=i=n=e=0,M=w[f],p=f;;){if(u=0,b[(3+3*Math.sign(y[2*M]-y[2*p])+Math.sign(y[2*M+1]-y[2*p+1]))/2]++,b[0]&&b[1]&&b[2]&&b[3]){m[f]=p,u=1;break}if(l=y[2*M]-y[2*f],e*(h=y[2*M+1]-y[2*f+1])-l*n<0||0<i*h-l*r)break;if(Math.abs(l)<=1&&Math.abs(h)<=1||(0<=e*(s=h+(l<=0&&(l<0||h<0)?1:-1))-(a=l+(0<=h&&(0<h||l<0)?1:-1))*n&&(e=a,n=s),i*(s=h+(0<=l&&(0<l||h<0)?1:-1))-(a=l+(h<=0&&(h<0||l<0)?1:-1))*r<=0&&(i=a,r=s)),!C(M=w[p=M],f,p))break}0==u&&(d=Math.sign(y[2*M]-y[2*p]),o=Math.sign(y[2*M+1]-y[2*p+1]),l=y[2*p]-y[2*f],v=i*(h=y[2*p+1]-y[2*f+1])-l*r,S=i*o-d*r,c=1e7,(d=e*o-d*n)<0&&(c=Math.floor((e*h-l*n)/-d)),0<S&&(c=Math.min(c,Math.floor(-v/S))),m[f]=X(p+c,g))}for(c=m[g-1],t.WF[g-1]=c,f=g-2;0<=f;f--)C(f+1,m[f],c)&&(c=m[f]),t.WF[f]=c;for(f=g-1;C(X(f+1,g),c,t.WF[f]);f--)t.WF[f]=c}(o),e(o),n(o),i(o),F.af9&&r(o)}}};function Re(){this.Z=0,this.Lo=0,this.ui={},this.za=[],this.iH=1e5,this.S1=1e5,this.dC=-1,this.tS=-1,this.color=0}function Ue(t){this.Lr=t,this.Fa=new Array(t),this.yH=new Array(6*t),this.ar8=0,this._T=new Array(2*t),this.alpha=new Array(t),this.O0=new Array(t),this.la=new Array(t)}function je(){}function He(){}function Je(){}function qe(){}function Ge(){}function Ze(){}function ze(){}function Ve(){}function We(){}function Jr(){}function Xe(){}function Ye(){}function Ke(){}function Qe(){}function $e(){}function tn(){}function en(){}function nn(t,e){}function rn(){}function an(){}function sn(){}function on(){}function ln(){}function hn(){}Be.mT=function(t,e,n,i){i={sd:"minority",a1r:i,af9:!0,auq:1,ap7:.2},n=Be.av0(t,e,n,i);return Be.a1l(n,i),n},Be.l7=function(t){for(var e=[],n=0;n<t.length;n++){for(var i=t[n],r=i.ui,a=["M"],s=[r.yH[6*(r.Lr-1)+4],r.yH[6*(r.Lr-1)+5]],o=0;o<r.Lr;o++){var l=6*o;if(1==r.Fa[o]){a.push("C");for(var h=0;h<6;h++)s.push(r.yH[l+h])}else if(0==r.Fa[o]){a.push("L");for(h=2;h<4;h++)s.push(r.yH[l+h])}}a.push("Z"),e.push({parent:i.parent,color:i.color,path:{U:s,C:a}})}return e},Be.a9T=function(t,l,e,n,i){function r(t){for(var e,n,i,r,a=t.Lr,s="M"+(t.yH[3*(a-1)+2<<1]*l).toFixed(1)+" "+(t.yH[1+(3*(a-1)+2<<1)]*l).toFixed(1)+" ",o=0;o<a;o++)1==t.Fa[o]?s+=(i=o,r=void 0,r="C "+(t.yH[3*i+0<<1]*l).toFixed(1)+" "+(t.yH[1+(3*i+0<<1)]*l).toFixed(1)+",",r+=(t.yH[3*i+1<<1]*l).toFixed(1)+" "+(t.yH[1+(3*i+1<<1)]*l).toFixed(1)+",",r+=(t.yH[3*i+2<<1]*l).toFixed(1)+" "+(t.yH[1+(3*i+2<<1)]*l).toFixed(1)+" "):0==t.Fa[o]&&(s+=(e=o,n=void 0,n="L "+(t.yH[3*e+1<<1]*l).toFixed(1)+" "+(t.yH[1+(3*e+1<<1)]*l).toFixed(1)+" ",n+=(t.yH[3*e+2<<1]*l).toFixed(1)+" "+(t.yH[1+(3*e+2<<1)]*l).toFixed(1)+" "));return s}for(var e=e*l,n=n*l,a=t.length,s=[],o=0;o<256;o++)s.push("rgb("+Math.floor(255*Math.random())+","+Math.floor(255*Math.random())+","+Math.floor(255*Math.random())+")");for(var h='<svg id="svg" version="1.1" width="'+e+'" height="'+n+'" xmlns="http://www.w3.org/2000/svg">',o=0;o<a;o++){var u=i[t[o].color-1].aqH.lS;0!=(u>>>24&255)&&(h+='<path d="',h+=r(t[o].ui),h+='" fill="'+(u="rgb("+(u>>0&255)+","+(u>>8&255)+","+(u>>16&255)+")")+'" fill-rule="evenodd"/>')}return h+="</svg>"},Be.a31=function(t,e,n){for(var i,r=t.length>>1,a=t[2*r-3]-n,s=t[2*r-2]-e,o=t[2*r-1]-n,l=a<o,h=0,u=0;u<r;u++)i=s,a=o,s=t[2*u]-e,a!=(o=t[2*u+1]-n)&&(l=a<o);for(u=0;u<r;u++)if(i=s,a=o,s=t[2*u]-e,o=t[2*u+1]-n,!(a<0&&o<0||0<a&&0<o||i<0&&s<0)){if(a==o&&Math.min(i,s)<=0)return!0;if(a!=o){var f=i+(s-i)*-a/(o-a);if(0==f)return!0;0<f&&h++,0==a&&l&&a<o&&h--,0==a&&!l&&o<a&&h--,l=a<o}}return 1==(1&h)},Be.fill=function(t,e,n,i){for(var r=e[t],a=[t],s=0;s<a.length;){var o=a[s];s++,e[o]=i,e[o-n]==r&&(a.push(o-n),e[o-n]=254),e[o-1]==r&&(a.push(o-1),e[o-1]=254),e[o+1]==r&&(a.push(o+1),e[o+1]=254),e[o+n]==r&&(a.push(o+n),e[o+n]=254)}},je.M9=function(t){var e=new Uint8Array(t),n=0,i={x8:[],u_:[],list:[]},r=ln.aV(e,n);if(n+=2,r<=2)return je.akS(e);var a=ln.aV(e,n),t=(ln.fb(e,n+=2,8),ln.l(e,n+=8));n+=4,0<t&&(i.x8=je.bz(e,n,t,a,r));ln.fb(e,n+=t,8);t=ln.l(e,n+=8);n+=4,0<t&&(i.u_=Ye.g1(e,n,t));ln.fb(e,n+=t,8);t=ln.l(e,n+=8);n+=4,0<t&&(tn.zm(e,e={},n+4),i.list=e.Brsh.v),n+=t;for(var s=i.list,o=0;o<s.length;o++)Yi.JX.check(s[o].v);return i},je.xk=function(t,e){t.v.Nm.v=e},je.akS=function(t){var e={x8:[],u_:[],list:[]},n=0,i=ln.aV(t,n),r=ln.aV(t,n+=2);n+=2;for(var a=0;a<r;a++){var s=ln.aV(t,n);n+=2;var o,l,h,u=ln.l(t,n),f=n+=4;2==s&&(e.x8.push(o={}),ln.l(t,f),f+=4,l=ln.aV(t,f),f+=2,2==i&&(f+=4+2*ln.zq(t,f).length+2),o.id=zi.Gs()+"-d71c-11e5-b1ae-a548a96e5f9f",f++,f+=8,o.Ni=ln.e4(t,f),f+=16,h=ln.aV(t,f),s=t[f+=2],f++,f=rn.pp(!1,h,t,o.Ni.m,o.Ni.n,f,s),je.V3(o,f),(f=(s=Yi.wP(o.id)).Brsh.v).Dmtr.v.val=o.Ni.m,f.Spcn.v.val=l,e.list.push({t:"Objc",v:s})),n+=u}return e},je.o$=function(t){var e,n,i=new Ol;ln.E2(i,0,6),ln.E2(i,2,2),ln.oW(i,4,"8BIMsamp"),e=je.i6(i,16,t.x8),ln.Nk(i,12,e-16),ln.oW(i,e,"8BIMpatt"),e+=8,e=Ye.er(i,n=e+=4,t.u_),ln.Nk(i,n-4,e-n);t={classID:"null",Brsh:{t:"VlLs",v:t.list}};return ln.oW(i,e,"8BIMdesc"),e+=8,ln.Nk(i,n=e+=4,16),e+=4,e+=tn.DA(i,t,e),ln.Nk(i,n-4,e-n),i.data.slice(0,e).buffer},je.bz=function(t,e,n,i,r){for(var a=ln.l,s=ln.e4,o=e+n,l=[];e<o;){var h={};l.push(h);var u=a(t,e),f=e+=4,c=ln.ZF(t,e);e+=c.length,h.id=c.w9,1==i?(e+=9,h.Ni=s(t,e)):(a(t,e+=7),e+=4,h.Ni=s(t,e),p=a(t,e+=16),e+=4,a(t,e+=4*p),a(t,e+=4),s(t,e+=4)),e+=16;var c=ln.aV(t,e),p=t[e+=2];e+=1;p=rn.pp(!1,c,t,h.Ni.m,h.Ni.n,e,p);je.V3(h,p),u%4!=0&&(u+=4-u%4),e=f+u}return l},je.V3=function(t,e){var n=t.Ni.clone(),i=Rr.t(4*n.Z());Rr.al(e,i,3),n.x=n.y=0,t.ax=[i,n]},je.i6=function(t,e,n){for(var i=ln.Nk,r=ln.ts,a=0;a<n.length;a++){var s=n[a],o=e+4;e+=4,ln.nU(t,e,s.id),e+=s.id.length+2,t.ib(e,1),t.data[e]=1,i(t,e+=3,3);var l=e+=4;r(t,e+=4,s.Ni),i(t,e+=16,56),e+=4,i(t,(e+=224)-4,1);var h=e;i(t,e+=4,8),r(t,e+=4,s.Ni),e+=16,ln.E2(t,e,8),e+=2,t.ib(e,1),t.data[e]=1,e++;var u=Rr.t(s.Ni.Z());Rr.VW(s.ax[0],u,3),t.ib(e,2*s.Ni.Z()),e=rn.gI(!1,u,t.data,s.Ni.m,s.Ni.n,e,1),t.ib(e,8);s=(e+=8)-o;i(t,o-4,s),i(t,l,s-49),i(t,h,s-305),s%4!=0&&(e+=4-s%4)}return e},He.M9=function(t){var e=new Uint8Array(t),n=[],i=0,t=ln.aV(e,i);if(4!=t)throw"Unknown version of curves: "+t;var r=ln.aV(e,i+=2);i+=2;for(var a=0;a<r;a++){var s=He.V_(e,i);i+=2+2*s.length,n.push(s)}if(i==e.length)return n;ln.fb(e,i,4),ln.aV(e,i+=4);t=ln.aV(e,i+=2);if(i+=2,0!=t)throw"extra curves for channels";return n},He.c1=function(t,e,n){var i=[],r=t[e],a=ln.l(t,e+=3);e+=4;for(var s,o=0;o<4;o++)a>>>o&1?(0==r?e+=2+2*(s=He.V_(t,e)).length:(s=He.a1M(t,e),e+=256),i.push(s)):i.push(0==r?[0,0,255,255]:He.auG());for(var l=Gr.PD("curv"),o=0;o<4;o++)if(0==r){for(var h=i[o],u=[],f=0;f<h.length;f+=2)u.push(Rr.Cj.sG(h[f],h[f+1],!0));He.nS(l,o,u)}else He.nS(l,o,i[o]);return l},He.auG=function(){for(var t=[],e=0;e<256;e++)t.push(e);return t},He.nS=function(t,e,n){var i=qe.Iz("CrvA",e);if(n.length<256)i.Crv={t:"VlLs",v:n};else{i.Mpng={t:"VlLs",v:[]};for(var r=0;r<256;r++)i.Mpng.v[r]={t:"long",v:n[r]}}i={t:"Objc",v:i},t=t.Adjs.v,e=qe.Ce(t,e);-1==e?t.push(i):t[e]=i},He.OD=function(t,e){t=t.Adjs.v,e=qe.Ce(t,e);if(-1==e){if(0==t.length||t[0].v.Crv)return[Rr.Cj.sG(0,0,!0),Rr.Cj.sG(255,255,!0)];if(t[0].v.autoMachineLearning||t[0].v.AuCo)return[Rr.Cj.sG(0,0,!0),Rr.Cj.sG(128,160,!0),Rr.Cj.sG(255,255,!0)];for(var n=[],i=0;i<256;i++)n.push(i);return n}var r=t[e].v;if(r.Crv)return r.Crv.v;if(r.Mpng){for(n=[],i=0;i<256;i++)n.push(r.Mpng.v[i].v);return n}return[Rr.Cj.sG(0,0,!0),Rr.Cj.sG(255,255,!0)]},He.V_=function(t,e){var n=[],i=ln.aV(t,e);e+=2;for(var r=0;r<i;r++){var a=ln.aV(t,e);e+=2;var s=ln.aV(t,e);e+=2,n.push(s,a)}return n},He.atw=function(t,e,n){var i=n.length/2;ln.E2(t,e,i),e+=2;for(var r=0;r<i;r++)ln.E2(t,e,n[2*r+1]),ln.E2(t,e+=2,n[2*r+0]),e+=2},He.a1M=function(t,e){for(var n=[],i=0;i<256;i++)n.push(t[e+i]);return n},He.a4G=function(t,e,n){t.ib(e,256);for(var i=0;i<256;i++)t.data[e+i]=n[i]},He.B7=function(t,e,n){for(var i=[],r=0;r<4;r++){var a=He.OD(n,r);if(256==a.length)i.push(a);else{for(var s=[],o=0;o<a.length;o++)s.push(a[o].v.Hrzn.v,a[o].v.Vrtc.v);i.push(s)}}var l=e,h=256==i[0].length?1:0;t.ib(e,3),t.data[e]=h,t.data[e+1]=0,t.data[e+2]=1,ln.Nk(t,e+=3,15),e+=4;for(r=0;r<4;r++){var u=i[r];0==h?(He.atw(t,e,u),e+=2+2*u.length):(He.a4G(t,e,u),e+=256)}return e-l},Je.c1=function(t,e,n){var i={};ln.aV(t,e);i.Nr=1==t[e+=2],e++,i.Y6=[ln.Kh(t,++e),ln.Kh(t,e+2),ln.Kh(t,e+4)],i.eg=[ln.Kh(t,e+=6),ln.Kh(t,e+2),ln.Kh(t,e+4)],e+=6,i.Tk=[];for(var r=0;r<6;r++){var a={};a.tc=[ln.Kh(t,e),ln.Kh(t,e+2),ln.Kh(t,e+4),ln.Kh(t,e+6)],e+=8,a.VR=[ln.Kh(t,e),ln.Kh(t,e+2),ln.Kh(t,e+4)],e+=6,i.Tk.push(a)}var s=Gr.PD("hue2"),o=i;null==s.Clrz&&(s.Clrz={t:"bool",v:!1}),s.Clrz.v=o.Nr;for(r=0;r<7;r++){var l=0==r?o.Nr?o.Y6:o.eg:o.Tk[r-1];Je.nS(s,r,l)}return s},Je.ajf=function(t){return{classID:"Hst2",H:{t:"long",v:t[0]},Strt:{t:"long",v:t[1]},Lght:{t:"long",v:t[2]}}},Je.Ce=function(t,e){for(var n=0;n<t.length;n++){var i=t[n].v.LclR;if(0==e&&null==i||null!=i&&i.v==e)return n}return-1},Je.nS=function(t,e,n){var i=0==e?n:n.VR,i=Je.ajf(i);0!=e&&(n=n.tc,i.LclR={t:"long",v:e},i.BgnR={t:"long",v:n[0]},i.BgnS={t:"long",v:n[1]},i.EndS={t:"long",v:n[2]},i.EndR={t:"long",v:n[3]});i={t:"Objc",v:i},t=t.Adjs.v,e=Je.Ce(t,e);-1==e?t.push(i):t[e]=i},Je.OD=function(t,e){var n=t.Adjs.v,t=Je.Ce(n,e);if(-1==t)return 0==e?[0,0,0]:[{tc:[315,345,15,45],VR:[0,0,0]},{tc:[15,45,75,105],VR:[0,0,0]},{tc:[75,105,135,165],VR:[0,0,0]},{tc:[135,165,195,225],VR:[0,0,0]},{tc:[195,225,255,285],VR:[0,0,0]},{tc:[255,285,315,345],VR:[0,0,0]}][e-1];n=n[t].v,t=[n.H.v,n.Strt.v,n.Lght.v];return 0==e?t:{VR:t,tc:[n.BgnR.v,n.BgnS.v,n.EndS.v,n.EndR.v]}},Je.B7=function(t,e,n){var i={Nr:!!n.Clrz&&n.Clrz.v,Tk:[]};i.Y6=i.eg=Je.OD(n,0);for(var r=1;r<7;r++)i.Tk.push(Je.OD(n,r));var a=t.data;t.ib(e,100),ln.$q(a,e,2),a[e+=2]=i.Nr?1:0,e++,ln.n_(a,++e+0,i.Y6[0]),ln.n_(a,e+2,i.Y6[1]),ln.n_(a,e+4,i.Y6[2]),ln.n_(a,(e+=6)+0,i.eg[0]),ln.n_(a,e+2,i.eg[1]),ln.n_(a,e+4,i.eg[2]),e+=6;for(r=0;r<6;r++){var s=i.Tk[r].tc,o=i.Tk[r].VR;ln.n_(a,e+0,s[0]),ln.n_(a,e+2,s[1]),ln.n_(a,e+4,s[2]),ln.n_(a,e+6,s[3]),e+=8,ln.n_(a,e+0,o[0]),ln.n_(a,e+2,o[1]),ln.n_(a,e+4,o[2]),e+=6}return 100},qe.M9=function(t){for(var e=new Uint8Array(t),n=2,i=[],r=0;r<29;r++){var a=[];i.push(a);for(var s=0;s<5;s++)a.push(ln.aV(e,n+10*r+2*s))}if((n+=290)<e.length){ln.fb(e,n,4),ln.aV(e,n+=4);t=ln.aV(e,n+=2);n+=2;for(var o=t-29,r=0;r<o;r++){a=[];i.push(a);for(s=0;s<5;s++)a.push(ln.aV(e,n+10*r+2*s))}}for(var l=Gr.PD("levl"),r=0;r<4;r++)qe.nS(l,r,i[r]);return l},qe.Iz=function(t,e){return{classID:t,Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Cmps","Rd","Grn","Bl"][e]}}]}}},qe.Ce=function(t,e){for(var n={Cmps:0,Rd:1,Grn:2,Bl:3},i=0;i<t.length;i++)if(n[t[i].v.Chnl.v[0].v.enum]==e)return i;return-1},qe.nS=function(t,e,n){(i=qe.Iz("LvlA",e)).Inpt={t:"VlLs",v:[{t:"long",v:n[0]},{t:"long",v:n[1]}]},i.Otpt={t:"VlLs",v:[{t:"long",v:n[2]},{t:"long",v:n[3]}]},i.Gmm={t:"doub",v:n[4]/100};var i={t:"Objc",v:i},t=t.Adjs.v,e=qe.Ce(t,e);-1==e?t.push(i):t[e]=i},qe.OD=function(t,e){var n=[0,255,0,255,100],t=t.Adjs.v,e=qe.Ce(t,e);if(-1==e)return n;e=t[e].v;return e.Inpt&&(n[0]=e.Inpt.v[0].v,n[1]=e.Inpt.v[1].v),e.Otpt&&(n[2]=e.Otpt.v[0].v,n[3]=e.Otpt.v[1].v),e.Gmm&&(n[4]=Math.round(100*e.Gmm.v)),n},qe.o$=function(t,e){for(var n=[],i=0,r=0;r<4;r++)n.push(qe.OD(e,r));for(;n.length<29;)n.push([0,255,0,255,100]);t.ib(0,292),ln.$q(t.data,i,2),i+=2;for(r=0;r<29;r++)for(var a=n[r],s=0;s<5;s++)ln.$q(t.data,i+10*r+2*s,a[s]);if(i+=290,29==n.length)return i;t.ib(i,8+10*(n.length-29)),ln.zW(t.data,i,"Lvls"),ln.$q(t.data,i+=4,3),ln.$q(t.data,i+=2,n.length),i+=2;for(var o=n.length-29,r=0;r<o;r++)for(a=n[29+r],s=0;s<5;s++)ln.$q(t.data,i+10*r+2*s,a[s]);return i+=10*o},Ge.M9=function(t){var e=new Uint8Array(t),n=2,i={jA:[],om:[]},t=(ln.fb(e,n,4),ln.aV(e,n+=4),ln.l(e,n+=2));i.jA=Ye.g1(e,n+=4,t);var r=ln.l(e,n+=t);n+=4;for(var a=0;a<r;a++){var s=ln.l(e,n),o=n+=4,l={Gf:{},yu:{}};i.om.push(l),n+=4,n+=tn.zm(e,l.Gf,n),n+=4,n+=tn.zm(e,l.yu,n);n=o+s,s=l.yu.blendOptions,l=l.yu.Lefx;s&&Object.keys(s.v).length,l&&(null==l.v.masterFXSwitch&&(l.v.masterFXSwitch={t:"bool",v:!0}),en.zo(l.v))}return i},Ge.xk=function(t,e){t.Gf.Nm.v=e},Ge.o$=function(t){var e=new Ol,n=0;ln.E2(e,n,2),ln.oW(e,n+=2,"8BSL"),ln.E2(e,n+=4,3);var i=n+=2,n=Ye.er(e,n+=4,t.jA);ln.Nk(e,i,n-i-4);var r=t.om.length;ln.Nk(e,n,r),n+=4;for(var a=0;a<r;a++){var s=n+=4,o=t.om[a];ln.Nk(e,n,16),n+=4,n+=tn.DA(e,o.Gf,n);var l=o.yu.Lefx;l&&(o.yu.Lefx=JSON.parse(JSON.stringify(l)),en.NQ(o.yu.Lefx.v)),ln.Nk(e,n,16),n+=4,n+=tn.DA(e,o.yu,n),l&&(o.yu.Lefx=l),ln.Nk(e,s-4,n-s)}return e.data.slice(0,n).buffer},Ze.c1=function(t,e,n){ln.aV(t,e);var i={};i.PM=1==ln.aV(t,e+=2),e+=2,i.S5=[];for(var r=0;r<10;r++){var a=[];i.S5.push(a);for(var s=0;s<4;s++)a.push(ln.Kh(t,e+2*s));e+=8}var o=Gr.PD("selc");o.Mthd.v.CrcM=i.PM?"Absl":"Rltv";for(r=1;r<10;r++)Ze.nS(o,r-1,i.S5[r]);return o},Ze.bI="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" "),Ze.Iz=function(t,e){return{classID:t,Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Cmps","Rd","Grn","Bl"][e]}}]}}},Ze.Ce=function(t,e){for(var n=Ze.bI,i=0;i<t.length;i++){var r=t[i].v;if(n.indexOf(r.Clrs.v.Clrs)==e)return i}return-1},Ze.nS=function(t,e,n){for(var i=["Cyn","Mgnt","Ylw","Blck"],r={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:Ze.bI[e]}}},a=0;a<4;a++)r[i[a]]={t:"UntF",v:{type:"#Prc",val:n[a]}};r={t:"Objc",v:r},t=t.ClrC.v,e=Ze.Ce(t,e);-1==e?t.push(r):t[e]=r},Ze.OD=function(t,e){var n=[0,0,0,0],i=t.ClrC.v,r=Ze.Ce(i,e);if(-1==r)return n;for(var a=["Cyn","Mgnt","Ylw","Blck"],s=0;s<4;s++)i[r].v[a[s]]&&(n[s]=i[r].v[a[s]].v.val);return n},Ze.B7=function(t,e,n){for(var i={PM:"Absl"==n.Mthd.v.CrcM,S5:[[0,0,0,0]]},r=0;r<9;r++)i.S5.push(Ze.OD(n,r));t.ib(e,84),ln.$q(t.data,e,1),ln.$q(t.data,e+=2,i.PM?1:0),e+=2;for(r=0;r<10;r++){for(var a=i.S5[r],s=0;s<4;s++)ln.n_(t.data,e+2*s,a[s]);e+=8}return 84},ze.PD=function(){return{sz:new Fr(0,0,50,50),Gf:"",L2:"play",Y:Rr.$.lO._5([.1,.1,.9,.5,.1,.9],0)}},ze.M9=function(t){t=new Uint8Array(t);var e=0,n=[],i=(Date.now(),ln.fb(t,0,4),ln.l(t,e+=4),ln.l(t,e+=4));e+=4;for(var r=0;r<i;r++){var a=ln.zq(t,e);e+=2*a.length+4+2,0==(1&a.length)&&(e+=2),e=ze.US(t,e,a,n)}return n},ze.US=function(t,e,n,i){ln.l(t,e);var r=ln.l(t,e+=4),a=e+=4,s=ln.ZF(t,a).w9;a+=s.length+1;var o=ln.e4(t,a),l=ze.r8(t,a+=16,r-(a-e)),h=Rr.$.i0(l),t=Rr.H.UP(h),a=1/t.m,h=1/t.n;return Rr.$.yl(l,new _r(a,0,0,h,-t.x*a,-t.y*h)),i.push({L2:n,Gf:s,Y:l,sz:o}),e+=r},ze.xk=function(t,e){t.L2=e},ze.o$=function(t){var e=new Ol,n=0;ln.oW(e,n,"cush"),ln.Nk(e,n+=4,2),ln.Nk(e,n+=4,t.length),n+=4;for(var i=0;i<t.length;i++){var r=t[i],a=r.L2+"\0";ln.w1(e,n,a),n+=4+2*a.length,1==(1&a.length)&&(n+=2),ln.Nk(e,n,1),n+=4;a=n+=4;ln.nU(e,n,r.Gf),n+=r.Gf.length+1,ln.ts(e,n,r.sz),n+=16,e.ib(n,26*r.Y.length),ze.m1(e.data,n,r.Y,1,1);r=(n+=26*r.Y.length)-a;0!=(3&r)&&(r+=4-(3&r)),ln.Nk(e,a-4,r),n=a+r}return e.data.slice(0,n).buffer},ze.a2H=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n],r=i.type,a={type:r};e.push(a),6==r||(8==r?a.all=i.all:0==r||3==r?(a.length=i.length,a.frule=i.Gw,a.third=i.aD,a.prmA=i.QL,a.prmB=i.Bt):a.c=[i.Sm.x,i.Sm.y,i.B.x,i.B.y,i.Pv.x,i.Pv.y])}return e},ze.a7x=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n],r=i.type,a={type:r};e.push(a),6==r||(8==r?a.all=i.all:0==r||3==r?(a.length=i.length,a.Gw=i.frule,a.aD=i.third,a.QL=i.prmA,a.Bt=i.prmB):(i=i.c,a.Sm=new Pr(i[0],i[1]),a.B=new Pr(i[2],i[3]),a.Pv=new Pr(i[4],i[5])))}return e},ze.r8=function(t,e,n,i,r){function a(t,e,n){e=ln.ae3(t,e)*n,n=Math.round(e);return Math.abs(e-n)<1e-6?n:e}null==i&&(i=1),null==r&&(r=1);for(var s=ln.Kh,o=[],l=Math.floor(n/26),h=0;h<l;h++){var u,f,c=e+26*h,p={},d=0;o.push(p),p.type=s(t,c),c+=2,6==p.type&&(d=24),8==p.type&&(p.all=s(t,c),c+=2,d=22),0!=p.type&&3!=p.type||(p.length=s(t,c),c+=2,p.Gw=s(t,c),c+=2,p.aD=s(t,c),c+=2,p.QL=ln.l(t,c),c+=4,p.Bt=ln.l(t,c),c+=4,d=10),1!=p.type&&2!=p.type&&4!=p.type&&5!=p.type||(u=a(t,c,r),f=a(t,c+=4,i),c+=4,p.Sm=new Pr(f,u),u=a(t,c,r),f=a(t,c+=4,i),c+=4,p.B=new Pr(f,u),u=a(t,c,r),f=a(t,c+=4,i),c+=4,p.Pv=new Pr(f,u),d=0);for(var v=0;v<d;v++)0!=t[c+v]&&console.log("Unexpected non-zero byte!",p,v,t[c+v])}return o},ze.m1=function(t,e,n,i,r){for(var a=ln.n_,s=ln.Mf,o=n.length,l=0;l<o;l++){var h=e+26*l,u=n[l];a(t,h,u.type),h+=2,u.type,8==u.type&&a(t,h,u.all),0!=u.type&&3!=u.type||(a(t,h,u.length),a(t,h+=2,u.Gw),a(t,h+=2,u.aD),h+=2),1!=u.type&&2!=u.type&&4!=u.type&&5!=u.type||(s(t,h,u.Sm.y/r),s(t,h+=4,u.Sm.x/i),s(t,h+=4,u.B.y/r),s(t,h+=4,u.B.x/i),s(t,h+=4,u.Pv.y/r),s(t,h+=4,u.Pv.x/i),h+=4)}},Ve.M9=function(t){var e=new Uint8Array(t),n=[],t=0;return(t=Ve.LC(e,0,n))+3<e.length&&(t=Ve.LC(e,t,n=[])),n},Ve.LC=function(t,e,n){var i=ln.aV,r=(ln.Kh,i(t,e)),a=i(t,e+=2);e+=2;for(var s=0;s<a;s++){var o=Ve.oj(t,e);e+=10,2==r&&(o._l=ln.zq(t,e),e+=4+2*o._l.length+2),n.push(o)}return e},Ve.oj=function(t,e){var n=ln.aV,i=ln.Kh,r=n(t,e),a=null,s=n(t,e+=2),o=n(t,e+=2),l=n(t,e+=2),h=n(t,e+=2);e+=2;var u=255/65535,n=100/65535;if(0==r)a={p:s*u,z:o*u,S:l*u};else if(1==r)(a=Rr.ZW(s*(1/65535),o*(1/65535),l*(1/65535))).p*=255,a.z*=255,a.S*=255;else if(2==r)a=Rr.I.Na({classID:"CMYC",Cyn:{t:"doub",v:100-s*n},Mgnt:{t:"doub",v:100-o*n},Ylw:{t:"doub",v:100-l*n},Blck:{t:"doub",v:100-h*n}});else if(7==r)a=Rr.uV(s/100,i(t,e-6)/100,i(t,e-4)/100);else{if(8!=r)throw"e "+r+", ";a={p:255-.0255*s,z:255-.0255*o,S:255-.0255*l}}return a},Ve.o$=function(t){var e=new Ol,n=0,i=ln.E2;i(e,n,2),i(e,n+=2,t.length),n+=2;for(var r=0;r<t.length;r++){var a=t[r];e.ib(n,10),Ve.MF(e.data,n,a),n+=10;a=(a._l||"")+"\0";ln.w1(e,n,a),n+=4+2*a.length}return e.data.slice(0,n).buffer},Ve.xk=function(t,e){t._l=e},Ve.MF=function(t,e,n){var i=ln.$q;i(t,e,0),i(t,e+2,Math.round(257*n.p)),i(t,e+4,Math.round(257*n.z)),i(t,e+6,Math.round(257*n.S)),i(t,e+8,0)},We.M9=function(t){var e=new Uint8Array(t),n=4,i={};i.rD=ln.zq(e,n),n+=4+2*i.rD.length+2,i.exp=1==e[n++],i.ct=[];var r=ln.l(e,n);n+=4;for(var a=0;a<r;a++){var s={};i.ct.push(s),s.BT=ln.aV(e,n),n+=2,s.shift=1==e[n++],s.a5Q=1==e[n++],s.color=ln.aV(e,n),n+=2,s.rD=ln.zq(e,n),n+=4+2*s.rD.length+2,s.exp=1==e[n++],s.ct=[];var o=ln.l(e,n);n+=4;for(var l=0;l<o;l++){var h={};s.ct.push(h),h.exp=1==e[n++],h.K=1==e[n++],h.aaU=1==e[n++],h.aky=e[n++];var u=ln.fb(e,n,4);if(n+=4,"TEXT"==u)h.YY=We.ZV(e,n),n+=4+h.YY.length;else{if("long"!=u)throw"e";h.YY=ln.fb(e,n,4),n+=4}h.Pn=We.ZV(e,n),n+=4+h.Pn.length;u=ln.Xu(e,n);n+=4,-1==u&&(h.l5={},n+=tn.zm(e,h.l5,n))}}console.log(i);for(var f=new Uint8Array(We.o$(i)),a=0;a<f.length;a++)if(f[a]!=e[a]){console.log(e.length,f.length);var c=4*(a>>>2)-16;throw console.log(ln.s0(e,c,64)),console.log(ln.s0(f,c,64)),console.log(e.slice(c,64+c)),console.log(f.slice(c,64+c)),a}return[i]},We.ZV=function(t,e){var n=ln.l(t,e);return ln.fb(t,e+4,n)},We.Hx=function(t,e,n){ln.Nk(t,e,n.length),ln.oW(t,e+4,n)},We.o$=function(t){var e=new Ol,n=0;ln.Nk(e,n,16),ln.w1(e,n+=4,t.rD+"\0"),n+=4+2*t.rD.length+2,e.ib(n,1),e.data[n++]=t.exp?1:0;var i=t.ct.length;ln.Nk(e,n,i),n+=4;for(var r=0;r<i;r++){var a=t.ct[r];ln.E2(e,n,a.BT),n+=2,e.ib(n,2),e.data[n++]=a.shift?1:0,e.data[n++]=a.a5Q?1:0,ln.E2(e,n,a.color),n+=2,ln.w1(e,n,a.rD+"\0"),n+=4+2*a.rD.length+2,e.ib(n,1),e.data[n++]=a.exp?1:0;var s=a.ct.length;ln.Nk(e,n,s),n+=4;for(var o=0;o<s;o++){var l=a.ct[o];e.ib(n,4),e.data[n++]=l.exp?1:0,e.data[n++]=l.K?1:0,e.data[n++]=l.aaU?1:0,e.data[n++]=l.aky;var h=-1!="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr".split(" ").indexOf(l.YY);ln.oW(e,n,h?"long":"TEXT"),n+=4,h?(ln.oW(e,n,l.YY),n+=4):(We.Hx(e,n,l.YY),n+=4+l.YY.length),We.Hx(e,n,l.Pn),n+=4+l.Pn.length,ln.sY(e,n,l.l5?-1:0),n+=4,l.l5&&(n+=tn.DA(e,l.l5,n))}}return e.data.slice(0,n).buffer},Jr.M9=function(t){var e=new Uint8Array(t),n=0,i=ln.l(e,n),r=(ln.fb(e,n+=4,8),ln.UF(e,n+=8),ln.UF(e,n+=4)),a=ln.UF(e,n+=4);if(n+=4,2==i)s=new Float32Array(t,32,t.byteLength-32>>>2);else{if(3!=i&&4!=i)throw"unknown Mesh version: "+i;for(var s=new Float32Array(r*a*2),o=0,l=0,h=!0,n=3==i?32:64;n<e.length;){var u=ln.UF(e,n);if(n+=4,h)l+=u;else{for(var f=0;f<u;f++)s[o+l+f<<1]=ln.FS(e,n),s[1+(o+l+f<<1)]=ln.FS(e,n+4),n+=8;l+=u}if(h=!h,0!=u&&l==r&&(h=!(l=0),(o+=r)==r*a))break}}return{r2:r,kY:a,map:s}},Jr.ij=function(t){var e=t.r2,n=t.kY,i=t.map,r=new Uint8Array(32+n*e*8+8*n),a=0,s=0;ln.Kp(r,a,3),ln.zW(r,a+=4,"yfqLhseM"),ln.Vf(r,a+=8,2),ln.Vf(r,a+=4,e),ln.Vf(r,a+=4,n),ln.Vf(r,a+=4,0),ln.Vf(r,a+=4,1),a+=4;for(var o=0;o<n;o++){ln.Vf(r,a,0),a+=4,ln.Vf(r,a,e),a+=4;for(var l=0;l<e;l++)ln.jr(r,a,i[s]),ln.jr(r,a+4,i[s+1]),s+=2,a+=8}return r.buffer},Xe.M9=function(t){var e=new Uint8Array(t),n=0,i=(ln.fb(e,n,4),ln.aV(e,n+=4),ln.l(e,n+=2));n+=4;for(var r=[],a=0;a<i;a++){var s=ln.l(e,n);n+=4;var o={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};r.push(o);var l=ln.zq(e,n);n+=4+2*(o.Nm.v=l).length+2;ln.aV(e,n);n+=2;var h=ln.aV(e,n);n+=2;for(var u=0;u<h;u++){var f=Rr.Cj.sG(0,0,!0);f.v.Vrtc.v=ln.aV(e,n),n+=2,f.v.Hrzn.v=ln.aV(e,n),n+=2,o.Crv.v.push(f)}if(1!=s){if(2!=s)throw"error";for(u=0;u<h;u++)o.Crv.v[u].v.Cnty.v=1==e[n],n+=1}ln.l(e,n);n+=4;ln.l(e,n);n+=4}return r},Xe.xk=function(t,e){t.Nm.v=e},Xe.o$=function(t){var e=new Ol,n=0;ln.oW(e,n,"8BFS"),ln.E2(e,n+=4,1),ln.Nk(e,n+=2,t.length),n+=4;for(var i=0;i<t.length;i++){ln.Nk(e,n,2),n+=4;var r=t[i];ln.w1(e,n,r.Nm.v+"\0"),n+=4+2*r.Nm.v.length+2,ln.E2(e,n,2),n+=2;var a=r.Crv.v.length;ln.E2(e,n,a),n+=2;for(var s=0;s<a;s++){var o=r.Crv.v[s];ln.E2(e,n,o.v.Vrtc.v),n+=2,ln.E2(e,n,o.v.Hrzn.v),n+=2}e.ib(n,a);for(s=0;s<a;s++)e.data[n]=r.Crv.v[s].v.Cnty.v,n++;ln.Nk(e,n,0),n+=4,ln.Nk(e,n,0),n+=4}return e.data.slice(0,n).buffer},Ye.M9=function(t){var e=new Uint8Array(t),n=4,i=(ln.aV(e,n),ln.l(e,n+=2));n+=4;for(var r=[],a=0;a<i;a++){var s={};r.push(s),n=Ye.ie(e,n,s)}return r},Ye.xk=function(t,e){t.name=e},Ye.o$=function(t){var e=new Ol,n=0;ln.oW(e,n,"8BPT"),ln.E2(e,n+=4,1),ln.Nk(e,n+=2,t.length),n+=4;for(var i=0;i<t.length;i++)n=Ye.HP(e,n,t[i]);return e.data.slice(0,n).buffer},Ye.g1=function(t,e,n){for(var i=e+n,r=[];e<i;){var a={},s=ln.l(t,e),o=e+=4;e=Ye.ie(t,e,a),a.ax[1].mN()||r.push(a),s%4!=0&&(s+=4-s%4),e=o+s}return r},Ye.er=function(t,e,n){for(var i=0;i<n.length;i++){var r=n[i],a=e+=4,r=(e=Ye.HP(t,e,r))-a;ln.Nk(t,a-4,r),r%4!=0&&(a+=4-r%4),e=a+r}return e},Ye.ie=function(t,e,n){var i=ln.l(t,e);e+=4,1!=i&&alert("Unknown version of pattern");var r=ln.l(t,e);e+=4,1!=r&&2!=r&&3!=r&&console.log("Unsupported mode of pattern: "+r);var a=ln.aV(t,e),s=ln.aV(t,e+=2);e+=2;var o=new Fr(0,0,s,a);n.name=ln.zq(t,e);i=t[e+=4+2*n.name.length+2];n.id=ln.fb(t,++e,i),e+=n.id.length;var l=-1;2==r&&(l=e,e+=772);var h=new Rr.vs(s*a);if(e=Ye.abn(t,e,h),2==r)for(var u=0;u<h.p.length;u++){var f=3*h.p[u];h.p[u]=t[l+f+0],h.z[u]=t[l+f+1],h.S[u]=t[l+f+2]}r=Rr.t(4*o.Z());return Rr.M1(h,r),n.ax=[r,o],e},Ye.HP=function(t,e,n){var i=n.ax[0],r=n.ax[1];ln.Nk(t,e,1),ln.Nk(t,e+=4,3),ln.E2(t,e+=4,r.n),ln.E2(t,e+=2,r.m),ln.w1(t,e+=2,n.name+"\0"),e+=4+2*n.name.length+2,ln.Ar(t,e,n.id.length),ln.oW(t,++e,n.id),e+=n.id.length;n=new Rr.vs(r.Z());return Rr.Sk(i,n),e=Ye.ak8(t,e,n,r)},Ye.abn=function(t,e,n){var i={Ni:null,DF:[],ahJ:null,Rm:null};ln.l(t,e),ln.l(t,e+=4);i.Ni=ln.e4(t,e+=4);var r=ln.l(t,e+=16);e+=4;for(var a=0;a<r+2;a++){var s,o,l,h=ln.l(t,e);e+=4,0!=h&&(s=ln.l(t,e),e+=4,0!=s&&(o=ln.l(t,e),e+=4,l=ln.e4(t,e),e+=16,ln.aV(t,e),h=t[e+=2],e++,h=rn.pp(!1,o,t,l.m,l.n,e,h),a<r&&i.DF.push(h),a==r&&(i.ahJ=h),a==r+1&&(i.Rm=h),e+=s-23))}return i.Ni.mN()||(i.DF[0]&&(n.p=i.DF[0]),i.DF[1]?n.z=i.DF[1]:n.z=i.DF[0].slice(0),i.DF[2]?n.S=i.DF[2]:n.S=i.DF[0].slice(0),i.Rm?n.q4=i.Rm:n.q4.fill(255)),e},Ye.ak8=function(t,e,n,i){var r=e,a={Ni:i,DF:[n.p,n.z,n.S],ahJ:null,Rm:n.q4};ln.Nk(t,e,3),ln.Nk(t,e+=4,0),ln.ts(t,e+=4,i),ln.Nk(t,e+=16,24),e+=4;for(var s=0;s<26;s++){var o=e,l=s<3||25==s?1:0;ln.Nk(t,e,l),e+=4,0!=l&&(ln.Nk(t,e,0),e+=4,ln.Nk(t,e,8),e+=4,ln.ts(t,e,i),e+=16,ln.E2(t,e,8),e+=2,ln.Ar(t,e,1,1),e++,l=s<3?a.DF[s]:a.Rm,t.ib(e,i.Z()+2),e=rn.gI(!1,l,t.data,i.m,i.n,e,1),ln.Nk(t,o+4,e-o-8))}return ln.Nk(t,r+4,e-r-8),e},Ke.M9=function(t){var e=new Uint8Array(t),n=0,t=(ln.fb(e,n,4),ln.aV(e,n+=4));n+=2;var i=[];if(t<=3){var r=ln.aV(e,n);n+=2;for(var a=0;a<r;a++){var s=e[n++],o=ln.fb(e,n,s);n+=s;o=(l=Ke.Cu(e,n,o))[0],n=l[1];i.push(o)}}else for(var l={},h=(tn.zm(e,l,n+4),l.GrdL.v),a=0;a<h.length;a++)i[a]=h[a].v.Grad.v;return i},Ke.xk=function(t,e){t.Nm.v=e},Ke.o$=function(t){var e=new Ol,n=0;ln.oW(e,0,"8BGR"),n+=4,ln.E2(e,4,5),n+=2,ln.Nk(e,6,16),n+=4;for(var i={classID:"null",GrdL:{t:"VlLs",v:[]}},r=i.GrdL.v,a=0;a<t.length;a++)r[a]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:t[a]}}};return n+=tn.DA(e,i,10),e.data.slice(0,n).buffer},Ke.Cu=function(t,e,n){var i={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:n},Trns:{t:"VlLs",v:[]}},r=ln.aV(t,e);if(e+=2,0==r)throw"e";for(var a=0;a<r;a++){var s=ln.l(t,e),o=ln.l(t,e+4),l=Ve.oj(t,e+8),h={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:l.p},Grn:{t:"doub",v:l.z},Bl:{t:"doub",v:l.S}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:s},Mdpn:{t:"long",v:o}}};i.Clrs.v.push(h),e+=20}var u=ln.aV(t,e);e+=2;for(a=0;a<u;a++){var s=ln.l(t,e),o=ln.l(t,e+4),f=ln.aV(t,e+8),h={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*f/255)}},Lctn:{t:"long",v:s},Mdpn:{t:"long",v:o}}};i.Trns.v.push(h),e+=10}n=ln.aV(t,e);if(2!=n)throw n;if(i.Intr.v=ln.aV(t,e+=2),32!=ln.aV(t,e+=2))throw"e";return[i,e+=2]},Ke.ac9=function(t,e,n){var i=n.Clrs.v.length;ln.E2(t,e,i),e+=2;for(var r=0;r<i;r++){var a=n.Clrs.v[r];ln.Nk(t,e,a.v.Lctn.v),ln.Nk(t,e+4,a.v.Mdpn.v),ln.E2(t,e+8,0);for(var s=Rr.I.wg(Rr.I.Na(a.v.Clr.v)),o=[s.Rd.v,s.Grn.v,s.Bl.v,0],l=0;l<4;l++)ln.E2(t,e+10+2*l,Math.round(o[l]/255*65535));e+=20}var h=n.Trns.v.length;ln.E2(t,e,h),e+=2;for(r=0;r<h;r++){a=n.Trns.v[r];ln.Nk(t,e,a.v.Lctn.v),ln.Nk(t,e+4,a.v.Mdpn.v),ln.E2(t,e+8,Math.round(255*a.v.Opct.v.val/100)),e+=10}return ln.E2(t,e,2),ln.E2(t,e+=2,n.Intr.v),ln.E2(t,e+=2,32),e+=2},Qe.M9=function(t){var e=new Uint8Array(t),n=[],i=[],r=[],a=[],s=[],o=0;ln.fb(e,o,4),ln.l(e,o+=4),ln.l(e,o+=4);for(o+=4;o<e.length;){ln.fb(e,o,4);o+=4;var l=ln.fb(e,o,4);o+=4;var h=ln.l(e,o);if(o+=4,"tppa"==l)i=Ye.g1(e,o,h),o+=h;else if("tpbd"==l)r=je.bz(e,o,h,1,1),o+=h;else if("tptp"==l){var u=ln.l(e,o);o+=4;for(var f=0;f<u;f++){var c=ln.zq(e,o);o+=6+2*c.length,o+=4;var p={};o+=tn.zm(e,p,o),n.push([c,p])}for(;0!=(3&o);)o++}else if("tpsh"==l){var d=o;for(e.slice(o,o+h);o<d+h;){ln.l(e,o);o+=4,o=ze.US(e,o,"Shape",a)}o=d+h}else{if("tpst"!=l)throw console.log(e.slice(o-8,o+64)),console.log(ln.fb(e,o-8,64)),l;d=o;for(o+=4;o<d+h;){var v=ln.l(e,o),g=o+=4;ln.l(e,o);o+=4;p={Gf:{},yu:{}};s.push(p),o+=4,o+=tn.zm(e,p.Gf,o),o+=4,o+=tn.zm(e,p.yu,o);o=g+v,v=p.yu.Lefx;v&&(null==v.v.masterFXSwitch&&(v.v.masterFXSwitch={t:"bool",v:!0}),en.zo(v.v))}o=d+h}}return{x8:r,u_:i,list:n,apN:a,om:s}},Qe.xk=function(t,e){t[0]=e},Qe.o$=function(t){var e=new Ol,n=0;ln.oW(e,n,"8BTP"),ln.Nk(e,n+=4,3),ln.Nk(e,n+=4,1),n+=4;for(var i=[t.u_,t.x8,t.list],r=0;r<3;r++)if(0!=i[r].length){ln.oW(e,n,"8BIM"),n+=4;var a=["tppa","tpbd","tptp"][r];ln.oW(e,n,a);var s=n+=4;if(n+=4,"tppa"==a)n=Ye.er(e,n,t.u_);else if("tpbd"==a)n=je.i6(e,n,t.x8);else if("tptp"==a){ln.Nk(e,n,t.list.length),n+=4;for(var o=0;o<t.list.length;o++){var l=t.list[o];ln.w1(e,n,l[0]+"\0"),n+=6+2*l[0].length,ln.Nk(e,n,16),n+=4,n+=tn.DA(e,l[1],n)}}for(ln.Nk(e,s,n-s-4);0!=(3&n);)n++;e.ib(n,0)}return e.data.slice(0,n).buffer},$e.M9=function(t,e){var n=new Uint8Array(t),t=ln.l(n,0)==n.length?"icc":n[0]=="<".charCodeAt(0)?"look":-1!=ln.M8(n,"LUT_3D_SIZE")?"cube":"3DL";"icc"!=t&&(t=$e.ara(n,t),n=$e.ahW(t[0],t[1]));for(var i=[],r=0;r<n.length;r++)i.push(n[r]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:e||"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:i}}]},$e.o$=function(t){t=t[0];return new Uint8Array(t.profile.v).buffer},$e.xk=function(t,e){t.Nm.v=e},$e.ahW=function(t,e){var n=new Ol,i=128;n.ib(0,128);for(var r=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62],a=0;a<r.length;a++)n.data[a]=r[a];var s=["desc","A2B0"],o=s.length,l=132+12*o;ln.Nk(n,i,o),i+=4;for(var h=0;h<o;h++){var u=s[h];ln.oW(n,i,u),i+=4,ln.Nk(n,i,l),i+=4;var f=l;if("desc"==u){ln.oW(n,f,"mluc"),f+=4,f+=4,ln.Nk(n,f,1),f+=4,ln.Nk(n,f,12),f+=4,ln.oW(n,f,"enUS"),f+=4;var c="ICC by Photopea\0",p=2*c.length+2;ln.Nk(n,f,p),f+=4,ln.Nk(n,f,28),f+=4,n.ib(f,p);for(a=0;a<c.length;a++)n.data[f+2*a+1]=c.charCodeAt(a);f+=p}if("A2B0"==u){ln.oW(n,f,"mAB "),f+=4,f+=4,n.ib(f,4),n.data[f]=3,n.data[f+1]=3,f+=4,n.ib(f,20),f+=12,ln.Nk(n,f,f+8-l),f+=4,f+=4,n.ib(f,20),n.data[f]=t,n.data[f+1]=t,n.data[f+2]=t,f+=16,n.data[f]=2,f+=4;var d=t*t*t*3;n.ib(f,2*d);for(a=0;a<d;a++)ln.$q(n.data,f+2*a,Math.max(0,Math.min(65535,Math.round(65535*e[a]))));f+=2*d}for(var v=f-l;0!=(3&v);)v++;ln.Nk(n,i,v),i+=4,l+=v}return ln.Nk(n,0,l),n.data.slice(0,l)},$e.ara=function(t,e){e="LUTFormat"+e.toUpperCase();for(var n=[],i=0,r=ln.cP(t,0,t.length),a="",s=0;s<t.length&&""==a;s++)10==t[s]?a="\n":13==t[s]&&(a="\r",10==t[s+1]&&(a+="\n"));if("LUTFormatCUBE"==e){for(var o=r.split(a),s=0;s<o.length;s++)""!=o[s]&&"#"!=o[s][0]&&("LUT_3D_SIZE"!=(h=(l=o[s].split(" "))[0])?-1==["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(h)&&n.push(parseFloat(l[0]),parseFloat(l[1]),parseFloat(l[2])):i=parseInt(l[1]));n=$e.FL(i,n)}else if("LUTFormat3DL"==e)for(o=r.split(a),s=0;s<o.length;s++){var l,h,u=o[s];""==u||"3DMESH"==u||u.startsWith("Mesh")||"#"==u[0]||(h=(l=u.split(" "))[0],0!=i?n.push(parseFloat(l[0])*(1/4095),parseFloat(l[1])*(1/4095),parseFloat(l[2])*(1/4095)):i=l.length)}else{if("LUTFormatLOOK"!=e)throw e;for(var e=(new DOMParser).parseFromString(r,"text/xml").getElementsByTagName("LUT")[0],r=e.children[0].textContent,i=parseInt(JSON.parse(r)),f=(f=e.children[1].textContent).replace(/"/g,"").replace(/\s/g,""),c=3*i*i*i,p=4*c,d=new Uint8Array(p),s=0;s<p;s++){var v=f.charCodeAt(2*s),g=f.charCodeAt(2*s+1);d[s]=((v<58?v-48:v-55)<<4)+(g<58?g-48:g-55)}for(s=0;s<c;s++)n.push(ln.FS(d,s<<2));n=$e.FL(i,n)}return[i,n]},$e.a1w=function(t,e,n){for(var i=["#Created by www.Photopea.com",'TITLE "'+n+'"',"","#LUT size","LUT_3D_SIZE "+e,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],r=0;r<t.length;r+=3)i.push(t[r].toFixed(6)+" "+t[r+1].toFixed(6)+" "+t[r+2].toFixed(6));return i.push(""),ln.u3(i.join("\n")).buffer},$e.FL=function(t,e){for(var n=[],i=t*t*t,r=0;r<i;r++)n.push(0,0,0);for(var a=0;a<t;a++)for(var s=0;s<t;s++)for(var o=0;o<t;o++){var r=3*(o+s*t+a*t*t),l=3*(a+s*t+o*t*t);n[l]=e[r],n[1+l]=e[r+1],n[2+l]=e[r+2]}return n},tn.zm=function(t,e,n,i,r){var a,s=n;null==r&&(r=0),0==ln.l(t,n)?(a="",n+=4):n+=4+2*(a=ln.zq(t,n)).length+2,""!=a&&(e.__name=a),e.classID=tn.kR(t,n),i&&console.log("\t".repeat(r),"- reading descriptor",e.classID,n),n+=tn.zt(t,n);var o=ln.Xu(t,n);n+=4;for(var l=0;l<o;l++){var h=tn.kR(t,n);n+=tn.zt(t,n);var u=tn.vN(t,n,i,r);n+=(e[h]=u).size,delete u.size}return n-s},tn.DA=function(t,e,n,i){var r,a=n,s=e.__name;for(r in null==s&&(s=""),ln.w1(t,n,s+="\0"),n+=4+2*s.length,tn.N$(t,n,e.classID),n+=tn.zt(t.data,n),ln.sY(t,n,Object.keys(e).length-1-(null==e.__name?0:1)),n+=4,e)"classID"!=r&&"__name"!=r&&(tn.N$(t,n,r),n+=tn.zt(t.data,n),n+=tn.$z(t,n,e[r]));return n-a},tn.vN=function(t,e,n,i){var r=e,a=ln.fb(t,e,4);e+=4;var s={size:0,t:a,v:null};switch(n&&console.log("\t".repeat(i),"reading key",a,r),a){case"obj ":case"VlLs":s.v=[];var o=ln.l(t,e);e+=4;for(var l=0;l<o;l++){var h=tn.vN(t,e,n,i+1);e+=h.size,delete h.size,s.v.push(h)}break;case"UntF":s.v={type:ln.fb(t,e,4),val:ln.tG(t,e+4)},e+=12;break;case"doub":s.v=ln.tG(t,e),e+=8;break;case"bool":s.v=1==t[e],e+=1;break;case"long":s.v=ln.Xu(t,e),e+=4;break;case"comp":s.v=ln.Xu(t,e+4),e+=8;break;case"Objc":s.v={},e+=tn.zm(t,s.v,e,n,i+1);break;case"TEXT":0==ln.l(t,e)?(s.v="",e+=4):(s.v=ln.zq(t,e),e+=4+2*s.v.length+2);break;case"enum":var u=tn.kR(t,e);e+=tn.zt(t,e);var f=tn.kR(t,e);e+=tn.zt(t,e),s.v={},s.v[u]=f;break;case"tdta":var c=ln.Xu(t,e);e+=4,s.v=[];for(l=0;l<c;l++)s.v.push(t[e+l]);e+=c;break;case"ObAr":ln.l(t,e);var p=ln.zq(t,e+=4);if(e+=4+2*p.length+2,""!=p)throw p;var d=tn.kR(t,e);e+=4+Math.max(4,d.length),s.v={classID:d,arr:[]};var v=ln.l(t,e);e+=4;for(l=0;l<v;l++){d=tn.kR(t,e);e+=4+Math.max(4,d.length);u=ln.fb(t,e,4);e+=4;var g=ln.fb(t,e,4);e+=4;var y={id:d,type:u,uID:g,arr:[]};s.v.arr.push(y);var m=ln.l(t,e,4);e+=4;for(var w=0;w<m;w++){var b=ln.tG(t,e);e+=8,y.arr.push(b)}}break;case"Pth ":c=ln.l(t,e),p=ln.fb(t,e+=4,4),ln.UF(t,e+=4);e+=4,e+=4+2*(C=ln.aoq(t,e)).length,s.v={sig:p,pth:C};break;case"Clss":case"type":case"rele":e+=4+2*(C=ln.zq(t,e)).length+2;var M=tn.kR(t,e);e+=4+Math.max(4,M.length),s.v={classID:M},""!=C&&(s.v.__name=C),"rele"==a&&(s.v.val=ln.Xu(t,e),e+=4);break;case"prop":case"Enmr":case"indx":case"name":var S=tn.Ko[a];if(e+=4+2*(C=ln.zq(t,e)).length+2,0!=C.length)throw console.log(a,C),"e";s.v={};for(var C,l=0;l<S.length;l++){M=tn.kR(t,e);e+=4+Math.max(4,M.length),s.v[S[l]]=M}"name"==a&&(e+=4+2*(C=ln.zq(t,e)).length+2,s.v.val=C),"indx"==a&&(s.v.val=ln.l(t,e),e+=4);break;case"alis":c=ln.l(t,e);s.v=ln.fb(t,e+=4,c),e+=c;break;default:throw console.log("unknown oskey: "+a+", "+r),"e"}return n&&(console.log("\t".repeat(i),s.v),console.log("\t".repeat(i),"======",e)),s.size=e-r,s},tn.Ko={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"]},tn.$z=function(t,e,n){var i=e,r=n.t;switch(n=n.v,ln.oW(t,e,r),e+=4,r){case"obj ":case"VlLs":ln.sY(t,e,n.length),e+=4;for(var a=0;a<n.length;a++)e+=tn.$z(t,e,n[a]);break;case"UntF":ln.oW(t,e,n.type),ln.wL(t,e+4,n.val),e+=12;break;case"doub":ln.wL(t,e,n),e+=8;break;case"bool":ln.Ar(t,e,n?1:0,1),e+=1;break;case"long":ln.sY(t,e,n),e+=4;break;case"comp":ln.sY(t,e+4,n),e+=8;break;case"Objc":e+=tn.DA(t,n,e);break;case"TEXT":ln.w1(t,e,n+"\0"),e+=4+2*n.length+2;break;case"enum":var s=Object.keys(n)[0],o=n[s];tn.N$(t,e,s),e+=tn.zt(t.data,e),tn.N$(t,e,o),e+=tn.zt(t.data,e);break;case"tdta":ln.Nk(t,e,n.length),ln.zS(t,e+=4,n),e+=n.length;break;case"ObAr":ln.Nk(t,e,n.arr[0].arr.length),ln.w1(t,e+=4,"\0"),tn.N$(t,e+=6,n.classID),e+=4+Math.max(4,n.classID.length),ln.Nk(t,e,n.arr.length),e+=4;for(var l=0;l<n.arr.length;l++){var h=n.arr[l];tn.N$(t,e,h.id),e+=4+Math.max(4,h.id.length),ln.oW(t,e,h.type),e+=4,ln.oW(t,e,h.uID),e+=4,ln.Nk(t,e,h.arr.length),e+=4;for(a=0;a<h.arr.length;a++)ln.wL(t,e,h.arr[a]),e+=8}break;case"Pth ":var u=2*n.pth.length+4+8;ln.Nk(t,e,u),ln.oW(t,e+=4,n.sig),ln.SN(t,e+=4,u),ln.asW(t,e+=4,n.pth),e+=2*n.pth.length+4;break;case"Clss":case"type":case"rele":o=n.__name;ln.w1(t,e,(o=null==o?"":o)+"\0"),e+=4+2*o.length+2;var f=n.classID;tn.N$(t,e,f),e+=4+Math.max(4,f.length),"rele"==r&&(ln.sY(t,e,n.val),e+=4);break;case"prop":case"Enmr":case"indx":case"name":var c=tn.Ko[r];ln.Nk(t,e,1),e+=6;for(l=0;l<c.length;l++){f=n[c[l]];tn.N$(t,e,f),e+=4+Math.max(4,f.length)}"name"==r&&(ln.w1(t,e,n.val+"\0"),e+=4+2*n.val.length+2),"indx"==r&&(ln.Nk(t,e,n.val),e+=4);break;case"alis":u=n.length;ln.Nk(t,e,u),ln.oW(t,e+=4,n),e+=u;break;default:console.log("unknown oskey: "+r),e=i}return e-i},tn.kR=function(t,e){var n=ln.Xu(t,e);if(1e3<n)throw"e";return ln.fb(t,e+4,n=0==n?4:n).trim()},tn.zt=function(t,e){e=ln.Xu(t,e);return 0==e?8:4+e},tn.N$=function(t,e,n){var i="warp list Comp xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow trim then else".split(" "),i=4<n.length||-1!=i.indexOf(n);if(ln.sY(t,e,i?n.length:0),ln.oW(t,e+4,n),n.length<4&&!i){for(var r="",a=n.length;a<4;a++)r+=" ";ln.oW(t,e+4+n.length,r)}},tn.amA=function(t){var e,n={};for(e in t)n[e]="classID"==e||"__name"==e?t[e]:tn.Np(t[e]);return n},tn.Np=function(t){if("Objc"==t.sB)return tn.amA(t.v);if("VlLs"!=t.sB)return"UntF"==t.sB?t.v.val:t.v;for(var e=[],n=0;n<t.v.length;n++)e.push(tn.Np(t.v[n]));return e},en.$M=function(t,e,n,i,r,a){for(;e<n;){var s=ln.fb(t,e,4);if(e+=4,"8BIM"!=s&&"8B64"!=s)return console.log("layer information signature error! "+s,"PSB = "+r),alert("Error in PSD file: wrong signature."),n;var o=ln.fb(t,e,4);e+=4;var l=ln.l(t,e);e+=4,r&&-1!="LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(o)&&(l=l<<32|ln.Xu(t,e),e+=4);if(-1==["lrFX","PlLd"].indexOf(o)){switch(o){case"iOpa":i[o]=t[e];break;case"brst":i[o]=[1,1,1];for(var h=0;h<l;h+=4)i[o][ln.l(t,e+h)]=0;break;case"knko":case"infx":case"clbl":case"lmgm":case"vmgm":case"fcmy":i[o]=t[e];break;case"lyid":i[o]=ln.l(t,e);break;case"lsct":i[o]={type:ln.l(t,e)},12<=l&&(i[o].SD=ln.fb(t,e+8,4));break;case"lsdk":i.lsct={type:ln.l(t,e)};break;case"lyvr":i[o]=ln.l(t,e);break;case"lnsr":i[o]=ln.fb(t,e,4);break;case"lspf":i[o]=ln.l(t,e);break;case"lclr":i[o]=ln.aV(t,e);break;case"luni":i[o]=ln.gj(t,e);break;case"fxrp":i[o]=new Pr(ln.tG(t,e),ln.tG(t,e+8));break;case"artb":case"artd":case"SoCo":i[o]={},tn.zm(t,i[o],e+4);break;case"GdFl":case"PtFl":i[o]={},tn.zm(t,i[o],e+4),en.P6(i[o],o);break;case"CgEd":var u=i.brit=Gr.PD("brit"),f={};tn.zm(t,f,e+4),u.Brgh.v=f.Brgh?f.Brgh.v:0,u.Cntr.v=f.Cntr?f.Cntr.v:0,u.useLegacy.v=f.useLegacy?f.useLegacy.v:0;break;case"brit":null==i.brit&&(f={},(u=i.brit=Gr.PD("brit")).Brgh.v=ln.Kh(t,e),u.Cntr.v=ln.Kh(t,e+2),u.useLegacy.v=!1);break;case"levl":var c=t.buffer.slice(e,e+l);i[o]=qe.M9(c);break;case"curv":i[o]=He.c1(t,e,l);break;case"expA":var p=ln.aV(t,e);(y=i[o]=Gr.PD("expA")).Exps.v=ln.PT(t,e+2),y.Ofst.v=ln.PT(t,e+6),y.gammaCorrection.v=ln.PT(t,e+10);break;case"vibA":i[o]={},tn.zm(t,i[o],e+4);break;case"hue2":i[o]=Je.c1(t,e,l);break;case"blnc":(y=i[o]=Gr.PD(o)).PrsL.v=1==t[e+18];for(var d=["ShdL","MdtL","HghL"],h=0;h<3;h++)for(var v=0;v<3;v++)y[d[h]].v[v].v=ln.Kh(t,e+6*h+2*v);break;case"blwh":var g={};tn.zm(t,g,e+4);for(var y=Gr.PD(o),m="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" "),h=0;h<m.length;h++)y[m[h]]=g[m[h]],delete g[m[h]];i[o]=y;break;case"phfl":var w=(y=i[o]=Gr.PD(o)).Clr.v;if(3==(p=ln.aV(t,e))&&(k=[ln.l(t,e+2),ln.l(t,e+6),ln.l(t,e+10)],T=Rr.Vi(k[0]/32768,k[1]/32768,k[2]/32768),w.Lmnc.v=T.HH,w.A.v=T.q4,w.B.v=T.S),2==p){if(7!=ln.aV(t,e+2))throw"e";w.Lmnc.v=ln.Kh(t,e+4)/100,w.A.v=ln.Kh(t,e+6)/100,w.B.v=ln.Kh(t,e+8)/100}var b=e+2+(3==p?12:10);y.Dnst.v=ln.l(t,b),b+=4,y.PrsL.v=1==t[b];break;case"mixr":for(var M={hb:1==ln.aV(t,e+2),k:[]},h=0;h<20;h++)M.k.push(ln.Kh(t,e+4+2*h));i[o]=ji.X1(M);break;case"clrL":case"rplc":i[o]={},tn.zm(t,i[o],e+6);break;case"nvrt":i[o]={};break;case"post":i[o]=Gr.PD("post"),i[o].Lvls.v=ln.aV(t,e);break;case"thrs":i[o]=Gr.PD("thrs"),i[o].Lvl.v=ln.aV(t,e);break;case"grdm":var S=e,C=1==t[e+2];t[e+3];S+=4;var x=ln.gj(t,S);S+=4+2*x.length;var L=(W=Ke.Cu(t,S,x))[0];S=W[1];var D=ln.aV(t,S);S+=2;c=ln.l(t,S);S+=4;var k=1==ln.aV(t,S);S+=2;var T=1==ln.aV(t,S);S+=2;var A=ln.l(t,S);S+=4;ln.aV(t,S);S+=2;for(var E=[],O=[],h=0;h<4;h++)E.push({t:"long",v:~~(100*ln.aV(t,S+2*h)/32768)}),O.push({t:"long",v:~~(100*ln.aV(t,S+2*h+8)/32768)});S+=16;ln.aV(t,S);S+=2,1==D&&(L={classID:"Grdn",Nm:{t:"TEXT",v:x},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:k},VctC:{t:"bool",v:T},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:c},Smth:{t:"long",v:A},Mnm:{t:"VlLs",v:E},Mxm:{t:"VlLs",v:O}});A=Gr.PD("grdm");A.Rvrs.v=C,A.Grad.v=L,i[o]=A;break;case"selc":i[o]=Ze.c1(t,e,l);break;case"vmsk":case"vsms":var N=i.vmsk=new qi.g6,A=ln.Xu(t,e+4);N.$j=0==(A>>1&1),N.isEnabled=0==(A>>2&1),N.Y=ze.r8(t,e+8,l-8,a.m,a.n);break;case"shmd":i[o]={};for(var I=ln.l(t,e),b=e+4,h=0;h<I;h++){s=ln.fb(t,b,4);b+=4;var P=ln.fb(t,b,4);t[b+=4];if(b++,0!=Math.max(t[b],t[b+1]))throw"e";b+=3;var F=ln.l(t,b);b+=4,"cust"==P||"cmls"==P||"extn"==P||"mlst"==P?(16!=ln.l(t,b)&&(b+=4),16==ln.l(t,b)&&(tn.zm(t,g={},b+4,!1),i[o][P]=g,"cmls"==P&&qr.iZ.a3D(i[o][P]))):console.log("unknown shmd key: "+P+", size: "+F),b+=F}break;case"shpa":p=ln.l(t,e);0!=(nt=ln.l(t,e+4))&&console.log("some patterns present!");break;case"TySh":var _=i[o]={},p=ln.aV(t,e);_.A=ln.Xm(t,e+2);ln.aV(t,e+2+48);_.wq={};var B,R=tn.zm(t,_.wq,e+56),U=ir.arA();for(B in U)null==_.wq[B]&&(_.wq[B]=U[B]);_.pZ={};N=tn.zm(t,_.pZ,e+56+R+6);_.qK=ln.ad3(t,e+56+R+6+N),_.nx=sn.M9(_.wq.EngineData.v),ir.afQ(_.nx.EngineDict.StyleRun.RunArray),null==_.nx.ResourceDict&&(_.nx.ResourceDict=JSON.parse(JSON.stringify(_.nx.DocumentResources))),delete _.wq.EngineData;break;case"lfx2":case"lmfx":case"lfxs":ln.l(t,e),ln.l(t,e+4);i.lmfx={};R=tn.zm(t,i.lmfx,e+8);en.zo(i.lmfx);break;case"FMsk":i[o]=ln.hT(t,e,l);break;case"Txt2":i[o]={},i[o].raw=ln.hT(t,e,l),i[o].BE=on.M9(i[o].raw);break;case"Patt":i[o]=Ye.g1(t,e,l);break;case"SoLd":ln.fb(t,e,4),ln.l(t,e+4),ln.l(t,e+8);i[o]={};tn.zm(t,i[o],e+12);null==i[o].nonAffineTransform&&(i[o].nonAffineTransform=JSON.parse(JSON.stringify(i[o].Trnf))),null==i[o].Impr&&(i[o].Impr={t:"Objc",v:{__name:"None",classID:"none"}});break;case"vstk":case"pths":ln.l(t,e);i[o]={};tn.zm(t,i[o],e+4);break;case"vscg":P=ln.fb(t,e,4),ln.l(t,e+4);i[P]={};tn.zm(t,i[P],e+8);en.P6(i[P],P);break;case"vogk":ln.l(t,e),ln.l(t,e+4);i[o]={};tn.zm(t,i[o],e+8);i[o]=i[o].keyDescriptorList.v;for(h=0;h<i[o].length;h++){var j,H=i[o][h].v;Rr.UY.nP(H)&&null==H.keyOriginBoxCorners&&(j=Rr.UY._h(H),H.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}},j=[j[0],j[1],j[2],j[1],j[2],j[3],j[0],j[3]],4==H.keyOriginType.v&&(j=Rr.UY.Bk(Rr.UY.cc(H),H.keyOriginLineWeight.v)),Rr.UY.ql(H,"keyOriginBoxCorners",j))}break;case"lnk2":case"lnkD__":case"lnk3__":i[o]=[];for(S=e;S<e+l;){var J=new qi.fm;i[o].push(J);var q=ln.b1(t,S),G=S+=8;if(J.type=ln.fb(t,S,4),S+=4,"liFD"!=J.type){alert("Unknown Linked Layer type: "+J.type);break}J.pH=ln.l(t,S),S+=4;var Z=ln.ZF(t,S);S+=1+Z.w9.length,J.n4=Z.w9,J.s3=ln.zq(t,S),S+=4+2*J.s3.length+2,J.SB=ln.fb(t,S,4),S+=4,J.cZ=ln.fb(t,S,4),S+=4;var z=ln.b1(t,S);S+=8,J.open=t[S],S+=1,0!=J.open&&((R=tn.zm(t,Z={},S+4))%4!=0&&(R+=4-R%4),console.log(Z),S+=R+4),J.open=0,J.raw=ln.hT(t,S,z),S=G+q,q%4!=0&&(S+=4-q%4)}break;case"FEid":S=e;i[o]=[];var V=S+l,p=ln.l(t,S);for(S+=4;S<V;){S+=4;q=ln.l(t,S);S+=4;var W={};i[o].push(W),W.id=ln.ZF(t,S).w9,S+=W.id.length+1;p=ln.l(t,S);S+=4,S+=4;ln.l(t,S);S+=4,W.rect=ln.e4(t,S),S+=16;var X=ln.l(t,S);S+=4;var Y=ln.l(t,S);S+=4;for(var K=new Rr.vs(0),h=0;h<Y+2;h++){var Q,$=ln.l(t,S);S+=4,0!=$&&(S+=4,Q=ln.l(t,S),$=null,S+=4,(h<3||25==h)&&($=rn.OO(!0,X,t,W.rect.m,W.rect.n,S,Q)),0==h&&(K.p=$),1==h&&(K.z=$),2==h&&(K.S=$),25==h&&(K.q4=$),S+=Q)}W.buffer=Rr.t(4*W.rect.Z()),Rr.M1(K,W.buffer),Rr.Kl(W);var tt=t[S];S++,0!=tt&&(W.q=new qi.vi,W.q.rect=ln.e4(t,S),S+=16,S+=4,tt=ln.l(t,S),S+=4,W.q.channel=rn.OO(!0,X,t,W.q.rect.m,W.q.rect.n,S,tt),W.q.color=255,W.q.Er(),S+=tt),q%4!=0&&(S+=4-q%4)}break;case"Lr16":an.Uv(a,t,e);break;case"Anno":i[o]=[];var et=e+4,nt=ln.l(t,et);et+=4;for(h=0;h<nt;h++){q=ln.l(t,et);et+=4;var it=ln.fb(t,et,4);if(et+=4,"txtA"!=it)throw it;t[et++],t[et++],ln.aV(t,et);et+=2;var rt=ln.e4(t,et);et+=16;ln.e4(t,et);et+=16;w=Ve.oj(t,et);et+=10;var at=ln.ZF(t,et);et+=at.length,et+=ln.ZF(t,et).length,et+=ln.ZF(t,et).length;ln.l(t,et);et+=4;ln.fb(t,et,4);et+=4;var st=ln.l(t,et);et+=4;it=ln.yw(t,et+2,st-2>>1);et+=st,i[o].push([rt.x,rt.y,w,at.w9,it])}}-1=="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf Anno".split(" ").indexOf(o)&&l%4!=0&&console.log("size not multiple of 4!!!",o),"luni"!=o&&"TySh"!=o&&"tySh"!=o&&"lfx2"!=o&&l%4!=0&&(l+=4-l%4),e+=l}else l%4!=0&&(l+=4-l%4),e+=l}for(var ot=[],h=0;h<ot.length;h++)delete i[ot[h]];return e},en.UD=function(t,e,n,i,r){for(var a in n)null==n[a]&&(alert("A bug occured (see console)."),console.log('Please, report a bug, that "'+a+'" tag was present with a null value.'),delete n[a]);for(var a in n){var s=i&&-1!="LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(a),o=0;ln.oW(t,e,s?"8B64":"8BIM");var l=e+=4;switch(ln.oW(t,e,a),e+=4,ln.sY(t,e,0),e+=s?8:4,a){case"iOpa":ln.Ar(t,e,n[a],1),o=4;break;case"brst":for(var o=0,h=0;h<3;h++)0==n[a][h]&&(ln.Nk(t,e+o,h),o+=4);break;case"knko":case"infx":case"clbl":case"lmgm":case"vmgm":case"fcmy":ln.Ar(t,e,n[a],1),o=4;break;case"lyid":ln.Nk(t,e,n[a]),o=4;break;case"lsct":ln.Nk(t,e,n[a].type),o=4,n[a].SD&&(ln.oW(t,e+4,"8BIM"),ln.oW(t,e+8,n[a].SD),o=12);break;case"lyvr":ln.Nk(t,e,n[a]),o=4;break;case"lnsr":ln.oW(t,e,n[a]),o=4;break;case"lspf":ln.Nk(t,e,n[a]),o=4;break;case"lclr":ln.E2(t,e,n[a]),o=8;break;case"luni":ln.w1(t,e,n[a]),o=4+2*n[a].length;break;case"fxrp":ln.wL(t,e,n[a].x),ln.wL(t,e+8,n[a].y),o=16;break;case"artb":case"artd":case"SoCo":case"GdFl":case"PtFl":ln.Nk(t,e,16),o=tn.DA(t,n[a],e+4)+4;break;case"CgEd":var u=g={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},f=n[a];u.Brgh.v=f.Brgh.v,u.Cntr.v=f.Cntr.v,u.useLegacy.v=f.useLegacy.v,ln.Nk(t,e,16),o=tn.DA(t,g,e+4)+4;break;case"brit":t.ib(e,8),o=8;break;case"levl":var c=new Ol;o=qe.o$(c,n[a]),ln.zS(t,e,c.data);break;case"curv":o=He.B7(t,e,n[a]);break;case"expA":t.ib(e,o=14),ln.$q(t.data,e,1),ln.$D(t.data,e+2,n[a].Exps?n[a].Exps.v:0),ln.$D(t.data,e+6,n[a].Ofst?n[a].Ofst.v:0),ln.$D(t.data,e+10,n[a].gammaCorrection?n[a].gammaCorrection.v:1);break;case"vibA":ln.Nk(t,e,16),o=tn.DA(t,n[a],e+4)+4;break;case"hue2":o=Je.B7(t,e,n[a]);break;case"blnc":t.ib(e,o=19);for(var p=["ShdL","MdtL","HghL"],h=0;h<3;h++)for(var d=n[a][p[h]].v,v=0;v<3;v++)d.push(ln.n_(t.data,e+6*h+2*v,d[v].v));t.data[e+18]=n[a].PrsL.v?1:0;break;case"blwh":for(var g={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},y="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" "),h=0;h<y.length;h++)g[y[h]]=n[a][y[h]];ln.Nk(t,e,16),o=tn.DA(t,g,e+4)+4;break;case"phfl":ln.E2(t,e,2);var m=n[a].Clr.v;ln.E2(t,e+2,7),ln.E2(t,e+4,Math.round(100*m.Lmnc.v)),ln.E2(t,e+6,Math.round(100*m.A.v)),ln.E2(t,e+8,Math.round(100*m.B.v)),ln.E2(t,e+10,0);var w=e+2+10;t.ib(w,5),ln.Kp(t.data,w,n[a].Dnst.v),w+=4,t.data[w]=n[a].PrsL.v?1:0,o=++w-e;break;case"mixr":t.ib(e,o=44);var b=ji.hZ(n[a]);ln.$q(t.data,e,1),ln.$q(t.data,e+2,b.hb?1:0);for(h=0;h<20;h++)ln.n_(t.data,e+4+2*h,b.k[h]);break;case"clrL":case"rplc":ln.E2(t,e,1),ln.Nk(t,e+2,16),o=tn.DA(t,n[a],e+6)+6;break;case"nvrt":o=0;break;case"post":ln.E2(t,e,n[a].Lvls.v),o=2;break;case"thrs":ln.E2(t,e,n[a].Lvl.v),o=2;break;case"grdm":var M,f=!!n[a].Rvrs&&n[a].Rvrs.v,S=[0,0,0,0],C=[32768,32768,32768,32768],c=n[a].Grad.v,m=null==c.Clrs?1:0,x=0==m?(M=c,JSON.parse(Wi.I6.a88).v):(M=Gr.PD("grdm").Grad.v,c);t.ib(e,4),ln.$q(t.data,e,1),t.data[e+2]=f?1:0,t.data[e+3]=0;var L=e+4;ln.w1(t,L,c.Nm.v),L+=4+2*c.Nm.v.length,L=Ke.ac9(t,L,M),ln.E2(t,L,m),L+=2,ln.Nk(t,L,x.RndS.v),L+=4,ln.E2(t,L,x.ShTr.v?1:0),L+=2,ln.E2(t,L,x.VctC.v?1:0),L+=2,ln.Nk(t,L,x.Smth.v),L+=4,ln.E2(t,L,3),L+=2;for(h=0;h<4;h++)ln.E2(t,L+2*h,S[h]);L+=8;for(h=0;h<4;h++)ln.E2(t,L+2*h,C[h]);L+=8,o=(L+=2)-e;break;case"selc":o=Ze.B7(t,e,n[a]);break;case"FMsk":ln.zS(t,e,n[a]),o=n[a].length;break;case"Txt2":for(var D=new Ol,k=on.ij(n[a].BE,D),T=Rr.t(k,!0),h=0;h<k;h++)T[h]=D.data[h];ln.zS(t,e,T),o=T.length;break;case"vmsk":var x=n[a],A=0;ln.Nk(t,e,3),x.$j||(A+=2),x.isEnabled||(A+=4),ln.Nk(t,e+4,A);A=x.Y.length;t.ib(e+(o=8),26*A),ze.m1(t.data,e+8,x.Y,r.m,r.n),o+=26*A;break;case"shmd":ln.Nk(t,e,Object.keys(n[a]).length);var E,w=e+4;for(E in n[a]){ln.oW(t,w,"8BIM"),w+=4,ln.oW(t,w,E),w+=4,ln.Nk(t,w,0),w+=4,ln.Nk(t,w,0),w+=4,ln.Nk(t,w,16),w+=4;var O=tn.DA(t,n[a][E],w);O%4!=0&&(O+=4-O%4),ln.Nk(t,w-8,O+4),w+=O}o=w-e;break;case"TySh":w=e;ln.Q$(t,w,1),w+=2;var N=n[a],D=new Ol;N.nx.DocumentResources=JSON.parse(JSON.stringify(N.nx.ResourceDict));for(k=sn.ij(N.nx,D),T=Rr.t(k,!0),h=0;h<k;h++)T[h]=D.data[h];N.wq.EngineData={t:"tdta",v:T};A=N.nx.EngineDict.Editor.Text;N.wq.Txt.v=A.substring(0,A.length-1),ln.a1Y(t,w,N.A),w+=48,ln.Q$(t,w,50),w+=2,ln.Nk(t,w,16),w+=4,w+=tn.DA(t,N.wq,w),ln.Q$(t,w,1),w+=2,ln.Nk(t,w,16),w+=4,w+=tn.DA(t,N.pZ,w),ln.a7C(t,w,N.qK),o=(w+=16)-e;break;case"lmfx":ln.Nk(t,e,0),ln.Nk(t,e+4,16);var g=JSON.parse(JSON.stringify(n[a])),I=!1;en.NQ(g);for(h=0;h<Wi.Th.length;h++)null!=g[Wi.Th[h]]&&(I=!0);ln.oW(t,l,I?"lmfx":"lfx2"),o=tn.DA(t,g,e+8)+8;break;case"Patt":o=(w=Ye.er(t,e,n[a]))-e;break;case"SoLd":ln.oW(t,e,"soLD"),ln.Nk(t,e+4,4),ln.Nk(t,e+8,16),o=tn.DA(t,n[a],e+12)+12;break;case"vstk":case"pths":ln.Nk(t,e,16),o=tn.DA(t,n[a],e+4)+4;break;case"vscg__":ln.oW(t,e,n[a].key),ln.Nk(t,e+4,16),o=tn.DA(t,n[a].k,e+8)+8;break;case"vogk":ln.Nk(t,e,1),ln.Nk(t,e+4,16),Rr.UY.a2j(n[a]);for(h=0;h<n[a].length;h++){var P=n[a][h].v.keyOriginResolution;P&&(P.v=r.Mg)}N={classID:"null",keyDescriptorList:{t:"VlLs",v:n[a]}};o=tn.DA(t,N,e+8)+8;break;case"lnkD":case"lnk2":case"lnk3":for(L=e,h=0;h<n[a].length;h++){var F=n[a][h],_=L;ln.Oa(t,L,0),L+=8,ln.oW(t,L,F.type),L+=4,ln.Nk(t,L,F.pH),L+=4,t.ib(L,1),t.data[L]=F.n4.length,L++,ln.oW(t,L,F.n4),L+=F.n4.length,ln.w1(t,L,F.s3+"\0"),L+=4+2*F.s3.length+2,ln.oW(t,L,F.SB),L+=4,ln.oW(t,L,F.cZ),L+=4,ln.Oa(t,L,F.raw.length),L+=8,t.ib(L,1),t.data[L]=F.open,L++,ln.zS(t,L,F.raw),L+=F.raw.length,ln.Nk(t,L,1),L+=4;var B=(L+=11)-_-8;ln.Oa(t,_,B),B%4!=0&&(t.ib(L,4-B%4),L+=4-B%4)}o=L-e;break;case"FEid":L=e;ln.Nk(t,L,3),L+=4;for(var R=0;R<n[a].length;R++){var U=n[a][R],j=L+=4;L+=4,ln.nU(t,L,U.id),L+=U.id.length+1,ln.Nk(t,L,1),L+=4;var H=Rr.t(U.rect.Z()),J=U.rect,q=Rr.t(J.Z()),G=L+=4;L+=4,ln.ts(t,L,J),L+=16,ln.Nk(t,L,8),L+=4,ln.Nk(t,L,24),L+=4;for(var Z,z,h=0;h<26;h++){var V=25==h?3:2==h?2:1==h?1:0==h?0:-1;ln.Nk(t,L,-1!=V?1:0),L+=4,-1!=V&&(Rr.VW(U.buffer,H,V),Rr.rR(H,U.rect,q,J),V=L+=4,L+=4,t.ib(L,J.Z()+2),L=rn.qv(!0,q,t.data,J.m,J.n,L,3),ln.Nk(t,V,L-(V+4)))}ln.Nk(t,G,L-(G+4)),t.ib(L,1),t.data[L]=U.q?1:0,L++,null!=U.q&&((z=Rr.t((Z=J).Z())).fill(U.q.color),Rr.rR(U.q.channel,U.q.rect,z,Z),ln.ts(t,L,Z),L+=16,G=L+=4,L+=4,t.ib(L,Z.Z()+2),L=rn.qv(!0,z,t.data,Z.m,Z.n,L,3),ln.Nk(t,G,L-(G+4)));B=L-(j+4);ln.Nk(t,j,B),B%4!=0&&(L+=4-B%4)}o=L-e;break;case"Anno":var W=e,X=n[a].length;ln.E2(t,W,2),ln.E2(t,W+2,1),W+=4,ln.Nk(t,W,X),W+=4;for(h=0;h<X;h++){var Y=n[a][h],K=Y[0],Q=Y[1],$=W;W+=4,ln.oW(t,W,"txtA"),W+=4,t.ib(W,2),t.data[W]=1,t.data[W+1]=28,W+=2,ln.E2(t,W,1),W+=2,ln.ts(t,W,new Fr(K,Q,17,21)),W+=16,ln.ts(t,W,new Fr(K+8,Q+10,241,141)),W+=16,t.ib(W,10),Ve.MF(t.data,W,Y[2]),W+=10,W+=ln.nU(t,W,Y[3]),W+=ln.nU(t,W,""),W+=ln.nU(t,W,"D:20211012120233+01'00'");Q=2*Y[4].length;ln.Nk(t,W,14+Q),W+=4,ln.oW(t,W,"txtC"),W+=4,ln.Nk(t,W,2+Q),W+=4,t.ib(W,2),t.data[W]=254,t.data[W+1]=255,W+=2,ln.ahM(t,W,Y[4]),W+=Q,ln.Nk(t,$,W-$)}o=W-e;break;default:console.log("unknown layer tag: "+a+", size: "+o),e-=12;continue}-1==["Txt2","artd","extd","pths"].indexOf(a)&&o%4!=0&&(o+=4-o%4),s?ln.Oa(t,e-8,o):ln.Nk(t,e-4,o),"luni"!=a&&"TySh"!=a&&o%4!=0&&(o+=4-o%4),e+=o}return e},en.zo=function(t){for(var e=0;e<Wi.order.length;e++){var n=Wi.order[e],i=Wi.Th[e];null==t[i]&&(t[i]={t:"VlLs",v:[]}),null!=t[n]&&(t[i].v.push(t[n]),delete t[n]);for(var r=[],a=0;a<t[i].v.length;a++){var s=t[i].v[a];null!=s.v.present&&1!=s.v.present.v||r.push(s)}t[i].v=r}},en.NQ=function(t){for(var e=0;e<Wi.order.length;e++){var n=Wi.order[e],i=Wi.Th[e],r=t[i].v.length;0!=r?1!=r||(t[n]=t[i].v[0],delete t[i]):delete t[i]}},en.P6=function(t,e){"GdFl"==e&&(null==t.Angl&&(t.Angl={v:{type:"#Ang",val:0},t:"UntF"}),null==t.Algn&&(t.Algn={v:!0,t:"bool"}),null==t.Scl&&(t.Scl={v:{type:"#Prc",val:100},t:"UntF"}),null==t.Ofst&&(t.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"}),null==t.Rvrs&&(t.Rvrs={v:!1,t:"bool"}),null==t.Dthr&&(t.Dthr={v:!1,t:"bool"})),"PtFl"==e&&(null==t.Algn&&(t.Algn={v:!0,t:"bool"}),null==t.Angl&&(t.Angl={v:{type:"#Ang",val:0},t:"UntF"}),null==t.Scl&&(t.Scl={v:{type:"#Prc",val:100},t:"UntF"}),null==t.phase&&(t.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}))},en.clone=function(t,e){var n={};return"TySh"==t?(n.A=e.A.clone(),n.wq=JSON.parse(JSON.stringify(e.wq)),n.pZ=JSON.parse(JSON.stringify(e.pZ)),n.qK=e.qK.clone(),n.nx=JSON.parse(JSON.stringify(e.nx)),e.add&&(n.add={vmsk:e.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(e.add.vogk))}),n):"fxrp"==t||"vmsk"==t?e.clone():JSON.parse(JSON.stringify(e))},nn.M9=function(t,e,n,i){return i=nn.are(t,e,n,i)},nn.ij=function(t,e,n,i,r){return i=nn.abm(t,e,n,i,r)},nn.are=function(t,e,n,i){t.rect=ln.e4(n,i);var r=ln.aV(n,i+=16);i+=2,t.jN=[];for(var a=e.Kq,s=0;s<r;s++)t.jN[s]={id:ln.Kh(n,i),length:(a?ln.b1:ln.l)(n,i+2)},i+=a?10:6;var o=ln.fb(n,i,4);if(i+=4,"8BIM"!=o)throw console.log("Invalid Blend mode signature: "+o),alert("Error in Photoshop file: wrong signature."),"e";t.SD=ln.fb(n,i,4),t.opacity=n[i+=4],t.jF=1==n[i+=1],t.OW=n[i+=1],0!=n[i+=1]&&console.log("error in filler!");var l=ln.l(n,i+=1),h=i+=4;i=nn.ah$(t,n,i),i=nn.aaT(t,n,i);o=ln.ZF(n,i);return t.name=o.w9,i+=o.length,o.length%4!=0&&(i+=4-o.length%4),i=en.$M(n,i,h+l,t.add,a,e),t.add.lsct&&(t.add.lsct.SD&&(t.SD=t.add.lsct.SD),t.add.lsct=t.add.lsct.type),i},nn.abm=function(t,e,n,i,r){ln.ts(n,i,t.rect),i+=16;var a=t.Q9();ln.E2(n,i,a.length);var s=e.Kq;r.push(i+=2);for(var o=0;o<a.length;o++)ln.Q$(n,i,a[o]),s?ln.Oa(n,i+2,0):ln.Nk(n,i+2,0),i+=s?10:6;ln.oW(n,i,"8BIM"),ln.oW(n,i+=4,t.SD),ln.Ar(n,i+=4,t.opacity,1),ln.Ar(n,i+=1,t.jF?1:0,1),ln.Ar(n,i+=1,t.OW,1),ln.Ar(n,i+=1,0,1);var l=i+=1;ln.Nk(n,i,0);var h=i+=4;i=nn.a8v(t,n,i),i=nn.a0B(t,n,i);r=ln.nU(n,i,t.name.slice(0,255));return i+=r,r%4!=0&&(i+=4-r%4),t.add.lsct&&(t.add.lsct={type:t.add.lsct},"pass"==t.SD&&(t.add.lsct.SD="pass",t.SD="norm")),"pass"==t.SD&&(t.add.lsct={type:t.add.lsct,SD:"pass"}),t.add.brit&&(t.add.CgEd=t.add.brit),i=en.UD(n,i,t.add,s,e),delete t.add.CgEd,t.add.lsct&&(t.add.lsct.SD&&(t.SD=t.add.lsct.SD),t.add.lsct=t.add.lsct.type),ln.Nk(n,l,i-h),i},nn.ah$=function(t,e,n){var i=ln.l(e,n);if(n+=4,0==i)return n;var r=n;t.q=new qi.vi,t.q.rect=ln.e4(e,n),t.q.color=e[n+=16];var a=nn.u0(t.q,e,n+=1);if(n+=1,a){for(var s=!1,o=255,l=0,h=255,u=0,f=0;f<t.jN.length;f++)-3==t.jN[f].id&&(s=!0);s&&(t._n=nn.zG(e,n),n+=18);var c=n,a=e[n];n++,a>>0&1&&(o=e[n],n++),a>>1&1&&(l=ln.tG(e,n),n+=8),a>>2&1&&(h=e[n],n++),a>>3&1&&(u=ln.tG(e,n),n+=8),1==(n-c&1)&&n++,t.Xf=[o,l,h,u]}else 20==i?n+=2:(t._n=nn.zG(e,n),n+=18);return r+i},nn.a8v=function(t,e,n){if(ln.Nk(e,n,0),n+=4,null==t.q)return n;var i=t.sL(),r=t.add.vmsk,a=n;return ln.Nk(e,n,0),ln.ts(e,n,t.q.rect),ln.Ar(e,n+=16,t.q.color),nn.LM(t.q,e,n+=1,!0),n+=1,t._n&&(nn.asR(e,n,t._n),n+=18),ln.Ar(e,n,15),ln.Ar(e,n+=1,i?i.Py:255),ln.wL(e,n+=1,i?i.Df:0),ln.Ar(e,n+=8,r?r.Py:255),ln.wL(e,n+=1,r?r.Df:0),n+=8,ln.Nk(e,a-4,++n-a),n},nn.zG=function(t,e){var n=new qi.vi;return nn.u0(n,t,e),n.color=t[e+=1],n.rect=ln.e4(t,e+=1),e+=16,n},nn.asR=function(t,e,n){nn.LM(n,t,e,!1),ln.Ar(t,e+=1,n.color),ln.ts(t,e+=1,n.rect)},nn.u0=function(t,e,n){n=e[n];return t.$j=0==(n>>0&1),t.isEnabled=0==(n>>1&1),t.dQ=1==(n>>3&1),n>>4&1},nn.LM=function(t,e,n,i){var r=0;t.$j||(r+=1),t.isEnabled||(r+=2),t.dQ&&(r+=8),i&&(r+=16),ln.Ar(e,n,r)},nn.aaT=function(t,e,n){var i=ln.l(e,n);n+=4;for(var r=0;r<i;r++)t.i$[r]=e[n+r];return n+i},nn.a0B=function(t,e,n){ln.Nk(e,n,t.i$.length),e.ib(n+=4,40);for(var i=0;i<40;i++)e.data[n+i]=t.i$[i];return n+40},rn.M9=function(t,e,n,i){return i=rn.a6f(e,e.Kq,e.b$,e.RJ,t,n,i)},rn.o$=function(t,e,n,i,r,a){return i=rn.a6C(t,e,n,i,r,a)},rn.a6f=function(t,e,n,i,r,a,s){for(var o=r.jN,l={},h=0;h<o.length;h++){var u=o[h],f=u.id,c=u.length,u=(-3==f?r._n:-2==f?r.q:r).rect,u=rn.OO(e,n,a,u.m,u.n,s,c);s+=c,-3==f?r._n.channel=u:-2==f?r.q.channel=u:l["c"+f]=u}var p=new Rr.vs(0);if(p.q4=null,3==i)p.p=l.c0,p.z=l.c1,p.S=l.c2,p.q4=l["c-1"];else if(1==i)p.p=l.c0,p.z=l.c0,p.S=l.c0,p.q4=l["c-1"];else if(4==i){var i=t.Nm.r1039,d=l.c0,v=l.c1,g=l.c2,y=l.c3;if(i){t=i.oO;null==t&&(m=ICC.R(i.buffer),console.log(m),t=i.oO=ICC.U.sampleLUT(m,17));var i={p:d,z:v,S:g,q4:y},m=Rr.t(4*d.length);Rr.M1(i,m),Rr.tU(m),ICC.U.applyLUT4(t,17,m,m),Rr.Sk(m,i)}else for(h=0;h<d.length;h++){var w=1-d[h]*(1/255),b=1-v[h]*(1/255),M=1-g[h]*(1/255),S=1-y[h]*(1/255),S=UDOC.C.cmykToRgb([w,b,M,S]);d[h]=255*S[0],v[h]=255*S[1],g[h]=255*S[2]}p.p=d,p.z=v,p.S=g,p.q4=l["c-1"]}return null==p.p&&(p.p=Rr.t(0)),null==p.q4&&null!=p.p&&(p.q4=p.p.slice(0),p.q4.fill(255)),null==p.z&&(p.z=p.p.slice(0)),null==p.S&&(p.S=p.p.slice(0)),r.buffer=Rr.t(Math.max(0,4*r.rect.Z())),Rr.M1(p,r.buffer),s},rn.a6C=function(t,e,n,i,r,a){var s=e.Q9(),o=new Rr.vs(e.rect.Z());Rr.Sk(e.buffer,o);for(var l=0;l<s.length;l++){var h,u=s[l],f=(-3==u?e._n:-2==u?e.q:e).rect;-3==u&&(h=e._n.channel),-2==u&&(h=e.q.channel),-1==u&&(h=o.q4),0==u&&(h=o.p),1==u&&(h=o.z),2==u&&(h=o.S),n.ib(i,3*f.Z()+4);u=i,u=(i=rn.qv(t,h,n.data,f.m,f.n,i,a[1]?3:1))-u;t?ln.Ov(n.data,r+10*l+2,u):ln.Kp(n.data,r+6*l+2,u)}return i},rn.OO=function(t,e,n,i,r,a,s){var o=ln.aV(n,a);return rn.pp(t,e,n,i,r,a+=2,o,s-2)},rn.qv=function(t,e,n,i,r,a,s){return ln.n_(n,a,s),a=rn.gI(t,e,n,i,r,a+=2,s)},rn.pp=function(t,e,n,i,r,a,s,o){var l=i*r*(e>>>3),h=3&l,h=l+(0==h?0:4-h);if(o<=0)return Rr.t(h);if(3<s&&(console.log("unknown compression: "+s,i,r,i*r,o),s=0),0==s){if(a+h<=n.length)u=n.slice(a,a+h);else for(var u=Rr.t(l),f=0;f<l;f++)u[f]=n[a+f];a+=l}else if(1==s){u=Rr.t(l);t=t?4:2;a+=t*r+rn.cx(n,u,i,r,a,a+t*r,t)}else if(2==s||3==s){var o=new Uint8Array(n.buffer,a+2,o-6),c=Rr.t(h);if(UZIP.inflateRaw(o,c),3==s)if(8==e)for(var p=0;p<r;p++)for(var d=(y=p*i+1)+i-1,v=c[y-1],g=y;g<d;g++)v+=c[g],c[g]=255&v;else for(p=0;p<r;p++)for(var y,d=(y=p*i+1)+i-1,v=c[2*y-2]<<8|c[2*y-1],g=y;g<d;g++){var m=g<<1;v+=c[m]<<8|c[1+m],c[m]=v>>>8,c[1+m]=255&v}if(c.length==h)u=c;else{u=Rr.t(h);for(f=0;f<c.length;f++)u[f]=c[f]}}if(16==e){for(var w=Rr.t(i*r),f=0;f<l;f+=2)w[f>>>1]=u[f];u=w}return u},rn.gI=function(t,e,n,i,r,a,s){var o=i*r;if(0==s)for(var l=0;l<o;l++)n[a++]=e[l];else if(1==s){var h=t?4:2;a+=h*r+rn.gs(e,n,i,r,a,a+h*r,h)}else if(2==s||3==s){if(3==s){for(var u=new Uint8Array(e.length),f=0;f<r;f++){var c=f*i+1,p=c+i-1,d=e[c-1];u[c-1]=d;for(var v=c;v<p;v++)u[v]=e[v]+(256-d)&255,d=e[v]}e=u}n[a]=120,n[a+1]=156,a+=2;h=pako.deflateRaw(e,{ato:4});ln.Ka(n,a,h),a+=h.length+4}else console.log("Unknown compression: "+s);return a},rn.cx=function(t,e,n,i,r,a,s){if(!(t instanceof Uint8Array&&e instanceof Uint8Array))throw"e";var o=a,l=0|i;if(2==s)for(var h=0;h<l;h++){var u=ln.aV(t,r+(h<<1));rn.rO(t,a,u,e,h*n,n),a+=u}else for(h=0;h<l;h++){u=ln.l(t,r+(h<<2));rn.rO(t,a,u,e,h*n,n),a+=u}return a-o},rn.gs=function(t,e,n,i,r,a,s){var o=a;if(2==s)for(var l=0;l<i;l++){var h=rn.gu(t,l*n,n,e,a);ln.$q(e,r+2*l,h),a+=h}else for(l=0;l<i;l++){h=rn.gu(t,l*n,n,e,a);ln.Kp(e,r+4*l,h),a+=h}return a-o},rn.gu=function(t,e,n,i,r){for(var a,s,o,l=e+n,h=e,u=r;0<n;h=a,n-=s)if(o=n<128?n:128,h<=l-3&&t[h+1]==t[h+0]&&t[h+2]==t[h+0]){for(a=h+3;a<h+o&&t[a]==t[h+0];)++a;i[u++]=257-(s=a-h),i[u++]=t[h+0]}else{for(a=h;a<h+o&&!(a<=l-3&&t[a+1]==t[a+0]&&t[a+2]==t[a+0]);)++a;i[u++]=(s=a-h)-1;for(var f=0;f<s;f++)i[u+f]=t[h+f];u+=s}return u-r},rn.rO=function(t,e,n,i,r,a){for(var s=0;s<n;){var o=t[e++];if(128<=o){var l=t[e++],h=r+(257-o);i.fill(l,r,h),r=h,s+=2}else{for(var u=0;u<=o;u++)i[r+u]=t[e+u];e+=o+1,r+=o+1,s+=2+o}}},an.qG=function(t,e,n){},an.M9=function(t,e){e.Kq=!1,e.b$=8;var n,i=new Uint8Array(t),t=0,r=0,a=!1,s=0,o=0;if(r=an.Ef(e,i,0),an.qG(0,+r,"PSD Header"),t=r,r=an.al_(e,i,t),an.qG(0,r-t,"Color Mode Data"),t=r,r=an.a1y(e,i,t),an.qG(0,r-t,"Image Resources"),t=r,r=an.ai7(e,i,t),an.qG(0,r-t,"Layer And Mask Info"),t=r,r=an.a8a(e,i,t),an.qG(0,r-t,"Merged Image"),t=r,0==e.g.length&&((d=e.rL()).Zu("Background"),e.g.push(d),d.buffer=e.buffer.slice(0),d.rect=new Fr(0,0,e.m,e.n)),e.Nm.r1005&&(e.Mg=ln.adj(e.Nm.r1005,0)),e.Nm.r1026)for(var i=e.Nm.r1026,l=0;l<i.length;l+=2)(r=e.g[l>>>1])&&(r.au=ln.aV(i,l));if(e.Nm.r1072)for(i=e.Nm.r1072,l=0;l<i.length;l++)(r=e.g[l])&&(r.KN=1==i[l]);if(e.Nm.r1032)for(var i=e.Nm.r1032,h=ln.l(i,12),l=0;l<h;l++){var u=i[16+5*l+4],f=ln.Xu(i,16+5*l)/32;e.p6.push([u,f])}if(delete e.Nm.r1036,e.Z9(e.Nm.r1039),e.Nm.r1050){var c=ln.l,p=e.Nm.r1050,d=ln.l(p,0);if(6==d){var v=4;ln.e4(p,v);v+=16;var g=c(p,v+=4+2*ln.gj(p,v).length);v+=4;for(var y=e.EQ,l=0;l<g;l++){var m=qr.C0._r();y.push(m),(m=m.v).sliceID.v=c(p,v),v+=4,m.groupID.v=c(p,v);var w=c(p,v+=4);v+=4,1==w&&(x=c(p,v),v+=4);var b=c(p,v+=4+2*ln.gj(p,v).length),M=[c(p,v+=4),c(p,v+4),c(p,v+8),c(p,v+12)];v+=16,qr.C0.vC(y,y.length-1,M),v+=4+2*(m.url.v=ln.gj(p,v)).length,v+=4+2*(m.null.v=ln.gj(p,v)).length,v+=4+2*(m.Msge.v=ln.gj(p,v)).length,v+=4+2*(m.altTag.v=ln.gj(p,v)).length,m.cellTextIsHTML.v=1==p[v],v++;c(p,v+=4+2*(m.cellText.v=ln.gj(p,v)).length),c(p,v+=4);v+=4;p.slice(v,v+4);v+=4,2!=w&&y.pop()}}else if(8==d){var S={};tn.zm(p,S,8,!1);for(p=e.EQ=S.slices.v,l=0;l<p.length;l++)"userGenerated"!=p[l].v.origin.v.ESliceOrigin&&(p.splice(l,1),l--)}}if(e.Nm.r1058&&(S=e.Nm.r1058,S=UTIF.decode(S.buffer,{parseMN:!1,debug:!1}),lr.ym(S[0],e._E),delete e.Nm.r1058),e.Nm.r1060&&(k=ln.cP(e.Nm.r1060),lr.ao2(k,e._E),delete e.Nm.r1060),e.Nm.r1065&&(i=e.Nm.r1065,e.HE={},tn.zm(i,e.HE,4,!1)),e.Nm.r1069){for(var i=e.Nm.r1069,C=[],l=2;l<i.length;l+=4)for(var x=ln.l(i,l),L=0;L<e.g.length;L++)(r=e.g[L]).add.lyid==x&&3!=r.add.lsct&&C.push(L);e.w=C}e.Nm.r1025&&(A=e.Nm.r1025,delete e.Nm.r1025,O=ze.r8(A,0,A.length,e.m,e.n),(_=new qi.g6).Y=O,e.Y3[0]=zi.hd("Working Path",{vmsk:_}));var D=e.add.pths;delete e.add.pths;var k=e.Nm.r3000;k&&(tn.zm(k,n={},4,!1),delete e.Nm.r3000);for(var T=0;T<=997;T++){var A,E="r"+(2e3+T);if(null==(A=e.Nm[E]))break;var O=ze.r8(A,0,A.length,e.m,e.n),N=D?D.pathList.v[T].v.pathUnicodeName.v:"Path "+T,I=n?n.keyRootDescriptorList.v[T].v.keyDescriptorList.v:qi.Ky(O);(_=new qi.g6).Y=O,e.Y3[T+1]=zi.hd(N,{vmsk:_,vogk:I}),delete e.Nm[E]}delete e.Kq;new Fr(0,0,e.m,e.n);var P=e.add.Txt2;P&&null==(P=P.BE)._DocumentResources&&(P=ar.au3(P));for(l=0;l<e.g.length;l++){var F,_,B=(r=e.g[l]).add.lsct,R=r.add.vmsk,U=r.sL();B==Gi.A0?(s++,r.add.lspf=0):B!=Gi.pb&&B!=Gi.jT||s--,""==r.name&&(r.name="Layer "+(l+1),a=!0),a&&r.dH()&&"norm"==r.SD&&(r.SD="pass"),r.UG()&&r.ez(e).q&&(r.ez(e).q.isEnabled=r.add.SoLd.filterFX.v.filterMaskEnable.v),R&&r.D5()&&(F=Wi.XF.default,null==r.add.vstk?r.add.vstk=JSON.parse(JSON.stringify(F)):null==r.add.vstk[J="strokeStyleLineDashSet"]&&(r.add.vstk[J]=JSON.parse(JSON.stringify(F[J]))),r.add.vstk.strokeStyleResolution.v=e.Mg),!R||null!=r.add.vogk&&Rr.$.M$(R.Y)==r.add.vogk.length||r.Ky(),r.add.SoLd&&r.rect.mN()&&(console.log("redrawing smart instance"),r.jM(e)),null==U&&null!=r.q&&0==r.q.dQ&&(r.q.dQ=!0,r._n=r.q.clone()),U=r.sL(),r.Xf&&(F=r.Xf,_=R,U&&(U.Py=F[0],U.Df=F[1]),_&&(_.Py=F[2],_.Df=F[3]),r.Xf=null),null==U||null==R||U.Df+R.Df==0&&U.Py+R.Py==510?null==R||r.D5()||r.fF():r.fF(e);var j=r.add.artb;j&&null==j.artboardBackgroundType&&(j.artboardBackgroundType={t:"long",v:1}),j&&0!=s&&delete r.add.artb;var H=r.add.vstk;if(r.D5()&&(r.rect.mN()||R&&0!=R.Df||H&&!H.fillEnabled.v&&(!H.strokeEnabled.v||0==H.strokeStyleLineWidth.v.val))&&r.gq(e),r.add.TySh&&r.rect.mN(),r.add.TySh&&P){B=r.add.TySh.wq.TextIndex.v;if(-1!=B){var J=r.add.TySh.nx,U=ir.Ob(J),j=P._DocumentObjects._TextObjects;if(j.length<=B)console.log("Txt2 incomplete");else{for(var R=j[B]._Model,q=R._StyleRun?R._StyleRun._RunArray:[],G=J.EngineDict.StyleRun.RunArray,Z=0;Z<G.length;Z++){var z=G[Z].StyleSheet.StyleSheetData;if(null!=q[Z]){var V=q[Z]._RunData._StyleSheet._Features;if(V&&V._BaselineDirection&&(z.BaselineDirection=parseInt(V._BaselineDirection.slice(1))),V&&V._FillBackgroundFlag&&(z._FillBackgroundFlag=V._FillBackgroundFlag),V&&V._FillBackgroundColor){for(var W=V._FillBackgroundColor._Color._Values.slice(0),L=0;L<4;L++)W[L]=parseFloat(W[L].slice(1));z._FillBackgroundColor={Type:1,Values:W}}V&&V._LineWidth&&(z._LineWidth=parseFloat(V._LineWidth.slice(1)))}}var X=J.EngineDict.ParagraphRun.RunArray,Y=R._ParagraphRun._RunArray;null==Y&&(Y=[]);for(var K=Math.min(Y.length,X.length),L=0;L<K;L++){var Q=X[L].ParagraphSheet.Properties,$=P._DocumentResources._ParagraphSheetSet._Resources,tt=null==(nt="string"==typeof(nt=Y[L]._RunData._ParagraphSheet)?$[parseInt(nt.slice(1))]._Resource:nt)._Parent?nt:$[parseInt(nt._Parent.slice(1))]._Resource;nt=nt._Features;tt=tt._Features,$=nt._ParagraphDirection;($=null==$?tt._ParagraphDirection:$)&&(Q._Direction=parseInt($.slice(1))),nt._ComposerEngine&&(Q._ComposerEngine=parseInt(nt._ComposerEngine.slice(1)))}if(R._AlternateGlyphRun)for(var K=(Y=R._AlternateGlyphRun._RunArray).length,et=J.EngineDict.AlternateGlyphRun=ir.auy(),L=0;L<K;L++){var nt,it={},rt=(nt=Y[L])._RunData._AlternateGlyphSheet;rt&&(it.Glyph=parseInt(rt._Glyph.slice(1))),et.RunArray.push(it),et.RunLengthArray.push(parseInt(nt._Length.slice(1)))}var at,st,H=P._DocumentResources._TextFrameSet._Resources[B]._Resource,j=H._Data,R=new _r(1,0,0,1,0,0);H._0&&(at=parseFloat(H._0[0].slice(1)),st=parseFloat(H._0[1].slice(1)),R.translate(at,st)),U?(R.translate(U[0],U[1]),ir.NO(J,[0,0,U[2]-U[0],U[3]-U[1]])):H._Bezier&&H._Bezier._Points&&(O=H._Bezier._Points,at=parseFloat(O[0].slice(1)),st=parseFloat(O[1].slice(1)),0==at&&0==st||R.translate(at,st)),H._Data&&H._Data._FrameMatrix&&(B=(B=H._Data._FrameMatrix).map(function(t){return parseFloat(t.slice(1))}),R.concat(new _r(B[0],B[1],B[2],B[3],B[4],B[5]))),R.concat(r.add.TySh.A),r.add.TySh.A=R,(2==(b=j._Type?parseInt(j._Type.slice(1)):0)||1==b&&j._PathData&&"i-3"==j._PathData._Spacing)&&(O=H._Bezier._Points.map(R=function(t){return parseFloat(t.slice(1))}),U&&Rr.H.A(O,new _r(1,0,0,1,-U[0],-U[1]),O),H=!!j._PathData&&j._PathData._Reversed,null==(U=j._TextOnPathTRange)&&(U=["f-3","f-3"]),J.Curve={Points:O,TextOnPathTRange:U.map(R),Reversed:null!=H&&H},r.add.TySh.add={vmsk:new qi.g6,vogk:null},ir.Sj(r.add.TySh)),"i2"==j._LineOrientation&&(J._LineOrientation=2)}}}}qr.iZ.IL(e,!0);for(var ot={},lt=[],l=0;l<e.g.length;l++){var ht=e.g[l].add.lyid;null!=ht&&(o=Math.max(o,ht),null!=ot[ht]?lt.push(l):ot[ht]=!0)}for(l=0;l<lt.length;l++)e.g[lt[l]].add.lyid=o+1+l},an.ij=function(t,e,n){qr.iZ.ST(t),qr.iZ.IL(t,!1),t.Kq=1==n[3];for(var i,r=[],a=[],s=0,o=1,l=16,h=0;h<t.g.length;h++){(F=t.g[h]).UG()&&F.ez(t).q&&(F.add.SoLd.filterFX.v.filterMaskEnable.v=F.ez(t).q.isEnabled),F.add.TySh&&(i=F.add.TySh.nx,u=ir.R_(i),F.add.TySh.wq.TextIndex={t:"long",v:r.length},r.push(i),2==u&&ir.vb(F.add.TySh));var u=F.add.vstk;u&&(u.strokeStyleResolution.v=t.Mg),(F.D5()||n[2]&&F.add.SoLd)&&(a[h]=[F.rect,F.buffer],F.rect=new Fr,F.buffer=Rr.t(0),F.add.SoLd&&null!=(_=F.ez(t))&&(a[h].push(_.buffer),_.buffer=Rr.t(_.buffer.length)))}0<r.length&&(D=t.add.Txt2?t.add.Txt2.BE:null,null==t.add.Txt2&&(t.add.Txt2={}),t.add.Txt2.BE=rr.afh(r,null,D));var f=[t.add.lnk2,t.add.FEid,t.add.Patt],c=t.ajp(t.g);t.asl(c),t.Nm.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]),ln.oh(t.Nm.r1005,0,t.Mg),ln.oh(t.Nm.r1005,8,t.Mg),t.y7()?t.Nm.r1022=new Uint8Array([0,3+t.En.length-1,0]):delete t.Nm.r1022;for(var p=new Uint8Array(2*t.g.length),d=new Uint8Array(t.g.length),h=0;h<t.g.length;h++){var v=(F=t.g[h]).au,g=F.KN?1:0;ln.$q(p,2*h,v),s<v&&(s=v),0==(d[h]=g)&&(o=0)}0<s&&(t.Nm.r1026=p),o<1&&(t.Nm.r1072=d);var y=t.p6,m=y.length,w=t.Nm.r1032=Rr.t(16+5*m,!0);ln.Kp(w,0,1),ln.Kp(w,4,576),ln.Kp(w,8,576),ln.Kp(w,12,m);for(h=0;h<m;h++)ln.xG(w,l,Math.round(32*y[h][1])),w[l+4]=y[h][0],l+=5;var b=Rr.Jw(t.buffer),M=[];b&&M.push({name:"Transparency",ZB:{p:255,z:0,S:0},i9:100,A2:1}),M=M.concat(t.En),delete t.Nm.r1045,delete t.Nm.r1006,delete t.Nm.r1077;var S=new Ol,l=0,C=new Uint8Array(4+13*M.length);C[3]=1;for(h=0;h<M.length;h++){var x=M[h],L=x.name+"\0";ln.w1(S,l,L),l+=4+2*L.length;L=4+13*h;Ve.MF(C,L,x.ZB),C[11+L]=x.i9,C[12+L]=x.A2}t.Nm.r1045=S.data.slice(0,l),t.Nm.r1077=C;for(h=0;h<t.EQ.length;h++)t.EQ[t.EQ.length-h-1].v.sliceID.v=2+3*h;var D={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:t.EQ}},S=new Ol;ln.Nk(S,0,8),ln.Nk(S,4,16);c=tn.DA(S,D,8);t.Nm.r1050=S.data.slice(0,c+8);S=new Ol;ln.Nk(S,0,16);c=tn.DA(S,t.HE,4);t.Nm.r1065=S.data.slice(0,c+4);var k=t.w,w=t.Nm.r1069=Rr.t(2+4*k.length,!0);ln.$q(w,0,k.length);for(h=0;h<k.length;h++)ln.Kp(w,2+4*h,t.g[k[h]].add.lyid);delete t.Nm.r1058,delete t.Nm.r1060,0!=Object.keys(t._E).length&&(lr.U1(t._E,(D=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}])[0],n[0]&&n[1]),t.Nm.r1058=new Uint8Array(UTIF.encode(D)),D=lr.a52(t._E),t.Nm.r1060=ln.u3(D));for(var T=[],A=[],h=0;h<t.Y3.length;h++){var E,O=t.Y3[h],N=O.add.vmsk.Y;0==h&&2==N.length||(E=Rr.t(26*N.length),ze.m1(E,0,N,t.m,t.n),t.Nm["r"+(0==h?1025:2e3+h-1)]=E,0!=h&&(T.push({t:"Objc",v:{classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:O.name}}}),A.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:O.add.vogk}}})))}0!=T.length?(t.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:T}},A={classID:"null",keyRootDescriptorList:{t:"VlLs",v:A}},S=new Ol,ln.Nk(S,0,16),c=tn.DA(S,A,4),t.Nm.r3000=S.data.slice(0,c+4)):(delete t.add.pths,delete t.Nm.r3000),I=an.a9c(t,e,0,3+M.length),I=an.ahc(t,e,I),I=an.aaf(t,e,I),I=an.an8(t,e,I,n,b);for(var I=an.and(t,e,I,n[0],b),P=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016],h=0;h<P.length;h++)delete t.Nm["r"+P[h]];for(var F,_,h=0;h<t.g.length;h++)((F=t.g[h]).D5()||n[2]&&F.add.SoLd)&&(F.rect=a[h][0],F.buffer=a[h][1],a[h][2]&&(_=F.ez(t),a[h].push(_.buffer),_.buffer=a[h][2]));return t.asl(f),qr.iZ.IL(t,!0),delete t.Kq,I},an.Ef=function(t,e,n){var i=ln.fb(e,n,4);n+=4,"8BPS"!=i&&alert("invalid header signature: "+i);i=ln.aV(e,n);return n+=2,t.Kq=2==i,1!=i&&2!=i&&alert("invalid version: "+i),t.Hg=ln.aV(e,n+=6),t.n=ln.Xu(e,n+=2),t.m=ln.Xu(e,n+=4),t.b$=ln.aV(e,n+=4),t.RJ=ln.aV(e,n+=2),n+=2},an.a9c=function(t,e,n,i){return e.ib(0,64),ln.zW(e.data,n,"8BPS"),ln.$q(e.data,n+=4,t.Kq?2:1),ln.Kp(e.data,n+=2,0),ln.$q(e.data,n+=4,0),ln.$q(e.data,n+=2,i),ln.xG(e.data,n+=2,t.n),ln.xG(e.data,n+=4,t.m),ln.$q(e.data,n+=4,8),ln.$q(e.data,n+=2,3),n+=2},an.al_=function(t,e,n){var i=ln.Xu(e,n);return n+=4,0!=i&&(t.eb=e.slice(n,n+i)),n+=i},an.ahc=function(t,e,n){return ln.sY(e,n,0),n+=4},an.a1y=function(t,e,n){var i=ln.l(e,n),r=0;n+=4;for(var a=[];r<i;){var s=ln.fb(e,n+r,4);r+=4;var o=ln.aV(e,n+r);r+=2,r+=ln.ZF(e,n+r).length,"8BIM"!=s&&(a.push(o),console.log("Unknown Image Resources signature: "+s+", ID: "+o));s=ln.l(e,n+r);r+=4,null!=t.Nm["r"+o]&&console.log("--- two resources with same ID"),t.Nm["r"+o]=ln.hT(e,n+r,s),r+=s+(1&s)}for(var l=0;l<a.length;l++)delete t.Nm["r"+a[l]];return n+i},an.aaf=function(t,e,n){var i=n,r=0;n+=4;var a,s=[];for(a in t.Nm)s.push(parseInt(a.slice(1)));s.sort(function(t,e){return t-e});for(var o=0;o<s.length;o++){ln.oW(e,n+r,"8BIM"),r+=4;var l=s[o];ln.E2(e,n+r,l),r+=2,r+=ln.nU(e,n+r,"");var h=t.Nm["r"+l],l=h.length;ln.Nk(e,n+r,l),r+=4,ln.zS(e,n+r,h),r+=l,l%2==1&&r++}return ln.Nk(e,i,r),n+r},an.ai7=function(t,e,n){var i,r=n,a=t.Kq?8:4,s=t.Kq?ln.b1(e,n):ln.l(e,n);return 0==s?r+a:(i=an.acB(t,e,n+=a),an.qG(1,i-n,"Layer Info"),i=an.agn(t,e,n=i),an.qG(1,i-n,"Global Layer Mask Info"),i=en.$M(e,n=i,r+a+s,t.add,t.Kq,t),an.qG(1,i-n,"Project Add Info"),n=i,r+a+s)},an.an8=function(t,e,n,i,r){var a=n;return ln.Nk(e,n,0),n+=4,t.Kq&&(ln.Nk(e,n,0),n+=4),n=an.aeW(t,e,n,i,r),n=an.asz(t,e,n),n=en.UD(e,n,t.add,t.Kq,t),t.Kq?ln.Oa(e,a,n-a-8):ln.Nk(e,a,n-a-4),n},an.acB=function(t,e,n){var i=t.Kq?8:4,r=t.Kq?ln.b1(e,n):ln.l(e,n);return n+=i,0!=r&&an.Uv(t,e,n),n+r},an.Uv=function(t,e,n){var i=ln.Kh(e,n);n+=2;for(var r=Math.abs(i),a=0;a<r;a++){var s=new qi;n=nn.M9(s,t,e,n),t.g[a]=s}for(var o=new Fr(0,0,t.m,t.n),a=0;a<r;a++){var l=t.g[a],h=l.sL(),u=rn.M9(l,t,e,n);8<u-n&&an.qG(2,u-n,"Lay: "+l.getName()),n=u,an.pk(l,o),h&&an.pk(h,o)}},an.pk=function(t,e){var n,i=t.rect.Z(),r=t.rect.BS(e),e=r.Z()/i;6e6<i&&e<.5&&(t.buffer?(n=Rr.t(4*r.Z()),Rr.Ik(t.buffer,t.rect,n,r),t.buffer=n):(n=Rr.t(r.Z()),Rr.rR(t.channel,t.rect,n,r),t.channel=n),t.rect=r,alert("Removing hidden parts of layers"))},an.aeW=function(t,e,n,i,r){var a=n,s=t.Kq,n=(n=an.AU(t,e,n+=s?8:4,i,r))-a-(s?8:4);return n%2!=0&&n++,s?ln.Oa(e,a,n):ln.Nk(e,a,n),a+n+(s?8:4)},an.AU=function(t,e,n,i,r){var a=t.g.length;ln.Q$(e,n,r?-a:a),n+=2;for(var s=[],o=0;o<a;o++)n=nn.ij(t.g[o],t,e,n,s);for(o=0;o<a;o++)n=rn.o$(t.Kq,t.g[o],e,n,s[o],i);return n},an.agn=function(t,e,n){e=ln.l(e,n);return n+=4,n+=e},an.asz=function(t,e,n){ln.Nk(e,n,0);return n+=4},an.a8a=function(t,e,n){var i=t.RJ,r="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),a=[1,1,1,3,4,1,1,3];if(3!=i&&(1==i||2==i||4==i?console.log("Project will be converted from "+r[i]+" to "+r[3]+" mode."):alert("Color mode "+r[i]+" is not supported yet :("),4==i&&(t.add.fcmy=1)),t.Nm.r1045)for(var s=[],o=t.Nm.r1045,l=0;l<o.length;){var h=ln.zq(o,l);s.push(h),l+=6+2*h.length}var u=a[i]+(null==s||"Transparency"==s[0]?1:0),f=t.m,c=t.n,p=f*c,d=ln.aV(e,n);n+=2,t.buffer=Rr.t(4*p),Rr.Bg(t.buffer,4278190080);for(var v,g,y=n,m=0;m<t.Hg;m++){if(0==d)w=rn.pp(t.Kq,t.b$,e,f,c,n,d),n+=p*(t.b$>>>3);else{if(1!=d)return void console.log("unknown compression of image data: ",d);var w=Rr.t(p),b=t.Kq?4:2;0==m&&(n+=t.Hg*c*b),n+=rn.cx(e,w,f,c,y+m*c*b,n,b)}m<u?(Rr.al(w,t.buffer,m),1==t.Hg&&0==m&&(Rr.al(w,t.buffer,1),Rr.al(w,t.buffer,2))):(v=new qi.vi,g=m-u,b=m-a[t.RJ],v.name=s?s[b]:"Alpha","Quick Mask"==v.name&&(v.KT=!0,t.kx.push(g)),v.rect=new Fr(0,0,f,c),v.channel=w,v.color=0,v.Er(),t.En[g]=v,t.Nm.r1077&&(o=t.Nm.r1077.slice(4+13*b),v.ZB=Ve.oj(o,0),v.i9=o[11],v.A2=o[12],2==v.A2&&(v.KT=!0)))}if(t.Hg=4,2==t.RJ)for(var M=0;M<p;M++){var S=4*M,C=t.buffer[S];t.buffer[S]=t.eb[0+C],t.buffer[1+S]=t.eb[256+C],t.buffer[2+S]=t.eb[512+C]}return n},an.and=function(t,e,n,i,r){var a,s=t.m,o=t.n;ln.E2(e,n,1),n+=2;var l=s*o;if(i)m=Rr.t(l);else{a=new Rr.vs(s*o),Rr.Sk(t.buffer,a);for(var h=a.p,u=a.z,f=a.S,c=a.q4,p=0;p<l;p++){var d=c[p]*(1/255);h[p]=~~(h[p]*d+255*(1-d)),u[p]=~~(u[p]*d+255*(1-d)),f[p]=~~(f[p]*d+255*(1-d))}}var v=[m,m,m];i||(v=[a.p,a.z,a.S]),r&&v.push(i?m:a.q4);for(p=0;p<t.En.length;p++)v.push(t.En[p].PZ(new Fr(0,0,t.m,t.n)));for(var g=n,y=0;y<v.length;y++){e.ib(n,s*o+4);var m=v[y],w=t.Kq?4:2;0==y&&(n+=v.length*o*w);n+=rn.gs(m,e.data,s,o,g+y*o*w,n,w)}return n},sn.M9=function(t){var e={};return sn.TP(t,e,0,0),e},sn.ij=function(t,e){return sn.iw(t,e,0,0)},sn.TP=function(t,e,n,i){for(;t[n]!="<".charCodeAt(0);)n++;for(n+=2;;)if(t[n]=="/".charCodeAt(0)){n++;var r=ln.indexOf(t," ".charCodeAt(0),n,n+50),a=ln.indexOf(t,"\n".charCodeAt(0),n,n+50);-1==a&&(a=1/0),-1==r&&(r=1/0);var s=Math.min(a,r),a=ln.fb(t,n,s-n),r=sn.fw(t,s+1,i+1,a);e[a]=r.k,n=s+1,n+=r.size}else{if(t[n]==">".charCodeAt(0)){n+=2;break}r=t[n];10==r||9==r||32==r||console.log("unknown byte: "+r+", char: "+String.fromCharCode(r),n),n++}return n},sn.iw=function(t,e,n,i){ln.oW(e,n,"<<\n"),n+=3;var r,a=sn.a80;for(r in t)ln.Ar(e,n,"\t".charCodeAt(0),i+1),n+=i+1,ln.oW(e,n,"/"+r),n+=1+r.length,a(t[r])||t[r]instanceof Array?(ln.oW(e,n," "),n++):(ln.oW(e,n,"\n"),n++,ln.Ar(e,n,"\t".charCodeAt(0),i+1),n+=i+1),n=sn.Zd(t[r],e,n,i+1),ln.oW(e,n,"\n"),n++;return ln.Ar(e,n,"\t".charCodeAt(0),i),ln.oW(e,n+=i,">>"),n+=2},sn.fw=function(t,e,n,i){for(var r=e,a={size:0,k:0};;){for(;t[e]==" ".charCodeAt(0)||t[e]=="\t".charCodeAt(0)||t[e]=="\n".charCodeAt(0);)e++;if(t[e]=="<".charCodeAt(0)){a.k={},e=sn.TP(t,a.k,e,n+1);break}if(t[e]=="(".charCodeAt(0)){for(var s=e+=3;;){if(t[s-1]!="\\".charCodeAt(0)&&t[s]==")".charCodeAt(0)&&(t[s+1]=="\n".charCodeAt(0)||t[s+1]==" ".charCodeAt(0)))break;s++}a.k=ln.t1(t,e,s),e=s+2;break}if(t[e]=="[".charCodeAt(0)){for(e++,a.k=[];t[e]==" ".charCodeAt(0)||t[e]=="\t".charCodeAt(0)||t[e]=="\n".charCodeAt(0);)e++;for(;t[e]!="]".charCodeAt(0);){var o=sn.fw(t,e,n+1,i);for(a.k.push(o.k),e+=o.size;t[e]==" ".charCodeAt(0)||t[e]=="\t".charCodeAt(0)||t[e]=="\n".charCodeAt(0);)e++}e++;break}var l=ln.indexOf(t," ".charCodeAt(0),e,e+50),h=ln.indexOf(t,"\n".charCodeAt(0),e,e+50);-1==h&&(h=1/0),-1==l&&(l=1/0);var u=ln.fb(t,e,Math.min(l,h)-e).trim(),f=parseFloat(u);if(isNaN(f)){if("true"==u||"false"==u){a.k="true"==u,e=Math.min(l,h)+1;break}if("null"!=u&&"NaN"!=u&&"undefined"!=u)throw console.log("unknown identifier: "+u),"e";a.k=0,e=Math.min(l,h)+1;break}a.k=parseFloat(u),e=Math.min(l,h)+1;break}return a.size=e-r,a},sn.Zd=function(t,e,n,i){if(t instanceof Array)if(0==t.length||"number"==typeof t[0]){ln.oW(e,n,"[ "),n+=2;for(var r=0;r<t.length;r++){var a=t[r]+" ";ln.oW(e,n,a),n+=a.length}ln.oW(e,n,"]"),n+=1}else{ln.oW(e,n,"[\n"),n+=2;for(r=0;r<t.length;r++)ln.Ar(e,n,"\t".charCodeAt(0),i),n=sn.Zd(t[r],e,n+=i,i),ln.oW(e,n,"\n"),n++;ln.Ar(e,n,"\t".charCodeAt(0),i),ln.oW(e,n+=i,"]"),n+=1}else t instanceof Object?n=sn.iw(t,e,n,i):"string"==typeof t?(ln.oW(e,n,"("),ln.Ar(e,++n,254),ln.Ar(e,++n,255),n=ln.d9(e,++n,t),ln.oW(e,n,")"),n+=1):(ln.oW(e,n,a=t+""),n+=a.length);return n},sn.a80=function(t){t=typeof t;return"string"==t||"number"==t||"boolean"==t},on.M9=function(t){var e={};return on.DN(t,e,0,0),e},on.ij=function(t,e){var n=0;return ln.oW(e,0," "),n++,n=on.dM(t,e,1,0),e.ib(--n,2),e.data[n]=e.data[1+n]=0,n+=2},on.TP=function(t,e,n,i){for(;t[n]!="<".charCodeAt(0);)n++,console.log("šipka");return n=on.DN(t,e,n+=2,i)},on.iw=function(t,e,n,i){return ln.oW(e,n,"<< "),n=on.dM(t,e,n+=3,i),ln.oW(e,n,">>"),n+=2},on.yR=function(t){return 9==t||10==t||32==t},on.DN=function(t,e,n,i){for(;;){for(;on.yR(t[n])||0==t[n];)n++;if(n>=t.length)break;if(t[n]!="/".charCodeAt(0)){if(t[n]==">".charCodeAt(0)){n+=2;break}var r=t[n];throw console.log(ln.fb(t,n,n+100)),console.log("unknown byte: "+r+", char: "+String.fromCharCode(r)+", offset: "+n),n++,"e"}for(var a=++n;!on.yR(t[a]);)a++;var s=ln.fb(t,n,a-n),r=on.fw(t,n=a+1,i,s);e["_"+s]=r.k,n+=r.size}return n},on.dM=function(t,e,n,i){for(var r in t){var a=r.substring(1,r.length);ln.oW(e,n,"/"+a),n+=1+a.length,ln.oW(e,n," "),n++,n=on.Zd(t[r],e,n,i+1),ln.oW(e,n," "),n++}return n},on.fw=function(t,e,n,i){for(var r=e,a={type:"",size:0,k:0};on.yR(t[e]);)e++;if(t[e]=="<".charCodeAt(0))a.type="Object",a.k={},e=on.TP(t,a.k,e,n+1);else if(t[e]=="(".charCodeAt(0))if(a.type="String",t[++e]==")".charCodeAt(0))a.k="e",e++;else{for(var s=e+=2;;){if(t[s]==")".charCodeAt(0)&&t[s-1]!="\\".charCodeAt(0))break;s+=1}a.k="s"+ln.t1(t,e,s),e=s+2}else if(t[e]=="[".charCodeAt(0)){for(e++,a.k=[],a.type="Array";on.yR(t[e]);)e++;for(;t[e]!="]".charCodeAt(0);){var o=on.fw(t,e,n+1,i);if(-1==o)return-1;for(a.k.push(o.k),e+=o.size,delete o.size;on.yR(t[e]);)e++}e++}else{for(var l=e;!on.yR(t[l]);)l++;var h=ln.fb(t,e,l-e),u=parseFloat(h);if(isNaN(u)||-1==h.indexOf("."))if(isNaN(u)||-1!=h.indexOf("."))if("true"==h||"false"==h)a.type="Boolean",a.k="true"==h;else if("/"==h.charAt(0))a.type="BString",a.k=h;else{if("NaN"!=h)throw console.log("unknown value",JSON.stringify(h)),"e";a.type="Float",a.k="f0"}else a.type="Integer",a.k="i"+parseInt(h);else{a.type="Float";h=parseFloat(h);a.k="f"+h}e=l+1}return a.size=e-r,a},on.a05=function(t){if(t==Math.round(t))return t+".0";for(var e=t.toFixed(5);e.endsWith("0")&&"."!=e[e.length-2];)e=e.slice(0,e.length-1);return 0<t&&t<1&&(e=e.slice(1)),e=-1<t&&t<0?"-"+e.slice(2):e},on.Zd=function(t,e,n,i){var r,a="string"==typeof t?t.charAt(0):"";if(t instanceof Array){ln.oW(e,n,"[ "),n+=2;for(var s=0;s<t.length;s++)n=on.Zd(t[s],e,n,i),ln.oW(e,n," "),n++;ln.oW(e,n,"]"),n+=1}else t instanceof Object?n=on.iw(t,e,n,i):"e"==a?(ln.oW(e,n,"()"),n+=2):"s"==a?(ln.oW(e,n,"("),ln.Ar(e,++n,254),ln.Ar(e,++n,255),n=ln.d9(e,++n,t.substring(1)),ln.oW(e,n,")"),n++):"/"==a?(ln.oW(e,n,t),n+=t.length):"f"==a?(r=parseFloat(t.substring(1)),r=on.a05(r),ln.oW(e,n,r),n+=r.length):"i"==a?(ln.oW(e,n,t.substring(1)),n+=t.length-1):(ln.oW(e,n,r=t+""),n+=r.length);return n},ln.aiT=function(t){for(var e="",n=3;0<=n;n--)e+=String.fromCharCode(t>>8*n&255);return e},ln.acb=function(t){for(var e=0,n=t.length-1;0<=n;n--)e|=t.charCodeAt(n)<<8*(3-n);return e},ln.indexOf=function(t,e,n,i){null==n&&(n=0),null==i&&(i=t.length),i=Math.min(i,t.length);for(var r=n;r<i;r++)if(t[r]==e)return r;return-1},ln.M8=function(t,e,n){null==n&&(n=0);var i=e.length,r=t.length-i;if("string"==typeof e){for(var a=[],s=0;s<i;s++)a.push(e.charCodeAt(s));e=a}if(0<e.length)for(var o=e[0],s=n;s<r;s++)if(t[s]==o){for(var l=!0,h=1;h<i;h++)if(e[h]!=t[s+h]){l=!1;break}if(l)return s}return-1},ln.t1=function(t,e,n){for(var i=[],r="";e<n;){var a=t[e++];a=="\\".charCodeAt(0)?i.push(t[e++]):i.push(a)}for(var s=0;s<i.length;s+=2)r+=String.fromCharCode(i[s]<<8|i[s+1]);return r},ln.au_=function(t,e,n){for(var i=new Uint8Array(2),r=0;r<n.length;r++)ln.$q(i,0,n.charCodeAt(r)),i[0]!=")".charCodeAt(0)&&i[0]!="(".charCodeAt(0)&&i[0]!="\\".charCodeAt(0)||(t[e]="\\".charCodeAt(0),e++),t[e]=i[0],e++,i[1]!=")".charCodeAt(0)&&i[1]!="(".charCodeAt(0)&&i[1]!="\\".charCodeAt(0)||(t[e]="\\".charCodeAt(0),e++),t[e]=i[1],e++;return e},ln.d9=function(t,e,n){return t.ib(e,4*n.length),ln.au_(t.data,e,n)},ln.Tx=function(t,e,n){for(var i="",r=0;r<n;r++){var a=t[e++]|t[e++]<<8;i+=String.fromCharCode(a)}return i},ln.yw=function(t,e,n){for(var i="",r=0;r<n;r++){var a=t[e++]<<8|t[e++];i+=String.fromCharCode(a)}return i},ln.a6l=function(t,e,n){for(var i=0;i<n.length;i++){var r=n.charCodeAt(i);ln.j3(t,e+2*i,r)}},ln.j6=function(t,e,n){for(var i=0;i<n.length;i++){var r=n.charCodeAt(i);ln.$q(t,e+2*i,r)}},ln.ahM=function(t,e,n){t.ib(e,2*n.length),ln.j6(t.data,e,n)},ln.abU=function(t,e,n){var i=[],r=0,a=0;for(n+=e;e<n;){if(0==(128&(r=t[e++])))a=r;else if(192==(224&r))a=(31&r)<<6,a|=63&(r=t[e++]);else if(224==(240&r))a=(15&r)<<12,a|=(63&(r=t[e++]))<<6,a|=63&(r=t[e++]);else{if(240!=(248&r))throw"e";a=(7&r)<<18,a|=(63&(r=t[e++]))<<12,a|=(63&(r=t[e++]))<<6,a|=63&(r=t[e++])}i.push(a)}return i},ln.pL=window.TextDecoder?new window.TextDecoder("utf8"):null,ln.cP=function(t,e,n){if(null==e&&(e=0),null==n&&(n=t.length),ln.pL&&0==e&&n==t.length)return ln.pL.decode(t);for(var i=ln.abU(t,e,n),r=i.length,a=0;a<r;a++)i[a]=String.fromCharCode(i[a]);return i.join("")},ln.e3=window.TextEncoder?new window.TextEncoder("utf8"):null,ln.u3=function(t){if(ln.e3)return ln.e3.encode(t);var e=new Uint8Array(4*t.length),t=ln._s(t,e,0);return e.slice(0,t)},ln._s=function(t,e,n){for(var i=t.length,r=0,a=0;a<i;a++){var s=t.charCodeAt(a);if(0==(4294967168&s))e[n+r]=s,r++;else if(0==(4294965248&s))e[n+r]=192|s>>6,e[n+r+1]=128|s>>0&63,r+=2;else if(0==(4294901760&s))e[n+r]=224|s>>12,e[n+r+1]=128|s>>6&63,e[n+r+2]=128|s>>0&63,r+=3;else{if(0!=(4292870144&s))throw"e";e[n+r]=240|s>>18,e[n+r+1]=128|s>>12&63,e[n+r+2]=128|s>>6&63,e[n+r+3]=128|s>>0&63,r+=4}}return r},ln.m$=function(t,e){var n=ln.l(t,e);return{gB:ln.cP(t,e+4,n-1),Z5:4+n}},ln.aoq=function(t,e){var n=ln.UF(t,e);return ln.Tx(t,e+4,n)},ln.gj=function(t,e){var n=ln.l(t,e);return ln.yw(t,e+4,n)},ln.zq=function(t,e){var n=ln.l(t,e);return ln.yw(t,e+4,n-1)},ln.apB=function(t,e,n){ln.Vf(t,e,n.length),ln.a6l(t,e+=4,n)},ln.aqI=function(t,e,n){ln.Kp(t,e,n.length),ln.j6(t,e+=4,n)},ln.w1=function(t,e,n){t.ib(e,4+2*n.length),ln.aqI(t.data,e,n)},ln.asW=function(t,e,n){t.ib(e,4+2*n.length),ln.apB(t.data,e,n)},ln.s0=function(t,e,n){for(var i=[],r=0;r<n;r++)i.push(String.fromCharCode(t[e+r]));return i},ln.apu=function(t,e,n){for(var i=t.length-n.length,r=e;r<i;r++)for(var a=0;a<n.length&&t[r+a]==n.charCodeAt(a);a++)if(a==n.length-1)return r},ln.fb=function(t,e,n){for(var i="",r=0;r<n;r++)i+=String.fromCharCode(t[e+r]);return i},ln.zW=function(t,e,n){for(var i=0;i<n.length;i++)t[e+i]=n.charCodeAt(i)},ln.oW=function(t,e,n){t.ib(e,n.length),ln.zW(t.data,e,n)},ln.a2Z=function(t,e,n){for(var i="",r=0;r<n;r++){var a=t[e+r];a<10?i+="  ":a<100&&(i+=" "),i+=a+", "}return i},ln.aV=function(t,e){return t[e]<<8|t[e+1]},ln.$q=function(t,e,n){t[e]=n>>8&255,t[e+1]=255&n},ln.E2=function(t,e,n){t.ib(e,4),ln.$q(t.data,e,n)},ln.adj=function(t,e){return ln.aV(t,e)+ln.aV(t,e+2)*(1/65536)},ln.oh=function(t,e,n){var i=Math.floor(n),n=Math.floor(65536*(n-i));ln.$q(t,e,i),ln.$q(t,e+2,n)},ln.pG=function(t,e){return t[e+1]<<8|t[e]},ln.j3=function(t,e,n){t[e+1]=n>>8&255,t[e]=255&n},ln.Rg=function(t,e,n){t.ib(e,4),ln.j3(t.data,e,n)},ln.Kh=function(t,e){return ln._J[0]=t[e+1],ln._J[1]=t[e],ln.s2[0]},ln.FP=function(t,e){return ln._J[0]=t[e],ln._J[1]=t[e+1],ln.s2[0]},ln.n_=ln.$q,ln.Q$=ln.E2,ln.Xu=function(t,e){return ln.AV[0]=t[e+3],ln.AV[1]=t[e+2],ln.AV[2]=t[e+1],ln.AV[3]=t[e],ln.vM[0]},ln.xG=function(t,e,n){ln.vM[0]=n,t[e+3]=ln.AV[0],t[e+2]=ln.AV[1],t[e+1]=ln.AV[2],t[e+0]=ln.AV[3]},ln.sY=function(t,e,n){t.ib(e,4),ln.xG(t.data,e,n)},ln.pK=function(t,e,n,i){n[i+0]=t[e+0],n[i+1]=t[e+1],n[i+2]=t[e+2],n[i+3]=t[e+3]},ln.UF=function(t,e){return ln.pK(t,e,ln.AV,0),ln.NS[0]},ln.Vf=function(t,e,n){ln.NS[0]=n,ln.pK(ln.AV,0,t,e)},ln.SN=function(t,e,n){t.ib(e,4),ln.Vf(t.data,e,n)},ln.ta=function(t,e){return ln.pK(t,e,ln.AV,0),ln.vM[0]},ln.akH=function(t,e,n){ln.vM[0]=n,ln.pK(ln.AV,0,t,e)},ln.ans=function(t,e,n){t.ib(e,4),ln.akH(t.data,e,n)},ln.l=function(t,e){return 16777216*t[e]+(t[e+1]<<16|t[e+2]<<8|t[e+3])},ln.Kp=function(t,e,n){t[e]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=n>>0&255},ln.Nk=function(t,e,n){t.ib(e,4),ln.Kp(t.data,e,n)},ln.b1=function(t,e){return ln.l(t,e)<<32|ln.l(t,e+4)},ln.Ov=function(t,e,n){ln.Kp(t,e,n>>16>>16),ln.Kp(t,e+4,4294967295&n)},ln.Oa=function(t,e,n){t.ib(e,8),ln.Ov(t.data,e,n)},ln.tG=function(t,e){for(var n=new Uint8Array(8),i=0;i<8;i++)n[i]=t[e+7-i];return new Float64Array(n.buffer)[0]},ln.kb=function(t,e){for(var n=new Uint8Array(8),i=0;i<8;i++)n[i]=t[e+i];return new Float64Array(n.buffer)[0]},ln.Xh=function(t,e,n){var i=new Float64Array(1);i[0]=n;for(var r=new Uint8Array(i.buffer),a=0;a<4;a++){var s=r[a];r[a]=r[7-a],r[7-a]=s}for(a=0;a<8;a++)t[e+a]=r[a]},ln.wL=function(t,e,n){t.ib(e,8),ln.Xh(t.data,e,n)},ln.PT=function(t,e){return ln.AV[0]=t[e+3],ln.AV[1]=t[e+2],ln.AV[2]=t[e+1],ln.AV[3]=t[e+0],ln.le[0]},ln.FS=function(t,e){return ln.AV[0]=t[e+0],ln.AV[1]=t[e+1],ln.AV[2]=t[e+2],ln.AV[3]=t[e+3],ln.le[0]},ln.$D=function(t,e,n){ln.le[0]=n,t[e+0]=ln.AV[3],t[e+1]=ln.AV[2],t[e+2]=ln.AV[1],t[e+3]=ln.AV[0]},ln.a2n=function(t,e,n){t.ib(e,4),ln.$D(t.data,e,n)},ln.jr=function(t,e,n){ln.le[0]=n,t[e+0]=ln.AV[0],t[e+1]=ln.AV[1],t[e+2]=ln.AV[2],t[e+3]=ln.AV[3]},ln.aiO=function(t,e,n){t.ib(e,4),ln.jr(t.data,e,n)},ln.ae3=function(t,e){return ln.Xu(t,e)*(1/(1<<24))},ln.Mf=function(t,e,n){n=Math.floor(n*(1<<24));ln.xG(t,e,n)},ln.aeO=function(t,e,n){t.ib(e,4),ln.Mf(t.data,e,n)},ln.ZF=function(t,e){var n=t[e];return{w9:ln.fb(t,e+1,n),length:(n+=1-n%2)+1}},ln.a7e=function(t,e,n){var i=n.length;return t[e]=i,ln.zW(t,e+1,n),i%2==0&&(t[e+1+i]=0,++i),i+1},ln.nU=function(t,e,n){return t.ib(e,n.length+2),ln.a7e(t.data,e,n)},ln.Xm=function(t,e){var n=new _r;return n.q4=ln.tG(t,e+0),n.S=ln.tG(t,e+8),n.yH=ln.tG(t,e+16),n.DR=ln.tG(t,e+24),n.E_=ln.tG(t,e+32),n.Qq=ln.tG(t,e+40),n},ln.FJ=function(t,e,n){ln.Xh(t,e+0,n.q4),ln.Xh(t,e+8,n.S),ln.Xh(t,e+16,n.yH),ln.Xh(t,e+24,n.DR),ln.Xh(t,e+32,n.E_),ln.Xh(t,e+40,n.Qq)},ln.a1Y=function(t,e,n){t.ib(e,48),ln.FJ(t.data,e,n)},ln.ad3=function(t,e){var n=ln.PT(t,e),i=ln.PT(t,e+4);return new Fr(n,i,ln.PT(t,e+8)-n,ln.PT(t,e+12)-i)},ln.aqZ=function(t,e,n){ln.$D(t,e,n.x),ln.$D(t,e+4,n.y),ln.$D(t,e+8,n.x+n.m),ln.$D(t,e+12,n.y+n.n)},ln.a7C=function(t,e,n){t.ib(e,16),ln.aqZ(t.data,e,n)},ln.e4=function(t,e){var n=ln.Xu(t,e),i=ln.Xu(t,e+4),r=ln.Xu(t,e+8);return new Fr(i,n,ln.Xu(t,e+12)-i,r-n)},ln.fp=function(t,e,n){ln.xG(t,e,n.y),ln.xG(t,e+4,n.x),ln.xG(t,e+8,n.y+n.n),ln.xG(t,e+12,n.x+n.m)},ln.ts=function(t,e,n){t.ib(e,16),ln.fp(t.data,e,n)},ln.hT=function(t,e,n){for(var i=new Uint8Array(n),r=0;r<n;r++)i[r]=t[e+r];return i},ln.Ka=function(t,e,n){t.set(n,e)},ln.zS=function(t,e,n){t.ib(e,n.length),ln.Ka(t.data,e,n)},ln.agP=function(t,e,n,i){i=i||1;for(var r=0;r<i;r++)t[e+r]=n},ln.Ar=function(t,e,n,i){t.ib(e,i=i||1),ln.agP(t.data,e,n,i)},ln.s2=new Int16Array(1),ln._J=new Uint8Array(ln.s2.buffer),ln.vM=new Int32Array(1),ln.NS=new Uint32Array(ln.vM.buffer),ln.AV=new Uint8Array(ln.vM.buffer),ln.le=new Float32Array(ln.vM.buffer),hn.M9=function(t,e){var n=new Uint8Array(t),i=0,r=(ln.fb(n,i,9),4),a=100,s=ln.fb(n,i+=9,4);i+=4,e.m=ln.l(n,++i),e.n=ln.l(n,i+=4);t=ln.l(n,i+=4);i+=4,0!=t&&alert("Unsupported image format, not RGB!"),-1==["file","v001","v002","v003"].indexOf(s)&&(a=ln.l(n,i),i+=4,7<=parseInt(s.slice(1))||alert("Unknown XCF version: "+s),r=8);var o={},i=hn.i5(n,i,o),l=[];i=hn.mE(n,i,l,r);var h=[];i=hn.mE(n,i,h,r);for(var u=e.DJ=0;u<l.length;u++)hn.amG(n,l[u],e,o,r,a);for(;0<e.DJ;)e.g.push(e.ne()),e.DJ--;e.g.reverse(),delete e.DJ,e.buffer=Rr.t(e.m*e.n*4),0==e.g.length&&console.log("No layers!!!");for(u=0;u<h.length;u++){var f=hn.QA(n,h[u],o,r,a);f.oE[un.a4l]&&(e.v={channel:f.wk,rect:new Fr(0,0,e.m,e.n)})}},hn.amG=function(t,e,n,i,r,a){var s=n.rL(),o=ln.l(t,e),l=0,h=ln.l(t,e+=4);e+=4,s.rect=new Fr(0,0,o,h);ln.l(t,e);o=ln.m$(t,e+=4);e+=o.Z5,s.Zu(o.gB);h={};if(e=hn.i5(t,e,h),h[un.D9]&&(l=h[un.D9].length/4-1),h[un.ld]&&(s.rect.x=ln.Xu(h[un.ld],0),s.rect.y=ln.Xu(h[un.ld],4)),h[un.gv]&&(s.opacity=ln.l(h[un.gv],0)),h[un.a6o]&&(s.add.lsct=Gi.pb,s.rect=new Fr(0,0,0,0),s.buffer=Rr.t(0),s.OW=24),h[un.to]&&(E=ln.l(h[un.to],0),s.SD=un.aem[E],s.dH()&&"norm"==s.SD&&(s.SD="pass")),h[un.LW]&&0==ln.l(h[un.LW],0)&&(s.OW+=2),h[un.aj]&&(O=ln.l(h[un.aj],0),s.add.lsct=!0&O?Gi.pb:Gi.jT),h[un.CN]){var u,f=h[un.CN];for(u in f){var c=f[u];if("gimp-text-layer"==u){var p=hn.aac(c),d=p.text,v=p.font,g=p.color,y=p["font-size"];if(null==d&&p.markup){for(var m=(new DOMParser).parseFromString(p.markup,"image/svg+xml");null!=m.firstChild&&null!=m.firstChild.tagName;){var w=(m=m.firstChild).getAttribute("font"),b=m.getAttribute("foreground"),M=m.getAttribute("size");null!=w&&(v=w),null!=b&&(g=[1,(b=sr.oj(b)).p/255,b.z/255,b.S/255]),null!=M&&(y=""+parseFloat(M)/245)}d=m.textContent}s.add.lnsr="rend",s.add.TySh=ir.mb(0,0),s.add.TySh.qK=new Fr(0,0,100,100),s.add.TySh.A=new _r(1,0,0,1,s.rect.x,s.rect.y);var S=s.add.TySh.nx;ir.RX(S,0,d);var C=ir.vK(S,0,0),x=p.justify,c=p["line-spacing"];if(g&&(C.hy.FillColor={Type:1,Values:[1,parseFloat(g[1]),parseFloat(g[2]),parseFloat(g[3])]}),y&&(y=Math.round(parseFloat(y)),C.hy.FontSize=y,s.add.TySh.A.Qq+=Math.min(17,.17*y)),c&&(c=Math.round(parseFloat(c)+1.2*C.hy.FontSize),C.hy.Leading=c,C.hy.AutoLeading=!1),x&&(C.eS.Justification=["left","right","center","fill"].indexOf(x)),v&&"Sans-serif"!=v){for(var L=v.toLowerCase(),D="bold italic semi extra regular condensed light".split(" "),k=L.length,T=0;T<D.length;T++){var A=L.indexOf(D[T]);-1!=A&&A<k&&" "==L[A-1]&&(k=A)}k!=L.length&&(v=v.slice(0,k-1).split(" ").join("")+"-"+v.slice(k).split(" ").join("")),ir.Ui(C,v)}ir.xB(S,0,d.length,C);C=p["box-width"],p=p["box-height"],C=C?parseFloat(C):s.rect.m,p=p?parseFloat(p):s.rect.n;ir.b8(S,1),ir.NO(S,[0,0,Math.ceil(C),Math.ceil(p)])}else console.log("Unknown property "+u)}}for(;n.DJ>l;)n.g.push(n.ne()),n.DJ--;n.DJ=l,s.add.lsct!=Gi.pb&&s.add.lsct!=Gi.jT||n.DJ++;var E,O,o=4==r?ln.l:ln.b1;s.Z1()&&(s.buffer=Rr.t(4*s.rect.Z()),E=new Rr.vs(s.rect.Z()),O=o(t,e),o=o(t,e+=r),e+=r,hn.AL(t,O,E,i,r,a),Rr.M1(E,s.buffer),0!=o&&(s.q=new qi.vi,s.q.color=0,s.q.rect=s.rect.clone(),s.q.channel=hn.QA(t,o,i,r,a).wk,h[un.T_]&&(s.q.isEnabled=1==ln.l(h[un.T_],0)))),n.g.push(s)},hn.aac=function(t){var e="("+ln.cP(t,0,t.length-1)+")",n=[],t={};return hn.dd(e,1,n),hn.a59(n,t),t},hn.a59=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=i[0];2==i.length?e[r]=i[1]:e[r]=i.slice(1)}},hn.dd=function(t,e,n){for(;;){if(e>=t.length)throw"e";var i=t.charAt(e);if(e++,"("==i){var r=[];e=hn.dd(t,e,r),n.push(r)}else if(" "!=i&&"\n"!=i&&"\r"!=i){if(")"==i)return e;if('"'==i){for(var a=e;;){var s=t[e];if(e++,'"'==s)break;"\\"==s&&e++}n.push(JSON.parse(t.slice(a-1,e)))}else{for(a=e-1;" "!=t[e]&&")"!=t[e];)e++;n.push(t.slice(a,e))}}}},hn.QA=function(t,e,n,i,r){var a=ln.l(t,e),s=ln.l(t,e+=4);e+=4,e+=ln.m$(t,e).Z5;var o={};e=hn.i5(t,e,o);a=new Rr.vs(a*s),s=(4==i?ln.l:ln.b1)(t,e);return e+=i,hn.AL(t,s,a,n,i,r),{wk:a.p,oE:o}},hn.AL=function(t,e,n,i,r,a){ln.l(t,e),ln.l(t,e+=4);var s=ln.l(t,e+=4),o=(4==r?ln.l:ln.b1)(t,e+=4);e+=r,hn.amd(t,o,n,i,s,r,a)},hn.amd=function(t,e,n,i,r,a,s){var o=ln.l(t,e),l=0,h=0,u=ln.l(t,e+=4);e+=4;var f=new Fr(0,0,o,u);if(100==s||150==s)l=1;else if(200==s||250==s)l=2;else if(300==s||350==s)l=4;else if(500==s||550==s)l=2;else if(600==s||650==s)l=4;else{if(700!=s&&750!=s)throw alert("unsupported bit depth "+s),"e";l=8}var c=r/l,l=Math.round(r/c),p=[];e=hn.mE(t,e,p,a);var d=new Rr.vs(4096*l),v=new Fr,g=i[un.a19][0],y=[d.p,d.z,d.S,d.q4];3==c&&d.q4.fill(255);Date.now();for(var m=0;m<u;m+=64)for(var w=0;w<o;w+=64){var b=Math.min(o-w,64),M=Math.min(u-m,64),S=b*M;if(v.R7(w,m,b,M),hn.afM(t,p[h++],S*l,g,c,y),100!=s&&150!=s)if(250==s)for(var C=0;C<c;C++)for(var x=y[C],L=0;L<S;L++){var D=x[L]<<8|x[S+L];x[L]=Math.min(D>>>8,255)}else if(600==s)for(var k=hn.aaO(),T=new Uint32Array(1),A=new Float32Array(T.buffer),C=0;C<c;C++)for(x=y[C],L=0;L<S;L++){T[0]=x[L]<<24|x[S+L]<<16|x[(S<<1)+L]<<8|x[(S<<1)+S+L]<<0;var E=A[0];E<0?E=0:1<E&&(E=1),x[L]=k[~~(.5+1e3*E)]}else console.log("unknown data format",s);Rr.qP(d,v,n,f)}},hn.aaO=function(){if(null!=(t=hn.anI))return t;for(var t=hn.anI=new Uint8Array(1001),e=0;e<1001;e++)t[e]=~~(.49+255*Rr.I$(.001*e));return t},hn.afM=function(t,e,n,i,r,a){if(1==i)for(var s=0;s<r;s++)for(var o=a[s],l=0;l<n;){var h=t[e];if(e++,h<127){var u=t[e];e++,h++;for(var f=0;f<h;f++)o[l+f]=u}else if(127==h){var c=t[e],p=t[++e],u=t[++e];e++;for(h=c<<8|p,f=0;f<h;f++)o[l+f]=u}else if(128==h){c=t[e],p=t[++e];e++,h=c<<8|p;for(f=0;f<h;f++)o[l+f]=t[e+f];e+=h}else{h=256-h;for(f=0;f<h;f++)o[l+f]=t[e+f];e+=h}l+=h}else if(2==i)for(var d=pako.inflate(t.slice(e)),v=Math.round(d.length/n),f=0;f<n;f++){var g=f*v;a[0][f]=d[g],a[1][f]=d[1+g],a[2][f]=d[2+g],a[3][f]=3==v?255:d[3+g]}else alert("Unknown compression "+i)},hn.mE=function(t,e,n,i){for(var r=4==i?ln.l:ln.b1;;){var a=r(t,e);if(e+=i,0==a)break;n.push(a)}return e},hn.i5=function(t,e,n){for(;;){var i=ln.l(t,e);e+=4;var r=ln.l(t,e);if(e+=4,i==un.ah1)break;i==un.CN?n[i]=hn.a8R(t,e,e+r):n[i]=ln.hT(t,e,r),e+=r}return e},hn.a8R=function(t,e,n){for(var i={};e<n;){var r=ln.m$(t,e);e+=r.Z5;var a=ln.l(t,e);e+=4,1!=a&&console.log("unknown flags",a);a=ln.l(t,e);e+=4,i[r.gB]=ln.hT(t,e,a),e+=a}return i};var un={ah1:0,a3y:1,ae$:2,agK:3,a4l:4,apr:5,gv:6,to:7,LW:8,a1_:9,a60:10,T_:11,amT:12,a5Z:13,a0R:14,ld:15,arq:16,a19:17,ar5:18,afz:19,amo:20,CN:21,aop:22,apY:23,aqj:24,a3L:25,a3q:26,a2l:27,ajq:28,a6o:29,D9:30,aj:31,asx:32,ajs:33,a7T:34,a9F:35,a2t:36,abI:37,anE:38,air:0,avc:1,asZ:2,agg:3,a1I:1,agl:2,au$:0,a6M:1,aqV:1};un.aem="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");var fn=(vn=!1,{ab2:function(t){var e=An(new Uint8Array(t));return cn=e["doc.dat"],pn=16,Dn(t={},0,[]),[e,t,dn]}}),cn,pn,dn,vn;function gn(){var t=ln.fb(cn,pn,4);return pn+=4,t[3]+t[2]+t[1]+t[0]}function yn(){var t=ln.fb(cn,pn,4);return pn+=4,t}function mn(){var t=cn[pn];return pn+=1,t}function wn(){var t=ln.pG(cn,pn);return pn+=2,t}function bn(){var t=ln.UF(cn,pn);return pn+=4,t}function Mn(){var t=ln.UF(cn,pn);return pn+=8,t}function Sn(){var t=ln.FS(cn,pn);return pn+=4,t}function Cn(){var t=ln.kb(cn,pn);return pn+=8,t}function xn(){var t=ln.UF(cn,pn),e=ln.cP(cn,pn+4,t);return pn+=4+t,e}function Ln(t){pn=t;for(var e,n,i=[];0!=pn;){var r=yn();if("#FT4"!=r&&"#FT3"!=r&&"#FT2"!=r)throw r;var a=Mn(),s=(Mn(),Mn(),Mn(),Mn(),bn()),o=(bn(),bn(),wn()),l=(mn(),{});i.push(l);for(var h=0;h<s;h++){var u=bn(),f=mn();if(0!=f&&1!=f&&2!=f)throw f;var c=[];if(0==f||1==f){var p=Mn(),d=Mn(),v=Mn(),g=(bn(),mn()),y=(bn(),"#FT4"!=r||bn(),null);if("#FAT"==r||"#FT2"==r)switch(g){case 1:g=1;break;case 2:g=65;break;case 3:g=129;break;case 4:g=193;break;default:g=0}0==f&&(n=e=void 0,e=ln.pG(cn,pn),n=ln.cP(cn,pn+2,e),pn+=2+e,y=n),c=[p,d,v,g,y]}l["i"+u]=[f,c]}for(h=0;h<o;h++){var m=wn();wn(),Mn(),ln.fb(cn,pn,m);pn+=m}pn=a}i.reverse();for(var w=1;w<i.length;w++){var l=i[w],b=i[w]=JSON.parse(JSON.stringify(i[w-1]));for(S in l){var M=l[S];0==M[0]?b[S]=M:1==M[0]?(M[1][4]=b[S][1][4],b[S]=M):2==M[0]&&delete b[S]}}var S,C=i.pop(),x=[];for(S in C)x.push(C[S][1]);return x.sort(function(t,e){return t[0]-e[0]}),x}function Dn(t,e,n,i){for(;pn<cn.length;){var r=mn(),a=null;if(0==r){if(i){var s=mn();2!=s&&gn(),0==s&&(pn+=4),i=!1;continue}break}s=gn();vn&&console.log("  ".repeat(e),r,127&r,s,t._type),a=(127<r?kn:Tn)(r,e,n),t[s]=a}}function kn(t,e,n){var i=[];43==(t&=127)&&(pn+=4);var r=bn();if(50==t){var a=gn();if(1!=wn())throw"e";for(var s=0;s<r;s++){var o={_status:"NotShared",_type:a};i.push(o);var l=mn();if(1!=l)throw l;Dn(o,e+1,n)}}else for(s=0;s<r;s++)i.push(Tn(t,e,n)),42==t&&(t=2);return i}function Tn(t,e,n){var i=null;if(49==t){var i={},r=mn();if(0!=r){var a=bn();if(null==n&&(i._id=a,i._status=["Shared","Link"][r-1]),n&&2==r&&(i=n[a]),1==r){n&&(n[a]=i);var s=mn(),o=!1;if(1<s)throw s;if(i._type=gn(),vn&&console.log("  ".repeat(e),"new",i._type,s,pn),0==s)for(;;){var l=wn();if(0!=l&&1!=l&&2!=l&&4!=l)throw l;if(0!=cn[pn]){o=!0;break}l=wn();if(512==l)break;gn();if(256==l)break}Dn(i,e+1,n,o)}}}else if(50==t)i={_status:"NotShared"},1==mn()&&(i._type=gn(),pn+=2,Dn(i,e+1,n));else if(1==t)i={type:"byte",value:mn()};else if(2==t)i={type:"uint16",value:wn()};else if(3==t)i={type:"uint32",value:bn()};else if(4==t)i={type:"uint64",value:Mn()};else if(7==t)i={type:"int32",value:(s=ln.ta(cn,pn),pn+=4,s)};else if(8==t)i={type:"int64",value:Mn()};else if(9==t)i={type:"float32",value:Sn()};else if(10==t)i={type:"float64",value:Cn()};else if(21==t)i={type:"Vec2i",value:[bn(),bn()]};else if(23==t)i={type:"Vec4i",value:[bn(),bn(),bn(),bn()]};else if(33==t)i={type:"Vec4f",value:[Sn(),Sn(),Sn(),Sn()]};else if(36==t)i={type:"Vec2",value:[Cn(),Cn()]};else if(38==t)i={type:"Vec4",value:[Cn(),Cn(),Cn(),Cn()]};else if(40==t)i={type:"Vec6",value:[Cn(),Cn(),Cn(),Cn(),Cn(),Cn()]};else if(41==t)i={type:"bool",value:0!=mn()};else if(42==t)i={type:"Enum",value:bn()};else if(43==t)i={type:"string",value:xn()};else if(44==t){var h=wn();i={type:"curv16",value:[Cn(),12==h?[mn(),mn(),mn(),mn()]:[bn(),bn()]]}}else if(45==t){h=bn();i={type:"buff",value:cn.slice(pn,pn+h)},pn+=h}else if(47==t)i={type:"uint32",value:bn()};else if(48==t){var u=[],h=wn();if(1!=h)throw h;if(135==cn[pn])u=[kn(mn(),e+1,n),kn(mn(),e+1,n),kn(mn(),e+1,n)];else{var f=1;3==cn[pn]&&(mn(),f=bn());for(var c=0;c<f;c++){if(41!=mn())throw"e";if(0!=(a=mn())&&1!=a)throw a;if(172!=mn())throw"e";var p=bn(),d=wn(),v=[];if(u.push(v),18!=d)throw d;if(2e3<p)throw p;for(var g=0;g<p;g++)v.push([Cn(),Cn(),mn(),mn()])}}pn++,i={type:"curve",value:u}}else if(51==t)(i={type:"EmbeddedData"})[gn()]=xn();else if(52==t)i={type:"uint32",value:bn()};else if(56==t)i={type:"Color32",value:[mn(),mn(),mn(),mn()]};else if(60==t)i={type:"ColorGRAY",value:[Sn(),Sn()]};else if(68==t)i={type:"ColorRGBA",value:[Sn(),Sn(),Sn(),Sn()]};else{if(72!=t)throw t;i={type:"ColorCMYK",value:[Sn(),Sn(),Sn(),Sn(),Sn()]}}return 49==t||50==t||51==t?i:i.value}function An(t){cn=t,pn=4;bn();if("nsrP"!=(r=yn()))throw r;if("#Inf"!=(r=yn()))throw r;t=Mn();dn=Mn();Mn(),Mn(),Mn(),bn(),bn();if("Prot"!=(r=yn()))throw r;bn();for(var e=Ln(t),n={},i=(Date.now(),0);i<e.length;i++){var r,a=e[i],s=a[3],o=null;if(pn=a[0],"#Fil"!=(r=yn()))throw r;var l=s>>>5&1,h=3&s,u=192&s;switch(u){case 64:u=1,l=0;break;case 128:u=2;break;case 192:u=3;break;default:l=u=0}s=new Uint8Array(cn.buffer,pn,a[2]);if(0==h)o=s;else if(1==h)o=pako.inflate(s);else{if(2!=h)throw h;o=ai.xO.g5(s,a[1])}if(0!=l)throw l;if(1==u&&function(t){for(var e=0,n=t.length,i=0;i<n;i++)t[i]=e=e+t[i]&255}(o),2==u)throw"e";n[a[4]]=o}return n}function En(){}function On(t,e){var n=e.Xfrm;return(n=n?new _r((e=n)[0],e[3],e[1],e[4],e[2],e[5]):new _r).concat(t),n}function Nn(t){t={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[t];return t||"norm"}function In(t){var e=new qi.g6;if("PCrv"==t._type){for(var n=t.Crvs.Data,i=[],r=[],a=0;a<n.length;a++){var s=n[a];s.length%3!=1&&(s=s.slice(1,s.length-1));for(var o=0;o<s.length;o++){var l=s[o];0!=l[2]&&i.push(0==o?"M":"C"),r.push(l[0],l[1])}}e.Y=Rr.H.z8({U:r,C:i},!0)}else{var h=t.ShpB,u=t.Shpe,f=u._type,t=h[2]-h[0];if("ShpE"==f)e.Y=Rr.$.lO._D(h[0],h[1],h[2]-h[0],h[3]-h[1]);else if("ShNR"==f){var c=[0,0,0,0];if(u.CTyp)for(c=u.ShCR.slice(0),a=0;a<4;a++)c[a]*=h[2]-h[0];e.Y=Rr.$.lO.Rect(h[0],h[1],h[2]-h[0],h[3]-h[1],c)}else"ShpT"==f?e.Y=Rr.H.z8({C:["M","L","L","Z"],U:[h[0],h[3],h[2],h[3],h[0]+.5*t,h[1]]},!0):"ShTz"==f?e.Y=Rr.H.z8({C:["M","L","L","L","Z"],U:[h[0]+t*u.PosL,h[1],h[0]+t*u.PosR,h[1],h[2],h[3],h[0],h[3]]},!0):(console.log("--",f),e.Y=Rr.$.lO.Rect(h[0],h[1],h[2]-h[0],h[3]-h[1],[0,0,0,0]))}return e}function Pn(t,e){var n=t.Grad,i=n.Cols;e.Type.v.GrdT=0==t.Type?"Lnr":"Rdl";for(var r=[],a=0;a<i.length;a++){var s=_n(i[a]);r.push([n.Posn[a][0],s])}e.Grad.v.Intr.v=0,Rr.I.MW(r,e.Grad.v);var o=n.Posn,l=new Pr(o[0][0],o[0][1]),o=new Pr(o[1][0],o[1][1]);0==t.Type&&(l=new Pr((l.x+o.x)/2,(l.y+o.y)/2)),Rr.I.Ye(l,o,new Fr(0,0,1,1),e)}function Fn(t){t=_n(t);return{t:"Objc",v:Rr.I.wg({p:255*t[0],z:255*t[1],S:255*t[2]})}}function _n(t){var e=t._col,t=t._type;if("HSLA"==t){var n=Rr.AX(e[0],e[1],e[2]);return[n.p,n.z,n.S,e[3]]}if("RGBA"==t)return e;if("CMYK"==t){n=1-e[3];return[(1-e[0])*n,(1-e[1])*n,(1-e[2])*n]}if("GRAY"==t)return[e[0],e[1],e[2]];throw console.log(e),t}function Bn(t,e,n){var i=t.Frmt,r="";if(0!=i&&6!=i)throw i;for(var a=t.BmpW,s=t.BmpH,o=0==i?4:1,l=new Fr(0,0,Math.ceil(a/256),Math.ceil(s/256)),h=new Fr,u=0;u<o;u++)var f=new Uint8Array(t["Sta"+(u+1)]),c=Rr._1(f,l),h=h.hq(c);for(var p=[],u=0;u<o;u++){var f=new Uint8Array(t["Sta"+(u+1)]),d=Rr.t(h.Z());Rr.rR(f,l,d,h),p[u]=[];for(var v=0;v<d.length;v++)p[u][v]=d[v];r+=JSON.stringify(p[u])+","+JSON.stringify(t["Idx"+(u+1)])+","}if(null==n[r]){for(var g=256*h.m,y=256*h.n,m=new Array(o),u=0;u<o;u++)!function(t,e,n,i,r,a){for(var s=0,o=r>>>8,l=a>>>8,h=0;h<l;h++)for(var u=0;u<o;u++){var f,c,p=256*u,d=256*h,v=d*r+p,g=n[h*o+u];g<=1?Rn(t,v,0,r,256,256):2==g?Rn(t,v,4294967295,r,256,256):4==g?(c=e[s],s++,f=i[c.Data.DatI],null==(c=c.Rect)&&(c=[0,0,256,256]),Rn(t,v,0,r,256,256),function(t,e,n,i,r,a,s,o){for(var l=e+r*o,h=i+a*o;e<l&&i<h;e+=r,i+=a)for(var u=0;u<s;u++)t[e+u]=n[i+u]}(t,(d+c[1])*r+p+c[0],f,256*c[1]+c[0],r,256,c[2]-c[0],c[3]-c[1])):console.log(g)}}(f=m[u]=new Uint8Array(g*y),t["Idx"+(u+1)],p[u],e,g,y);s=Rr.t(g*y*4);0==i?Rr.M1({p:m[0],z:m[1],S:m[2],q4:m[3]},s):(s.fill(255),Rr.PU(m[0],s));s={buffer:s,rect:new Fr(0,0,g,y)};Rr.Kl(s),n[r]=[s.rect,s.buffer]}return(c=n[r][2]=n[r][0].clone()).x+=256*h.x,c.y+=256*h.y,n[r]}function Rn(t,e,n,i,r,a){for(var s=e+i*a;e<s;e+=i)for(var o=e+r,l=e;l<o;l++)t[l]=n}function Un(){}function jn(){}function Hn(){}En.M9=function(t,e){var n=Date.now(),i=(r=fn.ab2(t))[0],t=r[1];if((r=(r[2],t.DocR)).DfSz,1!=(a=r.Chld).length)throw"e";var r=(t=a[0]).SprB,a=t.Chld;e.m=~~r[2],e.n=~~r[3],e.buffer=Rr.t(e.m*e.n*4);for(var s=[0,{}],o=0;o<a.length;o++)!function t(e,n,i,r,a){var s=e._type,o=e.Chld,l=n.rL();l.Zu(null==e.Desc||""==e.Desc?"Grup"==s?"Folder":"Layer":e.Desc);l.I9(e.Visi);l.opacity=Math.round(255*e.Opac);1!=e.FOpc&&(l.add.iOpa=Math.round(255*e.FOpc));var h=e.Blnd;null!=h&&(l.SD=Nn(h));var u=On(r,e),f="ShpN"==s||"PCrv"==s;if(o){n.g.push(n.ne()),l.add.lsct=Gi.pb,l.SD="pass",l.OW=24,"ShpN"==s&&(p=e.ShpB,l.fx(new Fr(p[0]+u.E_,p[1]+u.Qq,p[2]-p[0],p[3]-p[1])),a[0]++,l.add.artb.Clr={t:"Objc",v:Rr.I.wg({p:255,z:255,S:255})});for(var c=0;c<o.length;c++)t(o[c],n,i,u,a)}else if("Rstr"==s||"ImgN"==s||"MRst"==s){var p,d,v=e.Bitm,g=v.Bckg;Date.now();null==g&&(d=Bn(v,i,a[1]),l.rect=d[2].clone(),l.buffer=d[1].slice(0),l.rect.x+=u.E_,l.rect.y+=u.Qq),!g&&1==u.eZ()||(r=h=0,d=g?(p=i[g.Data],v=ln.M8(p,"ataD")+4,g=ln.UF(p,v),v+=4,p.slice(v,v+g)):(h=l.rect.x-u.E_,r=l.rect.y-u.Qq,null==d[3]&&(d[3]=new Uint8Array(ai.TN("PNG").D6([[l.buffer.buffer]],l.rect.m,l.rect.n))),d[3].slice(0)),(d=n.Rp(d,l.getName(),0,0)).OW=l.OW,d.opacity=l.opacity,l=d,(d=new _r).translate(h,r),d.concat(u),(r=l.rect.clone()).x=r.y=0,r=Rr.H.UQ(r).U,Rr.H.A(r,d,r),l.add.SoLd.Trnf=qr.Q.mk(r),l.add.SoLd.nonAffineTransform=qr.Q.mk(r),l.jM(n,!1))}else if("TxtA"==s||"TxtF"==s){l.add.lnsr="rend",l.add.TySh=ir.mb(0,0),l.add.TySh.qK=new Fr(0,0,100,100);var y=e.TxtH.FrmB,m=new _r,w=0;m.translate(y[0],y[1]),m.concat(u),l.add.TySh.A=m;var b=l.add.TySh.nx,m=e.StSt,M=m.Blok;if(1!=M.length)throw"e";for(var S=0;S<M.length;S++){var C=M[S],x=w,L=0,D=C.Glyp.Utf8;D=(D=(D=D.replace(/\u2028/g,"\n")).replace(/\u2029/g,"\n")).slice(0,D.length-1),ir.RX(b,w,D),w+=D.length;for(var k=C.GAtt.Runs,C=C.PAtt.Runs[0],T=C.Item.Ints[0],A=0;A<k.length;A++){var E=k[A],O=E.Indx,E=E.Item,N=E.Objs,I=ir.vK(b,x,1);I.eS.Justification=0==T?0:1==T?2:1,ir.Ui(I,E.DFnt.Post),I.hy.FontSize=E.Doub[0];for(c=0;c<N.length;c++){var P=N[c];"FDsc"!=P._type||"FilS"==(P=P.FDeF)._type&&(P=_n(P.Colr),I.hy.FillColor={Type:1,Values:[1,P[0],P[1],P[2]]})}ir.xB(b,x+L,x+Math.min(O,D.length),I),L=O}}ir.b8(b,1),ir.NO(b,[0,0,Math.round(y[2]-y[0]),Math.round(1.2*(y[3]-y[1]))]),n.O2=!0}else{var F,_;f?(l.OW|=16,m=l.add.vstk=JSON.parse(JSON.stringify(Wi.XF.default)),l.add.vstk.strokeEnabled.v=!1,l.add.vogk=[],H=l.add.vmsk=In(e),Rr.$.yl(H.Y,u),e.BFFl&&(F=e.BFFl[0].FDeF,"FilS"==(_=F._type)?l.add.SoCo={classID:"null",Clr:Fn(F.Colr)}:"FilG"==_?(nt=l.add.GdFl=JSON.parse(Wi.xs[Wi.order.indexOf("GrFl")]),Pn(F,nt)):"FilN"==_?(l.add.SoCo={classID:"null",Clr:{t:"Objc",v:Rr.I.wg({p:0,z:0,S:0})}},m.fillEnabled.v=!1):console.log(_)),e.LILn&&(y=e.LILn[0].LDeL,0!=(y=y.Wght)&&(m.strokeEnabled.v=!0,m.strokeStyleLineWidth.v.val=y,F=e.LIFl[0].FDeF,"FilS"==(_=F._type)?m.strokeStyleContent.v.Clr=Fn(F.Colr):"FilN"==_&&(m.strokeEnabled.v=!1))),l.fF(n)):console.log(s)}var B=e.AdCh,R=[];if(B)for(c=0;c<B.length;c++){var U=B[c],j=U._type;if("ShpN"==j||"PCrv"==j){var H=l.add.vmsk=In(U),J=On(u,U);Rr.$.yl(H.Y,J),l.fF(n)}else if(U.AdjP){var q=U.AdjP,j=q._type,J={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[j];if(null!=J){J=Gr.Ci(J,{});R.push(J);J=J.v.Fltr.v;if("LevP"==j)(G=qe.OD(J,0))[0]=255*q.OutB,G[1]=255*q.OutW,qe.nS(J,0,G);else if("WhBP"==j)(G=qe.OD(J,2))[4]=100+20*q.WBTi,qe.nS(J,2,G),(G=qe.OD(J,3))[4]=100+200*q.WBTi,qe.nS(J,3,G);else if("HSSP"==j)(G=Je.OD(J,0))[0]=Math.round(256*q.HueA),G[1]=Math.round(256*q.SatA),G[2]=Math.round(256*q.LumA),Je.nS(J,0,G);else if("RecP"==j)J.Clrz.v=!0,(G=Je.OD(J,0))[0]=Math.round(100*q.RecH),G[1]=Math.round(100*q.RecS),G[2]=Math.round(100*q.RecL),Je.nS(J,0,G);else if("B&CP"==j)J.Brgh.v=Math.round(100*q.Brig),J.Cntr.v=Math.round(100*q.Ctrs-100);else if("PosP"==j)J.Lvls.v=q.Post;else if("VibP"==j)J.vibrance.v=q.Vibr-100,J.Strt.v=Math.round(100*q.Satu);else if("ExpP"==j)J.Exps.v=q.Expo,J.gammaCorrection.v=q.Gamm/2.2;else if("ThrP"==j)J.Lvl.v=Math.round(255*q.Thre);else if("CrvP"==j){for(var G,Z=q.Mast["Cnt "],z=q.Mast.Vals,V=(G=He.OD(J,0))[0],W=0;W<Z;W++){var X=G[W]=JSON.parse(JSON.stringify(V));X.v.Hrzn.v=Math.round(255*z[W]),X.v.Vrtc.v=Math.round(255*z[4+W])}He.nS(J,0,G)}}else console.log(q)}else console.log(U)}0!=R.length&&(l.add.SoLd.filterFX=Gr.lI(),n.lQ({id:l.add.SoLd.placed.v,rect:new Fr,buffer:Rr.t(1),q:new qi.vi}),l.add.SoLd.filterFX.v.filterFXList.v=R,l.jM(n,!1));var Y=e.FiEf;if(Y&&0!=Y.length){for(var K=l.add.lmfx=JSON.parse(Wi.default),c=0;c<Wi.order.length;c++)K[Wi.Th[c]]={t:"VlLs",v:[]};for(var Q=0;Q<Y.length;Q++){var $=Y[Q],tt=$._type,et={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[tt],nt=et?JSON.parse(Wi.xs[Wi.order.indexOf(et)]):null;"ColO"==tt?nt.Clr=Fn($.Colr):"GrdO"==tt?Pn($.GrFl.FDeF,nt):"Shad"==tt||"InnS"==tt||"OutG"==tt||"InnG"==tt?(nt.Clr=Fn($.Colr),nt.blur.v.val=Math.round($.Radi/2.4),null!=$.Offs&&(nt.Dstn.v.val=$.Offs,nt.lagl.v.val=Math.round(180-180*$.Angl/Math.PI),nt.uglg.v=!1)):"Strk"==tt?(nt.Clr=Fn($.Colr),nt.Sz.v.val=Math.round($.Radi)):"PhgB"==tt||"BevE"==tt?(nt.blur.v.val=Math.round($.Radi),"BevE"==tt&&(nt.bvlS.v.BESl="PlEb")):"Gaus"==tt&&f&&$.Enab&&(l.add.vmsk.Df=$.Radi/2.4,l.add.vmsk.X$=!0,l.fF(n)),et&&(nt.enab.v=$.Enab,nt.Md&&null!=$.BlnM&&(nt.Md.v.BlnM=Ji.S8(Nn($.BlnM))),nt.Opct&&null!=$.Opac&&(nt.Opct.v.val=Math.round(100*$.Opac)),et=Wi.Th[Wi.order.indexOf(et)],K[et].v.unshift({t:"Objc",v:nt}))}}n.g.push(l)}(a[o],e,i,new _r,s);e.BD(s[0]),console.log(Date.now()-n,"Document created"),Date.now()},Un.M9=function(t,e){var n=Un,i=Jn.parse(t),r=0;1<i.pages.length&&console.log(i.pages.length,"pages");for(var a=[],s=new Fr,o=0;o<i.pages.length;o++){var l=i.pages[o],h=l.layers,u=!1;(64e6<(b=n.UP(h,o)).Z()||3e4<b.m||3e4<b.n)&&(n.u$(h,!0),n.UP(h,o).Z()>=b.Z()&&n.u$(h,!1)),b=n.UP(h,o);for(var f=0;f<h.length;f++){var c=h[f];"artboard"==n.FX(c)&&(u=!0)}if(!u){console.log("no artboard");var p,d={};for(p in l)d[p]=l[p];d._class="group",l.layers=[d]}a.push(b.clone()),b.mN()||(b.x=0,b.y=r,r+=b.n+200,s=s.hq(b))}var v,g={};if(i.foreignSymbols)for(var y=0;y<i.foreignSymbols.length;y++){var m=i.foreignSymbols[y].symbolMaster;g[m.symbolID]={n0:m}}for(v in n.uN(i.pages,g,e),g)c=g[v].n0,n.Kw(c.layers);var w=Un.cs(s,67108864);e.O2=!0,e.m=Math.round(s.m/w),e.n=Math.round(s.n/w),e.buffer=Rr.t(e.m*e.n*4),e.BD(i.pages[0].layers.length),e.KB={},e.jq=[];for(r=0,o=0;o<i.pages.length;o++){var b,M=i.pages[o],S=new _r(w,0,0,w,(b=a[o]).x,b.y-r);n.K_(M.layers,e,S,i,g,{},[]),r+=b.n+200}delete e.KB,delete e.jq,1!=w&&alert("File scaled down "+w+"x"),e.a6p()},Un.a7B=0,Un.FX=function(t){return t._class||t.$class},Un.cs=function(t,e){for(var n=1;Math.round(t.m/n)*Math.round(t.n/n)>e||3e4<Math.max(Math.round(t.m/n),Math.round(t.n/n));)n++;return n=1!=n&&!window.confirm("Your image is quite large ("+t.m+" x "+t.n+" px).\nPress OK to scale it down "+n+"x, or Cancel to keep the size.")?1:n},Un.UP=function(t,e){for(var n=[],i=Un,r=0;r<t.length;r++){var a=t[r],s=i.e4(a.frame);0!=e&&"artboard"!=i.FX(a)||n.push(s)}return Rr.rect.pD(n)},Un.u$=function(t,e){for(var n=[],i=Un,r=0;r<t.length;r++){var a=t[r],s=i.e4(a.frame);s.m+=150,s.n+=150,n.push(s)}var o=Rr.rect.pD(n);Rr.rect.aax(n,e);e=Rr.rect.pD(n);if(1.5*e.Z()<o.Z()||3e4<o.m&&e.m<=3e4||3e4<o.n&&e.n<=3e4){alert("Re-arranging artboards");for(r=0;r<t.length;r++){var l=n[r],h=(a=t[r]).frame;h.x=l.x,h.y=l.y}}},Un.uN=function(t,e,n){for(var i=Un,r=0;r<t.length;r++){var a=t[r],s=i.FX(a);-1!=["page","artboard","group"].indexOf(s)?i.uN(a.layers,e,n):"symbolMaster"==s&&(e[a.symbolID]={n0:a})}},Un.Kw=function(t){for(var e=Un,n=0;n<t.length;n++){var i=t[n],r=e.FX(i),a=null;if(-1!=["page","artboard","group"].indexOf(r)&&(a=e.Kw(i.layers)),null!=(a="symbolMaster"==r||"symbolInstance"==r?i:a))return a}return null},Un.K_=function(t,e,n,i,r,a,s){for(var o=Un,l=[],h=0;h<t.length;h++){var u=t[h],f=u.frame?o.e4(u.frame):null,c=u.style,p=null,d=!1;null==c&&console.log("no styles");var v=o.Wy(u,n),g=o.FX(u),y="shapeGroup"==g||"shapePath"==g||"rectangle"==g||"oval"==g||"triangle"==g||"polygon"==g,m=-1!=["page","artboard","group"].indexOf(g);if("shapeGroup"==g)for(var w=0;w<u.layers.length;w++)"shapeGroup"==o.FX(u.layers[w])&&(m=!0);var b=u.exportOptions;b&&(null==(M=b.exportFormats)&&(M=b.sizes),"artboard"!=g&&M&&0!=M.length&&M[0].scale),(P=e.rL()).I9(u.isVisible);var M=u.name;if("string"!=typeof M&&(M=g),P.Zu(""+M.slice(0,250)),null!=c&&(p=o.a7i(i,e,c,f,v,P.getName(),y||"artboard"==g||m)),"rectangle"==g&&c&&c.fills&&c.fills[0]&&(4==(M=c.fills[0]).fillType&&1<M.patternFillType&&null!=M.image&&(d=!0)),u.shouldBreakMaskChain)for(;0!=l.length;)o.Li(l.pop(),e);if(m)P.add.lsct=2==u.layerListExpandedType?Gi.pb:Gi.jT,P.SD="pass",P.OW=24,P.I9(u.isVisible),e.g.push(e.ne()),"artboard"==g&&(S=f.clone(),q=v.eZ(),S.x=-Math.floor(v.E_/q),S.y=-Math.floor(v.Qq/q),S.m=Math.floor(S.m/q),S.n=Math.floor(S.n/q),P.fx(S),S=(S=u.backgroundColor)?{p:255*S.red,z:255*S.green,S:255*S.blue}:{p:255,z:255,S:255},P.add.artb.Clr={t:"Objc",v:Rr.I.wg(S)},P.add.artb.artboardBackgroundType={t:"long",v:4}),o.K_(u.layers,e,v,i,r,a,s);else if(y&&!d){P.add.vmsk=new qi.g6,P.add.vstk=JSON.parse(JSON.stringify(Wi.XF.default)),P.add.vstk.strokeEnabled.v=!1,P.add.vogk=[];var S=null!=p&&1==p.frameFXMulti.v.length,C=c?c.fills:null,y=c?o.V5(i,C,f,v,P.getName(),e,o.uK(s,u.do_objectID+"_image")):[];if(0==y.length)S?P.add.vstk.fillEnabled.v=!1:P.add.iOpa=0,P.add.SoCo={classID:"null",Clr:{t:"Objc",v:Rr.I.wg({p:0,z:0,S:0})}};else{var x=y[0],L=null,D=null;if("SoFi"==x.type&&(L="SoCo",D=Wi.Di),"GrFl"==x.type&&(L="GdFl",D=Wi.lK),"patternFill"==x.type&&(L="PtFl",D=Wi.Gt),null!=L){P.add[L]={classID:"null"};for(w=0;w<D.length;w++){var k=D[w];P.add[L][k]=x.k.v[k]}var T=x.k.v.Opct.v.val;S&&0==T?P.add.vstk.fillEnabled.v=!1:P.add.iOpa=Math.round(255*T/100)}}P.OW|=16,P.add.vmsk.Y=o.b5(u.layers||[u],u.layers?v:n,P.add.vogk),(T=c?c.blur:null)&&T.isEnabled&&T.type<=1&&(P.add.vmsk.Df=T.radius),2==P.add.vmsk.Y.length&&console.log("shape with no content:",P.getName()),S&&(O=p.frameFXMulti.v[0].v,F=P.add.vstk,c.borders[0],p.frameFXMulti.v=[],Xi.akh(O,F),S=c.borderOptions,N=c.miterLimit,S&&(E=S.dashPattern,F.strokeStyleLineCapType.v.strokeStyleLineCapType=Wi.XF.Sl[S.lineCapStyle],F.strokeStyleLineJoinType.v.strokeStyleLineJoinType=Wi.XF.join[S.lineJoinStyle],E&&(F.strokeStyleLineDashSet.v=Xi.iO(E,1/O.Sz.v.val)),null!=N&&(F.strokeStyleMiterLimit.v=N))),P.fF(e)}else if("bitmap"==g||d){if(!d&&null==u.image)continue;var A=d?c.fills[0]:null,E=(d?A:u).image.bdata,O=e.Rp(E,P.getName(),0,0);O.OW=P.OW;var N,I,P=O,T=c?c.blur:null,F=c?c.colorControls:null;(T||F)&&(P.add.SoLd.filterFX=Gr.lI(),e.lQ({id:P.add.SoLd.placed.v,rect:new Fr,buffer:Rr.t(1),q:new qi.vi}),C=P.add.SoLd.filterFX.v.filterFXList.v,T&&((I=Gr.Ci("GsnB",{})).v.enab.v=T.isEnabled,I.v.Fltr.v.Rds.v.val=T.radius,C.push(I)),F&&(N=F.brightness,_=F.contrast,E=F.hue,O=F.saturation,0==E&&1==O||((I=Gr.Ci("hue2",{})).v.enab.v=F.isEnabled,Je.nS(I.v.Fltr.v,0,[Math.round(180*E/Math.PI),Math.round(100*(O-1)),0]),C.push(I)),0==N&&1==_||((I=Gr.Ci("brit",{})).v.enab.v=F.isEnabled,0<(_-=1)&&(_/=2),(B=I.v.Fltr.v).Brgh.v=Math.round(255*N),B.Cntr.v=Math.round(255*_),B.useLegacy.v=!0,C.push(I)))),d&&3==A.patternFillType&&((z=P.rect.m/P.rect.n)<(J=f.m/f.n)?(v.translate(-f.m*(1-z/J)/2,0),v.scale(J/z,1)):(v.translate(0,-f.n*(1-J/z)/2),v.scale(1,z/J))),f.x=f.y=0;var _=Rr.H.UQ(f).U;v.tU(),Rr.H.A(_,v,_),P.add.SoLd.Trnf=qr.Q.mk(_),P.add.SoLd.nonAffineTransform=qr.Q.mk(_),P.jM(e,!1)}else if("text"==g){if(null==u.attributedString)continue;var B=v.clone(),R=0;B.tU(),B.q4=B.DR=Math.min(B.q4,B.DR),P.add.lnsr="rend",P.add.TySh=ir.mb(0,0),P.add.TySh.qK=new Fr(0,0,f.m,f.n),P.add.TySh.A=B;d=u.attributedString;(Z=null==(Z=null==(Z=(d=d.archivedAttributedString?d.archivedAttributedString:d).NSString)?d.string:Z)?"":Z)["NS.string"]&&(Z=Z["NS.string"]),null!=a[u.do_objectID]&&(Z=a[u.do_objectID]);A=o.uK(s,u.do_objectID+"_stringValue");if(A&&(Z=A.value),null!=d.attributes)for(var U=[],j=[],H=d.attributes,w=0;w<H.length;w++)U.push(H[w].length,w),j.push(H[w].attributes);else null==d.NSAttributeInfo?(U=[Z.length,0],j=[d.NSAttributes]):(U=d.NSAttributeInfo["NS.data"],j=d.NSAttributes,U=Un.aix(U,j));for(w=0;w<U.length;w+=2)R+=U[w];if(R!=Z.length){for(;R>Z.length;)U[U.length-2]--,R--,0==U[U.length-2]&&(U.pop(),U.pop());U[U.length-2]+=Z.length-R}var J,q,G,Z=(Z=(Z=Z.replace(/\u2028/g,"\n")).replace(/\u2029/g,"\n")).replace(/\r/g,"\n"),z=P.add.TySh.nx;ir.RX(z,0,Z),""!=Z&&(J=u.textBehaviour,_=(W=c.textStyle)?W.verticalAlignment:0,A=o.a28(z,U,j,Z),q=B.eZ(),(d=ir.vK(z,V=0,1)).hy.Font&&("FontAwesome"!=(G=d.CV[d.hy.Font].Name)&&"Ionicons"!=G||(A*=.87)),B=d.hy.AutoLeading?0:.6*d.hy.Leading,W=Math.max(A,B)*q,G=f.m,A=f.n,0==J?(ir.b8(z,0),1==(B=ir.ub(d.eS))&&(V=G*q),2==B&&(V=G*q*.5),W*=0==_?1:.9):(ir.b8(z,1),ir.NO(z,[0,0,Math.round(G),Math.round(A)]),2==J&&0==_?W*=.2:2==J&&1==_?W=.5*q*(A-d.hy.FontSize):W*=1==J&&0==_?.2:.35),P.add.TySh.A.translate(V,W))}else{if("symbolInstance"!=g&&"symbolMaster"!=g){if("slice"==g){console.log("slice layers are ignored by now");continue}console.log("unknown layer type: "+g,u);continue}var V=u.symbolID;a[u.do_objectID]&&(V=a[u.do_objectID].symbolID);var W=o.uK(s,u.do_objectID+"_symbolID");if(""==(V=W?W.value:V))continue;var X={};for(k in a)X[k]=a[k];if(u.overrides)for(var k in u.overrides)X[k]=u.overrides[k];var Y=s.slice(0);u.overrideValues&&(Y=Y.concat(u.overrideValues));g=r[V];if(null==g){console.log("Unknown master master",u.symbolID);continue}W=Un.e4(g.n0.frame),V=W.m/f.m,f=W.n/f.n,v=v.clone();v.scale(V,f),P.add.lsct=Gi.jT,P.SD="pass",P.OW=24,P.I9(u.isVisible),e.g.push(e.ne());g=g.n0;-1==e.jq.indexOf(g)&&(e.jq.push(g),o.K_(g.layers,e,v,i,r,X,Y),e.jq.pop())}c&&c.contextSettings&&((c=(Y=c.contextSettings).blendMode)<o.hW.length&&(P.SD=Ji.sp[Ji.q6.indexOf(o.hW[c])],m&&"norm"==P.SD&&(P.SD="pass")),P.opacity=Math.round(P.opacity*Y.opacity)),null!=p&&(P.add.lmfx=p),e.g.push(P),u.hasClippingMask&&1<t.length&&(l.push(P),e.g.push(e.ne()))}for(;0!=l.length;)o.Li(l.pop(),e)},Un.uK=function(t,e){for(var n=0;n<t.length;n++)if(t[n].overrideName.startsWith(e))return t[n]},Un.aix=function(t,e){for(var n=0,i=[];n+1<t.length;){var r=t[n];n++,127<r&&(r+=128*(t[n]-1),127<t[++n-1]&&(r+=128*(t[n]-1),n++));var a=t[n];n++,i.push(r,a)}return i},Un.a28=function(t,e,n,i){for(var r=Un,a=0,s=0,o=0,l=0;l<i.length;l++){var h=i.charCodeAt(l);(1473<=h&&h<=1479||1488<=h&&h<=1514||1520<=h&&h<=1524||(1569<=h&&h<=1594||1600<=h&&h<=1749))&&a++}for(var u=a>i.length/2,l=0;l<e.length;l+=2){var f,c,p,d,v,g,y,m=e[l],w=14,b="DejaVuSans";0!=m&&(g=n[e[l+1]],f=ir.vK(t,s,s+m-1),null==(v=g.NSColor)?v=null==(v=null==(v=g.MSAttributedStringColorDictionaryAttribute)?g.MSAttributedStringColorAttribute:v)?"0 0 0":[v.red,v.green,v.blue].join(" "):"MSArchivedColor"==r.FX(v)?v=v.dr+" "+v.dg+" "+v.db:v.NSRGB?(v=v.NSRGB,v=ln.fb(v,0,v.length-1)):v.NSCMYK?(v=v.NSCMYK,d=1-(v=(v=ln.fb(v,0,v.length-1)).split(" ").map(parseFloat))[0],c=1-v[1],p=1-v[2],v=d*(d=1-v[3])+" "+c*d+" "+p*d):v.NSWhite&&(v="1 1 1"),v=v.split(" "),f.hy.FillColor={Type:1,Values:[1,parseFloat(v[0]),parseFloat(v[1]),parseFloat(v[2])]},d=g.MSAttributedStringFontAttribute,g.NSFont?(w=g.NSFont.NSSize,b=g.NSFont.NSName):d&&null==(b=d.attributes?(w=(d=d.attributes).size,d.name):(w=(d=v=null==(v=d.NSFontDescriptorAttributes)?d.UIFontDescriptorAttributes:v).NSFontSizeAttribute,d.NSFontNameAttribute))&&(b="DejaVuSans"),o=Math.max(o,w),f.hy.FontSize=Math.round(w),ir.Ui(f,b),null!=(b=null==(b=g.NSKern)?g.kerning:b)&&(f.hy.Tracking=Math.round(1e3*b/w)),null!=g.NSUnderline&&(f.hy.Underline=0<g.NSUnderline),null!=(w=null==(w=g.NSStrikethrough)?g.strikethroughStyle:w)&&(f.hy.Strikethrough=0<w),1==g.MSAttributedStringTextTransformAttribute&&(f.hy.FontCaps=2),(w=null==(w=g.NSParagraphStyle)?g.paragraphStyle:w)&&(null!=(g=w.paragraphSpacing)&&(f.eS.SpaceAfter=g),null!=(g=null==(g=w.NSAlignment)?w.alignment:g)&&(y=0,1==g?y=1:2==g?y=2:4==g?y=0:(y=g,console.log("unknown align",g)),u&&y<2&&(y=1-y),f.eS.Justification=y),null!=(y=null==(y=w.NSMinLineHeight)?w.minimumLineHeight:y)&&(f.hy.AutoLeading=!1,f.hy.Leading=y)),f.eS._Direction=u?1:0,ir.xB(t,s,s+m,f),s+=m)}return o},Un.a7i=function(t,e,n,i,r,a,s){for(var o=Un,l=JSON.parse(Wi.default),h=!1,u=0;u<Wi.order.length;u++)l[Wi.Th[u]]={t:"VlLs",v:[]};for(var f=n.fills,c=o.V5(t,f,i,r,a,e),p=0;p<2;p++){var d=n[["shadows","innerShadows"][p]];if(null!=d)for(var v=["DrSh","IrSh"][p],g=Wi.Th[Wi.order.indexOf(v)],u=0;u<d.length;u++){var y,m,w=d[u];w.isEnabled&&0!=w.contextSettings.opacity&&0!=w.color.alpha&&(S=JSON.parse(Wi.xs[Wi.order.indexOf(v)]),l[g].v.unshift({t:"Objc",v:S}),h=!0,S.Clr.v=o.oj(w.color),S.blur.v.val=Math.round(w.blurRadius/r.eZ()),(m=r.clone()).E_=m.Qq=0,m.tU(),y=m.iX(new Pr(w.offsetX,w.offsetY)),m=Math.sqrt(y.x*y.x+y.y*y.y),S.Dstn.v.val=Math.round(m),S.lagl.v.val=Math.round(Math.atan2(y.y,-y.x)*(180/Math.PI)),S.layerConceals&&(S.layerConceals.v=0!=c.length),o.vB(w,S))}}var b=n.borders;if(null!=b&&(0==c.length||null==n.blur||!n.blur.isEnabled))for(u=0;u<b.length;u++){var M=b[u];if(M.isEnabled){var S=JSON.parse(Wi.xs[Wi.order.indexOf("FrFX")]);if(l[g=Wi.Th[Wi.order.indexOf("FrFX")]].v.unshift({t:"Objc",v:S}),h=!0,S.Clr.v=o.oj(M.color),0!=M.fillType&&M.gradient){for(var C=o.CG(M.gradient,i,r,a),x=["Type","Angl","Ofst","Scl"],u=0;u<x.length;u++)S[x[u]]=C[x[u]];S.Grad.v=C.Grad.v,S.PntT.v.FrFl="GrFl"}S.Sz.v.val=M.thickness/r.eZ(),S.Styl.v.FStl=["CtrF","InsF","OutF"][M.position],o.vB(M,S)}}for(u=s?1:0;u<c.length;u++){var L=c[u];l[g=Wi.Th[Wi.order.indexOf(L.type)]].v.unshift(L.k),h=!0}return h?l:null},Un.V5=function(t,e,n,i,r,a,s){if(null==e)return[];for(var o=Un,l=[],h=0;h<e.length;h++)e[h].isEnabled&&l.push(e[h]);e=l;for(var u=[],h=0;h<e.length;h++){var f,c,p,d,v,g,y,m,w,b=e[h],M=null,S=null;0==b.fillType?(M="SoFi",(S={t:"Objc",v:y=JSON.parse(Wi.xs[Wi.order.indexOf("SoFi")])}).v.Clr.v=o.oj(b.color)):1==b.fillType?(M="GrFl",S={t:"Objc",v:o.CG(b.gradient,n,i,r)}):4==b.fillType&&null!=b.image?(w=b.image,s&&(w=s.value),null!=(f=ai.Am(w.bdata.buffer))&&"pdf"!=f&&"eps"!=f&&(d=p=c=0,a.KB[w.key]?v=a.KB[w.key]:(m=(g=ai.TN(f).Ou(w.bdata)[0]).Tl.clone(),(v={}).id=zi.Gs()+"-d71c-11e5-b1ae-a548a96e5f9f",v.name="someImage",v.ax=[new Uint8Array(g.data),m],a.uo(v),a.KB[w.key]=v),g=v.ax[1],M="patternFill",S={t:"Objc",v:y=JSON.parse(Wi.xs[Wi.order.indexOf("patternFill")])},m=b.patternFillType,w=b.patternTileScale,y.Algn.v=!0,y.Ptrn.v.Idnt.v=v.id,d=0==m?(c=w*g.m/Math.min(g.m,g.n),p=-i.E_,-i.Qq):(c=Math.max(n.m/g.m,n.n/g.n),p=-i.E_-(g.m*c-n.m)/2,-i.Qq-(g.n*c-n.n)/2),y.Scl.v.val=100*c*(1/i.eZ()),y.phase.v.Hrzn.v=Math.round(p/i.eZ()),y.phase.v.Vrtc.v=Math.round(d/i.eZ()))):5==b.fillType?console.log("fill type Noise not supported yet"):console.log("unknown fill type",b.fillType),null!=M&&(o.vB(b,S.v),u.push({type:M,k:S}))}return u},Un.aov=function(t){var e=Un,n=new Fr(0,0,1,1);for(t=t.slice(0);;){for(var i=!1,r=0;r<t.length-1;r++){var a=t[r],s=t[r+1],o=null,l=a.contextSettings;if(0==a.fillType&&(null==l||1==l.opacity&&0==l.blendMode)&&1==a.color.alpha){var h="norm",u=1;if((l=s.contextSettings)&&(u=l.opacity,h=Ji.zK(e.hW[l.blendMode])),0==s.fillType&&(o=JSON.parse(JSON.stringify(s)),e.Mm(o.color,a.color,o.color,n,h,u)),1==s.fillType)for(var f=(o=JSON.parse(JSON.stringify(s))).gradient.stops,c=0;c<f.length;c++)e.Mm(f[c].color,a.color,f[c].color,n,h,u);null!=o&&o.contextSettings&&((l=o.contextSettings).opacity=1,l.blendMode=0)}if(null!=o){t.splice(r,0,o),i=!0;break}}if(!i||t.length<2)break}return t},Un.Mm=function(t,e,n,i,r,a){var s=Un,o=Rr.t(4);s.B1(t,o);t=Rr.t(4);s.B1(e,t),Rr.a.bW(r,o,i,t,i,i,a),s.acO(t,n)},Un.B1=function(t,e){e[0]=255*t.red,e[1]=255*t.green,e[2]=255*t.blue,e[3]=255*t.alpha},Un.acO=function(t,e){e.red=t[0]/255,e.green=t[1]/255,e.blue=t[2]/255,e.alpha=t[3]/255},Un.Li=function(t,e){(t=t.clone()).OW=24,t.Zu("Mask by "+t.getName()),e.g.push(t),t.add.lsct=Gi.pb,t.add.lyid=e.zJ(),delete t.add.lmfx,delete t.add.SoCo,delete t.add.GdFl,delete t.add.PtFl,delete t.add.iOpa,t.add.vmsk&&(t.add.vmsk.X$=!0),t.fF(e),16==(16&t.OW)&&(t.OW-=16),2==(2&t.OW)&&(t.OW-=2),t.SD="pass",t.opacity=255},Un.hW="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" "),Un.CG=function(t,e,n,i){(n=n.clone()).tU(),n.E_=n.Qq=0;var r=n.eZ(),a=0,s=0;n.scale(1/r,1/r);var o=Un,l=JSON.parse(Wi.xs[Wi.order.indexOf("GrFl")]),h=l.Grad.v;if(h.Intr.v=0,null==t)return l;var u=t.gradientType,r=o.YV(t.from),o=o.YV(t.to);r.offset(-.5,-.5),o.offset(-.5,-.5);r=n.iX(r),o=n.iX(o),n=Math.atan2(-(o.y-r.y),o.x-r.x);l.Type.v.GrdT=["Lnr","Rdl","Angl"][u],l.Scl.v.val=100*Pr.Tn(r,o),0==u&&(l.Angl.v.val=180/Math.PI*n,l.Scl.v.val=100*Pr.Tn(r,o),a=(r.x+o.x)/2,s=(r.y+o.y)/2),1==u&&(l.Scl.v.val=200*Pr.Tn(r,o),a=r.x,s=r.y),2==u&&(l.Angl.v.val=180/Math.PI*(n-Math.PI/2));n=l.Ofst.v;n.Hrzn.v.val=100*a,n.Vrtc.v.val=100*s;for(var f=[],c=0;c<t.stops.length;c++){var p=t.stops[c],d=p.color;f.push([p.position,d?[d.red,d.green,d.blue]:[0,0,0],d.alpha])}return Rr.I.MW(f,h),l},Un.vB=function(t,e){var n=Un,i=1,r=t.contextSettings;null!=r?(e.Md.v.BlnM=n.hW[r.blendMode],i*=r.opacity):e.Md.v.BlnM=n.hW[0],e.enab.v=t.isEnabled,null!=e.uglg&&(e.uglg.v=!1),null!=t.color&&(i*=t.color.alpha),e.Opct.v.val=Math.round(100*i)},Un.oj=function(t){return Rr.I.wg(t?{p:255*t.red,z:255*t.green,S:255*t.blue}:{p:0,z:0,S:0})},Un.b5=function(t,e,n){for(var i=Un,r=[{type:6},{type:8,all:0}],a=0;a<t.length;a++){var s=t[a],o=s.booleanOperation,l=0,h=s._class,u=!1;if("group"!=h&&"text"!=h&&"symbolInstance"!=h&&"slice"!=h){-1==o?l=0:0==o?l=1:1==o?l=2:2==o?l=3:3==o&&(l=0),0==a&&(l=1);for(var f=Un.e4(s.frame),c=i.Wy(s,e),o=s.path||s,p=[{type:0,length:0,Gw:l,aD:2,QL:0,Bt:0}],d=o.points,v=0;v<d.length;v++)var g=d[v],y=i.YV(g.curveTo),m=i.YV(g.point),w=i.YV(g.curveFrom),u=u||g.hasCurveFrom&&!w.iy(m)||g.hasCurveTo&&!y.iy(m);var b=[];if(u){var M=d.length;p[0].length=M;for(v=0;v<M;v++){var S=(g=d[v]).curveMode,C=i.YV(g.point);p[1+v]={type:2==S||4==S?1:2,Sm:g.hasCurveTo?i.YV(g.curveTo):C.clone(),B:C,Pv:g.hasCurveFrom?i.YV(g.curveFrom):C.clone()}}c.scale(1/f.m,1/f.n),c.tU(),Rr.$.yl(p,c);for(b=[],v=0;v<M;v++){var S=(g=d[v]).curveMode,x=g.cornerRadius;1==S&&0!=x?b.push(x):b.push(0)}}else{var L=[],D=d.length;if(0==D)continue;for(var v=0;v<D;v++){b[v]=d[v].cornerRadius;var g=i.YV(d[v].point);L.push(g.x,g.y)}c.scale(1/f.m,1/f.n),c.tU(),Rr.H.A(L,c,L),(p=Rr.$.lO._5(L,b).slice(2))[0].Gw=l}if(!o.isClosed)for(v=0;v<p.length;v++)p[v].type+=3;r=r.concat(p),f=Rr.UY.lk(),l=i.FX(s);0==c.S&&0==c.yH&&(c=[o=c.E_,s=c.Qq,o+c.q4,s+c.DR],"rectangle"==l&&4==b.length&&(f=Rr.UY.Lp(2,c,b)),"oval"==l&&(f=Rr.UY.Lp(5,c))),n.push(f)}else console.log(h+" inside ShapeGroup")}return r},Un.Wy=function(t,e){var n=e.clone(),e=t.frame?Un.e4(t.frame):null;return e&&n.translate(-e.x-e.m/2,-e.y-e.n/2),t.isFlippedHorizontal&&n.scale(-1,1),t.isFlippedVertical&&n.scale(1,-1),n.rotate(-t.rotation*(Math.PI/180)),e&&n.translate(e.m/2,e.n/2),n},Un.YV=function(t){return t=t.slice(1,t.length-1).split(","),new Pr(parseFloat(t[0]),parseFloat(t[1]))},Un.e4=function(t){return new Fr(t.x,t.y,t.width,t.height)},Un.fp=function(t){return{_class:"rect",constrainProportions:!1,x:t.x,y:t.y,width:t.m,height:t.n}},jn.M9=function(t,e){Date.now();for(var n=UZIP.parse(t),t=JSON.parse(ln.cP(n.manifest)),i=JSON.parse(ln.cP(n["resources/graphics/graphicContent.agc"])).resources,r=[],a=[],s=t.children,o=0;o<s.length;o++){var l=s[o];if("artwork"==l.name)for(var h=l.children,u=0;u<h.length;u++){var f,c,p=h[u],d=JSON.parse(ln.cP(n["artwork/"+p.path+"/graphics/graphicContent.agc"])).children;0==d.length||(1==d.length?p["uxdesign#bounds"]&&(p._node=d[0],r.push(p)):(f=(c=d[0]).transform,null==(c=c.shape)&&(c={x:0,y:0,width:1e3,height:1e3}),c=JSON.parse(JSON.stringify(c)),f&&(c.x+=f.tx,c.y+=f.ty),p["uxdesign#bounds"]=c,p._node={type:"artboard",artboard:{children:d}},a.push(p)))}}0==r.length&&(r=a);for(var v=[],g=new Fr,o=0;o<r.length;o++){var p=r[o],y=Un.e4(p["uxdesign#bounds"]);v.push(y),g=g.hq(y)}t=Un.cs(g,67108864);e.O2=!0,e.m=Math.round(g.m/t),e.n=Math.round(g.n/t),e.buffer=Rr.t(e.m*e.n*4),e.BD(r.length);var m=new _r(t,0,0,t,g.x,g.y);e.KB={};for(o=0;o<r.length;o++){var p=r[o],y=Un.e4(p["uxdesign#bounds"]),w=p._node,b=m.clone(),M=y.clone(),S=b.eZ();b.translate(-y.x,-y.y),M.x=-Math.floor(b.E_/S),M.y=-Math.floor(b.Qq/S),M.m=Math.floor(M.m/S),M.n=Math.floor(M.n/S),b.translate(y.x,y.y),jn.EB(w,e,b,i,n,M);b=e.g[e.g.length-1];b.Zu(p.name),b.fx(M),o!=r.length-1&&(b.add.lsct=Gi.jT)}delete e.KB},jn.Xm=function(t){return null==t?new _r:new _r(t.a,t.b,t.c,t.d,t.tx,t.ty)},jn.EB=function(t,e,n,i,r,a){var s,o,l,h=jn,u=t.type,f=t[u],c=t.style,p="none",d="none";(P=h.Xm(t.transform)).tU();var v=n.clone();v.concat(P);var g,y=e.rL(),n=t.name;if(y.Zu(n?n.slice(0,250):"Layer"),null!=t.visible&&y.I9(t.visible),c){if(p=(s=c.stroke)?s.type:"none",d=(o=c.fill)?o.type:"none",l=c.filters,g=(g=c.clipPath)&&i.clipPaths[g.ref]?i.clipPaths[g.ref].children:null,c.opacity&&(y.opacity=Math.round(255*c.opacity)),"solid"==d&&o.color.alpha&&(y.opacity=Math.round(y.opacity*o.color.alpha)),l){y.add.lmfx=h.a1B(l);for(var m,w,b=0;b<l.length;b++)"uxdesign#blur"==l[b].type&&(null==(w=(m=(Z=l[b]).params).brightnessAmount)&&(w=0),w=Math.abs(w/100),null!=Z.visible&&1!=Z.visible||!m.backgroundEffect||(y.opacity=Math.round(y.opacity*(w+(1-w)*m.fillOpacity))))}"pattern"==d&&""==o.pattern.meta.ux.uid&&(d="none")}if(null==g&&t.meta&&t.meta.ux&&t.meta.ux.clipPathResources&&(g=t.meta.ux.clipPathResources.children),"artboard"==u||"group"==u){g&&(g=null!=(C=(S=g[0]).shape)&&"rect"==C.type&&1e6<C.width*C.height,"text"==S.type||g?g||alert("Clipping by text has been ignored"):C&&((P=h.Xm(S.transform)).tU(),(O=v.clone()).concat(P),y.add.vmsk=new qi.g6,y.add.vmsk.Y=h.b5(C),(O=O.clone()).tU(),Rr.$.yl(y.add.vmsk.Y,O),y.fF(e))),y.add.lsct=Gi.pb,y.SD="pass",y.OW=24,null!=t.visible&&y.I9(t.visible),e.g.push(e.ne());var M=f.children,S=o;S=(S=S&&S.color)&&S.value,o&&("artboard"==u&&"solid"==d?(y.fx(new Fr(0,0,10,10)),y.add.artb.Clr={t:"Objc",v:Rr.I.wg({p:S.r,z:S.g,S:S.b})},y.add.artb.artboardBackgroundType={t:"long",v:4}):((L=e.rL()).Zu("BACKGROUND"),L.OW|=16,L.add.vstk=JSON.parse(JSON.stringify(Wi.XF.default)),L.add.vmsk=new qi.g6,L.add.vmsk.Y=h.b5({type:"rect",x:a.x,y:a.y,width:a.m,height:a.n}),h.L3(o,d,v,a,a,L,e,i,r),L.fF(e),e.g.push(L)));for(b=0;b<M.length;b++)jn.EB(M[b],e,v,i,r,a)}else if("shape"==u&&"rect"==t.shape.type&&(null==t.shape.r||0==t.shape.r)&&"pattern"==d&&Math.abs(t.shape.width/t.shape.height-o.pattern.width/o.pattern.height)<.01){var C=o.pattern,S=C.meta.ux,x=r["resources/"+S.uid];if(null==x)return void console.log(C);var L=e.Rp(x,y.getName(),0,0);L.OW=y.OW,L.opacity=y.opacity;y=L,x=Rr.H.UQ(new Fr(0,0,C.width,C.height)).U,L=new _r;L.scale(C.width/t.shape.width,C.height/t.shape.height),S.offsetX&&L.translate(-S.offsetX*C.width,0),S.offsetY&&L.translate(0,-S.offsetY*C.height),v.concat(L),v.tU(),Rr.H.A(x,v,x),y.add.SoLd.Trnf=qr.Q.mk(x),y.add.SoLd.nonAffineTransform=qr.Q.mk(x),y.jM(e,!1)}else if("shape"==u){y.OW|=16,y.add.vstk=JSON.parse(JSON.stringify(Wi.XF.default)),y.add.vmsk=new qi.g6,y.add.vmsk.Y=h.b5(f);var D=Rr.$.b3(y.add.vmsk.Y,null);(O=v.clone()).tU(),Rr.$.yl(y.add.vmsk.Y,O);var k,T=Rr.$.b3(y.add.vmsk.Y,null);if("none"!=p){var A=s.color.value,E={t:"Objc",v:JSON.parse(Wi.xs[Wi.order.indexOf("SoFi")])};E.v.Clr.v=Rr.I.wg({p:A.r,z:A.g,S:A.b});var x=s.align,O=s.cap;null==x&&(x="center");p=y.add.vstk;p.strokeEnabled.v=!0,p.strokeStyleLineWidth.v.val=s.width,x&&(p.strokeStyleLineAlignment.v.strokeStyleLineAlignment=Wi.XF.Qb[["inside","center","outside"].indexOf(x)]),O&&(p.strokeStyleLineCapType.v.strokeStyleLineCapType=Wi.XF.Sl[["butt","round","square"].indexOf(O)]);var O=["SoFi","GrFl","patternFill"].indexOf("SoFi"),N=[Wi.Di,Wi.lK,Wi.Gt][O];p.strokeStyleContent.v={classID:Wi.XF.xP[0]};for(var I=p.strokeStyleContent.v={classID:Wi.XF.xP[O]},b=0;b<N.length;b++)I[N[b]]=E.v[N[b]]}if(l)for(b=0;b<l.length;b++)"uxdesign#blur"==l[b].type&&l[b].visible&&(k=l[b],y.add.vmsk.Df=k.params.blurAmount);h.L3(o,d,v,D,T,y,e,i,r),y.fF(e)}else if("text"==u&&t.text){var P,d=t.text,D=d.frame,T=c.font,c=c.textAttributes,F=0;(P=v.clone()).tU(),y.add.lnsr="rend",y.add.TySh=ir.mb(0,0),y.add.TySh.qK=new Fr(0,0,100,100),y.add.TySh.A=P;var _=y.add.TySh.nx,B=d.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");ir.RX(_,0,B),""!=B&&(H=ir.vK(_,0,1),null==(U=T.postscriptName)&&(U=T.family),ir.Ui(H,U),H.hy.FontSize=Math.round(T.size),o&&(A=o.color.value,H.hy.FillColor={Type:1,Values:[1,A.r/255,A.g/255,A.b/255]}),c&&(c.paragraphAlign&&(H.eS.Justification=["left","right","center"].indexOf(c.paragraphAlign)),c.letterSpacing&&(H.hy.Tracking=Math.round(c.letterSpacing)),c.lineHeight&&(H.hy.AutoLeading=!1,H.hy.Leading=Math.round(c.lineHeight))),ir.xB(_,0,B.length,H));var R=t.meta.ux.rangedStyles;if(R)for(b=0;b<R.length;b++){var U,f=R[b],j=Math.min(f.length,B.length-F),H=ir.vK(_,F,F+j);null!=(U=null==(U=f.postscriptName)?f.family:U)&&ir.Ui(H,U);var J=f.textScript,q=f.underline,G=f.fontSize,Z=f.fill,z=f.textTransform;J&&"none"!=J&&(H.hy.FontBaseline="superscript"==J?1:2),null!=q&&(H.hy.Underline=q),null!=G&&(H.hy.FontSize=Math.round(G)),null!=z&&(H.hy.FontCaps="uppercase"==z?2:0),null!=Z&&(z=Z.value,H.hy.FillColor={Type:1,Values:[1,(z>>>16&255)/255,(z>>>8&255)/255,(z>>>0&255)/255]}),ir.xB(_,F,F+j,H),F+=j}"area"!=D.type&&"autoHeight"!=D.type||(c=D.width,D=D.height,ir.b8(_,1),ir.NO(_,[0,0,c,null!=D?D:2*c]))}else console.log(u,t);e.g.push(y)},jn.b5=function(t){var e=t.type,n=[{type:6},{type:8,all:0}];if("rect"==e)var i=t.r,r=t.x,a=t.y,s=t.width,o=t.height,n=Rr.$.lO.Rect(r,a,s,o,i||0);else if("circle"==e){i=t.r;n=Rr.$.lO._D(t.cx-i,t.cy-i,2*i,2*i)}else if("ellipse"==e){var l=t.rx,h=t.ry;n=Rr.$.lO._D(t.cx-l,t.cy-h,2*l,2*h)}else if("path"==e||"compound"==e){var u=Typr.U.SVGToPath(t.path);n=Rr.H.z8({C:u.cmds,U:u.crds},!1)}else if("line"==e){i=t.x1,l=t.x2,h=t.y1,u=t.y2;n=Rr.$.lO._5([i,h,l,u],0,!0)}else if("polygon"==e){for(var f=t.points,c=[],p=0;p<f.length;p++)c.push(f[p].x,f[p].y);n=n.concat(Rr.$.lO._5(c,0,!1).slice(2))}else console.log(e,t);return n},jn.a1B=function(t){for(var e=JSON.parse(Wi.default),n=0;n<Wi.order.length;n++)e[Wi.Th[n]]={t:"VlLs",v:[]};for(n=0;n<t.length;n++){var i=t[n],r=i.type,a=i.params,s=i.visible;if("dropShadow"==r){var o=Wi.Th[Wi.order.indexOf("DrSh")],l=JSON.parse(Wi.xs[Wi.order.indexOf("DrSh")]);e[o].v.unshift({t:"Objc",v:l});var h=a.dropShadows;if(1!=h.length)throw"e";i=h[n],r=i.color,o=r.value,a=i.dx,h=i.dy;l.Clr.v=Rr.I.wg({p:o.r,z:o.g,S:o.b}),l.Opct.v.val=Math.round(100*(null!=r.alpha?r.alpha:1)),l.uglg.v=!1,l.enab.v=null==s||s,l.lagl.v.val=Math.round(180/Math.PI*Math.atan2(h,-a)),l.Dstn.v.val=Math.round(Math.sqrt(a*a+h*h)),l.blur.v.val=Math.round(2.3*i.r)}}return e},jn.L3=function(t,e,n,i,r,a,s,o,l){var h=jn;if("none"==e)a.add.vstk.fillEnabled.v=!1,a.add.SoCo={classID:"null",Clr:{t:"Objc",v:Rr.I.wg({p:0,z:0,S:0})}};else{if("solid"==e){var u,f=t.color.value,c="SoCo",p=Wi.Di;(u={t:"Objc",v:S=JSON.parse(Wi.xs[Wi.order.indexOf("SoFi")])}).v.Clr.v=Rr.I.wg({p:f.r,z:f.g,S:f.b})}else if("gradient"==e){c="GdFl",p=Wi.lK;var d=(S=JSON.parse(Wi.xs[Wi.order.indexOf("GrFl")])).Grad.v;d.Intr.v=0;var v=t[e],o=v.ref?o.gradients[v.ref]:v.meta.ux.gradientResources,g=["linear","radial"].indexOf(o.type),y=o.stops;S.Type.v.GrdT=["Lnr","Rdl","Angl"][g],0==g?(x=new Pr(v.x1,v.y1),D=new Pr(v.x2,v.y2),x.x=D.x+.5*(x.x-D.x),x.y=D.y+.5*(x.y-D.y)):(x=new Pr(v.cx,v.cy),D=new Pr(v.cx+v.r,v.cy)),g=r,"objectBoundingBox"==v.units&&(x=(C=new _r(i.m,0,0,i.n,i.x,i.y)).iX(x),D=C.iX(D)),x=(C=h.Xm(v.transform)).iX(x),D=C.iX(D),(C=n.clone()).tU(),x=C.iX(x),D=C.iX(D),Rr.I.Ye(x,D,g,S);for(var m=[],w=0;w<y.length;w++){var b=y[w],M=b.color,f=M.value,M=M.alpha;null==M&&(M=1),m.push([b.offset,[f.r/255,f.g/255,f.b/255],M])}Rr.I.MW(m,d),u={t:"Objc",v:S}}else if("pattern"==e){c="PtFl",p=Wi.Gt;var S,n=1,C=0,x=0;u={t:"Objc",v:S=JSON.parse(Wi.xs[Wi.order.indexOf("patternFill")])};var L,D=t[e],g=D.meta.ux,d=g.uid,t=l["resources/"+d].buffer,l=ai.Am(t);s.KB[d]?T=s.KB[d]:((k=new Fr(0,0,D.width,D.height)).mN()||null==l?(k=new Fr(0,0,1,1),L=new ArrayBuffer(4)):(D=ai.TN(l)).r1?(l=new zi,D.Ou(t,l),L=l.y5().buffer):(L=(t=D.Ou(t)[0]).data,k=t.Tl),(T={}).id=zi.Gs()+"-d71c-11e5-b1ae-a548a96e5f9f",T.name="someImage",T.ax=[new Uint8Array(L),k],s.uo(T),s.KB[d]=T);var k=T.ax[1];if(S.Algn.v=!0,S.Ptrn.v.Idnt.v=T.id,"cover"==g.scaleBehavior){var T=n=+Math.max(r.m/k.m,r.n/k.n);null!=g.scale&&(n*=g.scale),C=r.x-(k.m*n-r.m)/2,x=r.y-(k.n*n-r.n)/2,null!=g.offsetX&&(C+=g.offsetX*k.m*T),null!=g.offsetY&&(x+=g.offsetY*k.n*T)}else{if("fill"!=g.scaleBehavior)throw"Unknown scale behaviour";n=+Math.min(r.m,r.n)/Math.max(k.m,k.n),C=r.x-(k.m*n-r.m)/2,x=r.y-(k.n*n-r.n)/2}S.Scl.v.val=100*n,S.phase.v.Hrzn.v=Math.round(C),S.phase.v.Vrtc.v=Math.round(x)}else console.log(e);if(null!=c){a.add[c]={classID:"null"};for(w=0;w<p.length;w++){var A=p[w];a.add[c][A]=u.v[A]}}}},Hn.M9=function(t,e,n){t=new Uint8Array(t);for(var i=ln.cP(t,0,t.length),r=(new DOMParser).parseFromString(i,"image/svg+xml"),a=1,s=(s=r.getElementsByTagName("style")[0])?Typr.U.SVG.cssMap(s.textContent):{},o=r.firstChild;"svg"!=o.tagName;)o=o.nextSibling;var l=new Fr(0,0,100,100),h=o.getAttribute("viewBox"),t=o.getAttribute("width"),i=o.getAttribute("height");for(h?(h=Hn.L4(h),l.x=h[0],l.y=h[1],l.m=h[2],l.n=h[3]):null==t&&null==i||(l.m=null!=t?parseFloat(t):parseFloat(i),l.n=null!=i?parseFloat(i):parseFloat(t)),l=Rr.H.dP(l);n&&Math.max(l.m*a,l.n*a)<Math.max(n[0],n[1]);)a++;for(;null==n&&8192<Math.max(l.m,l.n)*a;)a*=.5;e.O2=!0,e.m=~~(l.m*a),e.n=~~(l.n*a),e.buffer=Rr.t(e.m*e.n*4);t=new _r(a,0,0,a,-l.x*a,-l.y*a),s={yu:Hn.GO(o),adz:s,U6:0};Hn.Uv(r,o.children,e,t,s,new _r,0),0==e.g.length&&((s=e.rL()).Zu("Layer"),e.g.push(s))},Hn.L4=function(t){var e=" ";return-1!=t.indexOf(",")&&(e=","),t.split(e).map(parseFloat)},Hn.Uv=function(t,e,n,i,r,a,s){for(var o=Hn,l=["display","opacity","fill-opacity","filter"],h=0;h<e.length;h++){var u=e[h],f=u.tagName,c=u.getAttribute("id"),p=o.GO(u,r.adz),d=13,v=1,g="clip-path",y=null,m=0;for(ot in r.yu)-1==l.indexOf(ot)&&null==p[ot]&&(p[ot]=r.yu[ot]);p["font-size"]&&(d=o.k8(p["font-size"],d)),u.getAttribute("dx")&&(i.E_+=o.k8(u.getAttribute("dx"),d)),u.getAttribute("dy")&&(i.Qq+=o.k8(u.getAttribute("dy"),d));var w=o.Nw(u);w.concat(i);var b=u.getAttribute("visibility"),M=p.display,S=n.rL();if("hidden"!=b&&"none"!=M||S.I9(!1),S.Zu(null!=c?c.split(":::")[0]:"Layer"),p.opacity&&(v*=parseFloat(p.opacity)),!p["fill-opacity"]||0!=(M=parseFloat(p["fill-opacity"]))&&(v*=M),S.opacity=Math.round(255*v),!p["mix-blend-mode"]||-1!=(C=Ji.GF.indexOf(p["mix-blend-mode"]))&&(S.SD=Ji.sp[C]),null==u.getAttribute(g)&&(g="mask"),null!=u.getAttribute(g)){N=(N=u.getAttribute(g)).slice(4,N.length-1);var C=t.getElementById(N.slice(1));if(C){var x=C.children;(y=n.rL()).Zu("Clip-Path"+(c?": "+c:"")),y.add.lsct=s<2?Gi.pb:Gi.jT,y.SD="pass",y.OW=24;var L=y.add.vmsk=new qi.g6;n.g.push(n.ne());var D=[];C.getAttribute(g)&&(N=(N=C.getAttribute(g)).slice(4,N.length-1),D=t.getElementById(N.slice(1)).children);for(var k=0;k<x.length;k++){(A=o.Nw(x[k])).concat(w);var T=o.b5(t,x[k],!1).slice(2);Rr.$.yl(T,A),L.Y=L.Y.concat(T)}for(var A,k=0;k<D.length;k++){(A=o.Nw(x[k])).concat(w);for(var T=o.b5(t,D[k],!1).slice(2),E=0;E<T.length;E++)null!=T[k].Gw&&(T[k].Gw=3);Rr.$.yl(T,A),L.Y=L.Y.concat(T)}y.Ky(),y.fF(),s++}}if(p.filter&&"none"!=p.filter){var O,N,I=!1,P=!1,F=!1,g=(g=p.filter).slice(5,g.length-1),_=t.getElementById(g),B=[0,0,0,.5],R=qr.Q.eZ(w);if(_)for(k=0;k<_.children.length;k++){var U,j,H=_.children[k];"feGaussianBlur"==H.tagName&&(I=!0,O=parseFloat(H.getAttribute("stdDeviation"))*R),"feColorMatrix"==H.tagName&&(B=[(U=H.getAttribute("values").split(" ").map(parseFloat))[4],U[9],U[14],U[18]]),"feComposite"==H.tagName&&(F=!0),"feOffset"==H.tagName&&(P=!0,U=H.getAttribute("dx"),H=H.getAttribute("dy"),j=parseFloat(U||0)*R,ht=parseFloat(H||0)*R)}F||P?("IrSh"==(N=F?"IrSh":"DrSh")&&(S.add.iOpa=0),(vt=JSON.parse(Wi.xs[Wi.order.indexOf(N)])).blur.v.val=Math.round(2.4*O),g=Math.sqrt(j*j+ht*ht),vt.uglg.v=!1,vt.Dstn.v.val=Math.round(g),vt.lagl.v.val=Math.round(Math.atan2(ht,-j)*(180/Math.PI)),vt.Clr.v=Rr.I.wg({p:255*B[0],z:255*B[1],S:255*B[2]}),vt.Opct.v.val=Math.round(100*B[3]),o.Xr(S,Wi.Th[Wi.order.indexOf(N)],vt)):I&&(m=O)}if("g"==f||"a"==f||"svg"==f||"switch"==f||("text"==f||"textPath"==f)&&0<u.children.length){"text"==f&&(a=o.lu(u,a));var J=u.getAttribute("viewBox"),q=u.getAttribute("width"),G=u.getAttribute("height");J&&q&&G&&(X=Hn.L4(J),Y=o.lu(u),(lt=new _r).translate(-X[0],-X[1]),lt.scale(parseFloat(q)/X[2],parseFloat(G)/X[3]),lt.translate(Y.E_,Y.Qq),lt.concat(w),w=lt);var Z=u.children.length,z=r.yu;r.yu=p;J=r.U6;r.U6=Math.max(r.U6,m);q="text"!=f&&"textPath"!=f||1<Z;q&&($=S.SH(),S.add.lsct=s<2&&$&&(null==c||!c.endsWith(":::"))?Gi.pb:Gi.jT,S.SD="pass",S.OW=24,S.I9($),n.g.push(n.ne())),o.Uv(t,u.children,n,w,r,a,s+1),q?n.g.push(S):((tt=n.g[n.g.length-1]).opacity=S.opacity,tt.SD=S.SD),r.U6=J,r.yu=z}else if("use"==f){(lt=o.lu(u)).concat(w);var V=o.Uj(u),W=t.getElementById(V.slice(1));W&&(z=r.yu,(r.yu=p).filter&&W.setAttribute("filter",p.filter),o.Uv(t,[W],n,lt,r,a,s+1),r.yu=z)}else if("path"==f||"rect"==f||"circle"==f||"ellipse"==f||"polygon"==f||"polyline"==f||"line"==f){S.OW|=16,S.add.vmsk=new qi.g6,S.add.vstk=JSON.parse(JSON.stringify(Wi.XF.default)),S.add.vstk.strokeEnabled.v=!1;var G=S.add.vstk,L=S.add.vmsk,X="none"==(dt=p.fill)||p["fill-opacity"]&&0==parseFloat(p["fill-opacity"]);L.Y=o.b5(t,u,"evenodd"==p["fill-rule"],X),Rr.$.yl(L.Y,w);var Y=Rr.$.b3(L.Y),K=p.stroke,Q=p["stroke-width"],Z=p["stroke-dasharray"],$=p["stroke-linejoin"],q=p["stroke-linecap"],tt=p["paint-order"];if(null!=K&&"none"!=K&&"null"!=K){var et=o.Vx(t,K,w,Y),J=["SoFi","GrFl","patternFill"].indexOf(et.type),W=1;100!=(rt=et.k.v.Opct.v).val&&(S.opacity=Math.round(S.opacity*rt.val/100),rt.val=100);for(var nt=[Wi.Di,Wi.lK,Wi.Gt][J],it=G.strokeStyleContent.v={classID:Wi.XF.xP[J]},k=0;k<nt.length;k++)it[nt[k]]=et.k.v[nt[k]];Q=Q?parseFloat(Q):1,tt&&"stroke fill"==tt.replace(/\s\s+/g," ").slice(0,11)&&(Q/=W=2),G.strokeEnabled.v=!0,$&&(G.strokeStyleLineJoinType.v.strokeStyleLineJoinType=Wi.XF.join[["miter","round","bevel"].indexOf($)]),q&&(G.strokeStyleLineCapType.v.strokeStyleLineCapType=Wi.XF.Sl[["butt","round","square"].indexOf(q)]),G.strokeStyleLineWidth.v.val=Q*qr.Q.eZ(w),G.strokeStyleLineAlignment.v.strokeStyleLineAlignment=Wi.XF.Qb[W],G.strokeStyleOpacity.v.val=100*(p["stroke-opacity"]?parseFloat(p["stroke-opacity"]):1),null!=Z&&"none"!=Z&&(G.strokeStyleLineDashSet.v=Xi.iO(Z.split(",").map(parseFloat),1/Q))}if(X)S.add.vstk.fillEnabled.v=!1,S.add.SoCo={classID:"null",Clr:{t:"Objc",v:Rr.I.wg({p:0,z:0,S:0})}};else{var rt,at=null,st=null;if("SoFi"==(et=o.Vx(t,dt,w,Y)).type&&(at="SoCo",st=Wi.Di),"GrFl"==et.type&&(at="GdFl",st=Wi.lK),"patternFill"==et.type&&(at="PtFl",st=Wi.Gt),null!=at){100!=(rt=et.k.v.Opct.v).val&&(S.opacity=Math.round(S.opacity*rt.val/100),rt.val=100),S.add[at]={classID:"null"};for(k=0;k<st.length;k++){var ot=st[k];S.add[at][ot]=et.k.v[ot]}}}m=Math.max(m,r.U6);0!=m&&(S.add.vmsk.Df=m),S.Ky(),S.fF(n),n.g.push(S)}else if("text"!=f&&"tspan"!=f||""==u.textContent)"image"==f?(V=o.Uj(u))&&"data"==V.slice(0,4)&&(ct=ai.l4(V),(pt=n.Rp(ct,S.getName(),0,0)).OW=S.OW,(ft=(S=pt).rect.clone()).x=ft.y=0,ct=u.getAttribute("width"),pt=u.getAttribute("height"),ct&&(ft.m=parseFloat(ct)),pt&&(ft.n=parseFloat(pt)),(ct=o.lu(u)).concat(w),pt=Rr.H.UQ(ft).U,Rr.H.A(pt,ct,pt),S.add.SoLd.Trnf=qr.Q.mk(pt),S.add.SoLd.nonAffineTransform=qr.Q.mk(pt),S.jM(n,!1),n.g.push(S)):console.log("unknown tag: "+f,u.children.length,u.textContent.length);else{var lt,ht=0;if((lt=(a=o.lu(u,a)).clone()).concat(w),0<u.children.length){var ut=o.GO(u.children[0],r.adz);for(ot in ut)-1==l.indexOf(ot)&&(p[ot]=ut[ot])}var ft=p["xml:space"],ct=u.textContent;"preserve"==ft&&(ct=ct.replace(/\t/g," ").replace(/\n/g," ")),null==c&&S.Zu(ct),S.add.lnsr="rend",S.add.TySh=ir.mb(0,0),S.add.TySh.qK=new Fr(0,0,100,100),S.add.TySh.A=lt.clone();var pt=S.add.TySh.nx;ir.RX(pt,0,ct);var dt=p.fill,f=p["font-weight"],u=p["font-family"],ft=p["text-decoration"],K=p.stroke,Q=p["stroke-width"],c=p["dominant-baseline"];"text-before-edge"==c?ht=d:"middle"==c?ht=d/2:"hanging"==c&&(ht=d),0!=ht&&S.add.TySh.A.translate(0,ht);var vt,c=ir.vK(pt,0,1);dt&&"none"!=dt&&(B=sr.oj(dt),c.hy.FillColor={Type:1,Values:[1,B.p/255,B.z/255,B.S/255]}),"underline"==ft&&(c.hy.Underline=!0),c.hy.FontSize=Math.round(d),ir.Ui(c,"LiberationSans"),"bold"==f&&ir.Ui(c,"LiberationSans-Bold"),u&&((d={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"})[f=(u='"'==(u='"'==(u=u.split(",")[0].trim())[0]?u.slice(1):u)[u.length-1]?u.slice(0,u.length-1):u)+":"+(f||"normal")]?ir.Ui(c,d[f]):ir.Ui(c,u)),p["text-anchor"]&&(c.eS.Justification=["start","end","middle"].indexOf(p["text-anchor"])),ir.xB(pt,0,ct.length,c),null==K||"none"==K||((vt=JSON.parse(Wi.xs[Wi.order.indexOf("FrFX")])).Clr.v=Rr.I.wg(sr.oj(K)),vt.Sz.v.val=Math.round(parseFloat(Q)*qr.Q.eZ(lt)),o.Xr(S,"frameFXMulti",vt)),n.g.push(S)}null!=y&&(n.g.push(y),s--)}},Hn.Xr=function(t,e,n){if(null==(i=t.add.lmfx))for(var i=t.add.lmfx=JSON.parse(Wi.default),r=0;r<Wi.order.length;r++)i[Wi.Th[r]]={t:"VlLs",v:[]};i[e].v.push({t:"Objc",v:n})},Hn.b5=function(t,e,n,i){var r=Hn,a=[{type:6},{type:8,all:0}],s=e.tagName;if("use"==s){var o=r.Uj(e),l=t.getElementById(o.slice(1)),o=new _r;(o="rect"!=l.tagName?r.lu(l):o).concat(r.Nw(l)),a=r.b5(t,l,n,i),Rr.$.yl(a,o)}else if("path"==s){o=e.getAttribute("d");if(null==o)return a;o=Typr.U.SVGToPath(o),a=Rr.H.z8({U:o.crds,C:o.cmds},n,i)}else if("rect"==s){var h=e.getAttribute("rx"),r=r.lu(e);a=Rr.$.lO.Rect(r.E_,r.Qq,parseFloat(e.getAttribute("width")),parseFloat(e.getAttribute("height")),h?parseFloat(h):0)}else if("circle"==s||"ellipse"==s){for(var u=[0,0,0,0],f=["cx","cy","rx","ry","r"],c=0;c<5;c++){var p=e.getAttribute(f[c]);p&&(p=parseFloat(p),c<4?u[c]=p:u[2]=u[3]=p)}a=Rr.$.lO._D(u[0]-u[2],u[1]-u[3],2*u[2],2*u[3])}else"polygon"!=s&&"polyline"!=s&&"line"!=s||(h=("line"==s?[e.getAttribute("x1"),e.getAttribute("y1"),e.getAttribute("x2"),e.getAttribute("y2")]:e.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ")).map(parseFloat),a=Rr.$.lO._5(h,0,"polygon"!=s));return a},Hn.k8=function(t,e){return"m"==t.charAt(t.length-1)?e*parseFloat(t.slice(0,t.length-2)):parseFloat(t)},Hn.Vx=function(t,e,n,i){var r,a,s,o,l=Hn,h=JSON.parse(Wi.xs[Wi.order.indexOf("SoFi")]),u=null!=e?e.indexOf("("):-1;return-1!=u?(a=e.indexOf(")"),r=e.slice(0,u).trim(),"'"==(a=e.slice(u+1,a).trim()).charAt(0)&&(a=a.slice(1,a.length-1)),"url"==r?"#"==a.charAt(0)?o=(o=t.getElementById(a.slice(1)))&&o.tagName.toLowerCase().endsWith("gradient")?(s="GrFl",{t:"Objc",v:l.CG(t,o,n,i)}):(s="SoFi",{t:"Objc",v:h}):console.log("unknown url",a):"rgb"==r||"rgba"==r?(s="SoFi",(o={t:"Objc",v:h}).v.Clr.v=Rr.I.wg(sr.oj(e)),"rgba"==r&&(o.v.Opct.v.val=Math.round(100*parseFloat(e.split(",").pop())))):console.log("unknown fill",e)):(s="SoFi",(o={t:"Objc",v:h}).v.Clr.v=Rr.I.wg(sr.oj(e))),{type:s,k:o}},Hn.Nw=function(t){var e=new _r,n=t.getAttribute("transform");n&&(e=Hn.wz(n));n=t.getAttribute("style");return null!=n&&(Hn.xh(t={},n,["transform"]),(n=t.transform)&&e.concat(Hn.wz(n))),e},Hn.lu=function(t,e){var n=new _r,i=t.getAttribute("x"),t=t.getAttribute("y");return i?n.E_=parseFloat(i):e&&(n.E_=e.E_),t?n.Qq=parseFloat(t):e&&(n.Qq=e.Qq),n},Hn.wz=function(t){t=Typr.U.SVG.readTrnf(t);return new _r(t[0],t[1],t[2],t[3],t[4],t[5])},Hn.GO=function(t,e){for(var n={},i="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" "),r=0;r<i.length;r++){var a=t.getAttribute(i[r]);null!=a&&"inherit"!=a&&(n[i[r]]=a)}var s=t.getAttribute("class");null!=e&&null!=s&&null!=e["."+s]&&Hn.xh(n,e["."+s],i);s=t.getAttribute("id");null!=e&&null!=s&&null!=e["#"+s]&&Hn.xh(n,e["#"+s],i);s=t.getAttribute("style");return null!=s&&Hn.xh(n,s,i),n},Hn.xh=function(t,e,n){e=e.trim().split(";");for(var i=0;i<e.length;i++)for(var r=e[i].split(":"),a=r[0]?r[0].trim():"",s=r[1]?r[1].trim():"",o=0;o<n.length;o++)a==n[o]&&"inherit"!=s&&(t[n[o]]=s)},Hn.Uj=function(t){var e=t.getAttribute("xlink:href");return e=null==(e=null==e?t.getAttribute("href"):e)?t.getAttribute("xl:href"):e},Hn.CG=function(t,r,e,a){var n=Hn;function i(t,e,n){var i=r.getAttribute(t);null!=i&&(t=parseFloat(i),i.endsWith("%")&&(t*=(n?a.m:a.n)/100),n?e.x=t:e.y=t)}var s=new _r,o=r.getAttribute("gradientTransform");(s=o?n.wz(o):s).concat(e);var l=JSON.parse(Wi.xs[Wi.order.indexOf("GrFl")]),h=l.Grad.v;h.Intr.v=0;var u=r.tagName,o=new Pr(0,0),e=new Pr(a.m,0);"linearGradient"==u&&(l.Type.v.GrdT="Lnr",i("x1",o,!0),i("y1",o,!1),i("x2",e,!0),i("y2",e,!1),o.x=e.x+.5*(o.x-e.x),o.y=e.y+.5*(o.y-e.y)),"radialGradient"==u&&(l.Type.v.GrdT="Rdl",r.getAttribute("cx")&&(o.x=parseFloat(r.getAttribute("cx"))),r.getAttribute("cy")&&(o.y=parseFloat(r.getAttribute("cy"))),e.R7(o.x,o.y),r.getAttribute("r")&&(e.x+=parseFloat(r.getAttribute("r")))),"userSpaceOnUse"==r.getAttribute("gradientUnits")?(o=s.iX(o),e=s.iX(e)):(o.x=a.x+o.x*a.m,o.y=a.y+o.y*a.n,e.x=a.x+e.x*a.m,e.y=a.y+e.y*a.n),Rr.I.Ye(o,e,a,l);var f=r.children;if(0==f.length){o=n.Uj(r);if(null==o)throw"gradient has no stops";e=t.getElementById(o.slice(1));null==e?console.log(o.slice(1)):(s=n.CG(t,e,s,a),l.Grad=s.Grad)}else{for(var c=[],p=0;p<f.length;p++){var d=f[p],v=n.GO(d),g=v["stop-color"],v=v["stop-opacity"],d=d.getAttribute("offset");null==g&&(g="#000000"),null==v&&(v="1");d=d?parseFloat(d):0,g=sr.oj(g);c.push([d,[g.p/255,g.z/255,g.S/255],parseFloat(v)])}Rr.I.MW(c,h)}return l},Hn.o$=function(t,e,n){var i=[],r=Hn;r.oO=e.agB?"\t":"";var a=e.am$,s=e.agY;i.push('<svg version="1.2" baseProfile="tiny-ps" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '+t.m+" "+t.n+'" width="'+a+'" height="'+s+'">'),i.push(r.ox(1)+"<title>"+Hn.w9(t.name.split(".")[0])+"</title>");var o,l={uI:[],ct:[],ON:0,nB:0,j1:0,EE:{},lC:{},H_:0,om:{},p4:{},jK:0,PG:[]};for(o in Hn.AU(t,l,t.root.children,1,e,n),0!=l.uI.length&&(i.push(r.ox(1)+"<defs>"),(i=i.concat(l.uI)).push(r.ox(1)+"</defs>")),i.push(r.ox(1)+"<style>"),i.push(r.ox(2)+"tspan { white-space:pre }"),l.om)i.push(r.ox(2)+"."+o+" { "+l.om[o]+" } ");if(i.push(r.ox(1)+"</style>"),(i=i.concat(l.ct)).push("</svg>"),i=i.join(e.agB?"\n":""),r.Vp){console.log(r.Vp);for(var h="SVGParser.gen.db = [\n",u=0;u<r.Vp.length;u++){var f=r.Vp[u];h+='{\n\tnam: "'+f.Tq+'",\n\tpts: [\n';for(var c=0;c<f.Xo.length;c++){var p=f.Xo[c];h+='\t\t["'+p[0]+'", { cmds: '+JSON.stringify(p[1].C)+", crds:"+JSON.stringify(p[1].U)+" } ]"+(c==f.Xo.length-1?"":",")+"\n"}h+="\t]\n}"+(u==r.Vp.length-1?"":",")+"\n"}h+="]\n",console.log(h)}return ln.u3(i)},Hn.oO="",Hn.ox=function(t){for(var e="",n=0;n<t;n++)e+=Hn.oO;return e},Hn.VE=function(t){return""+parseFloat(t.toFixed(3))},Hn.AU=function(t,e,n,i,r,a){var s=Hn;function o(t,e){var n,n=(n="frameFXMulti",t=(t=(t=(t=(t=t).add.lmfx)&&t[n].v[0])&&t.v)&&!t.enab.v?null:t);n&&(t=n.Sz.v.val,"OutF"==n.Styl.v.FStl&&(e.push("paint-order:stroke fill markers"),t*=2),e.push("stroke: "+sr.vz(n.Clr.v)),e.push("stroke-width: "+t),e.push("stroke-linejoin: round;"))}for(var l=0;l<n.length;l++){var h=n[l].i,u=(h.add.lsct,h.add.vmsk),f=(h.add.vstk,h.add.TySh);u&&!u.isEnabled&&(u=null);var c=[];if(r.hidden||h.SH()){var p=h.opacity/255,d=h.add.iOpa?h.add.iOpa/255:1;1!=p&&c.push("opacity: "+s.VE(p)),1!=d&&c.push("fill-opacity: "+s.VE(d)),"norm"==h.SD||null!=(y=Ji.GF[Ji.sp.indexOf(h.SD)])&&c.push("mix-blend-mode: "+y),h.SH()||c.push("display: none");var v=[],g=[],p=h.getName(),d=p.indexOf(" .");-1!=d&&(g.push(p.slice(d+2)),p=p.slice(0,d)),r.names&&v.push('id="'+s.w9(p)+'"');var y=Xi.Xb(h.add.lmfx,h.add),d=y[0],p=y[1];if(h.dH()){var m=n[l].children;1==m.length&&m[0].i.add.SoLd&&!r.zY||(s.Vp&&3==h.getName().split("-").length&&s.Vp.push({Tq:h.getName(),Lo:0,Xo:[]}),Hn._O(h,u,e,v),0!=c.length&&v.push('style="'+c.join(";")+'"'),e.ct.push(s.ox(i)+"<g "+s.FK(v,g)+">"),s.AU(t,e,m,i+1,r,a),e.ct.push(s.ox(i)+"</g>"))}else if(h.D5()&&null==u){var w=new Fr(0,0,t.m,t.n);s.r6(c,h.add,e,w),0!=c.length&&v.push('style="'+c.join(";")+'"'),e.ct.push(s.ox(i)+'<rect width="'+t.m+'" height="'+t.n+'" '+s.FK(v,g)+" />")}else if(u&&null==h.add.SoLd){w=Rr.$.b3(u.Y,null,!0),y=Rr.$.rE(u.Y);0!=y.LH&&v.push('fill-rule="evenodd"');var b=y.gH;s.r6(c,h.add,e,w),0!=c.length&&(Z=c.join(";"),null==(G=e.p4[Z])&&(G="shp"+e.jK,e.jK++,e.p4[Z]=G,e.om[G]=Z),g.push(G)),e.ct.push(s.ox(i)+"<path "+s.FK(v,g)+' d="'+b+'" />'),s.Vp&&s.Vp[s.Vp.length-1]&&((m=Rr.H.x4(u.Y)).U=m.U.map(Math.round),(y=s.Vp[s.Vp.length-1]).Lo+=JSON.stringify(m).length,y.Xo.push([c[0].split("#").pop(),m]))}else if(f&&r.aiS){var M=new nr(D=f.nx,a),S=null;d&&(S=sr.vz(d.Clr.v)),p&&(w=h.rect.clone(),s.UM(p,e,w),S=" url(#grd"+e.ON+")"),S&&v.push('fill="'+S+'"'),o(h,c),0!=c.length&&v.push('style="'+c.join(";")+'"');var C=er.cy(M,f),x=Rr.H.eN(C);for(H in x){null==S&&v.push('fill="'+H+'"');var L=x[H],b=Typr.U.pathToSVG({crds:L.U,cmds:L.C},2);e.ct.push(s.ox(i)+"<path "+s.FK(v,g)+" "+s._Y(f)+' d="'+b+'" />'),null==S&&v.pop()}}else if(f&&!r.afq){var D=f.nx,k=f.A.clone(),S=null;c.push("transform: "+s.FJ(k));var T=ir.CP(D),M=new nr(D,a);o(h,c),0!=c.length&&v.push('style="'+c.join(";")+'"'),e.ct.push(s.ox(i)+"<text "+s.FK(v,g)+" >"),d&&(S=sr.vz(d.Clr.v)),p&&((w=h.rect.clone()).x-=k.E_,w.y-=k.Qq,s.UM(p,e,w),S=" url(#grd"+e.ON+")");for(var A=0;A<M.eS.length;A++){var E=M.eS[A];if(1!=E.pw.length||!E.pw[0].no)for(var O=0;O<E.JY.length;O++){for(var N=E.JY[O],I=E.yZ.y+N.yZ.y,P=E.pw[N.start].start,N=E.pw[N.end-1].end,F=ir.aqb(D,P,N),_="",B=0;B<F.length;B++){var R=M.QJ(P),U=F[B],j=ir.vK(D,P,P),H=(j.CV[j.hy.Font].Name,ir.Na(j.hy.FillColor)),J=(Math.round(j.hy.FontSize),T.slice(P,P+U));2==j.hy.FontCaps&&(J=J.toUpperCase()),(new _r).translate(R.Ni.x,-I);var q=[];sr.a5o(q,j,null,!0,!0,S);var G,Z=q.join(";");null==(G=e.p4[Z])&&(G="txt"+e.jK,e.jK++,e.p4[Z]=G,e.om[G]=Z);R.Ni.x;j=s.avb(j,J);_+="<tspan "+(0==B?'x="'+s.VE(R.Ni.x)+'"':"")+' y="'+s.VE(I)+'" class="'+G+'"'+j+">"+s.w9(J)+"</tspan>",P+=U}e.ct.push(s.ox(i+1)+_)}}e.ct.push(s.ox(i)+"</text>")}else if(h.add.SoLd&&r.zY){var z=h.add.SoLd,C=z.Idnt.v,k=0,p=z.Crop?z.Crop.v:null;if(null!=e.lC[C])k=e.lC[C];else{e.H_++,k=e.H_,e.lC[C]=e.H_;var V=t.n1(C,p),W="";if(null==V)return;var X=V.y9,C=ai.Am(V.raw.buffer);W="pdf"==C?(p=new zi("h"),ai.TN("PDF").Ou(V.raw.buffer,p),p.Lg(),p.he(),p.G(),p.Bv(),z.Crop&&1==z.Crop.v&&qr.B_.RA(p,p.root.bZ(p,!0)),p=ai.TN("SVG").D6(p,p.m,p.n,null,{PG:a}),"data:image/svg+xml;base64,"+ai.hr(p)):"jpg"==C||"png"==C||"gif"==C||"svg"==C?"data:"+{jpg:"image/jpg",png:"image/png",svg:"image/svg+xml"}[C]+";base64,"+ai.hr(V.raw.buffer):ai.JI(X[0].buffer,X[1].m,X[1].n),e.uI.push(s.ox(2)+'<image width="'+X[1].m+'" height="'+X[1].n+'" id="img'+k+'" href="'+W+'"/>')}V=Rr.N.g_(z),X=[];Hn._O(h,u,e,X),0!=X.length&&e.ct.push(s.ox(i)+"<g "+s.FK(X,g)+">"),0!=c.length&&v.push('style="'+c.join(";")+'"');var z=s.FK(v,g);e.ct.push(s.ox(i)+"<use "+z+' href="#img'+k+'" transform="'+s.FJ(V)+'"/>'),0!=X.length&&e.ct.push(s.ox(i)+"</g>")}else h.rect.mN()||!r.zY&&!f||(0!=c.length&&v.push('style="'+c.join(";")+'"'),z=s.FK(v,g),c=h.buffer,d&&(c=Xi.ach(c,d,h.rect)),d=h.rect,e.H_++,W=ai.JI(c.buffer,d.m,d.n,"png",null,!0),e.uI.push(s.ox(2)+"<image "+s._Y(f)+' width="'+h.rect.m+'" height="'+h.rect.n+'" id="img'+e.H_+'" href="'+W+'"/>'),e.ct.push(s.ox(i)+"<use "+z+' href="#img'+e.H_+'" x="'+d.x+'" y="'+d.y+'" />'))}}},Hn.avb=function(t,e){var n="";if(null!=(i=t.hy.Tracking)&&0!=i){for(var i=Math.round(i*t.hy.FontSize/1e3),n=' dx="0',r=1;r<e.length;r++)n+=" "+i;n+='" '}return n},Hn._Y=function(t){if(null==t)return"";t=t.nx,t=ir.CP(t);return'aria-label="'+(t=Hn.w9(t.slice(0,t.length-1)))+'" '},Hn.FK=function(t,e){return 0!=e.length&&t.push('class="'+e.join(" ")+'"'),t.join(" ")},Hn.w9=function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")},Hn.FJ=function(t){return"matrix("+[t.q4,t.S,t.yH,t.DR,t.E_,t.Qq].map(Hn.VE).join(",")+")"},Hn._O=function(t,e,n,i){var r,a=Hn;(e||t.add.artb)&&(r=e?Rr.$.rE(e.Y).gH:(r=t.Gn(),r=Rr.H.UQ(r),Typr.U.pathToSVG({crds:r.U,cmds:r.C},2)),n.j1++,i.push('clip-path="url(#cp'+n.j1+')"'),n.uI.push(a.ox(2)+'<clipPath clipPathUnits="userSpaceOnUse" id="cp'+n.j1+'">'),n.uI.push(a.ox(3)+'<path d="'+r+'" />'),n.uI.push(a.ox(2)+"</clipPath>"))},Hn.r6=function(t,e,n,i){var r=Hn,a=e.vstk,s=e.vmsk,o=e.lmfx;s&&0!=s.Df&&(l=r.VE(s.Df),null==n.EE[l]&&(n.nB++,n.EE[l]=n.nB,n.uI.push(r.ox(2)+'<filter x="-50%" y="-50%" width="200%" height="200%" id="flt'+n.nB+'"> <feGaussianBlur stdDeviation="'+l+'" /> </filter>')),t.push("filter: url(#flt"+n.EE[l]+")"));var l=Xi.Xb(o,e),e=l[0],l=l[1];if(a&&!a.fillEnabled.v?t.push("fill: none"):e?(e=sr.vz(e.Clr.v),t.push("fill: "+e)):l&&(r.UM(l,n,i),t.push("fill: url(#grd"+n.ON+")")),(a=null==a||!a.strokeEnabled.v?Xi.n8(o):a)&&a.strokeEnabled.v){o=a.strokeStyleContent.v;"solidColorLayer"==o.classID?t.push("stroke: "+sr.vz(o.Clr.v)):(r.UM(o,n,i),t.push("stroke: url(#grd"+n.ON+")"));var o=Wi.XF.Sl.indexOf(a.strokeStyleLineCapType.v.strokeStyleLineCapType),i=Wi.XF.join.indexOf(a.strokeStyleLineJoinType.v.strokeStyleLineJoinType),n=a.strokeStyleOpacity.v.val/100,h=a.strokeStyleLineWidth.v.val;2==Wi.XF.Qb.indexOf(a.strokeStyleLineAlignment.v.strokeStyleLineAlignment)&&(h*=2,t.push("paint-order:stroke fill markers"));for(var u=a.strokeStyleLineDashSet.v,f=[],c=0;c<u.length;c++)f.push(Math.round(u[c].v.val*h));0!=o&&t.push("stroke-linecap:"+["butt","round","square"][o]),0!=i&&t.push("stroke-linejoin:"+["miter","round","bevel"][i]),1!=n&&t.push("stroke-opacity:"+r.VE(n)),1!=h&&t.push("stroke-width: "+r.VE(h)),0!=f.length&&t.push("stroke-dasharray: "+f.join(","))}},Hn.UM=function(t,e,n){e.ON++;var i=Hn,r=t.Grad.v,a=JSON.parse(JSON.stringify(r.Clrs.v)),s=JSON.parse(JSON.stringify(r.Trns.v)),o=(t.Ofst.v,t.Type.v.GrdT),l="Rdl"==o?1:0,h=(1==l?"radial":"linear")+"Gradient",r=Rr.I.mu(t,n);0==l&&(r[0].x=r[1].x+2*(r[0].x-r[1].x),r[0].y=r[1].y+2*(r[0].y-r[1].y));n=i.ox(2)+"<"+h+' id="grd'+e.ON+'" gradientUnits="userSpaceOnUse" ';if(0==l&&e.uI.push(n+' x1="'+i.VE(r[0].x)+'" y1="'+i.VE(r[0].y)+'" x2="'+i.VE(r[1].x)+'" y2="'+i.VE(r[1].y)+'">'),1==l&&e.uI.push(n+' cx="'+i.VE(r[0].x)+'" cy="'+i.VE(r[0].y)+'" r="'+i.VE(Pr.Tn(r[0],r[1]))+'">'),"Rflc"==o)for(var u=0;u<2;u++){for(var f=0==u?a:s,c=f.length-1;0<=c;c--){var p=f[c];p.v.Lctn.v=2048+(p.v.Lctn.v>>>1);p=JSON.parse(JSON.stringify(p));p.v.Lctn.v=4096-p.v.Lctn.v,f.push(p)}f.sort(function(t,e){return t.v.Lctn.v-e.v.Lctn.v})}var d=t.Rvrs.v;d&&(a.reverse(),s.reverse());for(c=0;c<a.length;c++){var v=a[c].v,g=1==(g=c<s.length?s[c].v.Opct.v.val/100:1)?"":'stop-opacity="'+i.VE(g)+'"',y=v.Lctn.v/4096;d&&(y=1-y),e.uI.push(i.ox(3)+'<stop offset="'+i.VE(y)+'" stop-color="'+sr.vz(v.Clr.v)+'" '+g+" />")}e.uI.push(i.ox(2)+"</"+h+">")},Hn.lO=function(t,e,n,i,r){var a=[],s=Hn.lO,o={r2:t,kY:e,Qu:[!0,!0,!0],Mc:!1,oA:n,a8l:0};o.Hm=Math.round(Math.max(t,e)*(.02+.03*s.WM(o))),o.WT=s.akV(o),o.mh=s.aaH(o.WT,(s.WM(o)<.5?-1:1)*(.2+.3*s.WM(o))),s.WM(o)<.5&&(l=o.WT,o.WT=o.mh,o.mh=l),o.agC=s.WM(o)<.4&&.3<s.aoR(o.mh,{p:1,z:1,S:1}),o.adW=s.WM(o)<.5?0:1,a.push('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '+t+" "+e+'" width="'+t+'" height="'+e+'">'),o.PF=i[Math.floor(s.Af(o)*i.length)],o.GI=i[Math.floor(s.Af(o)*i.length)],a.push("<style>"),a.push("@font-face {  font-family: "+o.PF[2]+";  src: url(rsrc/fonts/"+o.PF[5]+");  }"),a.push("@font-face {  font-family: "+o.GI[2]+";  src: url(rsrc/fonts/"+o.GI[5]+");  }"),a.push("</style>");var l,h=[0,0,t,e],u=h;null==r?a.push('<path style="fill: '+s.z$(o.WT)+'" d="'+s.Rect(h[0],h[1],h[2]-h[0],h[3]-h[1])+'" id="Background" />'):(o.Mc=!0,s.ab(o,h,a,r)),s.WM(o)<.25&&!o.Mc?(o.Qu[0]=o.Qu[2]=!1,s.a9m(h,o,a),u=h):s.WM(o)<.25||o.Mc?u=h:(n=.52+.2*s.WM(o),s.WM(o)<.5&&(n=1-n),i=h.slice(0),h=h.slice(0),s.WM(o)<.5?i[2]=h[0]=Math.round(n*t):i[3]=h[1]=Math.round(n*e),s.WM(o)<.5&&(l=i,i=h,h=l),u=i,s.aaA(o,h,a,r)),s.asw(o,u,a),a.push("</svg>");a=a.join("\n"),u=Rr.t(Math.round(1.5*a.length)),a=ln._s(a,u,0);return[u.buffer.slice(0,a),o.vl]},Hn.lO.a9m=function(t,e,n){var i,r=Hn.lO,a=t[2]-t[0],s=t[3]-t[1];r.WM(e)<.5?n.push('<path id="Border" style="fill: '+r.z$(e.mh)+'" d="'+r.asv(t[0],t[1],t[2]-t[0],t[3]-t[1],e.Hm)+'" />'):r.WM(e)<-.4?r.adt(e,t,n):(i=r.WM(e)<.5?0:1,a=r.ze(e,i,t,n,s=(0==i?s:a)/4,!0),r.ze(e,2+i,t,n,s,!0,a))},Hn.lO.asw=function(t,e,n){var i=Hn.lO,r="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),a=2*Math.floor(i.WM(t)*r.length/2),s=e[2]-e[0],o=e[3]-e[1],l=0,h=0;t.rM=.5*(t.r2+s)*(.04+.05*i.WM(t)),t.rM=Math.min(t.rM,.4*o,.12*s),t.rM=Math.round(t.rM);var u,f,c,p,d=Math.min(t.rM*r[a].length*(.35+.3*i.WM(t)),.9*s),v=(e[1]+e[3])/2,g=Rr.Zr(t.WT)<.85?{p:1,z:1,S:1}:{p:.1,z:.1,S:.1},l=i.WM(t)<.25&&t.Qu[0]?e[h=0]+t.Hm:i.WM(t)<.33&&t.Qu[2]?e[h=2]-t.Hm:(h=1,(e[0]+e[2])/2),y=1==g.p?"0,0,0":"255,255,255",m=t.Mc&&i.WM(t)<1;m&&(u=e[0],f=s,c=v-1.1*t.rM,p=2.2*t.rM,e=.7,1==h&&i.WM(t)<.5?(u=c=.2*Math.min(s,o),f=s-2*c,p=o-c-c):i.WM(t)<.7&&(u=c=0,f=s,p=o,e=.25),n.push('<path id="Strip" style="fill: rgb('+y+"); opacity: "+e+'" d="'+i.Rect(u,c,f,p)+'" />')),i.WM(t)<.4&&(w=.07*t.rM,w*=+i.WM(t)+1.5,-1==h&&s/o<3&&!m&&(n.push('<path id="Bar-bottom" style="fill: '+i.z$(g)+'" d="'+i.Rect(l-d/2,v+1.1*t.rM-w/2,d,w)+'" />'),n.push('<path id="Bar-top"    style="fill: '+i.z$(g)+'" d="'+i.Rect(l-d/2,v-1.1*t.rM-w/2,d,w)+'" />')),1!=h&&(n.push('<path id="Bar" style="fill: '+i.z$(g)+'" d="'+i.Rect(l-w/2,v-.8*t.rM,w,.8*t.rM*2)+'" />'),l+=(0==h?1:-1)*t.rM/3));var w=.4*t.rM;n.push(i.A1(r[1+a],l,v+1.6*w,w,g,h,t.GI)),n.push(i.A1(r[a],l,v+.04*t.rM,t.rM,g,h,t.PF))},Hn.lO.aaA=function(t,e,n,i){var r=e[2]-e[0],a=e[3]-e[1],s=Math.max(r,a),o=Math.min(r,a),l=Hn.lO;if(s/o<5&&t.Mc,0,l.WM(t)<0)n.push('<path style="fill: '+l.z$(t.mh)+'" d="'+l.Rect(e[0],e[1],r,a)+'" />');else{var h=0;e[3]!=t.kY&&(h=0),e[2]!=t.r2&&(h=3),0!=e[0]&&(h=1);var u=(h=0!=e[1]?2:h)+2&3;if(s/o<3){var f=l.a0D(u),c=(d=f[Math.round(l.WM(t)*(f.length-1))]).Tq.slice(0,4),p=c.indexOf(1),d=JSON.parse(JSON.stringify(d)),s=-1;if("0000"!=c){var v=new _r;if("0"==d.Tq[5])3==p&&1==h?v.scale(-(s=1),1):s=p;else{for(var g=u;g==u;)g=3&Math.floor(4*l.WM(t));v.rotate((-p+g)*Math.PI/2)}l.A(d,v)}o=l.UP(d),f=r-2*t.Hm,c=a-2*t.Hm;-1!=s&&(0==(1&s)?c-=t.Hm:f-=t.Hm);p=Math.min(f/o.m,c/o.n),v=new _r;v.translate(-o.x,-o.y),v.scale(p,p);f=(r-o.m*p)/2,c=(a-o.n*p)/2;-1!=s&&(3==s&&(f=0),0==s&&(c=0),1==s&&(f=r-o.m*p),2==s&&(c=a-o.n*p)),v.translate(e[0]+f,e[1]+c),l.zL(t,d,v,t.mh,n)}else l.ze(t,h,e,n,1e9)}},Hn.lO.ab=function(t,e,n,i){var r,a,s,o=e[2]-e[0],l=e[3]-e[1],h=(Math.max(o,l),Math.min(o,l),Hn.lO),u=h.Af(t),f=i[0]instanceof ArrayBuffer;s=f?(r="data:image/jpg;base64,"+El.qz(i[0]),a=i[1],i[2]):(d=i[Math.floor(u*i.length)],r=(t.vl=d).webformatURL,a=d.webformatWidth,d.webformatHeight);var c,p=e[0],u=e[1],i=o,d=l;a/s<o/l?u-=((d=i*s/a)-l)/2:p-=((i=d*a/s)-o)/2,f?(n.push("<defs>"),n.push('<image width="'+a+'" height="'+s+'" id="Background" href="'+r+'" />'),n.push("</defs>"),n.push('<use href="#Background" transform="'+Hn.FJ(new _r(c=i/a,0,0,c,p,u))+'" />')):(c="cp"+Math.random(),n.push('<clipPath id="'+c+'">'),n.push('<path style="fill: '+h.z$(t.mh)+'" d="'+h.Rect(e[0],e[1],o,l)+'" />'),n.push("</clipPath>"),n.push('<image  clip-path="url(#'+c+')" xlink:href="'+r+'" x="'+p+'" y="'+u+'" width="'+i+'" height="'+d+'" />'))},Hn.lO.A1=function(t,e,n,i,r,a,s){return'<text x="'+e+'" y="'+n+'" style="fill:'+Hn.lO.z$(r)+"; font-size:"+i+"px; text-anchor:"+["start","middle","end"][a]+"; font-family:"+s[2]+';"><tspan>'+t+"</tspan></text>"},Hn.lO.zL=function(t,e,n,i,r){for(var a=Hn.lO,s=[],o=0;o<e.Xo.length;o++)s.push(i),t.agC&&(i=(1&o)==t.adW?{p:1,z:1,S:1}:s[0]);r.push('<g id="'+e.Tq.split("-")[2]+':::" style="transform: '+Hn.FJ(n)+';" >');for(o=0;o<e.Xo.length;o++){var l=e.Xo[o];i=s.pop(),r.push('<path style="fill: '+(i?a.z$(i):"#"+l[0])+'" d="'+Typr.U.pathToSVG({crds:l[1].U,cmds:l[1].C})+'" />')}r.push("</g>")},Hn.lO.adt=function(t,e,n){for(var i=Hn.lO,r=Hn.lO.KG,a=[],s=0;s<r.length;s++)"1001"==(o=r[s]).Tq.slice(0,4)&&a.push(o);var o=a[Math.floor(i.WM(t)*a.length)];i.WM(t)<.5&&i.A(o,new _r(0,1,1,0,0,0));var l=e[3]-e[1],h=e[2]-e[0],u=i.UP(o),e=.7*Math.min(h,l,.5*Math.max(h,l))/Math.max(u.m,u.n),u=new _r;u.scale(e,e),i.WM(t)<.5&&(u.scale(1,-1),u.translate(0,l)),i.zL(t,o,u,t.mh,n),u.rotate(Math.PI),u.translate(h,l),i.zL(t,o,u,t.mh,n)},Hn.lO.a0D=function(t){for(var e=Hn.lO.KG,n=[],i=0;i<e.length;i++){var r=e[i],a=r.Tq.slice(0,4);"0000"!=a?-1!=["1000","0100","0010","0001"].indexOf(a)&&(a=a.indexOf("1"),"0"==r.Tq[5]&&t==a&&3!=a||n.push(r)):n.push(r)}return n},Hn.lO.ze=function(t,e,n,i,r,a,s){for(var o,l=Hn.lO.KG,h=Hn.lO,u=[],f=0;f<l.length;f++){var c=(v=l[f]).Tq.slice(0,4);-1!=["1110","1101","1011","0111"].indexOf(c)&&(p=c.indexOf("0")+2&3,("0"!=v.Tq[5]||1!=a&&(e==p||1==e&&3==p))&&u.push(v))}var p,d=null!=s?s:Math.floor(h.WM(t)*u.length),v=u[d];3==(p=(c=(v=JSON.parse(JSON.stringify(v))).Tq.slice(0,4)).indexOf("0")+2&3)&&1==e&&Rr.A(v,new _r(1,0,0,-1,0,1e3));var g=new _r;g.translate(-500,-500),g.rotate(-p*Math.PI/2),g.translate(500,500),h.A(v,g);var y=n[3]-n[1],s=n[2]-n[0],g=h.UP(v);g.y<0&&(g.n+=g.y,g.y=0),0<g.y&&(g.n+=g.y,g.y=0),0==(1&e)?o=s:o=y;var g=Math.min(Math.min(.5+.5*h.WM(t))*Math.min(s,y),r)/g.n,m=Math.ceil(o/(1e3*g)),w=new _r,b=new _r;b.scale(g,g),0==e||2==e?(b.translate(-s/2,-y/2),b.rotate(-e*Math.PI/2),b.translate(s/2+n[0],y/2+n[1])):(b.rotate(Math.PI/2),b.scale(1,-1),b.translate(n[0],n[1]),1==e&&(b.scale(-1,1),b.translate(s,0))),i.push('<g id="Border-'+["top","right","bottom","left"][e]+':::">');for(f=0;f<m;f++){var M=w.clone();M.concat(b),h.zL(t,v,M,t.mh,i),w.translate(998,0)}return i.push("</g>"),d},Hn.lO.Rect=function(t,e,n,i){return Typr.U.pathToSVG({crds:[t,e,t+n,e,t+n,e+i,t,e+i],cmds:["M","L","L","L","Z"]})},Hn.lO.asv=function(t,e,n,i,r){var a=[t,e,t+n,e,t+n,e+i,t,e+i];return a.push(t+=r,e+=r,t,e+(i-=2*r),t+(n-=2*r),e+i,t+n,e),Typr.U.pathToSVG({crds:a,cmds:"M L L L Z M L L L Z".split(" ")})},Hn.lO.aaH=function(t,e){t=Rr.Ld(t.p,t.z,t.S);return t.Z5=Math.max(.1,Math.min(.9,t.Z5+e)),Rr.AX(t.kY,t.gB,t.Z5)},Hn.lO.abB=function(t,e){t=Rr.Ld(t.p,t.z,t.S);return t.kY+=e,Rr.AX(t.kY,t.gB,t.Z5)},Hn.lO.alr=function(t){t=Rr.Ld(t.p,t.z,t.S);return t.Z5=1-t.Z5,Rr.AX(t.kY,t.gB,t.Z5)},Hn.lO.aoR=function(t,e){var n=t.p-e.p,i=t.z-e.z,e=t.S-e.S;return Math.sqrt(n*n+i*i+e*e)},Hn.lO.akV=function(t){var e=Hn.lO;return{p:e.WM(t),z:e.WM(t),S:e.WM(t)}},Hn.lO.z$=function(t){return sr.MF({p:255*t.p,z:255*t.z,S:255*t.S})},Hn.lO.UP=function(t){for(var e=t.Xo,n=new Fr,i=0;i<e.length;i++)n=n.hq(Rr.H.UP(e[i][1].U));return n},Hn.lO.A=function(t,e){for(var n=t.Xo,i=0;i<n.length;i++)Rr.H.A(n[i][1].U,e,n[i][1].U)},Hn.lO.WM=function(t){t.a8l++;var e=3&t.a8l;return 0==e&&(t.oA=Hn.lO.Fv(t.oA)),.99999999/255*(t.oA>>>8*e&255)},Hn.lO.Af=function(t){var e=Hn.lO.Fv(t.oA);return t.oA=Hn.lO.Fv(e),e*(1/4294967295)},Hn.lO.Fv=function(t){return t=((t=668265261*(t=((t=(t=(61^t^t>>>16)>>>0)+(t<<3)>>>0)^t>>>4)>>>0)>>>0)^t>>>15)>>>0},Hn.lO.KG=[{Tq:"0001-0-bird",Xo:[["4b3c34",{C:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),U:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{C:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),U:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{C:"M C C C C C C C C C C C C L Z".split(" "),U:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{Tq:"0001-0-bird2",Xo:[["ff7f2a",{C:"M L L L Z M L L L Z".split(" "),U:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{C:"M C C C C C C C C C C C L Z".split(" "),U:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{C:"M C C C C C C L Z M C C Z".split(" "),U:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{C:"M L L L Z M L L L Z".split(" "),U:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{C:"M L C C C C C C C C L Z".split(" "),U:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{C:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),U:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{Tq:"0000-1-flower",Xo:[["7a59a2",{C:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),U:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{Tq:"0000-1-flower",Xo:[["d13777",{C:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),U:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{Tq:"0000-1-flower",Xo:[["ffac42",{C:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),U:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{Tq:"0000-1-flower",Xo:[["d04040",{C:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),U:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{Tq:"0000-1-flower",Xo:[["ec7272",{C:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),U:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{C:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),U:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{Tq:"0000-0-hearts",Xo:[["d17070",{C:"M C C C C C C C C C L Z".split(" "),U:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{C:"M C C C C C C C C C L Z".split(" "),U:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{C:"M C C C C C C C C C L Z".split(" "),U:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{Tq:"0000-0-anchor",Xo:[["2a3b66",{C:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),U:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{Tq:"0000-1-leaf",Xo:[["fbb600",{C:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),U:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{Tq:"0000-1-acorn",Xo:[["a05a2c",{C:"M C C C C C C C L Z".split(" "),U:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{C:"M C C C C C C C C C C C Z".split(" "),U:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{Tq:"0000-0-skull",Xo:[["808080",{C:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),U:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{Tq:"0000-0-ghost",Xo:[["e6e6e6",{C:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),U:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{C:"M C C C C Z M C C C C Z".split(" "),U:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{Tq:"1001-1-rose",Xo:[["9e1460",{C:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),U:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{C:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),U:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{Tq:"1001-1-curls",Xo:[["53a7ab",{C:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),U:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{C:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),U:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{Tq:"0111-0-pines",Xo:[["e9e9e9",{C:"M C C C C C C C C L L L Z".split(" "),U:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{C:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),U:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{Tq:"0111-0-flowers",Xo:[["8cae40",{C:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),U:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{C:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),U:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{Tq:"1101-1-confetti",Xo:[["e789ff",{C:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),U:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{C:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),U:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{Tq:"1101-1-branch",Xo:[["7f500b",{C:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),U:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{C:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),U:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{Tq:"1101-1-sticks",Xo:[["ec7272",{C:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),U:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{C:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),U:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{Tq:"1101-1-dots",Xo:[["ec7272",{C:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),U:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{C:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),U:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{C:["M","C","C","Z"],U:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{Tq:"1101-1-strips",Xo:[["ffc88c",{C:"M L L L L Z M L L L L Z M L L L L Z".split(" "),U:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{C:"M L L L L Z M L L L L Z M L L L L Z".split(" "),U:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{C:["M","C","C","Z"],U:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{Tq:"1101-1-circs",Xo:[["ec7272",{C:"M C C C C Z M C C C C Z".split(" "),U:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{C:"M C C C C Z M C C C C Z".split(" "),U:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{C:["M","C","C","Z"],U:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{Tq:"1101-1-squares",Xo:[["014ea7",{C:"M L L L L Z M L L L L Z".split(" "),U:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{C:"M L L L L Z M L L L L Z".split(" "),U:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{C:["M","C","C","Z"],U:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{Tq:"1101-0-christmas",Xo:[["014ea7",{C:"M C C C C Z M C C C C Z M L L L L Z".split(" "),U:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{C:"M C C C C Z M C C C C Z M L L L L Z".split(" "),U:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];var Jn={parse:function(t){var e=new Uint8Array(t),n=null;return 80==e[0]&&75==e[1]?(Date.now(),n=(e=UZIP.parse(e.buffer))["document.json"],n=JSON.parse(ln.cP(n,0,n.length)),Jn.Cz(n,e)):(t=Gn.parse(t),n=Jn.zk(t[2][0][1])),n},Cz:function(t,e){var n=typeof t;if("string"==n||"number"==n||"boolean"==n)return t;if(t instanceof Array){for(var i=0;i<t.length;i++)t[i]=Jn.Cz(t[i],e);return t}var r,a=t._class;if(null==a)return t;if("MSJSONFileReference"==a){n=t._ref;if(0,null==e[n+".json"])return null!=e[n+".png"]?{key:n.split("/").pop(),bdata:e[n+".png"]}:null!=e[n+".jpg"]?{key:n.split("/").pop(),bdata:e[n+".jpg"]}:null!=e[n+".pdf"]?{key:n.split("/").pop(),bdata:e[n+".pdf"]}:null!=e[n]?{key:n.split("/").pop(),bdata:e[n]}:void console.log(t,e);for(var s=e[n+".json"],o=s.length,i=0;i<o;i++)11!=s[i]&&3!=s[i]||(s[i]=32);var l=ln.cP(s,0,o);t=JSON.parse(l)}else if("MSAttributedString"==a){for(var h=(l=atob(t.archivedAttributedString._archive)).length-1,u=new Uint8Array(h),i=0;i<h;i++)u[i]=l.charCodeAt(i);t.archivedAttributedString=Jn.zk(u)}for(r in t)t[r]=Jn.Cz(t[r],e);return t},eI:function(t,e,n,i){if(t instanceof Uint8Array)return null;if(-1!=i.indexOf(t))return null;if(i.push(t),t==e)return n;for(var r in t){n.push(r);r=Jn.eI(t[r],e,n,i);if(r)throw console.log(t,r),"e";n.pop()}},zk:function(t){for(var t=qn.parse(t,0),e=t.$objects,n=new Uint8Array(e.length),i=Jn.Xe(e,n,t.$top.root),r=0;r<e.length;r++)0==n[r]&&0!=r&&(console.log(r,e[r]),Jn.eI(i,r,[],[]));for(r=0;r<e.length;r++){var a,s,o,l,h,u=e[r];u._class&&("bitmap"==u._class||"fill"==u._class&&4==u.fillType&&(u.image||u.imageSHA))&&(a=u.image,l=h=null,"$null"==(s=u.imageSHA)&&(s=null),(a="$null"==a?null:a)&&a.data?(l=a.sha1["NS.bytes"],l=btoa(ln.fb(l,0,l.length)),h=a.data instanceof Uint8Array?a.data:a.data["NS.bytes"]):null==a&&null==s?(o=ai.TN("PNG").D6([[Rr.t(4).buffer]],1,1),h=new Uint8Array(o)):(o=(i.assets?i.assets.imageCollection:i.images).images,l=s?s instanceof Uint8Array?s:s["NS.bytes"]:a.sha1["NS.bytes"],(h=o[l=btoa(ln.fb(l,0,l.length))].data)["NS.bytes"]&&(h=h["NS.bytes"])),h=new Uint8Array(h.buffer.slice(h.byteOffset,h.byteOffset+h.length)),delete u.imageSHA,u.image={key:l,bdata:h})}return i},a3x:function(t){return"MSImmutable"==t.slice(0,11)?"MS"+t.slice(11):t},Xe:function(t,e,n){var i=t[n];if(1==e[n])return i;if(e[n]=1,"string"==typeof i)return i;if("number"==typeof i)return i;if("boolean"==typeof i)return i;if(i instanceof Array)return i;if(i instanceof Uint8Array)return i;if(null==t[i.$class]){if(null==i.$class&&null!=i["NS.data"])return i;throw console.log(n,i),"e"}var r=t[i.$class],a=Jn.a3x(r.$classname);e[i.$class]=1,i.$class=a,Jn.pP[a]&&(delete i.$class,i._class=Jn.pP[a]);var s=Jn.Xe;if("NSMutableArray"==a||"NSArray"==a){var o=[];if(null!=i["NS.objects"])for(var l=0;l<i["NS.objects"].length;l++)o.push(s(t,e,i["NS.objects"][l]));else for(l=0;null!=i["NS.object."+l];l++)o.push(s(t,e,i["NS.object."+l]));return t[n]=o}if("NSDictionary"==a||"NSMutableDictionary"==a){var h,u,f={$class:a};if(null!=i["NS.keys"])for(l=0;l<i["NS.keys"].length;l++)(h=s(t,e,i["NS.keys"][l]))instanceof Uint8Array?h=btoa(Jn.ea.fb(h,0,h.length)):"string"!=typeof h&&"number"!=typeof h&&(h=btoa(Jn.ea.fb(h["NS.bytes"],0,h["NS.bytes"].length))),f[h]=s(t,e,i["NS.objects"][l]);else for(l=0;null!=i["NS.key."+l];l++)(h=s(t,e,i["NS.key."+l]))instanceof Uint8Array?h=btoa(Jn.ea.fb(h,0,h.length)):"string"!=typeof h&&"number"!=typeof h&&(h=btoa(Jn.ea.fb(h["NS.bytes"],0,h["NS.bytes"].length))),f[h]=s(t,e,i["NS.object."+l]);for(u in i)delete i[u];for(u in f)i[u]=f[u];return i}if("NSURL"==a)return{$class:a,base:s(t,e,i["NS.base"]),relative:s(t,e,i["NS.relative"])};if(-1!=Jn.arQ.indexOf(a))return t[n]=s(t,e,i.array_do),t[n];if(null!=i.do_objectID&&(i.do_objectID=s(t,e,i.do_objectID)),-1!=Jn.apf.indexOf(a))return i;var c=Jn.adS[a];if(null==c)throw console.log(t,i),"unknown class "+a;for(l=0;l<c.length;l++)null!=i[c[l]]&&(i[c[l]]=s(t,e,i[c[l]]));if("MSTextLayer"==a){var p,r=i,n=r.attributedString?r.attributedString.archivedAttributedString:r.storage,a=n.NSString;if("string"!=typeof a&&(a=ln.cP(a["NS.bytes"],0,a["NS.bytes"].length)),n.NSAttributeInfo)p=n.NSAttributeInfo["NS.bytes"];else{for(var d=a.length,v=[];0<d;){var g=Math.min(100,d);v.push(g,0),d-=g}p=new Uint8Array(v)}n={$class:"NSAttributedString",NSString:a,NSAttributes:n.NSAttributes instanceof Array?n.NSAttributes:[n.NSAttributes]};r.attributedString={_class:"MSAttributedString",archivedAttributedString:n},n.NSAttributeInfo={$class:"NSMutableData","NS.data":p},delete r.storage}return i},ea:{aV:function(t,e){return t[e+1]<<8|t[e]},l:function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},fb:function(t,e,n){for(var i="",r=0;r<n;r++)i+=String.fromCharCode(t[e+r]);return i}},pP:{MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"},arQ:["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"]};Jn.apf="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" "),Jn.adS={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};var qn={parse:function(t,e){ln.fb(t,e,8);e+=8;var n=qn.parse.afk(t,t.length-31),i=[];if(1==n.Rx)for(var e=t.length-31-n.Rx*n.km,r=0;r<n.km;r++)i.push(t[e+r]);else if(2==n.Rx)for(e=t.length-31-n.Rx*n.km,r=0;r<n.km;r++)i.push(ln.aV(t,e+2*r));else{if(4!=n.Rx)throw"e";for(e=t.length-31-n.Rx*n.km,r=0;r<n.km;r++)i.push(ln.l(t,e+4*r))}return qn.parse.Xe(t,i,n.root,n)}};qn.parse.Xe=function(t,e,n,i){var r=qn.ea,a=i.asL,s=4==a?r.l:2==a?r.aV:r.aiu,o=qn.parse,l=e[n],r=t[l],n=r>>4,h=15&r,u=null;if(l+=1,-1!=[4,5,6,10,12,13].indexOf(n)&&15==h&&(l+=(r=o.Xu(t,l)).Lo,h=r.k),0,0==n)u=8!=h&&(9==h||null);else if(1==n)u=o.Xu(t,l-1).k;else if(2==n)u=1<<h==4?ln.PT(t,l):ln.tG(t,l);else if(3==n)u=ln.tG(t,l);else if(4==n)u=new Uint8Array(t.buffer,l,h);else if(5==n)u=ln.fb(t,l,h);else if(6==n)u=ln.yw(t,l,h);else if(8==n)for(var u=0,f=0;f<h+1;f++)u=u<<8|t[l+f];else if(10==n){u=[];for(f=0;f<h;f++)u.push(o.Xe(t,e,s(t,l+a*f),i))}else if(12==n){u=[];for(f=0;f<h;f++)u.push(o.Xe(t,e,s(t,l+a*f),i))}else{if(13!=n)throw"unknown mask "+n;u={};for(f=0;f<h;f++){var c=o.Xe(t,e,s(t,l+a*f),i),p=o.Xe(t,e,s(t,l+a*(h+f)),i);u[c]=p}}return u},qn.parse.Xu=function(t,e){for(var n=1<<(15&t[e]),i=0,r=0;r<n;r++)i=i<<8|t[e+1+r];return{k:i,Lo:1+n}},qn.parse.afk=function(t,e){var n={};return n.Rx=t[e+=6],n.asL=t[++e],e++,n.km=ln.l(t,e+=4),e+=4,n.root=ln.l(t,e+=4),e+=4,n.agd=ln.l(t,e+=4),e+=4,n},qn.ea={aiu:function(t,e){return t[e]},aV:function(t,e){return t[e]<<8|t[e+1]},l:function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]},fb:function(t,e,n){for(var i="",r=0;r<n;r++)i+=String.fromCharCode(t[e+r]);return i}};var Gn={parse:function(t){var e=new Uint8Array(t),n=Gn.Ef(e),i=[],r=new Uint8Array(e.length),a=[];i.push(a),Gn.tJ(e,n,1,r,a);for(var s=0;s<a.length;s++){var o=[];i.push(o),Gn.tJ(e,n,a[s][3],r,o),a[s][3]=s+1}return i},tJ:function(t,e,n,i,r){var a=--n*e.xR+(0==n?100:0),s=t[a];if(0!=Gn.aV(t,a+1))throw"free block in a page";var o=Gn.aV(t,a+3);Gn.aV(t,a+5),t[a+7],Gn.aV(t,a+8);2!=s&&5!=s||(a+=4);for(var l=0;l<o;l++){var h=n*e.xR+Gn.aV(t,a+8+2*l),u=-1,f=0,c=0;if(2!=s&&5!=s||(u=Gn.l(t,h),h+=4),2!=s&&10!=s&&13!=s||(h+=(f=Gn._K(t,h)).Lo),5!=s&&13!=s||(h+=Gn._K(t,h).Lo),5!=s){var p=e.xR-(0==n?100:0),d=f.JL,v=13==s?p-35:Math.floor(64*(p-12)/255)-23,f=Math.floor(32*(p-12)/255)-23,p=f+(d-f)%(p-4);if(d<=v)Gn.VO(t,h,i,0,d);else{var f=p<=v?p:f,g=0;for(Gn.VO(t,h,i,0,f),g+=f,c=Gn.l(t,h+f);0!=c;){var y=(c-1)*e.xR,c=Gn.l(t,y),m=Math.min(e.xR-4,d-g);Gn.VO(t,4+y,i,g,m),g+=m}}r.push(Gn.adR(i,d))}else Gn.tJ(t,e,u,i,r)}},adR:function(t,e){var n=0,i=Gn._K(t,n);n+=i.Lo;for(var r=[],a=[];n<i.JL;)n+=(s=Gn._K(t,n)).Lo,r.push(s.JL);if(n!=i.JL)throw"e";for(var s,o=0;o<r.length;o++)if(0,0==(s=r[o]))a.push(null);else if(1==s)a.push(Gn.aqp(t,n)),n+=1;else if(2==s)a.push(Gn.Kh(t,n)),n+=2;else if(3==s)a.push(Gn.a1j(t,n)),n+=3;else if(4==s)a.push(Gn.Xu(t,n)),n+=4;else if(7==s)a.push(Gn.aiP(t,n)),n+=16;else if(8==s)a.push(0);else if(9==s)a.push(1);else if(12<=s&&0==(1&s)){var l=s-13>>1,h=new Uint8Array(l);Gn.VO(t,n,h,0,l),a.push(h),n+=l}else{if(!(13<=s&&1==(1&s)))throw"unknonw type "+s;l=s-12>>1;a.push(Gn.cP(t,n,l)),n+=l}return a},Ef:function(t){if(1!=t[18]||1!=t[19]||0!=t[20]||64!=t[21]||32!=t[22]||32!=t[23])throw"unexpected SQL3 header";t={sM:Gn.fb(t,0,15),xR:Gn.aV(t,16),aml:Gn.l(t,24),size:Gn.l(t,28),a1S:Gn.l(t,32),adX:Gn.l(t,36),aqk:Gn.l(t,40),anB:Gn.l(t,44),au0:Gn.l(t,48),a20:Gn.l(t,52),a87:Gn.l(t,56),a3s:Gn.l(t,60),a3G:0!=Gn.l(t,64),a9P:Gn.l(t,68),ag9:Gn.l(t,92),atz:Gn.l(t,96)};if(1==t.xR&&(t.xR=65536),1!=t.a87)throw"unsupported text encoding "+t.a87;return t},abf:function(t,e){return t[e]<<16|t[e+1]<<8|t[e+2]},a1j:function(t,e){e=Gn.abf(t,e);return 8388608&e?-(16777215-e+1):e},aqp:function(t,e){return Gn.Vu[0]=t[e],Gn.a2P[0]},Xu:function(t,e){for(var n=Gn.Vu,i=0;i<4;i++)n[i]=t[e+3-i];return Gn.adJ[0]},Kh:function(t,e){var n=Gn.Vu;return n[0]=t[e+1],n[1]=t[e],Gn.apb[0]},aV:function(t,e){return t[e]<<8|t[e+1]},l:function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]},aiP:function(t,e){for(var n=Gn.Vu,i=0;i<8;i++)n[i]=t[e+7-i];return Gn.a61[0]},_K:function(t,e){for(var n=e,i=0;;){var r=t[e];if(e++,i=128*i+(127&r),r<128)break}return{JL:i,Lo:e-n}},fb:function(t,e,n){for(var i="",r=0;r<n;r++)i+=String.fromCharCode(t[e+r]);return i},cP:function(t,e,n){for(var i="",r=0;r<n;r++)i+="%"+Gn.atJ(t[e+r].toString(16));return decodeURIComponent(i)},VO:function(t,e,n,i,r){if(null==t[e+r-1]||null==n[i+r-1])throw console.log(e,i,r),"e";for(var a=0;a<r;a++)n[i+a]=t[e+a]},atJ:function(t){return t.length<2?"0"+t:t}};function Zn(t,e,n){this.Dl=t,this.KP=e,this.aqg=n,this.w_=new Pr(0,0),this.uU=-1,this.p1=0,this.IW=0,this.xM=new Fr,this.$w=[],this.im=null,this.apG=null,this.UJ=null,this.av=null,this.hK=null,this.auQ=null}Gn.Vu=new Uint8Array(8),Gn.a2P=new Int8Array(Gn.Vu.buffer),Gn.apb=new Int16Array(Gn.Vu.buffer),Gn.adJ=new Int32Array(Gn.Vu.buffer),Gn.a61=new Float64Array(Gn.Vu.buffer),Zn.prototype.StartPage=function(t,e,n,i,r){var a=this.KP,s=a.eZ(),o=1,l=(n-t)*(i-e);for(null!=r&&(l=r);134217728<l*s*s/(o*o);)o++;a.scale(1/o,1/o),this.apG=[t,e,n,i];o=a.eZ();t=Math.round(t*o),e=Math.round(e*o),n=Math.round(n*o),i=Math.round(i*o);var h=this.Dl,u=this.UJ;null==u?a.E_=-t:(r=u[2]-u[0]+30,u=Math.round(n-t)+30,8192<this.w_.x+r+u?(a.E_=-t,this.w_.x=0,this.w_.y+=this.IW+120,this.IW=0):(a.E_+=r,this.w_.x+=r)),a.Qq=this.w_.y+(this.aqg?i:-e),this.IW=Math.max(this.IW,Math.round(i-e)),this.UJ=[t,e,n,i],h.g.push(h.ne())},Zn.prototype.Kb=function(){var t=this.Dl;return t.g[t.g.length-1]},Zn.prototype.zd=function(){var t=JSON.parse(JSON.stringify(Wi.XF.default));return t.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter",t.strokeEnabled.v=!1,t.fillEnabled.v=!1,t},Zn.prototype.TY=function(){var t=this.Dl,e=t.rL();return e.Zu("Path "+t.g.length),this.Dl.g.push(e),e.OW|=16,e.add.SoCo={classID:"null",Clr:{t:"Objc",v:Rr.I.wg({p:0,z:0,S:0})}},e.add.vmsk=new qi.g6,e.add.vstk=this.zd(),e},Zn.prototype.Jh=function(t){t={U:t.crds,C:t.cmds},t=Rr.H.z8(t,!1);return Rr.$.yl(t,this.KP),t},Zn.a7d=function(t,e){for(var n=0;n<t.length;n++)null!=t[n].Gw&&(t[n].Gw=e)},Zn.acH=function(t){return Math.sqrt(Math.abs(t[0]*t[3]-t[1]*t[2]))},Zn.ER=function(t){return Rr.I.wg({p:255*t[0],z:255*t[1],S:255*t[2]})},Zn.K3=function(t){return new _r(t[0],t[1],t[2],t[3],t[4],t[5])},Zn.prototype.Stroke=function(t){var e,n,i,r;-1!=this.uU&&this.uU!=this.p1||t.pth.cmds.length<=1||((e=this.Jh(t.pth)).length<=2||(this.BZ(t),Zn.a7d(e,-1),e[2].Gw=1,r=Zn.ER(t.COLR),n=this.Kb(),i=this.zd(),Zn.FN(i,t,this.KP.eZ(),r),r=(t=null!=n&&null!=n.add.vmsk&&!n.dH())&&!n.add.vstk.strokeEnabled.v&&qi.g6.avf(n.add.vmsk.Y,e,!0),t&&!n.add.vstk.fillEnabled.v&&JSON.stringify(i)==JSON.stringify(n.add.vstk)?n.add.vmsk.Y=n.add.vmsk.Y.concat(e.slice(2)):r?(n.add.vstk=i).fillEnabled.v=!0:((n=this.TY()).add.vmsk.Y=e,n.add.vstk=i)))},Zn.FN=function(t,e,n,i){t.strokeEnabled.v=!0,t.strokeStyleMiterLimit.v=e.mlimit,t.strokeStyleLineDashSet.v=Xi.iO(e.dash,1/e.lwidth),t.strokeStyleLineDashOffset.v.val=e.doff,t.strokeStyleLineJoinType.v.strokeStyleLineJoinType=Wi.XF.join[e.ljoin],t.strokeStyleLineCapType.v.strokeStyleLineCapType=Wi.XF.Sl[e.lcap],t.strokeStyleLineWidth.v.val=Math.max(.4,e.lwidth*Zn.acH(e.ctm)*n),t.strokeStyleContent.v.Clr.v=i},Zn.prototype.Fill=function(t,e){if((-1==this.uU||this.uU==this.p1)&&0!=t.ca){var n=t.pth.cmds;if(0!=n.length&&(2!=n.length||'["M","L"]'!=JSON.stringify(n))){var i=Rr.H.UP(t.pth.crds),r=Rr.H.UP(t.cpth.crds);if(!i.BS(r).mN()){var a=t.pth,s=UDOC.G.isBox(a,[i.x,i.y,i.x+i.m,i.y+i.n]),o=t.cpth,l=UDOC.G.isBox(o,[r.x,r.y,r.x+r.m,r.y+r.n]);s&&l&&i.Z()>2*r.Z()?(a={cmds:["M","L","L","L","Z"],crds:[n=(u=i.BS(r)).x,s=u.y,l=n+u.m,s,l,s=s+u.n,n,s]},i=u):null==this.av&&UDOC.G.isBox(a,[i.x,i.y,i.x+i.m,i.y+i.n])&&i.st(r)?(a=o,i=r):this.BZ(t);var h=this.Jh(a),u=Rr.H.UQ(i);Rr.H.A(u.U,this.KP,u.U),i=Rr.H.UP(u.U);o=Zn.$F(t.colr,this.KP,i),r=this.Kb();if(a=null!=r&&r.opacity==Math.round(255*t.ca)&&null!=r.add.vstk&&!r.add.vstk.strokeEnabled.v&&r.add.SoCo&&"SoFi"==o.type&&JSON.stringify(r.add.SoCo.Clr.v)==JSON.stringify(o.k.v.Clr.v)){for(var f=!1,c=0;c<h.length;c++)0!=h[c].Gw&&2!=h[c].Gw||(f=!0);f&&(u=Rr.H.UP(Rr.$.i0(r.add.vmsk.Y)),o=Rr.H.UP(Rr.$.i0(h)),a=u.BS(o).mN())}if(a)for(var p=r.add.vmsk.Y,c=2;c<h.length;c++)p.push(h[c]);else delete(r=this.TY()).add.SoCo,r.add.vmsk.Y=qi.g6.nk(h),Zn.L3(t.colr,r,this.KP,i),Zn.an(t,r)}}}},Zn.L3=function(t,e,n,i){var r=Zn.$F(t,n,i),a=null,s=null;if(e.add.vstk.fillEnabled.v=!0,"SoFi"==r.type&&(a="SoCo",s=Wi.Di),"GrFl"==r.type&&(a="GdFl",s=Wi.lK),"patternFill"==r.type&&(a="PtFl",s=Wi.Gt),null!=a){e.add[a]={classID:"null"};for(var o=0;o<s.length;o++){var l=s[o];e.add[a][l]=r.k.v[l]}}},Zn.prototype.BZ=function(t){var e=this.Dl,n=t.cpth,i=n.cmds.join("")+" "+n.crds.join(","),r=UDOC.G.isBox(n,this.apG);r&&null==this.av||i!=this.av&&(this.BP(),r||(this.av=i,e.g.push(e.ne()),(i=e.rL()).Zu("Mask"),i.add.lsct=Gi.jT,i.SD="pass",i.OW=24,(e=i.add.vmsk=new qi.g6).Y=this.Jh(t.cpth),UDOC.G.isBox(n)?(this.hK=Rr.$.b3(e.Y),this.hK.bA(3,3)):this.hK=null,this.auQ=i))},Zn.prototype.BP=function(){var t=this.Dl;if(null!=this.av){for(var e=t.g.length-1,n=e,i=!1;0<=n&&t.g[n].add.lsct!=Gi.A0;)n--;var r=this.hK;if(r){for(var a=new Fr,s=e;n<s;)a=t.g[s].w8(this.Dl,!1,!0),s--;i=r.st(a)}i?(this.$w.splice(n,1),t.g.splice(n,1)):t.g.push(this.auQ),this.av=null}},Zn.$F=function(t,e,n){var i,r;return null!=t.length?(i="SoFi",(r={t:"Objc",v:JSON.parse(Wi.xs[Wi.order.indexOf("SoFi")])}).v.Clr.v=Zn.ER(t)):(i="GrFl",r={t:"Objc",v:Zn.ae0(t,e,n)}),{type:i,k:r}},Zn.ae0=function(t,e,n){var i=JSON.parse(Wi.xs[Wi.order.indexOf("GrFl")]),r=i.Grad.v;r.Intr.v=0;var a=Zn.K3(t.mat);a.concat(e);var s=new Pr(0,0),o=new Pr(n.m,0),e=t.crds;"rad"==t.typ?(i.Type.v.GrdT="Rdl",s.x=(1-.7)*e[0]+.7*e[3],s.y=(1-.7)*e[1]+.7*e[4],o.x=s.x,o.y=s.y,o.x+=Math.max(e[2],e[5])):(i.Type.v.GrdT="Lnr",s.x=e[0],s.y=e[1],o.x=e[2],o.y=e[3],s.x=o.x+.5*(s.x-o.x),s.y=o.y+.5*(s.y-o.y)),s=a.iX(s),o=a.iX(o),Rr.I.Ye(s,o,n,i);t=t.grad;return Rr.I.MW(t,r),i},Zn.prototype.PutText=function(t,e,n,i){var r=e.charCodeAt(0),a=null;if((-1==this.uU||this.uU==this.p1)&&0!=e.length&&(1!=e.length||0!=r&&8203!=r)){this.BZ(t);var s=this.Dl,o=t.font,l=Zn.K3(t.ctm);l.concat(this.KP);var h=Zn.K3(o.Tm);h.concat(l);var u=qr.Q.eZ(h),f=new _r(1/u,0,0,-1/u,0,0);f.concat(h);for(var c,p,d,v,g=o.Tfs*u,y=s.g.length-1;0<=y&&null==s.g[y].add.TySh;)y--;f.S*f.S+f.yH*f.yH<.001&&null==i&&0<=y&&s.g[y].add.TySh&&s.g[y].opacity==Math.round(255*t.ca)&&(c=s.g[y],w=this.$w[y],d=((p=c.add.TySh.A).E_+w.hf-f.E_)/g,v=Math.abs(d),r=-1==e.indexOf(" "),h=(l=p.q4==f.q4&&p.S==f.S&&p.yH==f.yH&&p.DR==f.DR)&&Math.abs(w.sl-f.Qq)<1e-5&&v<.6,v=f.Qq-w.sl,h?(a=c,w.hf=f.E_-p.E_,.2<d&&r&&-1==[".",",","?",":","!"].indexOf(e)&&(e=" "+e)):l&&Math.abs(f.E_-p.E_)<1e-5&&0<v&&v<1.7*g&&w.a9a==g&&(a=c,this.BM(w),w.sl=f.Qq,e="\n"+e)),null==a&&(y=s.g.length,this.$w[y]={yF:[],hf:0,sl:f.Qq,A5:"",a9a:g},a=s.rL(),s.g.push(a),a.add.lnsr="rend",a.add.TySh=ir.mb(0,0),a.add.TySh.A=f),(w=this.$w[y]).hf+=n*g,w.A5+=e;f=a.add.TySh.nx,n=ir.CP(f);i&&(ir.b8(f,1),m=[0,0,Math.ceil(i[0]*u),Math.ceil(i[1]*u)],ir.NO(f,m));var m=n.length-1,n=m+e.length;ir.RX(f,m,e),null==this.im&&(this.im=ir.vK(f,m,m));e=this.im;e.hy.FontSize=Math.round(g),e.hy.Tracking=Math.round(100*o.Tc),e.hy.Underline=1==o.Tun,e.hy.FillColor={Type:1,Values:[1,t.colr[0],t.colr[1],t.colr[2]]},null!=o.Tal&&(e.eS.Justification=o.Tal),0!=w.yF.length&&(e.hy.AutoLeading=!1,e.hy.Leading=w.sl-w.yF[w.yF.length-1].y);var w=o.Tf;w=(w=(w=w.replace(/#2B/g,"+")).replace(/#2C/g,"-")).split("+").pop();o={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};ir.Ui(e,w=o[w]?o[w]:w),ir.xB(f,m,n-1,e),a.Kr(),a.opacity=Math.round(255*t.ca)}},Zn.prototype.BM=function(t){t.yF.push({r2:t.hf,sB:t.A5.slice(0==t.yF.length?0:1)+"\n",y:t.sl,gB:t.a9a}),t.hf=0,t.A5=""},Zn.prototype.uS=function(t,e,n){return new Uint8Array(ai.TN("PNG").D6([[t.buffer,0]],e,n))},Zn.prototype.PutImage=function(t,e,n,i,r,a,s){var o,l,h;-1!=this.uU&&this.uU!=this.p1||(o=this.Dl,7==t.font.Tmode&&o.g[o.g.length-1].add.TySh||(this.BZ(t),(l=Zn.K3(t.ctm)).concat(this.KP),(h=new _r(1/n,0,0,-1/i,0,1)).concat(l),l=h,e=Zn.Cg(e,n,i,a,!1),null==(r=r&&Zn.Cg(r,n,i,s,!0))?e.length==n*i*4&&(e=this.uS(e,n,i)):(e=this.Bu(e,n,i,a,!1),r=this.Bu(r,n,i,s,!0),s=Rr.t(n*i),Rr.VW(r,s,0),Rr.al(s,e,3),e=this.uS(e,n,i)),(e=(i=o.Rp(e,"Bitmap",0,0)).rect.clone()).x=e.y=0,e=Rr.H.UQ(e).U,Rr.H.A(e,l,e),i.add.SoLd.Trnf=qr.Q.mk(e),i.add.SoLd.nonAffineTransform=qr.Q.mk(e),i.jM(o,!1),Zn.an(t,i),o.g.push(i)))},Zn.an=function(t,e){e.opacity=Math.round(255*t.ca);t=Zn.yY[t.bmode];null==t?console.log("Unknown blend mode",t):e.SD=t},Zn.yY={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "},Zn.hU=function(t){for(var e in Zn.yY)if(Zn.yY[e]==t)return e},Zn.Cg=function(e,n,i,t,r){var a=ai.Am(e.buffer);if("jpg"==a)try{e=new Uint8Array(ai.TN("JPG").arK(e.buffer))}catch(t){e=new Uint8Array(n*i*4)}else if("jb2"==a)e=new Uint8Array(ai.TN("JPG").Ou(e.buffer,t,r)[0].data);else if(e.length!=n*i*4){var s=new Uint8Array(n*i*4),o=Math.ceil(n/8),l=new Uint8Array(i*o);UTIF.decode._decodeG4(e,0,e.length,l,0,n,1);for(var h=l[0]==(r?255:0),u=0;u<i;u++)for(var f=o*u,c=0;c<n;c++){var p=4*(u*n+c),d=255*(l[f+(c>>3)]>>7-(7&c)&1);s[p]=d=h?255-d:d,s[1+p]=d,s[2+p]=d,s[3+p]=255}e=s}return e},Zn.prototype.Bu=function(t,e,n,i,r){if(t.length!=e*n*4){e=ai.Am(t.buffer);if("jb2"==e)throw"e";n=ai.TN(e);null!=n&&"tga"!=e||(n=ai.TN("jpg")),t=new Uint8Array(n.Ou(t,i,r)[0].data)}return t},Zn.prototype.ShowPage=function(){var t=this.Dl;this.p1++;var e=this.UJ;this.BP();var n=t.rL();t.g.push(n);e=new Fr(Math.round(this.w_.x),Math.round(this.w_.y),Math.round(e[2]-e[0]),Math.round(e[3]-e[1]));e.mN()&&(e.m=e.n=2e3),this.xM=this.xM.hq(e),n.fx(e),n.add.artb.artboardBackgroundType.v=1,n.Zu("Page "+this.p1),n.add.lsct=Gi.jT,n.SD="pass",n.OW=24},Zn.prototype.Print=function(t){console.log("Print:",t)},Zn.prototype.Done=function(){var t=this.Dl;1==this.p1&&(t.g[t.g.length-1].add.lsct=Gi.pb),t.BD(this.p1);for(var e=0;e<t.g.length;e++){var n=t.g[e],i=n.add.vmsk,r=n.add.TySh,a=this.$w[e];if(n.Ky(),i){for(var s=!1,o=0;o<i.Y.length;o++){var l=i.Y[o];(0==l.type||3==l.type)&&32767<l.length&&(s=!0)}if(s){t.g.splice(e,1),e--;continue}}if(n.fF(t),r&&0!=a.yF.length){this.BM(a);for(var h=r.nx,u=a.yF.length,n=a.yF[0],f=0,o=0;o<u;o++)f=Math.max(f,a.yF[o].r2);ir.b8(h,1),r.A.Qq-=.7*n.gB,ir.NO(h,[0,0,Math.ceil(1.1*f),Math.ceil(a.yF[u-1].y-n.y+2*n.gB)])}if(r){h=r.nx;ir.atX(h);for(var c=ir.CP(h).split("\n"),o=0;o<c.length-1;o++){for(var p,d=c[o],v=0,g=0;g<d.length;g++){var y=d.charCodeAt(g);1473<=y&&y<=1524&&v++}v>d.length/2&&(c[o]=d.split("").reverse().join(""),(p=h.EngineDict.ParagraphRun.RunArray[o].ParagraphSheet.Properties)._Direction=1,p.Justification=ir.ub(p))}ir.hN(h,c.join("\n"))}}t.O2=!0,t.m=this.xM.m,t.n=this.xM.n,t.buffer=Rr.t(4*this.xM.Z())};var zn={o$:function(t,e,n,i,r,a){null==r&&(r=t.m),null==a&&(a=t.n);var s=!1,o=[t.root],l=t.root.children;if(t.add.artd){for(var s=!0,h=0;h<l.length;h++)null==l[h].i.add.artb&&(s=!1);s&&(o=l)}var u=new Fr(0,0,t.m,t.n),f=e[0];f=(f=f.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim()).split(" ");for(var c=[],h=0;h<f.length;h++){var p=f[h];if("-"==p)for(var d=c.pop(),v=parseInt(f[h+1]);d<v;)c.push(d),d++;else c.push(parseInt(p))}f=c;for(h=0;h<f.length;h++)(isNaN(f[h])||f[h]<1||f[h]>o.length)&&(f.splice(h,1),h--);for(var g,y,m,w,b,M,S,C,r=r/t.m,a=a/t.n,x=72*r/t.Mg,L=72*a/t.Mg,a=e[5],D=72*(a=null==a?0:a),k=72*a,h=0;h<o.length;h++)0!=f.length&&-1==f.indexOf(h+1)||(g=o[h],y=s?g.i.Gn():u,M=Math.round(y.m*x+2*D),b=Math.round(y.n*L+2*k),n.StartPage(0,0,M,b),m=UDOC.getState([[0,0,M,b]]),(w=new _r).translate(-y.x,-y.y-y.n),w.scale(x,-L),w.translate(D,k),!s||1!=(M=g.i.add.artb.artboardBackgroundType.v)&&3!=M&&(b=g.i.Ha(),M=y.x+y.m,S=y.y+y.n,m.colr=[(b>>>0&255)/255,(b>>>8&255)/255,(b>>>16&255)/255],m.pth={cmds:["M","L","L","L","Z"],crds:[y.x,y.y,M,y.y,M,S,y.x,S]},n.Fill(m)),e[2]?(S=t.y5(),u.iy(y)||(S=Rr.t(4*y.Z()),Rr.Ik(t.y5(),u,S,y)),100!=e[1]&&(C=ai.TN("JPG").D6([[S.buffer]],y.m,y.n,[e[1]]),S=new Uint8Array(C)),(C=new _r).translate(y.x,y.y),zn.O6(m,n,S,y,C,w)):zn.EZ(t,g,m,n,w,e,i),n.ShowPage());n.Done()},hv:function(t){return[(t=Rr.I.Na(t)).p/255,t.z/255,t.S/255]},EZ:function(t,e,n,i,r,a,s){var o,l=e.i,h=(l.add.lsct,l.add.lmfx),u=l.add.vmsk,f=l.add.vstk,c=l.add.TySh;if(l.SH()){var p=l.opacity/255,d=null!=l.add.iOpa?l.add.iOpa/255:1;n.bmode=Zn.hU(l.SD),n.ca=n.CA=p*d;var v=h;(v=(v=v&&v.solidFillMulti.v[0])&&v.v)&&!v.enab.v&&(v=null);var g=l.rect;if(l.Fi()&&(!l.dH()||l.St&&l.St.K2)){l.dH?(o=l.St.K2,g=l.St.acd):(o=Rr.t(l.rect.Z()),Rr.VW(l.buffer,o,3));var y=Xi.Ux(h,null,o,g,t,g).type,m=["DrSh","OrGl"];if(1!=d||f&&!f.fillEnabled.v){var w=o.slice(0);Rr.tU(w);for(var b=0;b<m.length;b++)for(var M=y[m[b]],S=0;S<M.length;S++){var C=M[S],x=C.HI.clone();x.x+=g.x,x.y+=g.y,Rr.WE(w,g,C.L0,x)}}}if(y&&zn.UL(l,o,g,y,n,i,r,a,!0),l.dH())for(b=0;b<e.children.length;b++)zn.EZ(t,e.children[b],n,i,r,a,s);else if(u&&l.D5()&&null==l.add.PtFl){var L=u.Y,p=Rr.$.b3(L),D=!1,d=!1,k=!1;f.fillEnabled.v&&(u=(T=Xi.Xb(h,l.add))[0],T=T[1],n.colr=zn.QC(u||T,r,p),D=!0);var T=Xi.n8(h);if((f=!f.strokeEnabled.v&&T?T:f).strokeEnabled.v){var h=f.strokeStyleContent.v,A=f.strokeStyleLineDashSet.v,T=Wi.XF.Qb.indexOf(f.strokeStyleLineAlignment.v.strokeStyleLineAlignment);n.COLR=zn.QC(h,r,p),n.lwidth=f.strokeStyleLineWidth.v.val*(2==T?2:1)*r.eZ(),n.mlimit=f.strokeStyleMiterLimit.v,n.doff=f.strokeStyleLineDashOffset.v.val,n.ljoin=Wi.XF.join.indexOf(f.strokeStyleLineJoinType.v.strokeStyleLineJoinType),n.lcap=Wi.XF.Sl.indexOf(f.strokeStyleLineCapType.v.strokeStyleLineCapType),n.dash=[];for(b=0;b<A.length;b++)n.dash.push(A[b].v.val*n.lwidth);1==n.dash.length&&0==n.dash[0]&&(n.dash=[]),d=!0,2==T&&(k=!0)}L=Rr.H.tR(L,d).gH;Rr.H.A(L.U,r,L.U),n.pth={cmds:L.C,crds:L.U},D&&!k&&i.Fill(n),d&&i.Stroke(n),D&&k&&i.Fill(n)}else if(c&&a[4]){var E=new nr(I=c.nx,s),L=er.cy(E,c),O=Rr.H.eN(L);for(V in O){var N=parseInt(V.slice(1),16);n.colr=v?zn.hv(v.Clr.v):[(N>>>16&255)/255,(N>>>8&255)/255,(255&N)/255];N=O[V];Rr.H.A(N.U,r,N.U),N=Rr.H.a5f(N),n.pth={cmds:N.C,crds:N.U},i.Fill(n)}}else if(c&&0==a[3]){var I=JSON.parse(JSON.stringify(c.nx));ir.atX(I);var P=c.A.clone(),F=new _r(1,0,0,-1,0,0);F.concat(P),F.concat(r);for(var _=ir.CP(I),E=new nr(I,s),b=0;b<E.eS.length;b++){var B=E.eS[b];if(1!=B.pw.length||!B.pw[0].no)for(S=0;S<B.JY.length;S++)for(var R=B.JY[S],U=B.yZ.y+R.yZ.y,j=B.pw[R.start].start,R=B.pw[R.end-1].end,H=ir.aqb(I,j,R),J=0;J<H.length;J++){var q=E.QJ(j),G=H[J],Z=ir.vK(I,j,j),z=Z.CV[Z.hy.Font].Name;n.font.Tf=z;var V=ir.Na(Z.hy.FillColor);n.colr=v?zn.hv(v.Clr.v):[V.p/255,V.z/255,V.S/255];var W=n.font.Tfs=Math.round(Z.hy.FontSize),z=_.slice(j,j+G);2==Z.hy.FontCaps&&(z=z.toUpperCase());var X=new _r;X.translate(q.Ni.x,-U),X.concat(F),n.ctm=[X.q4,X.S,X.yH,X.DR,X.E_,X.Qq],i.PutText(n,z,0);for(var Y,K,Q,$=0;$<2;$++)Z.hy[0==$?"Strikethrough":"Underline"]&&(Q=(Y=E.QJ(j+G-1)).Ni.x+Y.Ni.m-q.Ni.x,Rr.H.A(et=[0,Y=W*(K=0==$?.27:-.2),Q,Y,Q,K=W*(.07+K),0,K],X,et),n.pth={cmds:["M","L","L","L","Z"],crds:et},i.Fill(n));n.ctm=[1,0,0,1,0,0],j+=G}}}else if(!l.rect.mN()){var tt,et,D=!1,k=new _r,L=l.add.SoLd,c=!0;if(L&&(c=Rr.N.p0(qr.Q.Je(L.Trnf))),L&&c){P=L.Idnt.v,c=t.n1(P,L.Crop?L.Crop.v:null);if(null==c)return;var nt=c.y9,P=ai.Am(c.raw.buffer);-1!=a[6].indexOf(P)?(tt=c.raw,D=!0):tt=nt[0],nt=nt[1],k=Rr.N.g_(L)}else tt=l.buffer,nt=l.rect,k.translate(nt.x,nt.y);v&&!D&&(tt=Xi.ach(tt,v,nt)),zn.O6(n,i,tt,nt,k,r),v&&D&&(et=[0,0,nt.m,0,nt.m,nt.n,0,nt.n],Rr.H.A(et,k,et),Rr.H.A(et,r,et),(k=JSON.parse(JSON.stringify(n))).ca=v.Opct.v.val/100,k.pth={cmds:["M","L","L","L","Z"],crds:et},k.colr=zn.hv(v.Clr.v),i.Fill(k))}y&&zn.UL(l,o,g,y,n,i,r,a,!1)}},QC:function(t,e,n){if(t.Clr)return zn.hv(t.Clr.v);for(var i=t,r=!!i.Rvrs&&i.Rvrs.v,a=i.Type.v.GrdT,s=[],t="Rdl"==a||"Dmnd"==a?"rad":"lin",a=Rr.I.mu(i,n),n=e.iX(a[0]),a=e.iX(a[1]),a="rad"==t?[n.x,n.y,0,n.x,n.y,Pr.Tn(n,a)]:(n.R7(a.x+2*(n.x-a.x),a.y+2*(n.y-a.y)),[n.x,n.y,a.x,a.y]),o=i.Grad.v.Clrs.v,l=0;l<o.length;l++){var h=o[l].v,u=h.Lctn.v/4096;s.push([r?1-u:u,zn.hv(h.Clr.v)])}return r&&s.reverse(),{typ:t,mat:[1,0,0,1,0,0],grad:s,crds:a}},UL:function(t,e,n,i,r,a,s,o,l){var h=n.clone(),u=e;if(!t.add.TySh||o[3]||o[4]){for(var e=r.ca,o=r.bmode,f=Wi.order.length-1;0<=f;f--){var c=Wi.order[f];if("GrFl"!=c&&"SoFi"!=c&&(!t.add.vmsk||"FrFX"!=c)){var p=i[c],d=7<f||"FrFX"==c;if(d==l)for(var v=0;v<p.length;v++){var g=p[v];console.log(d,c,g);var y,m=(g=null==g.HI?g.Nu||g.rg:g).HI.clone();m.offset(h.x,h.y),d||(h.st(m)||(w=h.hq(m),y=Rr.t(w.Z()),Rr.rR(u,h,y,w),u=y,h=w),Rr.WE(u,h,g.L0,m)),d&&"FrFX"==c&&g.jj&&Rr.WE(g.jj,m,g.L0,m);var w=new _r;w.translate(m.x,m.y),r.ca=g.WS,r.bmode=Zn.hU(g.pW),zn.O6(r,a,g.L0,m,w,s)}}}r.ca=e,r.bmode=o}},O6:function(t,e,n,i,r,a){var s=new _r;s.scale(i.m,-i.n),s.translate(0,i.n),s.concat(r),s.concat(a),t.ctm=[s.q4,s.S,s.yH,s.DR,s.E_,s.Qq],e.PutImage(t,n,i.m,i.n),t.ctm=[1,0,0,1,0,0]}},Vn={M9:function(t){t=new Uint8Array(t);return Vn.qc(t,0)},qc:function(t,e){var n=ln.l,i=ln.fb,r={n4:i(t,e,4),r:e+8,size:n(t,e+4)},n="FORM"==r.n4||"LIST"==r.n4||"CAT "==r.n4;if(n&&(r.xP=i(t,e+8,4)),r.size<0||r.r+r.size>t.length)throw"e";if(n){r.sub=[],e+=12;for(var a=r.r+r.size;e<a;){var s=Vn.qc(t,e);r.sub.push(s),e+=8+s.size+(1&s.size)}}return r}},Wn={};function Xn(){}Wn.M9=function(t,e){t=new Uint8Array(t);return Wn.qc(t,0,e)},Wn.qc=function(t,e,n){var i=ln.UF,r=ln.fb,a={n4:r(t,e,4),r:e+8,size:i(t,e+4)};if(n&&null!=n[a.size]&&(a.size=n[a.size]),"RIFF"!=a.n4&&"LIST"!=a.n4||(a.xP=r(t,e+8,4)),a.size<0||a.r+a.size>t.length)throw"e";if("RIFF"==a.n4||"LIST"==a.n4&&"cmpr"!=a.xP&&"stlt"!=a.xP){a.sub=[],e+=12;for(var s=a.r+a.size;e<s;){var o=Wn.qc(t,e,n);a.sub.push(o),e+=8+o.size+(1&o.size)}}return a},Xn.M9=function(t,e){var n=new Uint8Array(t);if(e.O2=!0,"WL"==ln.fb(n,0,2))alert("Unsupported CDR version");else{var i=Xn.w5,r=Wn.M9(n.buffer),t={data:n,r:0,dw:Xn.apj(n[11])},n=300;if(t.uF=t.dw<600?16:32,Xn.Pe(t,r.sub,e,0),null==i(r,"cmpr"))o=s=i(r,"page");else{var a=i(r,"cmpr").sub,s=a[0],o=a.slice(1)[1],l=i(s,"filt").sub,h=i(s,"otlt").sub;s.yq={};for(var u=0;u<l.length;u++)s.yq[l[u].sub[0].k.id]=l[u].sub[0].k;s.cJ={};for(u=0;u<h.length;u++)s.cJ[h[u].k.id]=h[u].k}r=i(s,"mcfg").k.arB;n/=Un.cs(new Fr(0,0,Math.round(300*r.x),Math.round(300*r.y)),67108864);a=Math.round(r.x*n),i=Math.round(r.y*n);e.m=a,e.n=i,e.buffer=Rr.t(e.m*e.n*4);n=new _r(n,0,0,-n,r.x*n/2,r.y*n/2);Xn.EB(o,s,e,n),e.BD(1),e.g[e.g.length-1].fx(new Fr(0,0,a,i))}},Xn.w5=function(t,e){var n=null;if(null==t.sub)return n;for(var i=0;i<t.sub.length;i++){var r=t.sub[i];r.n4!=e&&r.xP!=e||(n=r)}return n},Xn.EB=function(t,e,n,i){var r=Xn.w5,a=t.xP||t.n4,s=r(t,"lgob"),o=r(t,"txsm");s?(u=r(s,"trfl"),v=r(s,"loda")):r(t,"lobj")&&(v=r(t,"lobj"));var l=u?u.sub[0].Cq.clone():new _r;l.concat(i);var h,u=n.rL();if("page"==a||"layr"==a||"grp "==a){u.Zu(("page"==a?"Page":"Group")+" "+n.g.length),u.add.lsct=Gi.pb,u.SD="pass",u.OW=24;var f=[];if("page"==a&&(f=r(t,"gobj").sub),"layr"==a&&(f=t.sub.slice(2)),0==(f="grp "==a?t.sub.slice(4):f).length)return;n.g.push(n.ne());for(var c=f.length-1;0<=c;c--)Xn.EB(f[c],e,n,i)}else if("obj "==a&&v.k&&v.k.path){u.Zu("Object "+n.g.length),e.yq&&(p=e.yq[v.k.ah8],h=e.cJ[v.k.aq0]);u.getName();r=p&&0!=p.type,t=r&&null!=p.k?p.k:[0,0,0];u.OW|=16,u.add.vstk=JSON.parse(JSON.stringify(Wi.XF.default));var p=u.add.vstk;p.strokeEnabled.v=!1,u.add.vmsk=new qi.g6,h&&1!=h.arl&&(p.strokeEnabled.v=!0,p.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter",p.strokeStyleLineWidth.v.val=h.lineWidth*i.eZ(),d=h.color,p.strokeStyleContent.v.Clr.v=Rr.I.wg({p:255*d[0],z:255*d[1],S:255*d[2]}));var d=v.k.path;u.add.vmsk.Y=Rr.H.z8(d,!1),Rr.$.yl(u.add.vmsk.Y,l),Zn.L3(t,u,l,Rr.$.b3(u.add.vmsk.Y)),p.fillEnabled.v=r,u.Ky(),u.fF(n)}else if("obj "==a&&o){var a=v.k.afT,v=v.k.abH,g="";u.add.TySh=ir.mb(0,0);l.eZ();u.add.TySh.A.translate(l.E_,l.Qq);for(var y=u.add.TySh.nx,m=o.k.aq4,c=0;c<m.length;c++){var w=m[c],b=g.length;g+=w.text+"\n",ir.RX(y,b,w.text+"\n");var M=Xn.a5C(w.agD,e),S=ir.vK(y,b,g.length);3==M.align?S.eS.Justification=1:S.eS.Justification=0;w=M.fill.k;S.hy.FillColor={Type:1,Values:[1,w[0],w[1],w[2]]},S.hy.FontSize=Math.round(M.abt.fontSize*l.eZ()),ir.xB(y,b,g.length-1,S)}v?ir.b8(y,0):(ir.b8(y,1),ir.NO(y,[0,0,Math.round(a.x*l.q4),Math.round(-a.y*l.DR)])),u.Zu(g.slice(0,10))}else u=null;u&&n.g.push(u)},Xn.a5C=function(t,e){var n=Xn.w5(e,"stlt").k,i=JSON.parse(JSON.stringify(n.It[t]));if(0!=i.MQ){var r,a=n.It[i.MQ];for(r in a)null!=i[r]&&0!=i[r]||(i[r]=a[r]);delete i.MQ}return i.align=n.ana[i.a0s],i.fill=e.yq[n.alP[i.aly]],i.a0A=e.cJ[n.aga[i.amb]],i.abt=n.amQ[i.a9b],i},Xn.abO=function(t){var e=t.data[t.r];return t.r+=1,e},Xn.dc=function(t){var e=ln.pG(t.data,t.r);return t.r+=2,e},Xn.ls=function(t){var e=ln.UF(t.data,t.r);return t.r+=4,e},Xn.a3W=function(t){var e=ln.UF(t.data,t.r);return t.r+=8,e},Xn.BO=function(t){var e=ln.FP(t.data,t.r);return t.r+=2,e},Xn.ha=function(t){var e=ln.ta(t.data,t.r);return t.r+=4,e},Xn.tG=function(t){var e=ln.kb(t.data,t.r);return t.r+=8,e},Xn.ZV=function(t){if(t.r>=t.data.length)throw"e";for(var e=0;0!=t.data[t.r+e];)e++;var n=ln.fb(t.data,t.r,e);return t.r+=e+1,n},Xn.amX=function(t){return t.dw<600?Math.PI*Xn.BO(t)/1800:Math.PI*Xn.ha(t)/18e7},Xn.a9A=function(t){return t.dw<1500?Xn.LN(t):Xn.tG(t)/254e3},Xn.LN=function(t){return t.dw<600?Xn.BO(t)/1e3:Xn.ha(t)/254e3},Xn.anU=function(t){return t.dw<600?Xn.dc(t):Xn.ls(t)},Xn.afL=function(t){return t.dw<600?CRDParser.BO(t):Xn.ha(t)},Xn.Pe=function(t,e,n,i){for(var r=Xn.abO,a=Xn.dc,s=Xn.ls,o=Xn.a3W,l=Xn.BO,h=Xn.ha,u=Xn.tG,f=Xn.LN,c=Xn.a9A,p=Xn.amX,d=Xn.anU,v=Xn.afL,g=0;g<e.length;g++){var y=t.dw,m=e[g];if(t.r=m.r+("LIST"==m.n4?4:0),"vrsn"==m.n4){var w=a(t);t.dw=w,console.log("Version",w),t.uF=w<600?16:32}else if("DISP"!=m.n4)if("LIST"==m.n4&&"cmpr"==m.xP){var b=s(t),M=(s(t),s(t),s(t),new Uint8Array(t.data.buffer,t.r+8+2,b-6-8)),S=pako.inflateRaw(M),C=0;t.r+=b;for(var M=new Uint8Array(t.data.buffer,t.r+8+2),x=pako.inflateRaw(M),L=[],D=0;D<x.length;D+=4)L.push(ln.UF(x,D));for(m.sub=[];C<S.length;){var k=Wn.qc(S,C,L),C=k.r+k.size;m.sub.push(k)}b={data:S,r:0,dw:y,uF:t.uF};Xn.Pe(b,m.sub,n,i+1)}else if("LIST"==m.n4&&"stlt"==m.xP){var T=t.r,M=32;if(m.k={},0==(Z=s(t)))return;m.k.alP=Xn.mI(t,1300<=y),m.k.aga=Xn.mI(t),m.k.amQ={};for(var A=s(t),E=0;E<A;E++){var O=s(t);t.r+=y<1e3?12:20;var N=a(t),I=a(t);t.r+=8;var P=f(t);t.r+=y<1e3?12:20,m.k.amQ[O]={auT:N,ac_:I,fontSize:P}}m.k.ana=Xn.mI(t);b=s(t);t.r+=52*b;b=s(t);t.r+=152*b;b=s(t);t.r+=784*b;for(var F=s(t),E=0;E<F;E++)t.r+=40,1300<y&&(t.r+=4),1300<=y?s(t)?t.r+=68:t.r+=12:(t.r+=20,1e3<=y&&(t.r+=8),s(t)&&(t.r+=8),t.r+=8);var _=s(t);m.k.a5r={};for(E=0;E<_;E++){var B=s(t),R={};t.r+=12,R.right=f(t),R.api=f(t),R.left=f(t),m.k.a5r[B]=R}b=s(t);1300<=y&&(M+=4),t.r+=M*b;b=s(t);t.r+=28*b,800<y&&(nt=s(t),t.r+=12*nt),m.k.It={};for(E=0;E<Z;E++){var U=s(t),j=s(t);(K={}).MQ=s(t),t.r+=8;var H=s(t);1200<=y&&(H*=2),t.r+=H,K.aly=s(t),K.amb=s(t),1<U&&(K.a9b=s(t),K.a0s=s(t),K.alW=s(t),K.ary=s(t),800<y&&(K.ajn=s(t))),2<U&&(K.a6X=s(t),K.am5=s(t),K.adp=s(t),K.a9M=s(t),K.al9=s(t)),m.k.It[j]=K}}else if("LIST"==m.n4)Xn.Pe(t,m.sub,n,i+1);else if("txsm"==m.n4){if(m.k={},y<600)throw"e";if(y<700)throw"e";if(1600<=y)throw"e";t.r+=1500<=y?37:36,s(t)&&y<800&&(t.r+=32),y<800&&(t.r+=4),m.k.abE=s(t),m.k.aq4=[],t.r+=48,800<=y&&s(t)&&(t.r+=32,1300<=y&&(t.r+=8)),1500<=y&&(t.r+=12);var J=1,q=!1;(U=s(t))||(800<=y&&(t.r+=4),800<y&&(t.r+=2),1400<=y&&(t.r+=2),t.r+=24,y<800&&(t.r+=8),J=s(t));for(D=0;D<J;D++){var G=s(t),E=0;1300<=y&&U&&t.r++,t.r++;var Z=s(t),z=[];for(E=0;E<Z;E++){var V=r(t),W=0;r(t);var X=r(t);800<=y&&(W=r(t));var Y,K={};if(1&X&&(K.auT=a(t),(Y=a(t))&&(K.atF=Y)),2&X&&(t.r+=4),4&X&&(K.a3g=f(t)),8&X&&(t.r+=4),16&X&&(t.r+=4),32&X&&(t.r+=4),64&X&&(K.aly=s(t),1500<=y&&(t.r+=48)),128&X&&(K.amb=s(t)),8&W)if(1300<=y){X=s(t);if(t.r+2*X>=t.data.length){q=!0;break}t.r+=2*X}else t.r+=4;32&W&&r(t)&&(t.r+=52),2==V&&1300<=y&&(t.r+=48),z.push(K)}if(q)break;var Q=s(t);if(t.r+4*Q>t.data.length)break;var $=[];for(E=0;E<Q;E++){var tt=0,tt=1200<=y?4294967295&o(t):s(t);$[E]=tt>>16|1&tt}1200<=y&&s(t);var et=Xn.ZV(t);m.k.aq4.push({agD:G,text:et,It:z})}}else if("font"==m.n4){var nt=a(t),it=a(t);t.r+=14;var rt=Xn.ZV(t);m.k={id:nt,a7y:it,name:rt}}else if(-1==["IKEY","ICMT","pfrd","bcfg"].indexOf(m.n4))if("flgs"==m.n4)m.k=s(t);else if("bbox"==m.n4){var at=f(t),st=f(t),ot=f(t),lt=f(t);m.k=new Fr(at,st,ot-at,lt-st)}else if("fild"==m.n4){var ht=s(t),ut=0;1300<=y&&(t.r+=4,ut=a(t),t.r+=2);var ft=a(t);if(0!=ft)if(1==ft)t.r+=1300<=y?13:2,Mt=Xn.oj(t);else if(2==ft){t.r+=1300<=y?8:2;var it=r(t),rt=(1300<=y?(t.r+=17,l(t)):600<=y?(t.r+=19,h(t)):(t.r+=11,l(t)),p(t)),ct=.5+v(t),pt=.5+v(t)-.5;600<=y&&(t.r+=2);d(t),r(t);t.r++;var dt=65535&d(t);1300<=y&&(t.r+=3);for(var vt=[],E=0;E<dt;E++){var gt=Xn.oj(t);1300<=y&&(t.r+=158==ut||1600<=y&&150==ut?26:5);var yt=d(t)/100;1300<=y&&(t.r+=3),vt.push([yt,gt])}Mt={typ:1==it?"lin":"rad",crds:[ct-Math.cos(rt)/2,pt-Math.sin(rt)/2,ct,pt],grad:vt,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",ft);m.k={id:ht,type:ft,k:Mt}}else if("outl"==m.n4){ct=s(t);if(1300<=y)for(var mt=0,wt=0;1!=mt;)t.r+=wt,mt=s(t),wt=s(t);pt=a(t),ht=a(t),ft=a(t);y<1300&&600<=y&&(t.r+=2);var bt=f(t);a(t);600<=y&&(t.r+=2);p(t);1300<=y?t.r+=46:600<=y&&(t.r+=52);var Mt=Xn.oj(t,270963208==ct||276198e3==ct,ct);m.k={id:ct,arl:pt,ajE:ht,acT:ft,lineWidth:bt,color:Mt}}else if("mcfg"==m.n4){1300<=y?t.r+=12:900<=y?t.r+=4:600<=y&&y<700&&(t.r+=28);var bt=0,St=0;St=y<400?(t.r+=2,at=f(t),st=f(t),ot=f(t),lt=f(t),bt=Math.abs(ot-at),Math.abs(lt-st)):(bt=f(t),f(t)),m.k={arB:new Pr(bt,St)}}else if("loda"==m.n4||"lobj"==m.n4){var T=t.r,Ct=(d(t),d(t)),xt=d(t),St=d(t),Lt=d(t),Dt=[],kt=[];t.r=T+xt;for(E=0;E<Ct;E++)Dt[E]=d(t);t.r=T+St;for(E=Ct-1;0<=E;E--)kt[E]=d(t);m.k={};for(E=0;E<Ct;E++){t.r=T+Dt[E];var Tt=kt[E];if(10==Tt)m.k.aq0=s(t);else if(20==Tt)m.k.ah8=s(t);else if(200==Tt)m.k.ar7=d(t);else if(30==Tt)if(y<400&&Lt--,1==Lt){var at=c(t),st=c(t),At=0,Et=0;if(!(y<1500))throw"e";Et=c(t),y<900||c(t),y<900||c(t),At=y<900?Et:c(t),m.k.path=Rr.H.x4(Rr.$.lO.Rect(0,0,at,st,At))}else 2==Lt?(Et=f(t),At=f(t),p(t),p(t),Et=Math.abs(Et),At=Math.abs(At),m.k.path=Rr.H.x4(Rr.$.lO._D(0,0,Et,-At))):3==Lt?m.k.path=Xn.ajj(t):4==Lt?m.k.abH=Xn.amv(t):6==Lt?m.k.afT=Xn.ahI(t):37==Lt?m.k.path=Xn.Sj(t):console.log(Lt)}}else if("trfd"==m.n4){T=t.r,Ct=(d(t),d(t)),xt=d(t);t.r=T+xt;for(Dt=[],E=0;E<Ct;E++)Dt[E]=d(t);for(E=0;E<Ct;E++){t.r=T+Dt[E],1300<=y&&(t.r+=8);var Ot,Nt,It,Pt,Ft=a(t);if(8==Ft){if(600<=y&&(t.r+=6),!(500<=y))throw"e";Ot=u(t),Nt=u(t),at=u(t)/(y<600?1e3:254e3),It=u(t),Pt=u(t),st=u(t)/(y<600?1e3:254e3),m.Cq=new _r(Ot,It,Nt,Pt,at,st)}else console.log(Ft)}}else;}},Xn.mI=function(t,e){for(var n=Xn.ls,i={},r=n(t),a=0;a<r;a++){var s=n(t);t.r+=4;var o=n(t);i[s]=o,e&&(t.r+=48)}return i},Xn.amv=function(t){var e=Xn.LN;return new Pr(e(t),e(t))},Xn.ahI=function(t){var e=Xn.LN;return t.r+=4,new Pr(e(t),e(t))},Xn.Sj=function(t){Xn.ls;var e=Xn.dc;Xn.LN;t.r+=4;e=e(t)+e(t);return t.r+=16,Xn.ra(t,e)},Xn.ajj=function(t){var e=Xn.dc(t);return t.r+=2,Xn.ra(t,e)},Xn.ra=function(t,e){for(var n=Xn.LN,i=t.dw<600?2:4,r=t.r,a={U:[],C:[]},s=0,o=0;o<e;o++){var l=n(t),h=n(t),u=t.data[r+e*i*2+o];64&u||128&u?64&u&&!(128&u)?(a.U.push(l,h),a.C.push("L"),s+=2):!(64&u)&&128&u?(a.U.push(l,h),a.C.push("C"),s+=6):64&u&&128&u&&a.U.push(l,h):(a.U.push(l,h),a.C.push("M"),s+=2)}if(s!=a.U.length)throw"e";return a},Xn.a1e=function(t,e){var n=ln.UF,i=n(t,e+=8),r=n(t,e+=4);e+=4;var a=e+=28,s=Rr.t(i*r*4);e+=1024;for(var o=0;o<r;o++)for(var l=0;l<i;l++){var h=t[e+(o*i+l)]<<2,u=(r-o-1)*i+l<<2;s[u]=t[a+h+2],s[1+u]=t[a+h+1],s[2+u]=t[a+h+0],s[3+u]=255}return{L0:s,rect:new Fr(0,0,i,r)}},Xn.apj=function(t){return 32==t?300:t<49?0:t<58?100*(t-48):t<65?0:100*(t-55)},Xn.oj=function(t,e,n){var i=Xn.dc,r=Xn.ls,a=t.dw,s=0,o=0;if(!(500<=a))throw"e";if(25==(s=1==(s=i(t))&&1300<=a?25:s)||30==s){30==s?(s=25,0):(i(t),t.r+=4);i(t),i(t)}else{if(14==s)throw"e";t.r+=6,o=r(t)}var l=[];if(2==s||9==s||17==s){var h=[o>>>0&255,o>>>8&255,o>>>16&255,o>>>24&255];if(2==s)for(var u=0;u<4;u++)h[u]=Math.round(255*h[u]/100);for(u=0;u<4;u++)h[u]/=255;l=UDOC.C.cmykToRgb(h)}else if(1==s||5==s)for(l=[o>>>0&255,o>>>8&255,o>>>16&255],u=0;u<3;u++)l[u]=l[u]/255;else console.log("Unknown color model "+s,o,o.toString(16));return l};var Yn=($n=new ArrayBuffer(4),ti=new Uint8Array($n),ei=new Uint32Array($n),ni=new Float32Array($n),{arY:function(t){Kn=t,Qn=1;for(var e=[];Qn<t.length;){e.length;var n=li(t,Qn);Qn+=n.length+1;var i=oi();if(2<i)throw"e";for(var r=oi(),a=[],s=0;s<r;s++){var o=li(t,Qn);Qn+=o.length+1;var l=oi(),h=oi(),u=oi();a.push(0==i?o:[u,h,l,o])}e.push([["enum","strc","mesg"][i],n,a])}return e},ahb:function t(e,n,i,r,a){Kn=e,Qn=n;for(var s="mesg"==r[0],o=r[2],l={},h=1,u=s?1e9:o.length;h<=u;){var f=h;if(s&&0==(f=oi()))break;var c=function(t,e){for(var n=0;n<t.length;n++)if(t[n][0]==e)return t[n]}(o,f),p=c[2],d=(f=1==c[1])?oi():1,v=new Array(d);if(3==p){if(!f)throw"e";v=Kn.slice(Qn,Qn+d),Qn+=d}else for(var g=0;g<d;g++){if(1==(1&p))if(1==p)m=1==Kn[Qn++];else if(3==p)m=Kn[Qn++];else if(5==p)var y=oi(),m=1&y?~(y>>>1):y>>>1;else if(7==p)m=oi();else if(9==p)0==Kn[Qn]?(m=0,Qn++):(ti[0]=Kn[Qn],ti[1]=Kn[Qn+1],ti[2]=Kn[Qn+2],ti[3]=Kn[Qn+3],b=ei[0],ei[0]=b<<23|b>>>9,m=ni[0],Qn+=4);else{if(11!=p)throw p;var w=function(t,e){for(var n=e;0!=t[n];)n++;return[ln.cP(t,e,n-e),n-e]}(Kn,Qn);m=w[0],Qn+=w[1]+1}else{var b=i[p>>>1];if("enum"==b[0]){if(127<(w=Kn[Qn++]))throw"e";m=b[2][w]}else b=t(Kn,Qn,i,b,a+1),m=b[0],Qn=b[1]}v[g]=m}l[c[3]]=f?v:v[0],h++}return[l,Qn]}}),Kn,Qn,$n,ti,ei,ni,si;function oi(){for(var t,e=0,n=0;e|=(127&(t=Kn[Qn++]))<<n,n+=7,128&t&&n<35;);return e>>>0}function li(t,e){for(var n=e;0!=t[n];)n++;for(var i=e;i<n;i++)if(127<t[i])throw"e";return ln.fb(t,e,n-e)}function hi(){}function ui(){}function fi(t,e){var n=ci(t).slice(1);(t=e.Clr.v).Rd.v=255*n[0],t.Grn.v=255*n[1],t.Bl.v=255*n[2]}function ci(t){return[(t>>>24&255)/255,(t>>>16&255)/255,(t>>>8&255)/255,(t>>>0&255)/255]}function pi(t,e){for(var n,i,r=t.TSZ,a=t.WPX,s=t.HPX,o=t.TIL,l=new Fr(0,0,a,s),h=Rr.t(a*s*4),u=0,f=0;f<s;f+=r)for(var c=0;c<a;c+=r){var p,d=new Fr(c,f,r,r),v=o[u];"TMC"==v[0]?(p=Rr.t(4*d.Z()),n=p,i=4278190080&(i=v[1])|(255&i)<<16|(i>>>8&255)<<8|i>>>16&255,new Uint32Array(n.buffer).fill(i)):"TID"==v[0]&&(p=e[v[1]]),Rr.Ik(p,d,h,l),u++}return[h,l]}function di(t,e,n){e=t[e];return e instanceof Array?e[n]:e}function vi(t,e,n){if(null!=e.PBL){var i=t.add.vmsk=new qi.g6,r=(t.add.vstk=JSON.parse(JSON.stringify(Wi.XF.default)),e.PBL.PBP);r instanceof Array||(r=[r]);for(var a=0;a<r.length;a++){var s=r[a].PBT;if(null!=s){s instanceof Array||(s=[s]);var o=r[a].ISC?0:3;i.Y.push({type:o,length:s.length,Gw:0,aD:2,QL:0,Bt:0});for(var l=0;l<s.length;l++){for(var h=s[l],u=h.XLC,f=h.YLC,c=[u,f,u,f,u,f],p="XPC YPC XLC YLC XSC YSC".split(" "),d=0;d<6;d++){var v=h[p[d]];null!=v&&(c[d]=v)}i.Y.push({type:2+o,B:new Pr(u,f),Sm:new Pr(c[0],c[1]),Pv:new Pr(c[4],c[5])})}}}Rr.$.yl(i.Y,n),t.Ky()}}function gi(t,e){for(var n=JSON.parse(Wi.default),i=0;i<Wi.order.length;i++)n[Wi.Th[i]]={t:"VlLs",v:[]};if(null==t)return n;var r=t.EPS;r instanceof Array||(r=[r]);for(i=0;i<r.length;i++){for(var a,s,o,l,h,u=r[i].DCE,f={},c=0;c<u.length;c++)f[u[c].DCK]=u[c].DCV;"false"!=f.EffectIsVisible&&("Gaussian Blur..."==(s=f.mkbFile_WriteOnly_TemporaryEffectUiName)&&e?e.Df+=parseFloat(f.gaussian_blur_radius):-1!=(o=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(s))&&(s=Wi.Th[Wi.order.indexOf(a=["DrSh","ebbl","IrGl","OrGl"][o])],o=JSON.parse(Wi.xs[Wi.order.indexOf(a)]),n[s].v.unshift({t:"Objc",v:o}),"DrSh"==a&&(o.uglg.v=!1,yi(f,"ShadowDistance",o,"Dstn"),yi(f,"ShadowBlur",o,"blur"),yi(f,"ShadowAngle",o,"lagl",180),o.Opct.v.val=100,mi(f,"ShadowColor",o,"Clr")),"IrGl"==a&&(o.Md.v.BlnM="Nrml",l=f.MaskSoftness,h=f.GlowWidth,l&&h&&(l=parseInt(l),h=parseInt(h),o.blur.v.val=h+l,o.Ckmt.v.val=Math.round(100*h/(h+l))),yi(f,"BevelContrast",o,"Opct"),mi(f,"OuterBevelColor",o,"Clr")),"OrGl"==a&&(o.Md.v.BlnM="Nrml",l=f.MaskSoftness,h=f.GlowWidth,l&&h&&(l=parseInt(l),h=parseInt(h),o.blur.v.val=h+l),yi(f,"BevelContrast",o,"Opct"),mi(f,"OuterBevelColor",o,"Clr")),"ebbl"==a&&(o.uglg.v=!1,yi(f,"BevelWidth",o,"blur"),yi(f,"AngleSoftness",o,"Sftn"),yi(f,"BevelContrast",o,"srgR"),yi(f,"LightAngle",o,"lagl"))))}return n}function yi(t,e,n,i,r){e=t[e];null==r&&(r=0),e&&(n[i].v.val=parseInt(e)+r)}function mi(t,e,n,i){e=t[e];if(e){if(6==(e=e.slice(1)).length&&(e+="ff"),8!=e.length)throw"e";e=ci(parseInt(e,16)),i=n[i].v;i.Rd.v=255*e[0],i.Grn.v=255*e[1],i.Bl.v=255*e[2],n.Opct.v.val=Math.round(n.Opct.v.val/100*e[3]*100)}}function wi(){}function bi(t,e,n){for(var i=UDOC.G,r=[],a=[],s="/DeviceGray",o=[],l=1,h=0;h<t.length;h++){var u=t[h];if(u.endsWith(" /CS")){var f=u.indexOf("/NChannel"),c=u.indexOf("/Process");if(u.startsWith("/DeviceRGB"))s="/DeviceRGB",p=3;else if(u.startsWith("/DeviceGray"))s="/DeviceGray",p=1;else if(u.startsWith("/DeviceCMYK"))s="/DeviceCMYK",p=4,o=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];else if(-1!=f)for(var s="/DeviceCMYK",p=parseInt(u.slice(f-2,f-1)),d=1,v=0;v<p;v++)d=u.indexOf("[",d),o[p-1-v]=u.slice(d+1,d+8).split(" ").map(parseFloat),d++;else{if(!c)throw u;s="/DeviceGray",p=1}}else if("["==u[0]){var f=u.indexOf("]"),g=u.slice(1,f).split(" ").map(parseFloat),c=u.slice(f+2);if("/Size"!=c&&"/P"!=c&&"/R"!=c){if("/S"==c||"/A"==c)I=g[0],P=g[1],A=g[2],E=g[3],O=g[4],N=g[5];else{if("/N"!=c)throw c;var y,f=p+(1==l?0:1);if(I=g[f+0],P=g[f+1],A=g[f+2],E=g[f+3],O=g[f+5],N=g[f+6],"/DeviceRGB"==s)y=g.slice(0,3);else if("/DeviceGray"==s)y=[g[0],g[0],g[0]];else{if("/DeviceCMYK"!=s)throw y;for(var m=[0,0,0,0],v=0;v<p;v++){var w=g[v],b=o[v];m[0]+=w*b[0],m[1]+=w*b[1],m[2]+=w*b[2],m[3]+=w*b[3]}y=Di(m)}y.push(g[p]),a.push([y,I,P])}r.push([c,O,N,I,P,A,E])}}else if("/E"==u){for(var M=r.slice(0),S=0,v=0;v<r.length;v++)if("/N"!=r[v][0]){for(var C=v,x=v+1;"/N"!=r[x][0]&&x<r.length;)x++;if(0==S||3==S)for(var L=0;L<x-C;L++)M[C+L]=r[x-1-L];else for(L=C;L<x;L++){var D=(k=M[L])[1];k[1]=k[5],k[5]=D,D=k[2],k[2]=k[6],k[6]=D}v=x-1}else S++;for(r=[],v=0;v<M.length;v++){var k=M[v];r.push(k[1],k[2],k[3],k[4],k[5],k[6])}var T=r.length;i.moveTo(e,r[2],r[3]);for(v=0;v<T;v+=6){var A=r[(v+4)%T],E=r[(v+5)%T],O=r[(v+6)%T],N=r[(v+7)%T],I=r[(v+8)%T],P=r[(v+9)%T];i.curveTo(e,A,E,O,N,I,P)}i.closePath(e),r=[]}else u.endsWith("/Version")&&(l=parseFloat(u[0]))}var F=n.rL();if(F.OW|=16,F.Zu("<Mesh>"),(F.add.vstk=JSON.parse(JSON.stringify(Wi.XF.default))).strokeEnabled.v=!1,2<=a.length){for(var _=0,B=0,R=0,v=0;v<a.length;v++)for(L=v+1;L<a.length;L++){var U=a[v][0],j=a[L][0],H=U[0]-j[0],J=U[1]-j[1],j=U[2]-j[2],j=Math.sqrt(H*H+J*J+j*j);R<j&&(R=j,_=v,B=L)}var q=a[_],G=a[B],Z=F.add.GdFl=Mi(0,[[0,q[0]],[1,G[0]]]),z=Li(e.ctm),q=z.iX(new Pr(q[1],q[2])),z=z.iX(new Pr(G[1],G[2])),G=Rr.H.UP(e.pth.crds);q.x=(q.x+z.x)/2,q.y=(q.y+z.y)/2,Rr.I.Ye(q,z,G,Z)}ki(F,e.pth,n),n.g.push(F),i.newPath(e)}function Mi(t,e){var n=JSON.parse(Wi.xs[Wi.order.indexOf("GrFl")]),i=n.Grad.v;return i.Intr.v=0,n.Type.v.GrdT=["Lnr","Rdl"][t],Rr.I.MW(e,i),n}function Si(t){return t.slice(t.indexOf("(")+1,t.indexOf(")"))}function Ci(t,e){t.Rd.v=255*e[0],t.Grn.v=255*e[1],t.Bl.v=255*e[2]}function xi(t){for(var e=[],n=0;n<t.length;n++)e[n]=parseFloat(t[n].slice(1));return e}function Li(t){return new _r(t[0],t[1],t[2],t[3],t[4],t[5])}function Di(t){return UDOC.C.cmykToRgb(t)}function ki(t,e,n){t.add.vmsk=new qi.g6,0!=e.crds.length&&(t.add.vmsk.Y=function(t){t={U:t.crds,C:t.cmds};return Rr.H.z8(t,!1)}(e)),t.Ky(),t.fF(n)}function Ti(t,e){var n=[e._begin],i=e._end-e._begin,r=e.Raster,a=0;if(r)for(var s=0;s<r.length;s++){var o=r[s].Data;if(null==o)break;var l=o._begin+32,o=o._end;o<l&&(l=o),n.push(l,o),i-=o-l}n.push(e._end);for(var h=new Uint8Array(i),s=0;s<n.length;s+=2){var l=n[s],u=n[s+1]-l;h.set(new Uint8Array(t.buffer,l,u),a),a+=u}return ln.cP(h).split(/\r\n|\r|\n/)}function Ai(t,e){if(null==t)return[];for(var n,i=Ti(e,t),r="",a="",s=0,o=2;o<i.length;o++){var l=i[o];"%"==l[0]?0==s?r+=l.slice(1):a+=l.slice(1):";"==l?s++:l.endsWith("/RulerOrigin ,")&&(n=l.split(" ").slice(0,2).map(parseFloat))}for(var h=[r,a],u=[],o=0;o<2;o++){var f=h[o],c=new Uint8Array(f.length);ln.zW(c,0,f);c=FromPS.F.ASCII85Decode({buff:c,off:0}),c=on.M9(c);u.push(c)}return u.push(n),u}function Ei(t,e){if(null==t)return[];for(var n=(n=Ti(e,t)).slice(1),i=0;i<n.length;i++){var r=n[i];"%"==r[0]&&(n[i]=r.slice("_"==r[1]?2:1))}return Oi(n)}function Oi(t){for(var e,n=[],i=[],r=-1,a=null,s=null,o=0,l=0;l<t.length;l++){var h=t[l];e&&(h=e+h,e=null);var u;"\t".repeat(n.length);if(null!=a)a.push(h),h.endsWith("~>")&&(d=ln.u3(a.join("")),d=FromPS.F.ASCII85Decode({off:0,buff:d}),n.push(d),i.push(!1),r++,a=null);else if(null!=s)"X+"==h?1==o?(n.push(s),i.push(!1),r++,s=null):o--:"X="==h?o++:s.push(h);else if("/Binary : /ASCII85Decode ,"==h)a=[];else if("X="==h)s=[],o++;else if("/SVGFilter :"!=h&&"; /Def ;"!=h)if(h.startsWith("/")&&h[1].toUpperCase()!=h[1].toLowerCase()){if(h.startsWith("/XMLUID")){var f=Ni(h);if(i[r])throw"e";n[r][f[4]]=f[2]}if(h.startsWith("/GObjRef")){var f=Ni(h);if(!i[r])throw"e";n[r].push(f[2])}else{var c=h.startsWith("/Array")||h.startsWith("/Document");n.push(c?[]:{}),i.push(c),r++}}else if(h.endsWith(",")){if((f=Ni(h)).pop(),";"==f[0]||1==f.length)u=n.pop(),i.pop(),p=i[--r]?null:f.pop();else{var p=i[r]?null:f.pop(),d=f.pop(),c=f[0];if("/Int"==d)u=parseInt(c);else if("/Real"==d)u=parseFloat(c);else if("/Bool"==d)u="1"==c;else if("/String"==d||"/UnicodeString"==d)u=f.join("");else{if("/RealMatrix"!=d&&"/RealPoint"!=d&&"/RealPointRelToROrigin"!=d)throw d;u=f.map(parseFloat)}}i[r]?n[r].push(u):n[r][p]=u}else if(";"!=h&&""!=h){if(-1==h.indexOf("/RealPoint")&&!(h.startsWith("(")&&h.endsWith(")")||h.endsWith("/RealMatrix")))throw h;e=e?e+h:h}}return n}function Ni(t){for(var e=0,n=[];e<t.length;){var i=t[e],r=i.charCodeAt(0);if(" "==i)e++;else if(","==i||";"==i||":"==i)n.push(i),e++;else if("("==i){for(var a=e+1;")"!=t[a]||"\\"==t[a-1];)a++;var s=t.slice(e+1,a);n.push(s),e=a+1}else{if(!("/"==i||"-"==i||48<=r&&r<=57))throw i;for(a=e;" "!=t[a];)a++;n.push(t.slice(e,a)),e=a}}return n}function Ii(t){for(var e,n="",i=0;i<t.length;i++)"_"==t[i]&&"x"==t[i+1]?(e=parseInt(t.slice(i+2,i+4),16),n+=String.fromCharCode(e),i+=4):"_"==t[i]?n+=" ":n+=t[i];return n}hi.M9=function(t,e){var n=new Uint8Array(t),i=8,r=(ln.UF(n,i),0),a=0;i+=4;for(var s=[];i<n.length;){var o=ln.UF(n,i);i+=4;var l=n.slice(i,i+o);137==n[i]&&80==n[i+1]||(l=UZIP.inflateRaw(l)),s.push(l),i+=o}for(var h=Yn.arY(s[0]),u=0;u<h.length;u++)"Message"==h[u][1]&&(r=u);for(var f=Yn.ahb(s[1],0,h,h[r],0)[0],c={ZP:{},xS:{},a6Q:{}},p=f.nodeChanges,d=0;d<p.length;d++){var v=(g=p[d]).guid;c.xS[v.sessionID+","+v.localID]=g}for(var g,y,d=0;d<p.length;d++)(v=(g=p[d]).parentIndex)&&(null==(y=hi.Yd(c.xS,v.guid)).children&&(y.children=[]),y.children.push(g));for(var m=p[0].children,w=new Fr,b=[],M=[],v=0;v<m.length;v++){var S=(A=m[v]).children;if("Internal Only Canvas"!=A.name&&null!=S){for(var C=new Fr,u=0;u<S.length;u++){var x=(O=S[u]).transform,L=O.size;1==x.m00&&0==x.m10&&0==x.m01&&1==x.m11&&(L=new Fr(x.m02,x.m12,L.x,L.y),C=C.hq(L))}var D=0==w.n?0:w.n+100,k=C.clone();k.x=0,k.y=D,w=w.hq(k),b[v]=C,M[v]=D}}var T=Un.cs(new Fr(0,0,w.m,w.n),67108864);e.m=Math.round(w.m/T),e.n=Math.round(w.n/T),e.buffer=Rr.t(e.m*e.n*4);for(v=0;v<m.length;v++){var A,S=(A=m[v]).children;if("Internal Only Canvas"!=A.name&&null!=S){S.sort(hi.lh);var E=new _r(1,0,0,1,-b[v].x,M[v]-b[v].y);E.scale(1/T,1/T);for(u=0;u<S.length;u++){var O=S[u];hi.EB(O,[],E,f.blobs,e,0,c),a++}}}e.BD(a),e.O2=!0,1!=T&&alert("File scaled down "+T+"x")},hi.EB=function(t,e,n,i,r,a,s){for(var o,l=hi,h=!1,u=0;u<e.length;u++){var f=e[u],c=f.guidPath.guids[0];if(l.al0(c,t.guid)){var p,d={};for(p in t)d[p]=(null!=f[p]?f:t)[p];t=d}}var v=t.type,g=t.children,y=t.size,m=t.effects;(E=r.rL()).Zu(t.name),E.I9(t.visible),E.opacity=Math.round(255*t.opacity);var w=l.Xm(t.transform).clone();w.concat(n);var b=new Fr(Math.round(w.E_),Math.round(w.Qq),Math.round(y.x*w.eZ()),Math.round(y.y*w.eZ()));0!=b.m&&!isNaN(b.m)||(b.m=100),0!=b.n&&!isNaN(b.n)||(b.n=100);var M=t.fillPaints,S=t.inheritFillStyleID;S&&(d=l.Yd(s.xS,S))&&(M=d.fillPaints);var n=(M=l.NC(M=null==M?[]:M))[0],C=t.strokePaints;(S=t.inheritFillStyleIDForStroke)&&(d=l.Yd(s.xS,S))&&(C=d.fillPaints);var x,L,D,C=l.NC(C=null==C?[]:C),S=-1!="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(v);if(S||"FRAME"==v){o=new qi.g6,l.Q3(t,i,o,at=[]),h=Rr.$.IE(o.Y),Rr.$.yl(o.Y,w);var k=Rr.H.dP(Rr.$.b3(o.Y));if(k.mN()||(b=k),s.ZP.ue&&n){for(var T=qi.g6.nk(s.ZP.ue.Y),u=2;u<T.length;u++)null!=T[u].Gw&&(T[u].Gw=3);o.Y=o.Y.concat(T.slice(2)),at=at.concat(JSON.parse(JSON.stringify(s.ZP.UY)))}}if(n&&"IMAGE"==n.type&&(x=n.imageScaleMode,k=(L=l.y5(i,n.image.dataBlob)).Tl.m/L.Tl.n,D=y.x/y.y,D=Math.abs(k-D)),"FRAME"!=v)if(S&&h&&L&&("FIT"==x||"FILL"==x&&D<=.05)){var A=i[n.image.dataBlob].bytes,A=r.Rp(A,E.getName(),0,0);A.OW=E.OW,A.opacity=E.opacity;var E=A,A=new Fr(0,0,y.x,y.y);"FIT"==x&&(B=L.Tl.m,O=L.Tl.n,P=Math.min(y.x/B,y.y/O),A=new Fr(A.x+(A.m-(_=B*P))/2,A.y+(A.n-(B=O*P))/2,_,B));var O=Rr.H.UQ(A).U;Rr.H.A(O,w,O),E.add.SoLd.Trnf=qr.Q.mk(O),E.add.SoLd.nonAffineTransform=qr.Q.mk(O);var N,I=[],m=t.effects,P=n.paintFilter;if(m)for(u=0;u<m.length;u++)"FOREGROUND_BLUR"==m[u].type&&(ot=m[u],N=Gr.Ci("GsnB",{}),I.push(N),N.v.enab.v=ot.visible,N.v.Fltr.v.Rds.v.val=ot.radius/2.4);P&&0!=P.exposure&&(N=Gr.Ci("brit",{}),I.push(N),N.v.Fltr.v.Brgh.v=Math.round(160*P.exposure),N.v.Fltr.v.useLegacy.v=!0),P&&0!=P.vibrance&&(N=Gr.Ci("vibA",{}),I.push(N),console.log(N),N.v.Fltr.v.Strt.v=Math.round(Math.round(100*P.vibrance))),0!=I.length&&(E.add.SoLd.filterFX=Gr.lI(),r.lQ({id:E.add.SoLd.placed.v,rect:new Fr,buffer:Rr.t(1),q:new qi.vi}),E.add.SoLd.filterFX.v.filterFXList.v=I),E.jM(r,!1),l.wu(s,E,r)}else if(S){if(l.wA(E,at,o,t,n,C,w,b,i,r,s),m)for(u=0;u<m.length;u++)"FOREGROUND_BLUR"==(ot=m[u]).type&&(o.Df=ot.radius/2.4);E.fF(r)}else if("TEXT"==v){var F=t.textData,_=F.layoutSize,B=["LEFT","RIGHT","CENTER"].indexOf(t.textAlignHorizontal);E.add.lnsr="rend",E.add.TySh=ir.mb(0,0),E.add.TySh.qK=new Fr(0,0,100,100);A=w.clone();E.add.TySh.A=A;var R=E.add.TySh.nx,U=F.characters;if("TITLE"==t.textCase)for(var j,H,u=0;u<U.length;u++)0!=u&&" "!=U[u-1]||(j=U.slice(0,u),H=U.slice(u+1),U=j+U[u].toUpperCase()+H);U=(U=(U=U.replace(/\u2028/g,"\n")).replace(/\u2029/g,"\n")).replace(/\r\n/g," \n"),ir.RX(R,0,U);O=t.textAutoResize,P=F.baselines;if("WIDTH_AND_HEIGHT"==O){var J=0==B?0:1==B?_.x:_.x/2,q=P?P[0].position.y:0;A.translate(J*w.eZ(),q*w.eZ()),ir.b8(R,0)}else{if("HEIGHT"!=O&&"NONE"!=O&&null!=O)throw O;q=P?P[0].position.y-.7*t.fontSize:0;A.translate(0,q*w.eZ()),ir.b8(R,1),ir.NO(R,[0,0,Math.round(_.x),Math.round(("NONE"==O?1.8:1)*_.y)])}if(""!=U){var G=ir.vK(R,0,1);l.m6(t,w,y,G,E,i,r,s),ir.xB(R,0,U.length,G);var Z=F.characterStyleIDs,z=F.styleOverrideTable;if(Z){for(Z=Z.slice(0),u=0;u<Z.length;u++)"\n"==U[u]&&(Z[u]=-u-1);for(var V=[0],W=0,u=0;u<Z.length;u++){W++;var X=Z[u];0==u||X==Z[u-1]||(V.push(W-1,u),W=1)}V.push(W);for(u=0;u<V.length;u+=2){var Y=V[u],K=V[u+1];if("\n"!=U[Y])if(0!=(X=Z[Y])){for(var Q,$=0;$<z.length;$++)z[$].styleID==X&&(Q=z[$]);G=ir.vK(R,Y,Y+1);l.m6(Q,w,y,G,E,i,r,s),ir.xB(R,Y,Y+K-1,G)}}}}}else if("SYMBOL"!=v)if("INSTANCE"==v){var tt=t.symbolData,et=tt.symbolOverrides;(d=l.Yd(s.xS,tt.symbolID))?g=d.children:console.log(t.name,"symbol not found",tt.symbolID),e=e.slice(0);for(u=0;u<et.length;u++)e.push(et[u])}else console.log(v);if(0,g&&!S){r.g.push(r.ne());F=!1,tt=0==a&&"SYMBOL"!=v&&"INSTANCE"!=v;tt&&(b.mN()&&console.log(b),E.fx(b)),n=M[M.length-1],tt&&n&&"SOLID"==n.type?(tt=n.color,E.add.artb.artboardBackgroundType.v=4,E.add.artb.Clr=l.oj(tt)):(n||C[0])&&o&&((nt=r.rL()).Zu("Background"),l.wA(nt,at,o,t,n,C,w,b,i,r,s),nt.fF(r),r.g.push(nt),F=!0),g.sort(l.lh);var nt=s.ZP;s.ZP={};for(var it=0;it<g.length;it++)l.EB(g[it],e,w,i,r,a+1,s);s.ZP=nt,E.add.lsct=Gi.jT,E.SD="pass";nt=E.SH();E.OW=24,E.I9(nt);nt=0!=a&&0!=M.length&&!t.frameMaskDisabled&&t.containerSupportsFillStrokeAndCorners;!F&&nt&&o?(E.add.vmsk=o,E.add.vogk=at,E.fF(r)):l.wu(s,E,r),r.g.push(E)}else if(t.mask)o&&(s.ZP.ue=o,s.ZP.UY=at);else{var rt=[],at=1;if(m)for(var st=0;st<m.length;st++){var ot,lt=(ot=m[st]).color,ht=ot.type,ht=["DROP_SHADOW","INNER_SHADOW"].indexOf(ht);-1!=ht&&(dt=["DrSh","IrSh"][ht],ct=JSON.parse(Wi.xs[Wi.order.indexOf(dt)]),rt.push([dt,ct]),ct.enab.v=ot.visible,ct.Md.v.BlnM=Ji.S8(l.aoD(ot.blendMode)),ct.Opct.v.val=Math.round(100*lt.a),ct.blur.v.val=Math.round(ot.radius*w.eZ()),ct.Clr=l.oj(lt),J=ot.offset.x,q=ot.offset.y,ct.uglg.v=!1,ct.lagl.v.val=Math.round(180/Math.PI*Math.atan2(q,-J)),ct.Dstn.v.val=Math.round(Math.sqrt(J*J+q*q)*w.eZ()))}for(u=at="TEXT"==v&&M[0]&&"SOLID"!=M[0].type?0:at;u<M.length;u++){var ut=M[u];if("GdFl"==(ft=l.NX(t,ut,w,b,i,r,s))[0])rt.push(["GrFl",ft[1]]);else if("SoCo"==ft[0])rt.push(["SoFi",ft[1]]);else{if("PtFl"!=ft[0])throw ft;rt.push(["patternFill",ft[1]])}}if(!S)for(u=0;u<C.length;u++){var ft,ct,ut=C[u];"SoCo"==(ft=l.NX(t,ut,w,b,i,r,s))[0]&&(ct=JSON.parse(Wi.xs[Wi.order.indexOf("FrFX")]),rt.push(["FrFX",ct]),ct.enab=ft[1].enab,ct.Opct=ft[1].Opct,ct.Md=ft[1].Md,ct.Clr=ft[1].Clr,ct.Sz.v.val=t.strokeWeight)}if(0!=rt.length){for(var pt=JSON.parse(Wi.default),u=0;u<Wi.order.length;u++)pt[Wi.Th[u]]={t:"VlLs",v:[]};for(u=0;u<rt.length;u++){var dt,vt=rt[u];pt[dt=Wi.Th[Wi.order.indexOf(vt[0])]].v.unshift({t:"Objc",v:vt[1]})}null==g&&(E.add.lmfx=pt)}r.g.push(E)}},hi.wA=function(t,e,n,i,r,a,s,o,l,h,u){var f=hi;t.OW|=16,t.add.vogk=e,t.add.vmsk=n;var n=t.add.vstk=JSON.parse(JSON.stringify(Wi.XF.default)),c=f.NX(i,r,s,o,l,h,u);if("None"==c[0]?(n.fillEnabled.v=!1,t.add.SoCo=c[1]):(f.SR(c,t),t.add[c[0]]=c[1]),"None"!=(c=f.NX(i,a[0],s,o,l,h,u))[0]){(n=t.add.vstk).strokeEnabled.v=!0,n.strokeStyleLineWidth.v.val=i.strokeWeight*s.eZ(),n.strokeStyleLineAlignment.v.strokeStyleLineAlignment=Wi.XF.Qb[["INSIDE","CENTER","OUTSIDE"].indexOf(i.strokeAlign)];var u={SoCo:"SoFi",GdFl:"GrFl"}[c[0]],s=["SoFi","GrFl","patternFill"].indexOf(u),p=[Wi.Di,Wi.lK,Wi.Gt][s];n.strokeStyleContent.v={classID:Wi.XF.xP[0]};u=i.dashPattern;u&&(n.strokeStyleLineDashSet.v=Xi.iO(u,1/i.strokeWeight));for(var d=n.strokeStyleContent.v={classID:Wi.XF.xP[s]},v=0;v<p.length;v++)d[p[v]]=c[1][p[v]];n.fillEnabled.v||f.SR(c,t)}},hi.SR=function(t,e){t=t[1].Opct.v.val;100!=t&&(e.opacity=Math.round(e.opacity/255*(t/100)*255))},hi.lh=function(t,e){t=t.parentIndex.position;return e.parentIndex.position<t?1:-1},hi.NC=function(t){for(var e=1;e<t.length;e++)if("IMAGE"==(n=t[e]).type&&1==n.opacity){t=t.slice(e);break}for(e=0;e<t.length;e++){var n,i=(n=t[e]).imageThumbnail;"IMAGE"==n.type&&(null==n.image||null==n.image.dataBlob)&&i&&i.dataBlob&&(n.image=i),n.visible&&("IMAGE"!=n.type||null!=n.image.dataBlob)||(t.splice(e,1),e--)}return t},hi.wu=function(t,e,n){t.ZP.ue&&(e.add.vmsk=t.ZP.ue.clone(),e.add.vogk=JSON.parse(JSON.stringify(t.ZP.UY)),e.fF(n))},hi.m6=function(t,e,n,i,r,a,s,o){var l=t.fontSize,h=t.lineHeight,u=t.fontName,f=t.textAlignHorizontal,c=t.textTracking,p=t.textCase,d=t.textDecoration;null==l&&(l=i.hy.FontSize),u&&ir.Ui(i,u.postscript),null!=l&&(i.hy.FontSize=Math.round(l)),"UNDERLINE"==d&&(i.hy.Underline=!0),c&&(i.hy.Tracking=Math.round(1e3*c)),p&&(i.hy.FontCaps="UPPER"==p?2:0),!h||"PERCENT"==h.units&&100==h.value||(null==l&&(l=15),v=h.value,"PERCENT"==h.units&&(v=+l*v/100),"RAW"==h.units&&(v*=+l),i.hy.AutoLeading=!1,i.hy.Leading=Math.round(v)),f&&(i.eS.Justification=["LEFT","RIGHT","CENTER"].indexOf(f));var v=t.fillPaints,f=t.inheritFillStyleID;!f||(f=hi.Yd(o.xS,f))&&(v=f.fillPaints),v&&v[0]&&("SoCo"==(s=hi.NX(t,v[0],e,n,a,s,o))[0]&&(o=Rr.I.Na(s[1].Clr.v),i.hy.FillColor={Type:1,Values:[1,o.p/255,o.z/255,o.S/255]},hi.SR(s,r)))},hi.NX=function(t,e,n,i,r,a,s){var o=hi,l=t.size;if(e){var h=e.type,u=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(h);if("SOLID"==h){var f,c="SoCo",t=e.color;(f=JSON.parse(Wi.xs[Wi.order.indexOf("SoFi")])).Clr=o.oj(t)}else if(-1!=u){var p=(b=JSON.parse(Wi.xs[Wi.order.indexOf("GrFl")])).Grad.v;p.Intr.v=0,b.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][u];for(var d=[],v=e.stops,g=0;g<v.length;g++){var y=v[g],m=y.color;d.push([y.position,[m.r,m.g,m.b],m.a])}Rr.I.MW(d,p),(M=o.Xm(e.transform)).tU();var w=M.clone();l&&w.scale(l.x,l.y),w.concat(n);l=new Pr(0,.5),p=new Pr(1,.5),l=w.iX(l),p=w.iX(p);l.x=p.x+.5*(l.x-p.x),l.y=p.y+.5*(l.y-p.y),Rr.I.Ye(l,p,i,b),3==u&&w.q4*w.DR-w.S*w.yH<0&&(b.Rvrs.v=!b.Rvrs.v),c="GdFl",f=b}else{if("IMAGE"!=h)throw h;var b,p=(b=JSON.parse(Wi.xs[Wi.order.indexOf("patternFill")])).phase.v,u=e.image.dataBlob,w=s.a6Q[u],h=1;null==w&&(S=o.y5(r,u),(w=s.a6Q[u]={}).id=zi.Gs()+"-d71c-11e5-b1ae-a548a96e5f9f",w.ax=[new Uint8Array(S.data),S.Tl],w.name="someImage",a.uo(w)),b.Algn.v=!0,b.Ptrn.v.Idnt.v=w.id;var M,u=n.E_,S=n.Qq,a=e.imageScaleMode;(M=o.Xm(e.transform)).tU();var C,x,n=i.m,o=i.n,i=w.ax[1].m,w=w.ax[1].n;"FILL"==a?(h=Math.max(n/i,o/w),h=Math.round(100*h)/100):"FIT"==a?(h=Math.min(n/i,o/w),h=Math.round(100*h)/100):"STRETCH"==a?(h=.5*((C=n*M.q4)/i+(x=o*M.DR)/w),h=Math.round(100*h)/100,u+=(C-n)/2+M.E_*n,S+=(x-o)/2+M.Qq*o):"TILE"==a&&(h=e.scale,h=Math.round(100*h)/100,u+=(C-n)/2,S+=(x-o)/2),u+=-(h*i-n)/2,S+=-(h*w-o)/2,b.Scl.v.val=Math.round(100*h),p.Hrzn.v=Math.round(u),p.Vrtc.v=Math.round(S),c="PtFl",f=b}f&&(f.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(100*e.opacity)}})}else c="None",f={classID:"null",Clr:{t:"Objc",v:Rr.I.wg({p:0,z:0,S:0})}};return[c,f]},hi.y5=function(t,e){var n=t[e];if(n.rslt)return n.rslt;t=n.bytes.buffer,e=ai.Am(t),e=ai.TN(e);try{n.rslt=e.Ou(t)[0]}catch(t){n.rslt={data:Rr.t(4),Tl:new Fr(0,0,1,1)}}return n.rslt},hi.Q3=function(t,e,n,i){var r=t.type,a=t.size,s=t.cornerRadius;null==s&&(s=0);for(var o=Rr.UY.lk(),l=a.x,h=a.y,u=[s,s,s,s],f=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"],c=0;c<4;c++)null!=t[f[c]]&&(u[c]=t[f[c]]);if("RECTANGLE"==r||"ROUNDED_RECTANGLE"==r||"FRAME"==r)g=Rr.$.lO.Rect(0,0,l,h,u);else if("ELLIPSE"==r){var p=t.arcData,d=p?p.startingAngle:0,v=p?p.endingAngle:2*Math.PI,p=p?p.innerRadius:0,g=0==d&&v>1.999*Math.PI?Rr.$.lO._D(0,0,l,h,0):Rr.$.lO.a9j(l/2,h/2,h/2,d,v);if(0!=p&&1!=p){var y=qi.g6.nk(g).slice(3);y.reverse();for(c=0;c<y.length;c++){var m=y[c],w=m.Sm;m.Sm=m.Pv,m.Pv=w}v=new _r;v.translate(-l/2,-h/2),v.scale(p,p),v.translate(l/2,h/2),Rr.$.yl(y,v),(g=g.concat(y))[2].length*=2}}else if("LINE"==r)(g=Rr.$.lO.Rect(0,0,l,h,0)).pop(),g.pop(),g[2].length=2;else if("STAR"==r)g=Rr.$.lO.a$(l/2,h/2,l/2,2*Math.PI*.25,5,0,t.starInnerScale);else if("REGULAR_POLYGON"==r){g=Rr.$.lO.Ll(.5,.5,.5,Math.PI/2,t.count,0);var b=new _r;b.scale(l,h),Rr.$.yl(g,b)}else if("BOOLEAN_OPERATION"==r){g=[{type:6},{type:8,all:0}];var M=t.children,S=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(t.booleanOperation);if(-1==S)throw t;null==M&&(M=[]);for(c=0;c<M.length;c++){var C=M[c],x=new qi.g6,L=[];hi.Q3(C,e,x,L);if(null!=x.Y){Rr.$.yl(x.Y,hi.Xm(C.transform)),g=g.concat(x.Y.slice(2));for(var D=0;D<L.length;D++)i.push(L[D])}}for(c=3;c<g.length;c++)null!=g[c].Gw&&(g[c].Gw=S);o=null}else if("VECTOR"==r){b=t.vectorData;if(null==b)return;for(var r=b.normalizedSize,b=e[b.vectorNetworkBlob].bytes,k=new Uint32Array(b.buffer),T=new Float32Array(b.buffer),A=k[0],E=k[1],O=k[2],N=[],I=[],P=[],F=3+3*A,_=F+7*E,c=0;c<A;c++){var B=3+3*c,B=new Pr(T[1+B],T[2+B]);N.push(B)}for(c=0;c<E;c++){var R=F+7*c;I.push([k[R],k[1+R],T[2+R],T[3+R],k[4+R],T[5+R],T[6+R]])}for(c=0;c<O;c++){var U=k[_+1],j=P[c]=[];_+=2;for(D=0;D<U;D++){for(var H=k[_++],J=j[D]=[],q=0;q<H;q++)J[q]=k[_+q];_+=H}}if(_!=k.length)throw"e";if(0==O){for(var G=-1,c=0;c<E;c++){if(-1!=G){for(var Z=-1,D=c;D<E;D++)I[D][4]==G&&(Z=D);for(var z,D=c;D<E;D++)I[D][1]==G&&(Z=D);-1!=Z&&(z=0,w=I[Z],I[Z]=I[c],(I[c]=w)[1]!=G&&(z=w[1],w[1]=w[4],w[4]=z,z=w[2],w[2]=w[5],w[5]=z,z=w[3],w[3]=w[6],w[6]=z))}G=I[c][4]}P.push([[]]);for(c=0;c<E;c++)P[0][0].push(c)}for(var V=[],W=[],X=0;X<P.length;X++)for(var Y=0;Y<P[X].length;Y++){var K,Q,$=P[X][Y],tt=0;1<$.length&&(K=I[$[0]],Q=I[$[1]],tt=K[4]==Q[1]?1:0);for(c=0;c<$.length;c++){var et=I[$[c]],nt=1,it=4;0==tt&&(nt=4,it=1);var rt=N[et[nt]],at=N[et[it]];0==c&&(W.push("M"),V.push(rt.x,rt.y)),W.push("C"),V.push(rt.x+et[nt+1],rt.y+et[nt+2],at.x+et[it+1],at.y+et[it+2],at.x,at.y)}}if(g=Rr.H.z8({U:V,C:W},!1),0!=s){for(var u=[],st=g[2].length,c=0;c<st;c++)u.push(s);Rr.$.WC(g)&&Rr.$.kA(g,2,u)}b=new _r;b.scale(0==r.x?1:a.x/r.x,0==r.y?1:a.y/r.y),Rr.$.yl(g,b)}n.Y=g,o&&i.push(o)},hi.Yd=function(t,e){return t[e.sessionID+","+e.localID]},hi.al0=function(t,e){return t.sessionID==e.sessionID&&t.localID==e.localID},hi.aoD=function(t){var e={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",DARKEN:"dark",LUMINOSITY:"lum "}[t];if(null==e)throw t;return e},hi.oj=function(t){return{t:"Objc",v:Rr.I.wg({p:255*t.r,z:255*t.g,S:255*t.b})}},hi.Xm=function(t){for(var e=[t.m00,t.m10,t.m01,t.m11,t.m02,t.m12],n=0;n<6;n++)Math.abs(e[n])<1e-20&&(e[n]=0);return new _r(e[0],e[1],e[2],e[3],e[4],e[5])},ui.M9=(si=ln.fb,function(t,e){t=new Uint8Array(t);for(var n=8,i={},r=0;n<t.length;){var a=ln.l(t,n),s=si(t,n+=4,4);if(n+=4,"mkTS"==s)var o=function t(e,n,i,r){for(var a=r?[]:{};n<e.length-1&&125!=e[n];){var s=si(e,n,3),o=si(e,n+3,1);if(n+=4,n++,"v"==o){var l=t(e,n,i+1,"ELM"==s||"TIL"==s),h=l.k;n=l.r}else if("i"==o||"f"==o){for(var u=n;125!=e[u];)u++;var f=si(e,n,u-n);h="i"==o?parseInt(f,16):parseFloat(f),n=u+1}else if("s"==o){var c=ln.aV(e,n),f="";n+=2;for(var p=0;p<c;p++)f+=String.fromCharCode(e[n+2*p+1]);h=f,n=n+2*c+1}else{if("b"!=o)throw"e";h=49==e[n],n+=2}r?a.push([s,h]):null==a[s]?a[s]=h:(a[s]instanceof Array||(a[s]=[a[s]]),a[s].push(h))}return{k:a,r:++n}}(h=pako.inflate(t.slice(n,n+a)),0,0).k;else if("mkBT"==s){var l=ln.l(t,n+4),s=ln.l(t,n+8),h=pako.inflate(t.slice(n+76,n+a));if(0==s)for(var u=0;u<h.length;u+=4){var f=h[u],c=h[u+1],p=h[u+2],d=h[u+3];h[u+3]=f,h[u+2]=d,h[u+1]=p,h[u]=c}else{s=Rr.t(4*h.length);s.fill(255),Rr.PU(h,s),h=s}i[l]=h}n+=a+4}for(var v=o.PDC,g=v?v instanceof Array?v:[v]:[o.MKB],y=new Fr,u=0;u<g.length;u++){var m=g[u],y=y.hq(new Fr(0,r,m.WID,m.HIT));r+=m.HIT+100}e.m=y.m,e.n=y.n,e.buffer=Rr.t(4*y.Z()),e.BD(g.length);for(var r=0,w=0;w<g.length;w++){e.g.push(e.ne());for(var b=(m=g[w]).WID,M=m.HIT,S=m.BGC,C=(m.LYL?m:o).LYL.LAY,x=3,u=0;u<C.length;u++)!function t(e,n,i,r,a){var s=n.rL();null!=e.VIS&&s.I9(e.VIS);null!=e.VIF&&s.I9(e.VIF.VIS);null!=e.OPA&&(s.opacity=Math.round(255*e.OPA/1e3));s.SD=e.CLL||"GRP"==i?"pass":"norm";null!=e.BLD&&(k=e.BLD,null==(D={0:"norm",2:"mul ",4:"over",5:"scrn",7:"diss",9:"dark",10:"lite",37:"idiv",30:"norm",39:"lbrn",41:"vLit"}[k+""])?console.log(e.OBN,k):s.SD=D,30==k&&(s.opacity>>>=1));if(e.CLL){s.Zu(e.LNM),n.g.push(n.ne());for(var o=e.CLL.CEL,l=(o=null==o.length?[o]:o).length-1;0<=l;l--)for(var h=(f=o[l].ELM).length-1;0<=h;h--)t(f[h][1],n,f[h][0],r,a);s.add.lsct=e.DIS?Gi.pb:Gi.jT,s.OW|=24}else if("GRP"==i){var u=s.add.lmfx=gi(e.EFL);n.g.push(n.ne());var f=e.ELM;e.MNA&&(T=f[0][1],f=f.slice(1)),s.Zu("Group: "+f.length+" objects");for(h=f.length-1;0<=h;h--)t(f[h][1],n,f[h][0],r,a);T&&(e.MRX?(c=pi(T,r),(E=s.q=new qi.vi).rect=c[1].clone(),E.rect.x=T.XLC,E.rect.y=T.YLC+a.Qq,E.channel=Rr.t(E.rect.Z()),Rr.VW(c[0],E.channel,0),Rr.tU(E.channel)):(vi(s,T,a),s.fF(n))),s.add.lsct=Gi.jT,s.OW|=24}else if("IMG"==i){s.Zu(e.OBN||"Bitmap");var c=pi(e,r);s.rect=c[1].clone(),s.rect.x=e.XLC,s.rect.y=e.YLC+a.Qq,s.buffer=c[0]}else if("TXT"==i){var p=e.TFS,d=p.TRN instanceof Array?p.TRN.length:1,v="",g="Arial",y=20,m=0;s.add.lnsr="rend",s.add.TySh=ir.mb(0,0),s.add.TySh.qK=new Fr(0,0,100,100);var w=new _r(1,0,0,1,e.LFT,e.TOP);e.MTX&&(A=e.MTX,E=new _r(A.M00,A.M01,A.M10,A.M11,A.M20,A.M21),w.concat(E)),w.concat(a),s.add.TySh.A=w;for(var b=s.add.TySh.nx,h=0;h<d;h++){var M,S,C=di(p,"TRN",h);null!=C&&(ir.RX(b,v.length,C),M=ir.vK(b,0,1),(S=di(p,"FON",h))&&(g=S),ir.Ui(M,g),null!=(S=di(p,"PTS",h))&&(y=S),M.hy.FontSize=Math.round(y),null!=(S=di(p,"FCL",h))&&(m=S),M.hy.FillColor={Type:1,Values:ci(m)},ir.xB(b,v.length,v.length+C.length,M),v+=C)}s.Zu(v.slice(0,255));var x=e.RIT-e.LFT,L=e.BOT-e.TOP;e.IMG&&(t(e.IMG,n,"IMG",r,a),O=n.g.pop(),s.buffer=O.buffer,s.rect=O.rect.clone()),ir.b8(b,1),ir.NO(b,[0,0,x,L])}else if("PTH"==i){s.Zu(e.OBN||"Path"),s.OW|=16;var D=!1;vi(s,e,a);var k=s.add.vmsk,T=s.add.vstk,A=Rr.$.b3(k.Y),E=e.PAT,w=E.BPL,O=E.FPL,x=E.TXF;if(O&&O.FEF&&(k.Df+=O.FEF/2.4),w&&(R=w.CAT,T.strokeEnabled.v=!0,T.strokeStyleLineWidth.v.val=w.BDI,T.strokeStyleLineAlignment.v.strokeStyleLineAlignment=Wi.XF.Qb[e.BRP],fi(E.BCL,T.strokeStyleContent.v),"bc_Basic"!=R&&"bc_Pencil"!=R&&(D=!0)),null==O)T.fillEnabled.v=!1,s.add.SoCo=JSON.parse(Wi.xs[Wi.order.indexOf("SoFi")]),fi(0,s.add.SoCo);else if("fc_Solid"==O.CAT)s.add.SoCo=JSON.parse(Wi.xs[Wi.order.indexOf("SoFi")]),fi(e.PAT.FCL,s.add.SoCo);else if("fc_Linear"==O.CAT||"fc_Circular"==O.CAT||"fc_Elliptical"==O.CAT){var N,L="fc_Linear"==O.CAT,w=(j=s.add.GdFl=JSON.parse(Wi.xs[Wi.order.indexOf("GrFl")])).Grad.v,I=[],E=O.FGL,P=[];E.FGY?(U=E.FGY,N=U.FG0.FGI,P=U.FG1.FGI):N=E.FGV.FGI;for(h=0;h<N.length;h++){var F=N[h],_=ci(F.FGC),B=1;P.length==N.length&&(B=ci(P[h].FGC)[0]),I.push([F.FGP,_.slice(1),B])}j.Type.v.GrdT=L?"Lnr":"Rdl",Rr.I.MW(I,w),w.Intr.v=0;var R=e.PRI||e,T=new Pr(R.PSX,R.PSY),U=new Pr(R.PEX,R.PEY);"fc_Elliptical"==O.CAT&&null!=R.PFX&&(E=new Pr(R.PFX,R.PFY),w=Pr.Tn(T,U),(R=Pr.Tn(T,E))<w&&(E=w,w=R,R=E),U=new Pr(T.x+(w+R)/2,T.y),w/R<.5&&(D=!0)),L&&(T.x=(T.x+U.x)/2,T.y=(T.y+U.y)/2),Rr.I.Ye(T,U,A,j)}else console.log(O.CAT);u=s.add.lmfx=gi(e.EFL,k);if(O&&0!=O.FTB){c=pi(x.MSK,r),x={};x.id=zi.Gs()+"-d71c-11e5-b1ae-a548a96e5f9f",x.name="someImage",x.ax=c,n.uo(x);for(var j,H=c[0],h=0;h<H.length;h+=4)H[h+3]=255-H[h],H[h]=H[h+1]=H[h+2]=255;(j=JSON.parse(Wi.xs[Wi.order.indexOf("patternFill")])).Opct.v.val=Math.round(O.FTB/10),j.Algn.v=!0,j.Ptrn.v.Idnt.v=x.id,u.patternFillMulti.v.unshift({t:"Objc",v:j})}if(D&&e.IMG){t(e.IMG,n,"IMG",r,a);D=n.g[n.g.length-1];return void(D.opacity=s.opacity)}s.fF(n)}else{if("URL"==i)return;console.log("unknown layer type",i,e),s.Zu("Layer")}n.g.push(s)}(C[u],e,null,i,new _r(1,0,0,1,-m.XLC,-m.YLC+r));var L=e.rL();e.g.push(L);b=new Fr(0,r,b,M);r+=M+100,L.fx(b),S>>>24!=0&&(S=Rr.I.wg({p:S>>>16&255,z:S>>>8&255,S:S>>>0&255}),L.add.artb.Clr={t:"Objc",v:S},x=4),L.add.artb.artboardBackgroundType.v=x,L.Zu(m.PGN||"Page "+(w+1)),L.add.lsct=Gi.jT,L.SD="pass",L.OW=24}}),wi.M9=function(t,e){Date.now();var n=function(t,e){var n=Date.now(),i=new Uint8Array(t),t=68==i[2];e&&console.log(t?"PDF":"EPS");if(t){for(var r=ln.M8(i,"/AIMetaData "),a=!1,s=!1;60!=i[r];)r--;r--;for(var o=ln.M8(i,">>",r),l=ln.fb(i,r+2,o-r-2).split("/"),h=[],u=0;u<l.length;u++){var f=l[u],c=f.startsWith("AIPrivateData"),p=f.startsWith("AIPDFPrivateData");(c||p)&&(f=f.trim().split(/\s+/),m=parseInt(f[1]),y=parseInt(f[0].slice(c?13:16)),h.push([y,m]))}e&&console.log("--- map made",Date.now()-n),n=Date.now();for(var o=FromPDF.indexOfXref(i),d=[],v=(FromPDF.readXrefTrail(i,o,d),{buff:i,off:0}),g=new Array(h.length),u=0;u<h.length;u++){var y=h[u][0],m=h[u][1],w=FromPDF.getIndirect(m,0,v,d),b=w.buff,M=w["/Filter"],S=0;null!=M&&"string"==typeof M&&(M=[M]);w=ln.fb(b,S,S+20);if("%AI12_CompressedData"==w?(S+=20,a=!0):"%AI24_ZStandard_Data"==w&&(S+=20,s=!0),b=new Uint8Array(b.buffer,b.byteOffset+S,b.length-S),M)for(var C=0;C<M.length;C++){var x=M[C];if("/FlateDecode"==x)b=pako.inflate(b);else if("/ASCIIHexDecode"==x)b=FromPS.F.HexDecode({buff:b,off:0});else{if("/ASCII85Decode"!=x)throw x;b=FromPS.F.ASCII85Decode({buff:b,off:0})}}g[y-1]=b}e&&console.log("--- arrays found",Date.now()-n),n=Date.now();o=ln.fb(g[0],0,13);"%%BoundingBox"!=o&&"%AI7_Thumbnai"!=o||(g=g.slice(1)),"%AI24_ZStanda"==o&&(g[0]=g[0].slice(20),s=!0),"%AI12_Compres"==ln.fb(g[0],0,13)&&(g[0]=g[0].slice(20),a=!0),o=function(t){for(var e=0,n=0,i=0;i<t.length;i++)e+=t[i].length;for(var r=new Uint8Array(e),i=0;i<t.length;i++){var a=t[i];r.set(a,n),n+=a.length}return r}(g),e&&console.log("--- concatenated",Date.now()-n),n=Date.now(),a&&(o=UZIP.inflate(o)),s&&(o=ai.xO.g5(o)),e&&console.log("--- inflated",Date.now()-n),n=Date.now()}else{n=ln.cP(i);if(-1!=n.indexOf("%AI5_BeginLayer"))o=i;else{for(var L=n.split(/[\n\r]+/),D=[],k=!1,T=0;T<L.length;T++){var A=L[T].trim();if("%AI9_PrivateDataEnd"==A){k=!1;break}"%AI9_DataStream"==A||"%AI24_DataStream"==A?k=!0:k&&D.push(A.slice(1))}n=ln.u3(D.join("")),n=FromPS.F.ASCII85Decode({buff:n,off:0});o=120==n[0]&&156==n[1]?UZIP.inflate(n):ai.xO.g5(n)}}return o}(t,!1),i=1;Date.now();var r=function(t){var e="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place".split(" "),n=(Date.now(),0),i={Header:{}},r=[i],a=t.length;for(;n<a;){for(var s=n;s!=a&&13!=t[s]&&10!=t[s];)s++;if(37==t[n]&&95==t[n+1]&&37==t[n+2]&&(n+=2),37==t[n]&&(37==t[n+1]||65==t[n+1])){var o=ln.fb(t,n,s-n);if("%%EndComments"!=o&&"%EndComments"!=o&&"%AI5_Begin_NonPrinting"!=o&&"%AI5_End_NonPrinting--"!=o&&!o.startsWith("%AI17_Begin_Content_if_version_gt")&&"%AI17_End_Versioned_Content"!=o){var l=o.indexOf("Begin"),h=Math.max(o.indexOf("_End"),o.indexOf("%End"));if(-1!=l){var u=o.slice(l+5).split(":")[0],f={_begin:n,_end:n},l=r[r.length-1];if(-1!=e.indexOf(u))null==l[u]&&(l[u]=[]),l[u].push(f);else{if(null!=l[u])throw console.log(r),o;l[u]=f}r.push(f),o.startsWith("%%BeginData")?s=ln.M8(t,"%%EndData",n):"%AI9_BeginDocumentData"==o?s=ln.M8(t,"%AI9_EndDocumentData",s):"%AI11_BeginTextDocument"==o&&(s=ln.M8(t,"%AI11_EndTextDocument",s))}else if(-1!=h)r.pop()._end=n;else if(1==r.length&&(o.startsWith("%AI")||o.startsWith("%%")&&-1!=o.indexOf(" "))){var c=1;if(o.startsWith("%AI"))for(;"_"!=o[c]&&c<o.length;)c++;f=o.indexOf(":");-1==f&&(f=o.indexOf(" "));h=o.slice(c+1,f),f=o.slice(f+1).trim();i.Header[h]=f}}}13==t[n=s]&&n++,10==t[n]&&n++}return i}(n),a=r.Layer,s=r.Header;a[0],r.Layer[0],Date.now(),r.Setup.Gradient=function(t,e){var n,i,r={};if(null==t)return r;for(var a=[],s=0;s<t.length;s++)for(var o=Ti(e,t[s]),l=0;l<o.length;l++){var h=o[l];if(h.endsWith("%_Bs")&&((v=h.slice(0,h.length-4)).endsWith(" ")||(v+=" "),h=v+"%_BS"),"("==h[0]){var u=h.split(")");n=u[0].slice(1);var f=u[1].split(" ");i=parseInt(f[1])}else if(h.endsWith("%_BS")){var c,u=h.split(" "),p=1;u.pop();var d=(u=u.map(parseFloat)).pop(),v=u.pop(),f=u.pop();if(0==f)c=[u[0],u[0],u[0]];else if(2==f||4==f)c=[u[4],u[5],u[6]];else if(1==f||3==f)c=Di(u);else{if(6!=f)throw f;c=3==u.length?[u[0],u[0],u[0]]:Di(u),p=u.pop()}a.push([d/100,c,p,v/100])}else if("BD"==h){for(var g=0;g<a.length-1;g++)a[g][3]=a[g+1][3];a.sort(function(t,e){return t[0]-e[0]}),r[n]={A2:i,ab3:a},a=[]}}return r}(r.Setup.Gradient,n),Date.now(),r.Setup.Pattern=function(t,e){var n={};if(null==t)return n;for(var i=0;i<t.length;i++){for(var r=Ti(e,t[i]),a=r[1],s=Si(a),a=a.slice(a.indexOf(")")+2).split(" ").map(parseFloat),o=[],l=2;l<r.length;l++)o.push(r[l].slice(2));n[s]={sz:a,yF:o}}return n}(r.Setup.Pattern,n),Date.now(),r.Setup.DocumentData=Ei(r.Setup.DocumentData,n).pop(),Date.now(),r.Setup.SVGFilter=Ei(r.Setup.SVGFilter,n),Date.now();var o=s.Cropmarks,t=s.BoundingBox.split(" ").map(parseFloat),s=s.ArtSize?s.ArtSize.split(" ").map(parseFloat):[t[2]-t[0],t[3]-t[1]];e.m=Math.round(s[0]),e.n=Math.round(s[1]);var l=[1,0,0,1,-t[0]+(e.m-(t[2]-t[0]))/2,-t[1]+(e.n-(t[3]-t[1]))/2];if(l[3]=-1,l[5]=e.n-l[5],o&&(o=o.split(" ").map(parseFloat),e.m=Math.round(o[2]-o[0]),e.n=Math.round(o[3]-o[1]),l=[1,0,0,-1,-o[0],e.n+o[1]]),(o=r.Setup.DocumentData)&&o[0]&&o[0].ArtboardArray){var h=o[0].ArtboardArray;1!=h.length&&console.log(h.length,"artboards");for(var u=new Fr,f=0;f<h.length;f++)var c=h[f],p=c.PositionPoint1,d=c.PositionPoint2,v=p[0],g=Math.min(p[1],d[1]),c=d[0],d=Math.max(p[1],d[1]),u=u.hq(new Fr(v,g,c-v,d-g));e.m=Math.round(u.m),e.n=Math.round(u.n),l[4]=-u.x,l[5]=u.y+e.n}for(var y=Math.max(e.m,e.n);y*i<1200;)i++;for(;6e3<y*i;)i*=.5;for(e.m=Math.round(e.m*i),e.n=Math.round(e.n*i),e.Mg=Math.round(72*i),e.buffer=Rr.t(e.m*e.n*4),f=0;f<6;f++)l[f]*=i;for(var m=0;m<a.length;m++){var w=a[m];w.Raster=function t(e){var n=e.Layer,i=e.Raster;null==i&&(i=[]);if(n){for(var r=0;r<n.length;r++){var a=n[r],a=a.Raster=t(a);i=i.concat(a)}i.sort(function(t,e){return t._begin-e._begin})}return i}(w),function t(e,n,i,r,a,s){var o,l="",h=0,u=UDOC.G,f=UDOC.getState(),c="norm",p=1,d="SoCo",v=!1,g=0,y=null,m=!1,w=0,b=null,M=0,S=0,C=0;f.ctm=i;var x=[0,0,0],L=[0,0,0],D=[],k=[],T=[];for(var A=0;A<n.length;A++){var E=n[A];if("%"!=E[0])if("/Mesh X!"!=E)if("/End X!"!=E){E=E.trim();var O,N,I=(et=E.split(" "))[et.length-1],P=I.toLowerCase(),F=et.map(parseFloat);if("m"==I)u.moveTo(f,F[0],F[1]);else if("L"==I||"l"==I)u.lineTo(f,F[0],F[1]);else if("V"==I||"v"==I||"Y"==I||"y"==I)u.quadCurveTo(f,F[0],F[1],F[2],F[3]);else if("C"==I||"c"==I)u.curveTo(f,F[0],F[1],F[2],F[3],F[4],F[5]);else if("H"==I||"h"==I)I==P&&u.closePath(f),D.push(JSON.parse(JSON.stringify(f.pth)));else if("Xy"==I)c=["norm","mul ","scrn","over","sLit"][F[0]],p=F[1],null==c&&(c="norm",console.log("unknown blend mode",F[0]));else if("Xd"==I){var _=e.g[e.g.length-1];_.opacity=Math.round(255*p),_.SD=_.dH()&&"norm"==c?"pass":c}else if("AE"==I)M=F[0];else if("Ae"==I)S=F[0];else if("Xw"==I)C=F[0];else if("*"==I){var _=f.pth.crds,B=(f.ctm,_[0]==_[2]?0:1);e.p6.push([B,_[B]]),u.newPath(f)}else if("XN"==I)E.split(" ")[0];else if("XI"==I){var R,B=a.Raster;if(null!=B&&0!=B.length){if("XI"==E){for(var U=B[h++].Data,j=U._begin,H=U._end;88!=s[j];)j++;j+=3,R=s.slice(j,H);var J=(nt=n[A-2].split(" ").map(parseFloat)).slice(8),q=J[2],G=J[3],Z=q*G,z=Rr.t(4*Z);z.fill(255);var V=J[7],U=J[8],H=J[6],W=Math.ceil(q*V*H/8);if(1==V)if(8==H)for(var X=0;X<Z;X++)for(var Y=0;Y<3;Y++)z[4*X+Y]=R[X];else{if(1!=H)throw H;for(var K=0;K<G;K++)for(var Q=0;Q<q;Q++)for(Y=0;Y<3;Y++)z[4*(K*q+Q)+Y]=255*(R[K*W+(Q>>>3)]>>>7-(7&Q)&1)}else if(3==V)for(X=0;X<Z;X++)for(Y=0;Y<3;Y++)z[4*X+Y]=R[3*X+Y];else if(4==V||5==V)for(X=0;X<Z;X++){var $=Di([R[V*X+0]/255,R[V*X+1]/255,R[V*X+2]/255,R[V*X+3]/255]);z[4*X+0]=255*$[0],z[4*X+1]=255*$[1],z[4*X+2]=255*$[2]}else if(7==V)for(X=0;X<Z;X++)z[4*X+0]=R[V*X+0],z[4*X+1]=R[V*X+1],z[4*X+2]=R[V*X+2];else console.log("unknown number of channels",V);if(1==U)for(var tt=G*W,X=0;X<Z;X++)z[4*X+3]=R[tt+X];var J=Rr.Nx(z,q,G)?"JPG":"PNG";q*G<49e4&&(J="PNG");var H=ai.TN(J).D6([[z.buffer]],q,G),U=e.Rp(new Uint8Array(H),"<Image>",0,0);e.g.push(U),U.SD=c,U.opacity=Math.round(255*p),U.I9(0==C),(i=new _r).scale(1,-1),i.concat(Li(nt.slice(1))),i.concat(Li(f.ctm)),(J=U.rect.clone()).x=J.y=0;var et=Rr.H.UQ(J).U;Rr.H.A(et,i,et),U.add.SoLd.Trnf=qr.Q.mk(et),U.add.SoLd.nonAffineTransform=qr.Q.mk(et),U.jM(e,!1)}}else console.log("no Raster")}else if("Ln"==I)l=Si(E);else if("u"==I||"q"==I||"Lb"==I)k.push(1==S),T.push(0==("Lb"==I?1-F[0]:C)),v||e.g.push(e.ne());else if("U"==I||"Q"==I||"LB"==I){if(0==k.length||0==T.length)throw A;var nt,H=k.pop(),it=T.pop();"LB"==I&&(H=1==M),v||((U=e.rL()).Zu("U"==I?"<Group>":"<Clip Group>"),"LB"==I&&U.Zu(l),"Q"==I&&0!=D.length&&(nt=D.pop(),UDOC.G.isBox(nt,[0,0,e.m,e.n])||ki(U,nt,e)),U.add.lsct=H?Gi.pb:Gi.jT,U.SD="pass",U.OW=24,U.I9(it),e.g.push(U))}else if("Bb"!=I&&"Bh"!=I&&"BB"!=I)if("Bg"==I){var rt=r.Setup.Gradient[Si(E)];d="GdFl",x=Mi(rt.A2,rt.ab3)}else if("Bm"==I||"Xm"==I){it=x.Type.v.GrdT;"Lnr"==it&&"Xm"!=I||"Rdl"==it&&"Bm"!=I||(rt=new Pr(0,0),lt=new Pr(1,0),(st=new _r).concat(Li(F)),st.concat(Li(f.ctm)),rt=st.iX(rt),lt=st.iX(lt),(st=Rr.H.UP(f.pth.crds)).mN()&&(st=Rr.H.UP([rt.x,rt.y,lt.x,lt.y])),"Lnr"==it&&(rt.x=(rt.x+lt.x)/2,rt.y=(rt.y+lt.y)/2),Rr.I.Ye(rt,lt,st,x))}else if("p"==I){var at,st,ot,lt=Si(E);null==(at=r.Setup.Pattern[lt]).raw&&(st=at.sz,q=Math.round(st[2]-st[0]),G=Math.round(st[3]-st[1]),(ot=new zi).m=q,ot.n=G,ot.buffer=Rr.t(q*G*4),t(ot,at.yF,[1,0,0,-1,-at.sz[0],G+at.sz[1]],r,a,s),at.raw=new Uint8Array(ai.TN("PSD").D6(ot)));var ht=E.slice(E.indexOf(")")+2),ut=ht.slice(0,ht.indexOf("[")-1).split(" ").map(parseFloat),ht=ht.slice(ht.indexOf("[")+1,ht.indexOf("]")).split(" ").map(parseFloat);d="patt",x=[lt,ut,ht]}else if("J"==I||"j"==I||"w"==I||"M"==I||"d"==I)for(X=1;X<et.length;X++){var ft=et[X],ct=F[X-1];"w"==ft&&(f.lwidth=ct),"j"==ft&&(f.ljoin=ct),"J"==ft&&(f.lcap=ct),"d"!=ft||0!=(ft=E.slice(E.indexOf("[")+1,E.indexOf("]")).trim()).length&&(ft=ft.split(" ").map(parseFloat),f.dash=ft)}else if("xa"==P||"xx"==P){var pt=[F[4],F[5],F[6]];d="SoCo","Xa"==I||"Xx"==I?x=pt:L=pt}else if("xk"==P){var dt=F[F.length-2],vt=F[F.length-3];if(0==dt)pt=Di(F);else{if(1!=dt)throw E;pt=[F[4],F[5],F[6]];for(X=0;X<3;X++)pt[X]=+vt+(1-vt)*pt[X]}d="SoCo","Xk"==I?x=pt:L=pt}else if("k"==P||"x"==P){if("x"==P){F.pop();for(var gt=1-F.pop(),X=0;X<4;X++)F[X]*=gt}var pt=Di(F);d="SoCo",I==P?x=pt:L=pt}else"g"==P?(pt=[F[0],F[0],F[0]],d="SoCo",I==P?x=pt:L=pt):"n"==P?u.newPath(f):"*u"==I?(v=!0,g=0):"*U"==I||"s"==P||"f"==P||"b"==P?"*U"!=I&&v?("f"!=P&&"b"!=P||(g|=1),"s"!=P&&"b"!=P||(g|=2)):(I==P&&u.closePath(f),"*U"==I&&(v=!1),"patt"==d?(at=r.Setup.Pattern[x[0]],U=e.Rp(at.raw,"<Pattern>",0,0),(J=U.rect.clone()).x=J.y=0,et=Rr.H.UQ(J).U,(ht=Li(x[2])).E_=ht.Qq=0,Rr.H.A(et,ht,et),U.add.SoLd.Trnf=qr.Q.mk(et),U.add.SoLd.nonAffineTransform=qr.Q.mk(et),U.jM(e,!1)):((U=e.rL()).OW|=16,(N=U.add.vstk=JSON.parse(JSON.stringify(Wi.XF.default))).strokeEnabled.v=N.fillEnabled.v=!1,"SoCo"==d&&(U.add.SoCo=JSON.parse(Wi.xs[Wi.order.indexOf("SoFi")]),Ci(U.add.SoCo.Clr.v,x)),"GdFl"==d&&(U.add.GdFl=x),("f"==P||"b"==P||"*U"==I&&1&g)&&(N.fillEnabled.v=!0),("s"==P||"b"==P||"*U"==I&&2&g)&&Zn.FN(N,f,1,Zn.ER(L))),U.Zu("<"+("*U"==I?"Compound ":"")+"Path>"),U.SD=c,U.opacity=Math.round(255*p),U.I9(0==C),ki(U,f.pth,e),e.g.push(U),u.newPath(f)):","==I&&"/StoryIndex"==et[1]&&(ut=r.Setup.TextDocument,dt=null,P=(ut=!(ut instanceof Array)?r.Setup.TextDocument=Ai(ut,s):ut)[0],N=ut[2],P._DocumentResources?P=ut[0]=ar.aty(P):ar.au3(P),(U=e.rL()).add.lnsr="rend",U.add.TySh=ir.mb(0,0),I=rr.a7F(P),null!=(ut=U.add.TySh.nx=I[F[0]])?(U.Zu(ir.CP(ut).slice(0,50)),U.SD=c,U.opacity=Math.round(255*p),U.I9(0==C),gt=P._1._1[F[0]]._1._0[0]._0,gt=parseInt(gt.slice(1)),I=P._0._8._0,P=I[gt]._0,2!=(dt=P._0?xi(P._0):P._1?xi(P._1._0):xi(P._2._2).slice(3)).length&&(st=Rr.H.UP(dt),dt=[st.x,st.y],0!=st.Z()&&(ir.b8(ut,1),ir.NO(ut,[0,0,Math.round(st.m),Math.round(st.n)]))),O=new _r,I=new _r(1,0,0,1,dt[0],dt[1]),ut=new _r(1,0,0,1,-N[0],-N[1]),dt=Li(f.ctm),N=new _r,P._2&&P._2._2&&(i=xi(P._2._2),N=new _r(i[0],i[1],i[2],i[3],i[4],i[5])),O.concat(I),O.concat(N),O.concat(ut),O.scale(1,-1),O.concat(dt),U.add.TySh.A=O,e.g.push(U),e.O2=!0):console.log("text not found"))}else bi(b,f,e),b=null;else b=[],o="";else"%_/ArtDictionary :"==E&&0==w?y=[E.slice(2)]:null!=y?"%_"==E&&0==w?((O=(ot=Oi(y)[0]).AI10_ArtUID)&&!O.startsWith("XMLID")&&e.g[e.g.length-1].Zu(Ii(O)),y=null):(y.push(E.slice(m?1:2)),"%_X="==E&&w++,"%_X+"==E&&w--,(m="%_/Binary : /ASCII85Decode ,"==E?!0:m)&&E.endsWith("~>")&&(m=!1)):b&&(o+=(""==o?"":" ")+E.slice(2)).endsWith("X#")&&(b.push(o.slice(0,o.length-3)),o="")}}(e,Ti(n,w),l,r,w,n)}Date.now()};var qr={};function Pi(t,e,n,i,r,a,s,o){this.G4=null,this.Xo=t?t.slice(0):null,this.Ck=4,this.t9=null,this.A3=null,this.pT=null,this.Bb=-1,this.Q4=null,this.ajL=!1,this.a0f=[];for(var l=0;l<8;l++)this.a0f.push(ai.ad1(0,PIMG.rotate,-.5,-.5,-45-45*l));this.as$=e,this.aa_=n,this.akk=i,this.aqQ=r,this.bL=a,this.Zx=s,this.afC=null==o?1:o}function Fi(t,e){this.oH=null,this.Bb=-1,this.J4(t)}function _i(){this.AW=!1,this.T7=!1,this.amE=!1,this.akU=!1,this.lA=!1,this.re=!1,this.AG=0,this.Uw=0}qr.F=function(t){return window.devicePixelRatio||1},qr.$s=function(t,e){return("touch"==e.a7g?12:4)*qr.F()/t.s.V},qr.wE=function(t,e,n){this.name=t,this.id=e,(this._a=null)!=n&&(this.QU=n)},qr.wE.prototype.gT=function(t,e,n,i,r){},qr.wE.prototype.enable=function(t,e,n,i,r,a){var s=new yr(mr.E.W,!0);s.data={d:mr.J.tW,Ek:"default"},e.c(s)},qr.wE.prototype.disable=function(t,e,n,i,r){},qr.wE.prototype.i7=function(t,e,n,i,r){return!1},qr.wE.prototype.CK=function(t,e,n,i,r){},qr.wE.prototype.w3=function(t,e,n,i,r){},qr.wE.prototype.wl=function(t,e,n,i,r){},qr.wE.prototype.f9=function(t,e,n,i,r,a){},qr.wE.prototype.Yp=function(t,e,n,i,r){},qr.wE.prototype.XL=function(t,e,n,i){},qr.wE.prototype.nr=function(t,e,n,i){},qr.wE.prototype.PS=function(t,e){},qr.wE.prototype.AP=function(t,e){},qr.wE.prototype.qx=function(t,e,n,i,r){},qr.wE.prototype.v1=function(t,e){},qr.wE.prototype.XC=function(t,e){return!1},qr.wE.prototype.Vg=function(t,e){return!1},qr.wE.prototype.L$=function(){return!1},qr.wE.prototype.hH=function(t,e){return!0},qr.wE.prototype.XB=function(){return null},qr.wE.prototype.t6=function(t,e,n){},qr.wE.prototype.$r=function(){return!1},qr.wE.prototype.Ks=function(t,e,n,i){},qr.wE.prototype.track=function(t){var e=new yr(mr.E.n$,!0);(e.data=t).xY=!0,this._a.c(e)},qr.wE.mi=function(t,e,n,i){var r=10*qr.F()*("touch"==t.a7g?2:1),a=t.x+r,r=t.y-r;qr.wE.N6(a,r,[ri.get([12,41]).charAt(0)+": "+Rr.IR.KQ(e.m,n.Mg,i,n.m,!0),ri.get([12,42]).charAt(0)+": "+Rr.IR.KQ(e.n,n.Mg,i,n.n,!0)],n)},qr.wE.N6=function(t,e,n,i){var r=qr.F(),a=Math.round,s=a(11*r),o=a(100*r),l=a((14*n.length+5)*r),t=new Fr(t,e-l,o,l),e=qr.wE.SU;(e=null==e?qr.wE.SU=document.createElement("canvas"):e).width=o,e.height=l;var h=e.getContext("2d");h.fillStyle="rgba(0,0,1,1)",h.fillRect(0,0,o,l),h.font=s+"px monospace",h.fillStyle="rgba(255,255,255,1)";for(var u=0;u<n.length;u++)h.fillText(n[u],a(4*r),a(13*(u+1)*r));t=[h.getImageData(0,0,o,l).data,t.clone()];return i&&(i.D.po=[t]),t},qr.wE.SU=null,qr.AZ="0",qr.rZ="1",qr.a8w="2",qr.aaW="3",qr.mt="5",qr.a8F="6",qr.akv="7",qr.TQ="8",qr.Xn="9",qr.Nc="10",qr.Xp="11",qr.bp="12",qr.qi="13",qr.Lv="14",qr.yg="16",qr.jH="18",qr.jx="19",qr.Br="20",qr.Lt="21",qr.Ee="22",qr.Gx="23",qr.xr="24",qr.PC="25",qr.n3="27",qr.r0="31",qr.a3F="32",qr.adD="34",qr.afw="35",qr.eC="36",qr.SK="37",qr.QR="38",qr.$v="39",qr.x_="40",qr.p_="41",qr._V="42",qr.m_="43",qr.iL="47",qr.oy="48",qr.es="51",qr.zj="52",qr.gW="54",qr.vL="55",qr.iA="56",qr.ih="57",qr.xx="58",qr.f0="59",qr.aiA="60",qr.fz="61",qr.j8="70",qr.gc="100",qr.bS="101",qr.VQ="102",qr.hs="103",qr.Du="120",qr.qH="230",qr.ag1="231",qr.bX="232",qr.ZD="233",qr.em="234",qr.Hu="235",qr.z2="236",qr.Kx=function(t){var e,n=qr.J7,i=null;for(e in n)-1!=n[e][1].indexOf(t[1].classID)&&(i=e);return i},qr.J7={},qr.J7[qr.Gx]=["tools/brush",["PbTl"]],qr.J7[qr.xr]=["tools/pencil",["PcTl"]],qr.J7[qr.r0]=["tools/eraser",["ErTl"]],qr.Hp=function(t,e,n){qr.wE.call(this,t,e,n),this.sH={brush:t?Yi.wP():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,prsr:[!1,!1],emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0},this.fd=null,this.Mi=null,this.Co=null,this.OB=null,this.jY=null,this.Po=null,this.Ew=null,this.ad=null,this.EX=null,this.uA=null,this.Pk=null,this.G8=null,this.Xa=null,this.tp=1,this.re=!1,this.ME=null,this.caller=null},qr.Hp.prototype=new qr.wE,qr.Hp.prototype.Vg=function(t,e){return t.nK&&e.j(ii.Ml)},qr.Hp.prototype.w3=function(t,e,n,i,r){var a;i.j(ii.e$)&&(this.Po=new Pr(r.x,r.y),i=(a=this.sH.brush.Brsh.v).Dmtr.v.val,a=null!=a.Hrdn?a.Hrdn.v.val:-1,this.Ew=[i,a,!0,JSON.parse(JSON.stringify(this.sH.brush)),r],this.Lw(n))},qr.Hp.prototype.HC=function(t,e,n){var i,r=this.Ew,a=t.s.V,s=n.x-r[4].x,o=n.y-r[4].y,l=r[0],h=r[1],u=Math.abs(s)>Math.abs(o);u&&r[2]&&(l+=i=Math.round(2*s/a),n.x-=s-.5*i*a),u||r[2]||-1==h||(h+=i=Math.round(.25*o),n.y-=o-4*i);l=Math.max(1,l),h=-1==r[1]?-1:Math.max(0,Math.min(100,h)),r=r[3];r.Brsh.v.Dmtr.v.val=l,-1!=h&&(r.Brsh.v.Hrdn.v.val=h),this.Ew=[l,h,u,r,n];r=tr.cq(r,e.S9.x8,a),e=r[1];e.x=Math.round(this.Po.x-e.m/2),e.y=Math.round(this.Po.y-e.n/2),t.D.xp=[r];r=t.s.Qi(this.Po.x,this.Po.y);t.D.mW={oJ:[],zz:[r.x-l/2,r.y,r.x+l/2,r.y]},-1!=h&&t.D.mW.zz.push(r.x+50/a,r.y-h/2,r.x+50/a,r.y+h/2),t.Lj=!0},qr.Hp.prototype.Yp=function(t,e,n,i,r){if(this.id!=qr.Br&&this.id!=qr.Lt){if(this.Po)return this.Po=null,this.Sa(JSON.parse(JSON.stringify(this.Ew[3]))),t.D.xp=[],t.D.mW=null,void(t.Lj=!0);t=new yr(mr.E.W,!0);t.data={d:mr.J.QP,b:this.id,am2:"showBrushOpts",zM:new Pr(r.TR+4,r.KY)},e.c(t)}},qr.Hp.prototype.Sa=function(t){var e=new yr(mr.E.W,!0);e.data={d:mr.J.ot,jm:Bi.qX,Mt:t},this.caller.c(e)},qr.Hp.xq=function(t,e,n,i,r,a){null==e&&(e="norm"),null==n&&(n=1),null==r&&(r=!1);e={classID:"Fl",Usng:{t:"enum",v:{FlCn:t=null==t?"FrgC":t}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*n)}},PrsT:{t:"bool",v:r},Md:{t:"enum",v:{BlnM:Ji.S8(e)}}};return"Clr"==t&&(e.Clr={t:"Objc",v:i}),"contentAware"==t&&(e.contentAwareColorAdaptationFill={t:"bool",v:!0}),"Ptrn"==t&&(e.Ptrn={t:"Objc",v:a}),{YY:"fill",l5:e}},qr.Hp.prototype.gT=function(t,e,n,i,r){this._a=e;var a=n.kx.length;if(0!=a||n._W()){var s,o=0!=a?-1-n.kx[0]:n.w[0],l=n.g[o];if("fromAction"==t.d){var h=t.__,a=h.l5;if(a&&a.null&&a.null.v[0]&&"Path"==a.null.v[0].v.classID){var u=n.l7(),f=u[0],u=u[1],c=f[0==u.length?0:u[0]].add.vmsk;if("fill"==h.YY){var p=c.sL(),d=r.k$,v=this.sH,g=d>>16&255,y=d>>8&255,m=d>>0&255;this.Ff(n,l,p,g,y,m,Math.round(255*v.opacity),v.bmode,"Fill Path")}else for(var w=0;w<1e3;w++){var b=Rr.$.PX(c.Y,w,!0);if(-1==b){this.f9(n,e,r,i,null);break}for(var M=c.Y[b],M=c.Y.slice(b,b+1+M.length),S=Rr.H.x4(M,!0).U,C=S.slice(0,8),x=8;x<S.length;x+=6)C.push(S[x-2],S[x-1],S[x],S[x+1],S[x+2],S[x+3],S[x+4],S[x+5]);M={};M.Points=C,M.TextOnPathTRange=c.Xo.slice(0);var L=(M=nr.ag(M,2))[0];0==w?this.CK(n,e,r,i,n.s.d$(L[0],L[1])):this.Mi.moveTo(L[0],L[1]);for(var D=2;D<L.length;D+=2){var k=n.s.d$(L[D],L[D+1]);k.nK=!0,this.wl(n,e,r,i,k,this.sH.flow)}}}else if("fill"==h.YY){var T=!!a.PrsT&&a.PrsT.v,A=l?l.add.lspf:0;T&&l&&(l.add.lspf=null==A?1:1|A);f=(a.Opct?a.Opct.v.val:100)/100,u=a.Md?Ji.zK(a.Md.v.BlnM):"norm",p=a.Usng.v.FlCn;if("contentAware"==p){if(null==n.v)return void alert("Select an area to heal first.");if(!n._W())return;this.Eg(n),this.l1(n,0);var E=n.v,O=Rr.t(4*E.rect.Z());Rr.al(E.channel,O,3),this.Oc(n,"sheal",O,E.rect,E.rect),this.G(n,E.rect),this.finish(n,E.rect)}else"Ptrn"==p?(v=r.fC,I=n.v?n.v.rect.clone():new Fr(0,0,n.m,n.n),O=Rr.t(4*I.Z()),Xi.mm(a,O,I,v,new Pr(0,0)),this.Va(n,l,n.v,O,"norm",[6,48,0,2])):("FrgC"==p?d=r.k$:"BckC"==p?d=r.JH:"Blck"==p?d=0:"Wht"==p?d=16777215:"Gry"==p?d=8421504:"Clr"==p&&(d=(a=Rr.I.Na(a.Clr.v)).p<<16|a.z<<8|a.S),this.Ff(n,l,n.v,g=d>>16&255,y=d>>8&255,m=d>>0&255,Math.round(255*f),u,[2,3]));T&&l&&(l.add.lspf=null==A?0:A)}else if("delete"==h.YY){var N,T=o<0?1:l.rq;if(null==(E=n.v))return;var A=o<0?n.En[-o-1]:T<=0?null:1==T?l.sL():l.ez(n).q,I=(T<=0?l:A).rect,h=T<=0?E.rect.BS(I):E.rect.clone();if(h.mN())return;var P,I=h.Z();T<=0?(N=Rr.t(4*I),Rr.Ik(l.buffer,l.rect,N,h)):(N=Rr.t(I),A.extend(h),Rr.rR(A.channel,A.rect,N,h)),0<=o&&l.Ga(n,E)?T<=0?(Rr.Bg(N,0),Rr.Ik(l.jS.sz,l.jS.xi,N,h)):(N.fill(255),Rr.rR(l.jS.sz,l.jS.xi,N,h)):T<=0?(P=Rr.t(N.length>>2),Rr.VW(N,P,3),Rr.a.U8(Rr.lk(E.rect.Z()),E.rect,P,h,E.channel,h,1),Rr.al(P,N,3)):(P=Rr.t(E.rect.Z()),g=r.JH>>>16&255,y=r.JH>>8&255,m=r.JH>>0&255,P.fill(Math.round(Rr.X_(g,y,m))),Rr.a.U8(P,E.rect,N,h,E.channel,h,1)),this.dA(n,!0,[2,2],o,T,h,N)}}"stroke"==t.d&&(s=t.a6s,null==(E=n.v)&&(E={rect:l.rect.clone(),channel:Rr.t(l.rect.Z())},Rr.VW(l.buffer,E.channel,3)),N=Xi.Zp(s),N=qr.$S.tj(E,Math.ceil(N[0]),Math.ceil(N[1])),d=Rr.I.Na(s.Clr.v),g=Math.round(d.p),y=Math.round(d.z),m=Math.round(d.S),this.Ff(n,l,N,g,y,m,Math.round(255*s.Opct.v.val/100),Ji.zK(s.Md.v.BlnM),[14,9])),"fillBMP"==t.d&&this.Va(n,l,n.v,t.KS,t.pW,t.rD),"draw"==t.d&&(s=(m=t.bG).rect,this.Eg(n),l=n.g[n.w[0]],t.a2f&&l&&l.rq<=0&&0==n.kx.length?(s=qr.Ap.YK(m,n),l.buffer=m.buffer.slice(0),l.rect=s.clone()):(l=this.sH.bmode,this.sH.bmode="norm",this.Oc(n,"draw",m.buffer,s,s.BS(new Fr(0,0,n.m,n.n))),this.sH.bmode=l),this.G(n,s),n.hu=!0,this.finish(n,s,t.rD,t.a2f))}},qr.Hp.prototype.Ff=function(t,e,n,i,r,a,s,o,l){var h=null==n?new Fr(0,0,t.m,t.n):n.rect,i=s<<24|a<<16|r<<8|i<<0,h=Rr.t(4*h.Z());Rr.Bg(h,i),this.Va(t,e,n,h,o,l)},qr.Hp.prototype.Va=function(t,e,n,i,r,a){var s,o,l=0!=t.kx.length?-1-t.kx[0]:t.w[0],h=l<0?1:e.rq,u=l<0?t.En[-1-l]:h<=0?null:1==h?e.sL():e.ez(t).q,f=((h<=0?e:u).rect,null==n?new Fr(0,0,t.m,t.n):n.rect),c=null==n?Rr.UU(t.m*t.n):n.channel,p=f.Z(),d=null;h<=0?(s=Rr.t(4*p),Rr.Ik(e.buffer,e.rect,s,f)):(s=Rr.t(p),u.extend(f),Rr.rR(u.channel,u.rect,s,f)),null!=n&&Rr.Lx(c,i),0<h&&(d=Rr.t(p),Rr.JT(i,d)),0<=l&&n&&e.Ga(t,n)?(u=e.jS.Hq,p=e.jS.Hq.slice(0),h<=0?Rr.VO(i,p):Rr.VO(d,p),(n=new Ri([2,3],this)).data={d:"drawtemp",i:t.w[0],EK:h,anO:u,as0:p},t.Sy(n),this.PS(n.data,t)):(h<=0?(e.zC(0)&&(o=Rr.t(f.Z()),Rr.VW(s,o,3)),Rr.a.bW(r,i,f,s,f,f,1),e.zC(0)&&Rr.al(o,s,3)):Rr.a.U8(d,f,s,f,c,f,1),this.dA(t,!0,a,l,h,f,s))},qr.Hp.prototype.XC=function(t){return-1!=ii.yS.indexOf(t)},qr.Hp.prototype.XL=function(t,e,n,i){var r,a=this.sH.brush,s=i.j(ii.e$),o=s!=this.re,a=qr.Hp.Bl(a,i);null!=a&&this.Sa(a),i.j(ii.NT)||-1==i.tg()||(r=ii.Fr(Math.round(100*this.sH.opacity),i.tg())/100,this.sq({opacity:r},e)),this.id==qr.TQ&&o&&null!=t&&(r=2==(r=this.sH.qsmode)?null==t.v?0:1:2,this.sq({qsmode:r},e)),this.re=s,o&&(t&&(this.tp=t.s.V),this.Lw(n,i))},qr.Hp.Bl=function(t,e){var n=t.Brsh.v.Dmtr.v.val,i=null!=t.Brsh.v.Hrdn?t.Brsh.v.Hrdn.v.val:-1,r=n,a=i,s=e.j(ii.Ml);if(e.j(ii.e_)&&(s?i=25*Math.floor((i-1)/25):n<=10?n--:n=n<=50?5*Math.floor((n-1)/5):n<=100?10*Math.floor((n-1)/10):n<=200?25*Math.floor((n-1)/25):n<=400?50*Math.floor((n-1)/50):100*Math.floor((n-1)/100)),e.j(ii.F_)&&(s?i=25*Math.ceil((i+1)/25):n<10?n++:n=n<50?5*Math.ceil((n+1)/5):n<100?10*Math.ceil((n+1)/10):n<200?25*Math.ceil((n+1)/25):n<400?50*Math.ceil((n+1)/50):100*Math.ceil((n+1)/100)),n=Math.max(1,n),i=Math.max(0,Math.min(100,i)),-1==a&&(i=-1),n==r&&i==a)return null;t=JSON.parse(JSON.stringify(t));return t.Brsh.v.Dmtr.v.val=n,-1!=a&&(t.Brsh.v.Hrdn.v.val=i),t},qr.Hp.prototype.Lw=function(t,e,n,i){if(0!=t.S9.list.length){var r=this.id;if(r!=qr.n3&&r!=qr.jx&&r!=qr.Gx&&r!=qr.xr||!(null!=e&&e.j(ii.e$)||this.sH.alt[0])){var a=this.tp,s=this.sH.brush;if((r==qr.n3||r==qr.jx)&&n&&this.G8&&this.G8.length==4*this.Pk.Z()){var o,l,h=n.s.Qi(i.x,i.y),u=this.HT(h),e=this.G8,n=this.Pk,i=new Fr(n.x+u.x,n.y+u.y,n.m,n.n),u=tr.cq(s,t.S9.x8,a),f=u[0],n=u[1],u=Math.ceil(n.m/a),h=new Fr(Math.round(h.x-u/2),Math.round(h.y-u/2),u,u),u=Rr.t(4*h.Z());Rr.Ik(e,i,u,h),1==a?(o=u,l=h):(i=new _r(a,0,0,a,0,0),i=qr.Q.xX([u,h],i,!0),(l=n.clone()).x=i.rect.x,l.y=i.rect.y,l.iy(i.rect)?o=i.buffer:(o=Rr.t(4*l.Z()),Rr.Ik(i.buffer,i.rect,o,l)));for(var c=this.sH.opacity/255,p=0;p<o.length;p+=4)o[p+3]=c*(f[p+3]*o[p+3]);tr.anz(new Uint32Array(o.buffer),l,4278190080,4294967295),l={vl:o,Ni:l,bM:new Pr(l.m/2,l.n/2)}}else l=tr.Jr(s,t.S9.x8,a,r==qr.PC)}else l="crosshair";r=new yr(mr.E.W,!0);r.data={d:mr.J.tW,Ek:l},this.caller&&this.caller.c(r)}},qr.Hp.prototype.enable=function(t,e,n,i){this.fd=n,this.caller=e,this.Sa(JSON.parse(JSON.stringify(this.sH.brush))),t&&0!=t.s.V&&(this.tp=t.s.V),this.Lw(n,i)},qr.Hp.prototype.v1=function(t,e){e==Bi.qX&&(this.sH.brush=t.S9.Ej,this.Lw(t))},qr.Hp.prototype.qx=function(t,e,n,i,r){for(var a in t)this.sH[a]=t[a];this.sH.alt[0]&&this.Lw(r,i,n)},qr.Hp.prototype.UR=function(t){var e=0!=t.kx.length?-1-t.kx[0]:t.w[0],n=t.g[e],i=e<0?1:n.rq,r=e<0?t.En[-e-1]:i<=0?null:1==i?n.sL():n.ez(t).q,e=r?r.channel:n.buffer,t=(r||n).rect.clone();return[n,i,r,e,t]},qr.Hp.prototype.Eg=function(t,e){this.Xa=null==t.v?null:{rect:t.v.rect.clone(),channel:t.v.channel.slice(0)};var n=this.UR(t),i=n[0],r=n[1],a=n[2];this.uA=n[3],this.EX=n[4];t=new Fr(0,0,t.m,t.n).hq(this.EX);(this.sm()&&r<=0||t.iy(this.EX))&&1!=e?this.uA=this.uA.slice(0):(a||i).extend(t)},qr.Hp.prototype.l1=function(t,e){var n=this.UR(t),i=n[1],n=[n[3],n[4]],e=null!=e?e:this.sH.sfrom;i<=0&&0!=e&&(n[1]=new Fr(0,0,t.m,t.n),n[0]=t.y5(1==e&&t.w[0]!=t.g.length-1?t.w[0]:null).slice(0)),this.Pk=n[1].clone(),this.G8=n[0].slice(0)},qr.Hp.prototype.z7=function(t,e,n){if(t.j(ii.e$)){t=new yr(mr.E.u,!0);return t.b=qr.Lv,t.data={d:"pickhere",agk:n},e.c(t),!0}return!1},qr.Hp.prototype.y_=function(t,e,n,i,r,a){var s,o,l,h,u,f;this.id==qr.TQ||t._W(this.caller)?this.id!=qr.TQ&&this.Mi||(this.Eg(t),u=new Fr(0,0,t.m,t.n),(s=null)!=a&&(l=0!=t.kx.length?-1-t.kx[0]:t.w[0],h=t.g[l],o=l<0?t.En[-l-1]:h.rq<=0?null:1==h.rq?h.sL():h.ez(t).q,s=Rr.t(4*u.Z()),o?qr.Hp.uz(this.uA,this.EX,o.color,s,u):Rr.Ik(this.uA,this.EX,s,u)),f=this.sH,this.Mi&&this.id==qr.TQ&&0!=f.qsmode&&null!=t.v||(l=e.k$,h=e.JH,"erase"==this.ME&&(o=l,l=h,h=o),u=this.id==qr.TQ?this.EX:u,this.Mi=new tr(f.brush,e.S9.x8,e.S9.u_,{cj:r,cL:a,a6I:50*f.smth/t.s.V,Wn:this.id==qr.xr||1==f.emode,Jv:f.prsr},l,h,u,s)),this.id==qr.TQ&&this.Mi.akw(f.brush,2==f.qsmode?0:16777215),f=t.s.Qi(i.x,i.y),n.j(ii.Ml)&&this.Co?(n=this.Co,this.Mi.moveTo(n.x,n.y,i.r_),this.Mi.lineTo(.001*n.x+.999*f.x,.001*n.y+.999*f.y,i.r_),this.Mi.lineTo(f.x,f.y,i.r_)):this.Mi.moveTo(f.x,f.y,i.r_),this.Co=f,this.OB=f.clone(),this.jY=new Ki(f,t.s.Zw)):this.Mi=null},qr.Hp.prototype.fI=function(t,e,n){t&&0!=t.s.V&&t.s.V!=this.tp&&(this.tp=t.s.V,this.Lw(n))},qr.Hp.prototype.Se=function(t,e,n,i){if(null!=this.Mi){t.g[t.w[0]];var r=t.s.Qi(i.x,i.y),n=this.jY.Id(r,n);if(n.iy(this.Co))return 1;if(this.Mi.lineTo(n.x,n.y,i.r_),this.Co=n,this.id==qr.n3||this.id==qr.jx){var n=this.mp(),n=t.s.d$(r.x-n.x,r.y-n.y),n=new Fr(Math.round(n.x)-5,Math.round(n.y)-5,11,11),a=Rr.t(4*n.Z());Rr.Bg(16777215);for(var s=0;s<11;s++)a[4*(11*s+5)+3]=a[4*(55+s)+3]=255;t.D.po=[[a,n]],t.Lj=!0}}},qr.Hp.prototype.nr=function(t,e,n,i){n.No==this.id&&this.id==qr.TQ&&null!=t&&(null!=t.v&&t.w[0]==this.ai_||(this.ai_=t.w[0],this.sq({qsmode:0},e)))},qr.Hp.prototype.G=function(t,e){var n;0==t.kx.length?(n=t.g[t.w[0]],null==e&&(e=this.Mi.aC(),this.sm()&&n.rq<=0&&(e=e.BS(this.EX))),e.mN()||(n.rq<=0&&n.G(e),1==n.rq&&(n.sL().X$=!0,n.fF(t)),3==n.rq&&n.G(),t.G(t.root.W4(e,t,t.w[0],!0)))):t.Lj=!0},qr.Hp.prototype.f9=function(t,e,n,i,r){var a,s;null!=this.Mi&&(this.Mi.finish(),this.id!=qr.jH&&this.id!=qr.jx&&this.id!=qr.TQ&&this.Kd(t),this.id!=qr.n3&&this.id!=qr.jx||(t.D.po=[],t.Lj=!0),this.id==qr.TQ?(a=t.v,t.v=this.Xa,(s=new yr(mr.E.u,!0)).data={d:"setsel",rD:this.name,v:a},s.b=qr.rZ,e.c(s),0==this.sH.qsmode&&this.sq({qsmode:1},e)):(this.finish(t,this.Mi.CY()),this.Mi=null,this.ad=null),this.dir=0)},qr.Hp.prototype.sq=function(t,e){for(var n in t)this.sH[n]=t[n];var i=new yr(mr.E.W,!0);i.data={d:mr.J.QP,b:this.id,Ue:t},e.c(i)},qr.Hp.prototype.sm=function(){var t=this.id;return t==qr.TQ||t==qr.r0||t==qr.$v||t==qr.x_||t==qr.p_||t==qr.Ee},qr.Hp.prototype.finish=function(t,e,n,i,r){var a,s,o,l=0!=t.kx.length?-1-t.kx[0]:t.w[0],h=t.g[l],u=l<0?1:h.rq,f=l<0?t.En[-l-1]:u<=0?null:1==u?h.sL():h.ez(t).q,c=(f||h).rect;!this.sm()&&c.iy(this.EX)||(null==f?this.sm()?h.Er():(s=e.hq(this.EX),o=Rr.t(4*s.Z()),Rr.Ik(h.buffer,h.rect,o,s),h.buffer=o,h.rect=s):f.Er(),this.G(t,c)),u<=0?(a=Rr.t(4*e.Z()),Rr.Ik(this.uA,this.EX,a,e)):((a=Rr.t(e.Z())).fill(f.color),Rr.rR(this.uA,this.EX,a,e)),this.dA(t,!1,n||this.name,l,u,e,a,i,r)},qr.Hp.prototype.dA=function(t,e,n,i,r,a,s,o,l){var h=s;0<r&&(h=Rr.t(4*a.Z()),qr.Hp.uz(s,a,0,h,a));n=new Ri(n,this);n.data=[{i:i,EK:r,Ni:a,lJ:h}],o&&(n.data.ov=[t.v,null]),l&&(n.data.ov=[this.Xa,t.v]),t.Sy(n),e?this.PS(n.data,t):o&&(t.v=null),qr.YH.wd(t,n.data)},qr.Hp.prototype.AP=function(t,e){this.Dy(t,e,!1)},qr.Hp.prototype.PS=function(t,e){this.Dy(t,e,!0)},qr.Hp.prototype.Dy=function(t,e,n){var i,r;"drawtemp"==t.d?(i=n?t.as0:t.anO,(r=e.g[t.i]).jS.Hq=i,r.J6(e,0,0,e.v),r.G(),e.hu=!0):(qr.YH.IY(e,t),t.ov&&(e.v=t.ov[n?1:0],e.RD=!0)),e.G()},qr.Hp.prototype.Kd=function(t){this.Oc(t,this.ME,this.Mi.Fy(),this.Mi.bZ(),this.Mi.aC()),this.G(t)},qr.Hp.prototype.Oc=function(t,e,n,i,r){var a,s,o,l,h,u,f,c,p=this.sH,d=t.g[t.w[0]],v=0!=t.kx.length?t.En[t.kx[0]]:d.rq<=0?null:1==d.rq?d.sL():d.ez(t).q,g=Rr.t(4*r.Z()),y=d.zC(0);if(null==v?(this.id==qr.Lt&&"heal"==e?Rr.Ik(d.buffer,d.rect,g,r):Rr.Ik(this.uA,this.EX,g,r),y&&(a=Rr.t(r.Z()),Rr.VW(g,a,3))):qr.Hp.uz(this.uA,this.EX,v.color,g,r),t.v&&"qselect"!=e&&(l=r.BS(t.v.rect),o=Rr.t(4*l.Z()),"copy"==e?(s=Rr.t(l.Z()),Rr.rR(t.v.channel,t.v.rect,s,l),Rr.Ik(g,r,o,l),Rr.a.hM(n,i,o,l,s,l,0,l,1,!1)):(Rr.Ik(n,i,o,l),Rr.WE(t.v.channel,t.v.rect,o,l)),n=o,i=l),"idraw"!=e&&"ierase"!=e||(null==this.ad&&(this.ad=Rr.t(this.EX.Z())),h=this.sH.samp,u=this.fd.JH,f=this.Co,c=r,s=new Pr(Math.max(c.x,Math.min(c.x+c.m-1,f.x)),Math.max(c.y,Math.min(c.y+c.n-1,f.y))),l=(o=0==h?s:this.OB).x,F=o.y,F=qr.yt._H(this.uA,this.EX,[o,new Pr(l-2,F),new Pr(l+2,F),new Pr(l,F-2),new Pr(l,F+2)]),h=qr.yt.pE(g,r,s,F=2==h?[[u>>>16&255,u>>>8&255,u>>>0&255,255]]:F,this.sH.wconf),u=Rr.t(r.Z()),Rr.rR(this.ad,this.EX,u,r),Rr.sx.hq(h,u,u),Rr.rR(u,r,this.ad,this.EX),Rr.WE(u,r,n,i),e=e.slice(1)),"draw"==(e="erase"==e&&(16777215!=qr.YH.un(t)||v)?"draw":e))Rr.a.bW(p.bmode,n,i,g,r,r,p.opacity);else if("erase"==e){var m=Rr.t(4*r.Z());Rr.Ik(n,i,m,r),null==v?(w=Rr.t(r.Z()),Rr.VW(m,w,3),Rr.A_(w,p.opacity),Rr.tU(w),Rr.WE(w,r,g,r)):(Rr.Bg(m,0,4278190080),Rr.a.bW("norm",m,r,g,r,r,p.opacity))}else if("clone"==e||"heal"==e){var w=this.mp(),m=this.Pk.clone();m.offset(w.x,w.y);w=r.clone();w.bA(1,1);var b,M=Rr.t(4*w.Z()),S=Rr.t(w.Z());Rr.Ik(n,i,M,w),Rr.VW(M,S,3),Rr.Bg(M,0),null==v?(Rr.Ik(this.G8,m,M,w),b=Rr.t(w.Z()),Rr.VW(M,b,3),Rr.k2(b,S)):qr.Hp.uz(this.G8,m,v.color,M,w),"clone"==e&&(Rr.al(S,M,3),Rr.a.bW(p.bmode,M,w,g,r,r,p.opacity)),"heal"==e&&(b=S.slice(0),Rr.round(b,20),m=Rr.t(4*w.Z()),null==v?Rr.Ik(this.uA,this.EX,m,w):qr.Hp.uz(this.uA,this.EX,v.color,m,w),Rr.a.hM(M,w,m,w,b,w,0,w,1,!1),Rr.BH.rc(m,b,w),Rr.a.hM(m,w,g,r,S,w,0,r,1,!1))}else if("dodge"==e||"burn"==e){var M=Rr.t(4*r.Z()),C=0,x=0,L=0;Rr.Ik(n,i,M,r);var D=4*r.Z(),k=qr.Hp.Rd;this.re&&(e="dodge"==e?"burn":"dodge");var T=p.rng;"dodge"==e&&(C=[.5,1,2][T],x=[1,.5,1][T],L=[.5,0,0][T]),"burn"==e&&(C=[2,1,.5][T],x=[1,2,1][T],L=[-1,0,0][T]);for(var A=0;A<D;A+=4){var E=M[A+3];g[A+0]=k(g[A+0],C,x,L,E),g[A+1]=k(g[A+1],C,x,L,E),g[A+2]=k(g[A+2],C,x,L,E)}}else if("sponge"==e||"redeye"==e){M=Rr.t(4*r.Z()),S=Rr.t(r.Z());Rr.Ik(n,i,M,r),Rr.VW(M,S,3),Rr.VO(g,M);T=p.smode;this.re&&(T=1-T);p=Gr.PD("hue2");"sponge"==e?Je.nS(p,0,[0,[-50,46][T],[6,5][T]]):Je.nS(p,1,{tc:[265,305,25,55],VR:[0,-90,-70]});p=ji.PJ("hue2",p);ji.O9(p,M,M,r),Rr.a.hM(M,r,g,r,S,r,0,r,1,!1)}else if("copy"==e)Rr.Ik(n,i,g,r);else if("sheal"==e){M=Rr.t(4*r.Z()),S=Rr.t(r.Z());Rr.Ik(n,i,M,r),Rr.VW(M,S,3),M.fill(0);var O=this.G8,N=this.Pk;v&&(O=Rr.t(4*N.Z()),qr.Hp.uz(this.G8,N,0,O,N)),0!=Rr.Cn.rc(O,N,S,M,r)&&Rr.Ik(O,N,M,r),0==this.sH.sfrom?Rr.Ik(M,r,g,r):(Rr.Ik(this.uA,this.EX,g,r),Rr.al(S,M,3),Rr.a.bW("norm",M,r,g,r,r,1))}else if("qselect"==e){var O=this.EX,N=O.m,e=O.n,I=N*e,P=this.Mi.Fy(),F=this.uA,F=qr.$S.dy;(S=F.fB).fill(128);for(A=0;A<I;A++){var _=P[A<<2];255!=P[3+(A<<2)]||0!=_&&255!=_||(S[A]=_)}S[0]=S[N-1]=0,S[(e>>>1)*N]=S[(e>>>1)*N+N-1]=0,qr.UI.hm(F,!0),t.v={rect:O,channel:F.v.slice(0)},t.RD=!0}null==v?(y&&Rr.al(a,g,3),Rr.Ik(g,r,d.buffer,d.rect)):qr.Hp.Z0(g,r,v)},qr.Hp.mp=function(){return null},qr.Hp.Rd=function(t,e,n,i,r){t*=1/255,n=i+e*Math.pow(t,n),r=Math.round(n*r+t*(255-r));return Math.max(0,Math.min(255,r))},qr.Hp.uz=function(t,e,n,i,r){var a=Rr.t(r.Z());a.fill(n),Rr.rR(t,e,a,r),i.fill(255),Rr.PU(a,i)},qr.Hp.Z0=function(t,e,n){var i=Rr.t(e.Z());Rr.JT(t,i),Rr.rR(i,e,n.channel,n.rect)},qr.$S=function(t,e,n){qr.wE.call(this,t,e,n),this.sH={binop:0,feat:0,cstr:{sB:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1},this.a9=new Pr(-1,-1),this.t9=new Pr(-1,-1),this.nD="default",this._a=null,this.ajt=!0,this.op=!1,this.wH=new _i,this.WP=!1,this.eQ=null,this.kU=null,this.$C=!1,this.mB=!1},qr.$S.prototype=new qr.wE,qr.$S.prototype.aca=function(){var t=this.sH,e=[t.binop,t.feat];return this.id==qr.Xn&&e.push(t.wconf),e},qr.$S.prototype.ag3=function(t,e,n){var i=this.sH;i.binop=t[0],i.feat=t[1],i.wconf=t[2];t=new yr(mr.E.W,!0);t.data={d:mr.J.QP,b:this.id,sH:i},n.c(t)},qr.$S.dy={key:""},qr.$S.o4=function(t,e,n){t={YY:t,l5:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};return e&&(t.l5.T=e),null!=n&&(t.l5.AntA={t:"bool",v:n}),t},qr.$S.K6=function(t,e,n){return qr.$S.o4("set",{t:"Objc",v:{classID:t,Top:{t:"UntF",v:{type:"#Pxl",val:e.y}},Left:{t:"UntF",v:{type:"#Pxl",val:e.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:e.y+e.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:e.x+e.m}}}},n)},qr.$S.Nq=function(t,e,n){for(var i=[],r=[],a="set",s=0;s<t.length;s+=2)i.push(t[s]),r.push(t[s+1]);return qr.$S.o4(a=e?["set","addTo","subtractFrom","interfaceWhite"][e]:a,{t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:i},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:r}]}}}},n)},qr.$S.aaS=function(t,e,n){t={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:t.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:t.y}}}},t=qr.$S.o4("set",t);return t.l5.Tlrn={t:"long",v:e[0]},t.l5.AntA={t:"bool",v:e[1]},t.l5.Cntg={t:"bool",v:e[2]},1==n&&(t.l5.Mrgd={t:"bool",v:n}),t},qr.$S.X0=function(t){return qr.$S.o4("set",{t:"enum",v:{Ordn:t?"Al":"None"}})},qr.$S.arU=function(t,e,n){var i={classID:"null"};return"border"!=t&&(i.selectionModifyEffectAtCanvasBounds={t:"bool",v:n}),i[{e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[t[0]]]={t:"UntF",v:{type:"#Pxl",val:e}},{YY:t,l5:i}},qr.$S.sj=function(t,e,n){var i={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},e={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:e}}]};n&&e.v.push({t:"name",v:{classID:"Lyr",val:n}});return{YY:["set","add","subtract","interfaceIconFrameDimmed"][t],l5:[{classID:"null",null:i,T:e},{classID:"null",null:e,T:i},{classID:"null",null:e,From:i},{classID:"null",null:e,With:i}][t]}},qr.$S.MX=function(t,e){var n=new yr(mr.E.W,!0);n.data={d:mr.J.ot,jm:Bi.ph},e.Me||t.c(n),n.data={d:mr.J.ot,jm:Bi.v$},e.jv.dm||t.c(n)},qr.$S.prototype.gT=function(t,e,n,i,r){qr.$S.MX(e,r),this._a=e;var a,s,o,l=t.d,h=new Fr(0,0,n.m,n.n),u=!1;if("fromAction"==l){var f,c=t.__,p=c.YY,d=c.l5,v=d?d.selectionModifyEffectAtCanvasBounds:null,g=v&&v.v;if("colorRange"==p)var y=d.Clrs?(c=d.Clrs.v.Clrs,$=255,m=.4,(Q=0)==(v=["Shdw","Mdtn","Hghl"].indexOf(c))?$=60:1==v?(Q=100,$=150):Q=190,c=d[(y=["shadows","midtones","highlights"][v])+"LowerLimit"],v=d[y+"UpperLimit"],c&&(Q=c.v),v&&($=v.v),(y=d[y+"Fuzziness"])&&(m=y.v/100),qr.$S.ly(n,Q,$,m,!0)):(Q=d.Mnm.v,$=d.Mxm.v,Q={HH:Q.Lmnc.v,q4:Q.A.v,S:Q.B.v},$={HH:$.Lmnc.v,q4:$.A.v,S:$.B.v},m=d.Fzns.v/200,qr.$S.ly(n,Q,$,m)),m=[7,8];else if("inverse"==p){if(null==n.v)return void alert("No selection!");y={channel:Rr.t(h.Z()),rect:h},Rr.rR(n.v.channel,n.v.rect,y.channel,y.rect),Rr.tU(y.channel),m=[7,2]}else if("expand"==p){var w=d.By.v.val,b=n.v.rect.clone();b.bA(w,w);var M=Rr.t(b.Z()),S=Rr.t(b.Z());Rr.rR(n.v.channel,n.v.rect,S,b),Rr.style.stroke(S,M,b,w),y={channel:M,rect:b},m=[7,4]}else if("contract"==p){var w=d.By.v.val,C=n.v.rect.clone();C.bA(1,1),g||(C=C.BS(h));var S=Rr.t(C.Z()),x=Rr.t(S.length);Rr.rR(n.v.channel,n.v.rect,S,C),Rr.tU(S),Rr.style.stroke(S,x,C,w),Rr.tU(x),Rr.Er(y={channel:x,rect:C}),m=[7,5]}else if("border"==p){w=d.Wdth.v.val;y=qr.$S.tj(n.v,w/2,w/2),m=[7,9]}else if("feather"==p||"smoothness"==p){w=d.Rds.v.val;y=qr.$S.$b(n.v,w,"smoothness"==p,h,g),m="feather"==p?[7,6]:[19,3,0]}else{M=d.null.v,b=null!=d.AntA&&d.AntA.v;function L(t){var e=t.Top.v.val,n=t.Left.v.val;return new Fr(n,e,t.Rght.v.val-n,t.Btom.v.val-e)}var D=["set","addTo","subtractFrom","interfaceWhite"].indexOf(p),S=d.T?d.T.v:null;if(S&&"Elps"==S.classID)y=this.aB(qr.iE.LD(L(S))),m=[10,4];else if(S&&"Rctn"==S.classID){var k=L(S);(y={channel:Rr.t(k.Z()),rect:k.clone()}).channel.fill(255),m=[10,15]}else if(S&&"ObSl"==S.classID){var k=L(S),x=qr.$S.dy,T=x.rect,A=x.fB,E=T.m,O=T.n,N=k.x-T.x,I=N+k.m-1,P=Math.max(N,Math.min(I,N+I>>>1)),F=k.y-T.y,_=F+k.n-1,B=Math.max(F,Math.min(_,F+_>>>1)),C=Math.max(N,0),R=Math.min(I,E),w=Math.max(F,0),U=Math.min(_,O);if(A.fill(128),0<=F)for(var j=C;j<R;j++)A[F*E+j]=0;if(_<O)for(j=C;j<R;j++)A[_*E+j]=0;if(0<=N)for(var H=w;H<U;H++)A[H*E+N]=0;if(I<E)for(H=w;H<U;H++)A[H*E+I]=0;for(var w=qr.Jd.ux,J=Math.round(k.m*w),q=Math.round(k.n*w),j=Math.max(0,P-J);j<Math.min(E,P+J);j++)A[B*E+j]=255;for(H=Math.max(0,B-q);H<Math.min(O,B+q);H++)A[H*E+P]=255;qr.UI.hm(x,!0),y={channel:x.v.slice(0),rect:T.clone()},m=[10,44]}else if(S&&"Plgn"==S.classID)y=this.aB(function(t){for(var e=t[0].arr,n=t[1].arr,i={U:[],C:[]},r=0;r<e.length;r++)i.C.push(0==r?"M":"L"),i.U.push(e[r],n[r]);return i.C.push("Z"),i}(S.Pts.v.arr)),m=[10,9];else if(S&&"Pnt"==S.classID)y=qr.yt.Jk(n,new Pr(S.Hrzn.v.val,S.Vrtc.v.val),[d.Tlrn.v,b,null==d.Cntg||d.Cntg.v],!!d.Mrgd&&d.Mrgd.v),m=[10,12];else if(S&&"None"==S.Ordn)y=null,m=[7,1];else{if(!S||"Al"!=S.Ordn){if(S&&S[0]&&"WrPt"==S[0].v.keyID){var G={d:"frompath",Nn:[-1,0,0]};return void this.gT(G,e,n,i,r)}var T=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(p),Z="set"==p?S:M,M=Z[0].v.enum;if("Trsp"==M||"Msk"==M||"vectorMask"==M||"Trgt"==M){var z=n.w[0];2==Z.length&&(z=Ui.FO(n,Z[1]));var V=["Trsp","Msk","vectorMask"].indexOf(M);G={d:"fromlayer",Nn:[z,V="Trgt"==M&&1==n.g[z].rq?1:V,T]}}else if("name"==Z[0].t){for(var z=0,W=0;W<n.En.length;W++)n.En[W].name==Z[0].v.val&&(z=W);G={d:"fromchannel",Nn:[-5-z,0,T]}}else G={d:"fromchannel",Nn:[-1-["RGB","Rd","Grn","Bl"].indexOf(M),0,T]};return void this.gT(G,e,n,i,r)}r=h;if(0!=n.w.length){for(var X=n.root.eu(n.w[0]);X.parent&&X.parent.parent;)X=X.parent;X.i.add.artb&&(r=X.i.Gn())}(y={channel:Rr.t(r.Z()),rect:r}).channel.fill(255),m=[7,0]}!b&&y&&Rr.round(y.channel),d.Fthr&&(y=qr.$S.$b(y,d.Fthr.v.val,!1)),"set"!=p&&null!=n.v&&(y=Rr.sx.NJ(y,n.v,D))}"expand"!=p&&"contract"!=p||g||h.contains(y.rect)||(f=y.rect.BS(h),g=Rr.t(f.Z()),Rr.rR(y.channel,y.rect,g,f),y.channel=g,y.rect=f)}if("qmask"==l&&(u=!0,f=n.y7(),K=new Fr(0,0,n.m,n.n),f?(y=f.rect.iy(K)&&Rr.a8(f.channel,255)?null:{rect:f.rect.clone(),channel:f.channel.slice(0)},a=f):(y=null,(s=new qi.vi).color=0,s.name="Quick Mask",s.KT=!0,n.v?(s.rect=n.v.rect.clone(),s.channel=n.v.channel.slice(0)):(s.rect=K,s.channel=Rr.t(s.rect.Z()),s.channel.fill(255))),m=[6,6,1],n.hu=!0),"setsel"==l&&(y=t.v,m=t.rD),"crange"==l&&(Q=t.Ox,$=t.e7,y=qr.$S.ly(n,Q,$,t.KO),m=[7,8]),"fromlayer"==l||"fromchannel"==l||"frompath"==l){var Y=t.Nn[0],V=t.Nn[1],D=t.Nn[2];if("fromlayer"==l){null==Y&&(Y=n.w[0]);var K=n.g[Y];if(0==V){var Q=K.rect,$=K.buffer;if(Q.mN())return;var tt=Rr.t($.length>>>2);Rr.VW($,tt,3),y={channel:tt,rect:Q.clone()}}else{null==K.q&&K.fF(n);var et=1==V?K.sL():K.q;y=qr.$S.Nj(et,h)}this.track(qr.$S.sj(D,["Trsp","Msk"][V],K.getName()))}else if("frompath"==l){var nt=(it=n.l7())[1],it=it[0];if(null==Y&&(0==it.length||0==nt.length))return;var rt=it[nt[0]];if(null!=Y)for(W=0;W<it.length;W++)it[W].BT==Y&&(rt=it[W]);l=(et=rt.add.vmsk.sL()).bZ();if(0==l.Z())return;tt=et.rz();null!=t.Nn[3]&&(this.ajt=t.Nn[3]),this.ajt&&(tt=tt.slice(0),Rr.round(tt)),o=[JSON.stringify(n.B0),JSON.stringify(n.Ae)],nt=["[]","[]"],n.B0=[],n.Ae=[],y={channel:tt,rect:l}}else null==Y&&(Y=qr.$S.tV(n)),y=qr.$S.x5(n,Y);0!=D&&n.v&&(y=Rr.sx.NJ(y,n.v,D)),m=[14,11]}null!=y&&Rr.a8(y.channel,0)&&(y=null,m=[7,1]),y&&Rr.Er(y);m=new Ri(m,this);m.data={d:"changesel",Xa:n.v,TB:y,y7:u,a33:a,afy:s,HU:o,ash:nt},n.Sy(m),this.PS(m.data,n)},qr.$S.tV=function(t){return 0!=t.kx.length?-5-t.kx[0]:"[1,1,1]"==JSON.stringify(t.s.DF)?-1:-2-t.s.DF.indexOf(1)},qr.$S.x5=function(t,e){var n,i,r,a=new Fr(0,0,t.m,t.n);return-5<e&e<0&&(n=-e-1,i=t.y5(),r=Rr.t(a.Z()),0==n?Rr.JT(i,r):Rr.VW(i,r,n-1),r={channel:r,rect:a.clone()}),r=e<-4?qr.$S.Nj(t.En[-e-5],a):r},qr.$S.Nj=function(t,e){var n,i;if(0==t.Na()){if(0==(i=t.bZ().clone()).Z())return;n=t.rz()}else n=Rr.t((i=e).Z()),t.PZ(i,n);return{channel:n,rect:i}},qr.$S.prototype.Vg=function(t){return this.WP||t.nK&&this.id!=qr.mt},qr.$S.prototype.Hz=function(t,e,n){e=new yr(e,!0);e.data=n,t.c(e)},qr.$S.prototype.ur=function(t,e){var n=new yr(mr.E.W,!0);n.data={d:mr.J.tW,Ek:e},t.c(n)},qr.$S.prototype.bZ=function(t,e,n){e=null==t.v||this.wH.fU(1)||this.wH.uk(1)?e:null;var i=this.a9,r=this.t9;n&&(i.x=Math.max(0,Math.min(t.m,i.x)),i.y=Math.max(0,Math.min(t.n,i.y)),r.x=Math.max(0,Math.min(t.m,r.x)),r.y=Math.max(0,Math.min(t.n,r.y)));i=qr.zL.jG(i,r,e,!0,this.sH.cstr),r=i[0].x,e=i[0].y;return new Fr(r,e,i[1].x-r,i[1].y-e)},qr.$S.prototype.CK=function(t,e,n,i,r){if(this.mB=!0,!this.df()){if(this._a=e,this.op=!1,this.wH.CK(i),this.a9=t.s.Qi(r.x,r.y),this.a9=qr.DD.ET(t,this.a9,n),this.qy(t,this.a9,i))return this.WP=!0,void(this.eQ=t.v.rect.clone());this.Wv(t,n,i,r),t.s.Ht=new Fr}},qr.$S.prototype.qy=function(t,e,n){var i=n.j(ii.Ml),n=n.j(ii.e$);return!(!t.v||i||n||0!=this.sH.binop)&&Rr.LP(e,t.v.channel,t.v.rect)},qr.$S.prototype.wl=function(t,e,n,i,r){if(this._a=e,!this.$C){var a=t.s.Qi(r.x,r.y);if(5<Pr.Tn(this.a9,a)*t.s.V&&(this.op=!0,this.wH.wl()),i.j(ii.QO)?(null==this.kU&&(this.kU=new Pr(a.x-this.a9.x,a.y-this.a9.y)),this.a9.x=a.x-this.kU.x,this.a9.y=a.y-this.kU.y):this.kU=null,this.t9=a,this.WP||(this.t9=qr.DD.ET(t,this.t9,n)),this.qy(t,this.t9,i)?this.ur(e,"move"):this.ur(e,this.nD),this.WP){a=this.eQ.clone();a.x+=this.t9.x-this.a9.x,a.y+=this.t9.y-this.a9.y;e=qr.DD.Mr(t,a,n);return t.v.rect.x=Math.round(this.t9.x-this.a9.x+this.eQ.x+e[0]),t.v.rect.y=Math.round(this.t9.y-this.a9.y+this.eQ.y+e[1]),t.RD=!0,void qr.DD.d_(t,a,e)}this.Ij(t,n,i,r),t.s.Ht&&(t.s.Ht=this.bZ(t,i))}},qr.$S.prototype.df=function(){return!1},qr.$S.prototype.f9=function(t,e,n,i,r,a){var s=this.mB;if(this.mB=!1,!a&&s){if(t.s.Ht=null,this.t9=t.s.Qi(r.x,r.y),this.t9=qr.DD.ET(t,this.t9,n),this.WP)return this.WP=!1,null!=t&&t.D.LA&&(t.D.LA=null,t.Lj=!0),this.t9.iy(this.a9)&&0==this.HM()?void this.Hz(e,mr.E.n$,qr.$S.X0()):void this.p7(t,this.eQ,t.v.rect.clone());this.KE(t,n,i,r),qr.$S.MX(e,n),this.wH.f9(),this.fv(e)}},qr.$S.prototype.p7=function(t,e,n){var i=t.Ki();null!=i&&i.b==this&&"movesel"==i.data.d||((i=new Ri([7,7],this)).data={d:"movesel",ic:e},t.Sy(i)),i.data.dX=n,this.PS(i.data,t)},qr.$S.prototype.w3=function(t,e,n,i,r){this.$C=!0},qr.$S.prototype.Yp=function(t,e,n,i,r){var a=new yr(mr.E.W,!0);a.data={d:mr.J.QP,b:this.id,Pw:r,Dl:t,xv:n},e.c(a),this.$C=!1},qr.$S.prototype.XL=function(t,e,n,i){var r;this.wH.XL(i),null!=t&&null!=t.v&&(0==(r=i.WJ()).x&&0==r.y||((i=t.v.rect.clone()).x+=r.x,i.y+=r.y,this.p7(t,t.v.rect.clone(),i))),this.fv(e)},qr.$S.prototype.fv=function(t){var e=new yr(mr.E.W,!0);e.data={d:mr.J.QP,b:this.id,WS:this.HM()},t.c(e)},qr.$S.prototype.HM=function(){var t=this.wH.fU(0),e=this.wH.uk(0);return qr.$S.sy(this.sH.binop,t,e)},qr.$S.sy=function(t,e,n){return e&&(t=1),n&&(t=2),t=e&&n?3:t},qr.$S.prototype.finish=function(t,e,n,i){t.v;e=this.getSelection(t,e,n,i);null==e?e=qr.$S.X0():(n=this.sH.feat,i=this.HM(),0!=n&&(e.l5.Fthr={t:"UntF",v:{type:"#Pxl",val:n}}),0!=i&&4!=i&&(e.YY=["","addTo","subtractFrom","interfaceWhite",""][i])),this.Hz(this._a,mr.E.n$,e),this.a9.R7(-1,-1),this.t9.R7(-1,-1)},qr.$S.prototype.getSelection=function(t,e,n,i){return null},qr.$S.prototype.Wv=function(t,e,n,i){},qr.$S.prototype.Ij=function(t,e,n,i){},qr.$S.prototype.KE=function(t,e,n,i){},qr.$S.prototype.AP=function(t,e){var n=t.d;"changesel"==n&&(e.v=t.Xa),"movesel"==n&&(e.v.rect=t.ic),t.y7&&(t.a33?(e.kx=[e.En.length],e.En.push(t.a33)):(e.En.pop(),e.kx=[])),t.HU&&(e.B0=JSON.parse(t.HU[0]),e.Ae=JSON.parse(t.HU[1])),e.RD=!0},qr.$S.prototype.PS=function(t,e){var n=t.d;"changesel"==n&&(e.v=t.TB),"movesel"==n&&(e.v.rect=t.dX),t.y7&&(t.afy?(e.kx=[e.En.length],e.En.push(t.afy)):(e.En.pop(),e.kx=[])),t.HU&&(e.B0=JSON.parse(t.ash[0]),e.Ae=JSON.parse(t.ash[1])),e.RD=!0},qr.$S.prototype.qx=function(t){this.sH=t.sH},qr.$S.prototype.aB=function(t){var e=Rr.H.ws(t.U);if(e.mN())return null;var n=Rr.XQ(e.m,e.n);n.save(),n.beginPath(),n.translate(-e.x,-e.y),Typr.U.pathToContext({cmds:t.C,crds:t.U},n),n.closePath(),n.fill(),n.restore();t=Rr.t(e.Z()),n=n.getImageData(0,0,e.m,e.n);return Rr.VW(n.data,t,3),{rect:e,channel:t}},qr.$S.$b=function(t,e,n,i,r){n&&(e=Math.round(.7*e));var a=Math.ceil(2.6*e),s=t.rect.clone();s.bA(a,a),i&&!r&&(s=s.BS(i));var o=Rr.t(s.Z()),i=Rr.t(o.length);if(Rr.rR(t.channel,t.rect,i,s),Rr.VF.uc(i,o,s,e),n)for(var l=o.length,h=0;h<l;h++){var u=(o[h]-128)*e*2.5;o[h]=Math.max(0,Math.min(255,Math.round(128+u)))}return{channel:o,rect:s}},qr.$S.tj=function(t,e,n){var i=Math.max(1,Math.ceil(n)),r=t.rect.clone();r.bA(i,i);var a=r.Z(),i={channel:Rr.t(a),rect:r},r=Rr.t(a);Rr.rR(t.channel,t.rect,r,i.rect),0!=n?Rr.style.stroke(r,i.channel,i.rect,n):Rr.VO(r,i.channel);a=Rr.t(a);return Rr.tU(r),0!=e?Rr.style.stroke(r,a,i.rect,e):Rr.VO(r,a),Rr.sx.BS(i.channel,a,i.channel),i},qr.$S.ly=function(t,e,n,i,r){var a,s=new Fr(0,0,t.m,t.n),o=t.y5();t.v&&(a=t.v.rect.BS(s),t=Rr.t(4*a.Z()),Rr.Ik(o,s,t,a),s=a,o=t);var l=s.Z(),h=Rr.t(l),u=1/i;if(r)for(var f=(e=n<=e?n-1:e)*(1-i),c=e,p=n,d=n+(255-n)*i,v=f==c?0:1/(c-f),g=p==d?0:1/(d-p),y=0;y<l;y++){var m=y<<2,w=Rr.X_(o[m],o[m+1],o[m+2]),b=0;h[y]=o[m+3]*(b=w<f?0:w<c?(w-f)*v:w<=p?1:w<=d?1-(w-p)*g:0)*b}else for(y=0;y<l;y++){var m=y<<2,M=Rr.rB(o[m],o[m+1],o[m+2]),b=Rr.b9(M,e,n,i,u);h[y]=o[m+3]*b}return{rect:s,channel:h}},qr.vp=function(){qr.Hp.call(this,[10,18],qr.eC,"tools/blur"),this.ME="copy"},qr.vp.prototype=new qr.Hp,qr.vp.prototype.CK=function(t,e,n,i,r){var a=i.j(ii.e$)?tr.WB:tr.eC;this.y_(t,n,i,r,this.sH.strn,a),null!=this.Mi&&this.Kd(t)},qr.vp.prototype.wl=function(t,e,n,i,r){this.fI(t,e,n),this.Po&&this.HC(t,n,r),null!=this.Mi&&r.nK&&(this.Se(t,n,i,r),this.Kd(t))},qr.UH=function(){qr.Hp.call(this,[10,0],qr.Gx,"tools/brush"),this.ME="draw"},qr.UH.prototype=new qr.Hp,qr.UH.prototype.CK=function(t,e,n,i,r){this.z7(i,e,r)||(this.y_(t,n,i,r,this.sH.flow),null!=this.Mi&&this.Kd(t))},qr.UH.prototype.wl=function(t,e,n,i,r){this.fI(t,e,n),this.Po&&this.HC(t,n,r),null!=this.Mi&&r.nK&&(this.Se(t,n,i,r),this.Kd(t))},qr.sZ=function(){qr.Hp.call(this,[10,42],qr.PC,"tools/crepl"),this.ME="idraw",this.sH.bmode="hue "},qr.sZ.prototype=new qr.Hp,qr.sZ.prototype.CK=function(t,e,n,i,r){this.z7(i,e,r)||(this.y_(t,n,i,r,this.sH.flow),null!=this.Mi&&this.Kd(t))},qr.sZ.prototype.wl=function(t,e,n,i,r){this.fI(t,e,n),this.Po&&this.HC(t,n,r),null!=this.Mi&&r.nK&&(this.Se(t,n,i,r),this.Kd(t))},qr.J9=function(){qr.Hp.call(this,[10,43],qr.Ee,"tools/redeye"),this.sH.smode=0,this.ME="redeye"},qr.J9.prototype=new qr.Hp,qr.J9.prototype.CK=function(t,e,n,i,r){this.y_(t,n,i,r,this.sH.flow),null!=this.Mi&&this.Kd(t)},qr.J9.prototype.wl=function(t,e,n,i,r){this.fI(t,e,n),this.Po&&this.HC(t,n,r),null!=this.Mi&&r.nK&&(this.Se(t,n,i,r),this.Kd(t))},qr.Ax=function(){qr.Hp.call(this,[10,38],qr.xr,"tools/pencil"),this.ME="draw"},qr.Ax.prototype=new qr.Hp,qr.Ax.prototype.CK=function(t,e,n,i,r){this.z7(i,e,r)||(this.y_(t,n,i,r,this.sH.flow),null!=this.Mi&&this.Kd(t))},qr.Ax.prototype.wl=function(t,e,n,i,r){this.fI(t,e,n),this.Po&&this.HC(t,n,r),null!=this.Mi&&r.nK&&(this.Se(t,n,i,r),this.Kd(t))},qr.bd=function(){qr.Hp.call(this,[10,22],qr.x_,"tools/burn"),this.ME="burn"},qr.bd.prototype=new qr.Hp,qr.bd.prototype.CK=function(t,e,n,i,r){this.y_(t,n,i,r,this.sH.expo/Math.E),null!=this.Mi&&this.Kd(t)},qr.bd.prototype.wl=function(t,e,n,i,r){this.fI(t,e,n),this.Po&&this.HC(t,n,r),null!=this.Mi&&r.nK&&(this.Se(t,n,i,r),this.Kd(t))},qr.aG=function(t,e,n){qr.Hp.call(this,""==t?null:t||[10,1],e||qr.n3,n||"tools/clone"),this.ME="clone",this.$i=null,this.r=null},qr.aG.prototype=new qr.Hp,qr.aG.prototype.CK=function(t,e,n,i,r){var a=this.sH.alt[0];if(i.j(ii.e$)||i.j(ii.nW)||a)return this.$i=t.s.Qi(r.x,r.y),this.r=null,a&&this.sq({alt:[!1]},e),this.l1(t),void this.Lw(n,i,t,r);null!=this.$i?(this.Lw(n,i),this.y_(t,n,i,r,this.sH.flow),null!=this.Mi&&(this.r=this.HT(t.s.Qi(r.x,r.y)),this.Kd(t))):alert(ri.get([15,7,0]))},qr.aG.prototype.HT=function(t){var e=this.r;return e=null==e||!this.sH.algnd?new Pr(Math.round(t.x-this.$i.x),Math.round(t.y-this.$i.y)):e},qr.aG.prototype.wl=function(t,e,n,i,r){this.fI(t,e,n),this.Po&&this.HC(t,n,r),null!=this.Mi?r.nK&&null!=this.$i&&(this.Se(t,n,i,r),this.Kd(t)):null!=this.$i&&this.Lw(n,i,t,r)},qr.aG.prototype.mp=function(){return this.r},qr.B_=function(t,e,n){qr.wE.call(this,t,e,n),this.$V={du:{sB:0,x:0,y:0},RA:!1},this.uT=!1,this.q5=null,this.cursor=null,this.a0l=0,this.$h=null,this.a9=null,this.Q5=null,this.l9=!1},qr.B_.prototype=new qr.wE,qr.B_.prototype.L$=function(){return null!=this.q5},qr.B_.prototype.Vg=function(t){return null!=this.a9||this.q5&&this.q5.RR()},qr.B_.prototype.CK=function(t,e,n,i,r){this.$h=r;var a=t.s.Qi(r.x,r.y);a.x=Math.round(a.x),a.y=Math.round(a.y);var s=this.$V.du,o=0!=s.sB?s.x/s.y:null,l=this.l9;if(this.l9=!1,this.q5){s=this.q5.RS(a,t.s.V);if(!l||null!=s)return void this.q5.CK(t,n,i,a,o,!1,r);this.q5.clear(t),this.q5=null}this.a9=qr.DD.ET(t,a,n)},qr.B_.prototype.Vv=function(t,e,n){return new Pi(n=null==n?[t.x,t.y,t.x+t.m,t.y,t.x+t.m,t.y+t.n,t.x,t.y+t.n]:n,!0,!1,this.id==qr.Xp,!0,e,this.id==qr.Xp?2:0,this.id==qr.Xp?4:3)},qr.B_.prototype.Lw=function(t){var e=new yr(mr.E.W,!0);e.data={d:mr.J.tW,Ek:this.cursor},t.c(e)},qr.B_.prototype.enable=function(t,e,n,i){var r;this._a=e,this.cursor="crosshair",this.Lw(e),null!=t&&null==this.q5&&(r=t.v?{_u:"cropby",a4e:3}:{_u:"config",$V:this.$V,ahO:!0},this.qx(r,e,t,i,n),null==t.v&&0==this.$V.du.sB&&(this.l9=!0))},qr.B_.prototype.wl=function(t,e,n,i,r){this.$h=r;var a,s=t.s.Qi(r.x,r.y);r.nK||(a="crosshair",(a=this.q5?this.q5.RS(s,t.s.V,null,r)||"default":a)!=this.cursor&&(this.cursor=a,this.Lw(e))),this.q5?this.q5.wl(t,n,i,s):this.a9&&(this.uT?t.D.h7={C:["M","L"],U:[this.a9.x,this.a9.y,s.x,s.y]}:(s=(e=qr.zL.jG(this.a9,qr.DD.ET(t,s,n),i,!0,this.$V.du))[0].x,i=e[0].y,i=this.Q5=new Fr(s,i,e[1].x-s,e[1].y-i),t.D.h7=Rr.H.UQ(i),qr.wE.mi(r,i,t,n)),t.Lj=!0)},qr.B_.adQ=function(t,e,n){var i,r,a=e<=n?(i=e,n):(i=n,e),t=t-2*Math.floor((t+Math.PI)/(2*Math.PI))*Math.PI;(t=Math.abs(t))>Math.PI/2&&(t=Math.PI-t);t=i/(a*Math.sin(t)+i*Math.cos(t)),t=e<=n?(r=i*t,a*t):(r=a*t,i*t);return{r2:r,kY:t}},qr.B_.prototype.f9=function(t,e,n,i,r){this.$h=r;var a=t.s.Qi(r.x,r.y);if(null!=this.q5){this.q5.f9(t,n,i,a),this.Hz(e,mr.E.W,{d:mr.J.QP,b:this.id,as:!0});var s=this.q5.mY();if(!(Math.abs(s[0]-s[4])<2&&Math.abs(s[1]-s[5])<2))return Date.now()-this.a0l<200&&this.q5.w2(a)?(this.P8(t,n),void this.disable(t,e,n,i)):void(this.a0l=Date.now());this.disable(t,e,null,i)}else{var o,r=this.Q5;this.a9&&(r||this.uT)&&(this.uT?((i=this.a9).x>(a=a).x&&(o=i,i=a,a=o),i=Math.atan2(-(a.y-i.y),a.x-i.x),s=[0,0,(o=qr.B_.adQ(i,t.m,t.n)).r2,0,o.r2,o.kY,0,o.kY],(a=new _r).translate(-o.r2/2,-o.kY/2),a.rotate(i),a.translate(t.m/2,t.n/2),Rr.H.A(s,a,s),this.q5=this.Vv(r,!1,s),t.D.h7=null,this.uT=!1):(s=this.$V.du,this.q5=this.Vv(r,0!=s.sB)),this.q5.VV(t,n),this.Q5=null,this.Hz(e,mr.E.W,{d:mr.J.QP,b:this.id,as:!0}),this.a9=null,t.D.po=[],t.Lj=!0)}},qr.B_.prototype.XL=function(t,e,n,i){var r=this.q5;null==r||this.$h&&this.$h.nK||(i.j(ii.C_)?(this.P8(t,n),this.disable(t,e,n,i)):i.j(ii.Yh)?this.disable(t,e,n,i):r.XL(t,n,i))},qr.B_.LI=function(t,e,n){return{YY:"crop",l5:{classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:t[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:t[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:t[1]+t[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:t[0]+t[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:null!=e?e:0}},Dlt:{t:"bool",v:null==n||n},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}}}},qr.B_.ae=function(t,e){null==e&&(e=[!0,!0,!0,!0]);for(var n={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][t]}}},i=["Top","Left","Btom","Rght"],r=0;r<4;r++)n[i[r]]={t:"bool",v:e[r]};return{YY:"trim",l5:n}},qr.B_.mD=function(t,e,n,i){var r={classID:"null"};return null!=i&&(r.Wdth={t:"UntF",v:{type:"#Pxl",val:t}},r.Hght={t:"UntF",v:{type:"#Pxl",val:e}},r.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][i]}}),null!=n&&(r.Rslt={t:"UntF",v:{type:"#Rsl",val:n}}),{YY:"imageSize",l5:r}},qr.B_.mR=function(t,e,n){null==n&&(n=4);var i=Math.floor(n/3);return{YY:"canvasSize",l5:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:t}},Hght:{t:"UntF",v:{type:"#Pxl",val:e}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][n%3]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][i]}}}}},qr.B_.prototype.gT=function(t,e,n,i,r){var a,s,o,l,h,u=new Fr(0,0,n.m,n.n),f=[11,3],c=n.Mg,p=n.m/2,d=n.n/2,v=1;if("fromAction"!=t.d){"imgsize"==t.d?(u=new Fr(0,0,t.gi,t.p2),t.WU&&(c=t.WU),v=t.Cb):"canvsize"==t.d?(l=null!=t.cv?t.cv:0,u=new Fr(0,0,t.gi,t.p2),a=n.m-t.gi,h=n.n-t.p2,s=Math.round(a/2),o=Math.round(h/2),1!=l&&4!=l&&7!=l||(u.x=s),2!=l&&5!=l&&8!=l||(u.x=a),3!=l&&4!=l&&5!=l||(u.y=o),6!=l&&7!=l&&8!=l||(u.y=h),t.r&&(u.x=t.r.x,u.y=t.r.y)):"rot"==t.d&&(t.k+2*Math.PI)%(Math.PI/2)!=0?(l=Rr.H.UQ(u).U,(h=new _r).translate(-p,-d),h.rotate(t.k),h.translate(p,d),Rr.H.A(l,h,l),u=Rr.H.ws(l)):"rot"==t.d&&t.k!=Math.PI&&t.k!=-Math.PI?(u=new Fr(p-n.n/2,d-n.m/2,n.n,n.m),1==(n.m+n.n&1)&&(p=Math.floor(p),d=Math.floor(d),u=new Fr(p-Math.floor(n.n/2),d-Math.floor(n.m/2),n.n,n.m),1==(1&n.m)&&t.k!=-Math.PI/2&&u.y--,1==(1&n.n)&&t.k==-Math.PI/2&&u.x--)):"trim"==t.d?(f=[11,12,0],g=n.y5(),D=new Fr(0,0,n.m,n.n),(u=Rr.zZ(g,D,t.a32,t.nL)).mN()&&(u=D)):"cropbysel"==t.d?(f=[11,12,1],u=n.v.rect.clone()):"revealAll"==t.d&&(f=[11,12,2],u=n.root.bZ(n,!0));var g="canvsize"==t.d&&t.asD;if("imgsize"==t.d||"rot"==t.d||"scl"==t.d||g){var y=new _r;"imgsize"==t.d?(f=[11,10],y.scale(t.gi/n.m,t.p2/n.n)):g||(y.translate(-p,-d),"rot"==t.d&&y.rotate(t.k),"scl"==t.d&&y.scale(t.k.x,t.k.y),y.translate(p,d),f=t.rD),b=Rr.N.V$(y),y=this.Tu(n,r,!0,b,v,g?u:null)}else if("auto-align"==t.d){if(n.w.length<2)return void alert("Select two or more layers.");for(var m=[],w=0;w<n.w.length;w++){if(!(L=n.g[n.w[w]]).Z1()&&null==L.add.SoLd)return void alert("Unsupported layer selected.");if(L.rect.mN())return void alert("Empty layer selected.");m.push([L.buffer,L.rect])}g=Rr.Ua.Wq(m,0);if(null==g)return void alert("No similarity found.");var b=g[1],M=n.w;n.w=n.w.slice(1),y=this.Tu(n,r,!1,g.slice(1),v),n.w=M,u=n.root.bZ(n,!0),f=[2,10,1]}M=new Fr(0,0,n.m,n.n);u.mN()||u.iy(M)&&null==y||((T=new Ri(f,this)).data={agi:n.Mg,WU:c,ns:y,Vo:b,q7:qr.B_.Oo(n,u,M,null!=y)},qr.B_.pi(n,T.data,u),n.Sy(T),this.PS(T.data,n))}else{var S,C,x,L,D,f=t.__,b=f.YY,k=f.l5,M=n.m/n.n,y=k.Wdth?k.Wdth.v.val:-1,u=k.Hght?k.Hght.v.val:-1,c=k.Rslt?k.Rslt.v.val:null,T=k.Wdth?k.Wdth.v.type:k.Hght?k.Hght.v.type:-1,t=1;if("#Prc"==T&&(-1!=y&&(y=Math.round(n.m*y/100)),-1!=u&&(u=Math.round(n.n*u/100))),"imageSize"==b){if(k.Intr)"Nrst"==k.Intr.v.Intp&&(t=0),"bicubicSharper"==k.Intr.v.Intp&&(t=2),-1==y&&-1==u&&(E=c/n.Mg,y=Math.round(n.m*E),u=Math.round(n.n*E)),k.CnsP&&k.CnsP.v&&(-1==y&&(y=Math.round(u*M)),-1==u&&(u=Math.round(y/M)));else{if("#Prc"==T)c=Math.round(n.Mg*(n.m/y));else{if(-1!=T)throw"e";c=Math.round(c)}y=n.m,u=n.n}E={d:"imgsize",gi:y,p2:u,WU:c,Cb:t}}else if("canvasSize"==b){-1==y&&(y=n.m),-1==u&&(u=n.n),k.Rltv&&1==k.Rltv.v&&(k.Wdth&&(y+=n.m),k.Hght&&(u+=n.n));var t=k.Vrtc?k.Vrtc.v.VrtL:"Cntr",A=k.Hrzn?k.Hrzn.v.HrzL:"Cntr",E={d:"canvsize",gi:y,p2:u,cv:3*["Top","Cntr","Btom"].indexOf(t)+["Left","Cntr","Rght"].indexOf(A)}}else if("revealAll"==b)E={d:"revealAll"};else if("trim"==b){A={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[k.trimBasedOn.v.trimBasedOn];if(null==A)throw"e";for(var O=["Top","Left","Btom","Rght"],N=[!0,!0,!0,!0],w=0;w<4;w++)k[O[w]]&&(N[w]=k[O[w]].v);E={d:"trim",a32:A,nL:N}}else"crop"==b?(D=k.T?(b=k.T.v,S=Math.round(b.Left.v.val),C=Math.round(b.Top.v.val),x=Math.round(b.Rght.v.val)-S,Math.round(b.Btom.v.val)-C):(S=(D=(D=(L=n.g[n.w[0]]).rect).BS(new Fr(0,0,n.m,n.n))).x,C=D.y,x=D.m,D.n),E={d:"canvsize",gi:x,p2:D,r:new Pr(S,C),asD:null!=k.Dlt&&k.Dlt.v}):console.log(f);E&&this.gT(E,e,n,i,r)}},qr.B_.Oo=function(t,e,n,i){if(0==t.EQ.length)return null;var r=JSON.stringify(t.EQ),t=JSON.parse(r);return qr.C0.atC(t,e,n,i),[r,t=JSON.stringify(t)]},qr.B_.prototype.Tu=function(t,e,n,i,r,a){var s={g:[],JG:null,TE:null};if(n){for(var o=0;o<t.g.length;o++)s.g.push(o);for(o=0;o<t.Y3.length;o++)s.g.push(-1-o);for(o=0;o<t.En.length;o++)s.g.push(-1e3-o)}else s.g=t.w.slice(0);return s.JG=qr.Q.q_(t,s.g,!0),qr.Q.yN(t,e,s.g,s.JG,r,i,null,!0,a),s.TE=qr.Q.q_(t,s.g,!0),s},qr.B_.prototype.PS=function(t,e){t.WU&&(e.Mg=t.WU),t.q7&&(e.EQ=JSON.parse(t.q7[1])),t.ns&&(qr.B_.IJ(e,Rr.N.gD(t.Vo)),qr.Q.kO(e,t.ns.g,t.ns.TE)),qr.B_.XP(e,t)},qr.B_.prototype.AP=function(t,e){var n;t.agi&&(e.Mg=t.agi),t.q7&&(e.EQ=JSON.parse(t.q7[0])),qr.B_.M0(e,t),t.fe&&e.s.r.kH(t.fe),e.af$(),t.ns&&((n=Rr.N.gD(t.Vo).clone()).tU(),qr.B_.IJ(e,n),qr.Q.kO(e,t.ns.g,t.ns.JG))},qr.B_.IJ=function(t,e){for(var n=0;n<t.g.length;n++){var i,r=t.g[n];null!=r.add.artb&&(i=Rr.H.UQ(r.Gn()).U,Rr.H.A(i,e,i),i=Rr.H.ws(i),r.fx(i))}},qr.B_.ZG=function(t){for(var e=new Fr,n=0,i=t.root.children.length,r=0;r<i;r++){var a=t.root.children[r].i;null!=a.add.artb&&(e=e.hq(a.Gn()),n++)}var s=new Fr(0,0,t.m,t.n);return e.mN()||s.iy(e)||i!=n?null:e},qr.B_.FU=function(t){var e=qr.B_.ZG(t);return e&&qr.B_.RA(t,e,!0),e},qr.B_.RA=function(t,e,n){var i=t.m,r=t.n,a=e.m,s=e.n,o=0==e.x&&0==e.y;if(!o||i!=a||r!=s){t.m=a,t.n=s;for(var l=[],h=0;h<t.g.length;h++)l.push(h);o||qr.DD.iu(t,l,null,-e.x,-e.y);for(h=0;h<t.g.length;h++)t.g[h].fF(t);t.af$(),n?(o=t.s.r,n=t.s.V,o.x+=Math.round((e.x+(a-i)/2)*n),o.y+=Math.round((e.y+(s-r)/2)*n)):t.s.r.R7(0,0),t.v&&t.v.rect.offset(-e.x,-e.y);for(var u,f=t.pt(),c=0;c<f[0].length;c++)-1==f[1][c]&&((u=t.p6[c])[1]-=0==u[0]?e.x:e.y);for(h=0;h<t.En.length;h++)t.En[h].rect.offset(-e.x,-e.y)}},qr.B_.prototype.qx=function(t,e,n,i,r){"commit"==t._u?(this.P8(n,r),this.disable(n,e,null,i)):"cancel"==t._u&&this.disable(n,e,null,i);var a=null,s=new Fr(0,0,n.m,n.n),o=this.$V.du;if("config"==t._u){if(this.$V=t.$V,o=this.$V.du,null==n||!t.ahO)return;a=s,1==o.sB&&(i=o.x/o.y,a.m/i<a.n?a.n=Math.round(a.m/i):a.m=Math.round(a.n*i)),2==o.sB&&(a.m=o.x,a.n=o.y),a.x=Math.round((n.m-a.m)/2),a.y=Math.round((n.n-a.n)/2)}if("straighten"==t._u&&(alert("Draw a line in the image."),this.uT=!0),"cropby"==t._u){if(null==n)return;t=t.a4e;0==t&&(a=n.root.bZ(n,!0)),1==t&&(0==n.w.length?alert("No layer is selected."):a=n.root.eu(n.w[0]).bZ(n,!0)),2==t&&(0==n.w.length?alert("No layer is selected."):(a=Rr.zZ(n.y5(),s,0)).mN()&&(a=s.clone())),3==t&&(null!=n.v?a=n.v.rect:alert("There is no selection.")),4==t&&(a=new Fr(0,0,n.m,n.n))}null!=(a=a&&a.mN()?null:a)&&(this.q5=this.Vv(a,0!=o.sB),this.q5.VV(n,r),this.Hz(e,mr.E.W,{d:mr.J.QP,b:this.id,as:!0}))},qr.B_.prototype.P8=function(t,e){var n,i=this.q5.mY(),r=Rr.H.ws(i),a=this.a1q(t,i),s=!1,o=this.$V.du,l=this.$V.RA,h=o.x,u=o.y;this.id==qr.Nc&&2==o.sB&&a.Z()!=h*u&&(a=new Fr(a.x,a.y,h,u),s=!0);h=Rr.N.zw(i,a),h=Rr.N.tU(h),u=Rr.N.p0(h),i=Math.atan2(h[3],h[0]);(1e-9<Math.abs(i)||!u||s||l)&&(n=this.Tu(t,e,!0,h,1,r));s=new Ri(this.name,this),e=new Fr(0,0,t.m,t.n);s.data={ns:n,Vo:h,fe:t.s.r.clone(),q7:qr.B_.Oo(t,a,e,!1)},qr.B_.pi(t,s.data,a),t.Sy(s),this.PS(s.data,t),this.track(qr.B_.LI([r.x,r.y,r.m,r.n],null,l))},qr.B_.pi=function(t,e,n){null!=n&&(e.ic=new Fr(0,0,t.m,t.n),e.dX=n)},qr.B_.XP=function(t,e){null!=e.dX&&qr.B_.RA(t,e.dX)},qr.B_.M0=function(t,e){var n;null!=e.dX&&((n=e.ic.clone()).offset(-e.dX.x,-e.dX.y),qr.B_.RA(t,n))},qr.B_.prototype.a1q=function(t,e){var n=Rr.N.zw(e),i=Rr.N.p0(n),r=Rr.N.gD(n),a=r.E_,s=r.Qq,o=Math.atan2(r.S,r.q4);r.rotate(o);var l,h,u=new Fr(a,s,r.q4,r.DR);function f(t,e,n){var i=t[e]-t[n],n=t[e+1]-t[n+1];return Math.sqrt(i*i+n*n)}return i||(n=f(e,0,2),o=f(e,4,6),a=Math.max(n,o),s=f(e,2,4),r=f(e,6,0),i=Math.max(s,r),t=qr.B_.adI(e,t.m/2,t.n/2),(t=isNaN(t)||t==1/0||t==-1/0||Math.min(t,1/t)<.1?(n+o)/(s+r):t)<a/i?h=(l=+a)/t:l=(h=+i)*t,u.m=l,u.n=h),u.x=Math.round(u.x),u.y=Math.round(u.y),u.m=Math.round(u.m),u.n=Math.round(u.n),u},qr.B_.adI=function(t,e,n){var i=t[0]-e,r=t[1]-n,a=t[2]-e,s=t[3]-n,o=t[6]-e,l=t[7]-n,e=t[4]-e,t=t[5]-n,n=((r-t)*o-(i-e)*l+i*t-r*e)/((s-t)*o-(a-e)*l+a*t-s*e),t=((r-t)*a-(i-e)*s+i*t-r*e)/((l-t)*a-(o-e)*s+o*t-l*e),e=-((t*l-r)*(n*s-r)+(t*o-i)*(n*a-i))/((t-1)*(n-1));function h(t){return t*t}e=Math.sqrt((h(n-1)+h(n*s-r)/e+h(n*a-i)/e)/(h(t-1)+h(t*l-r)/e+h(t*o-i)/e));return e=1==n&&1==t?Math.sqrt((h(s-r)+h(a-i))/(h(l-r)+h(o-i))):e},qr.B_.prototype.disable=function(t,e,n,i){null!=t&&(this.q5&&this.q5.clear(t),this.q5=null,this.Hz(e,mr.E.W,{d:mr.J.QP,b:this.id,as:!1}))},qr.B_.prototype.Hz=function(t,e,n,i){e=new yr(e,!0);e.data=n,i&&(e.b=i),t.c(e)},qr.Wz=function(){qr.B_.call(this,[10,2],qr.Nc,"tools/rcrop")},qr.Wz.prototype=new qr.B_,qr.TM=function(){qr.B_.call(this,[10,39],qr.Xp,"tools/pcrop")},qr.TM.prototype=new qr.B_,qr.ap=function(){qr.Hp.call(this,[10,21],qr.$v,"tools/dodge"),this.ME="dodge"},qr.ap.prototype=new qr.Hp,qr.ap.prototype.CK=function(t,e,n,i,r){this.y_(t,n,i,r,this.sH.expo/Math.PI),null!=this.Mi&&this.Kd(t)},qr.ap.prototype.wl=function(t,e,n,i,r){this.fI(t,e,n),this.Po&&this.HC(t,n,r),null!=this.Mi&&r.nK&&(this.Se(t,n,i,r),this.Kd(t))},qr.Ur=function(){qr.Hp.call(this,[10,3],qr.r0,"tools/eraser"),this.ME="erase"},qr.Ur.prototype=new qr.Hp,qr.Ur.prototype.CK=function(t,e,n,i,r){this.y_(t,n,i,r,this.sH.flow),null!=this.Mi&&this.Kd(t)},qr.Ur.prototype.wl=function(t,e,n,i,r){this.fI(t,e,n),this.Po&&this.HC(t,n,r),null!=this.Mi&&r.nK&&(this.Se(t,n,i,r),this.Kd(t))},qr.$Q=function(){qr.Hp.call(this,[10,45],qr.a3F,"tools/beraser"),this.ME="ierase"},qr.$Q.prototype=new qr.Hp,qr.$Q.prototype.CK=function(t,e,n,i,r){this.z7(i,e,r)||(this.y_(t,n,i,r,this.sH.flow),null!=this.Mi&&this.Kd(t))},qr.$Q.prototype.wl=function(t,e,n,i,r){this.fI(t,e,n),this.Po&&this.HC(t,n,r),null!=this.Mi&&r.nK&&(this.Se(t,n,i,r),this.Kd(t))},qr.d6=function(){qr.$S.call(this,[10,15],qr.rZ,"tools/rselect"),this.nD="crosshair"},qr.d6.prototype=new qr.$S,qr.d6.prototype.Ij=function(t,e,n,i){i.nK&&this.op&&(n=this.bZ(t,n,!0),t.D.h7=Rr.H.UQ(n),t.Lj=!0,qr.wE.mi(i,n,t,e))},qr.d6.prototype.KE=function(t,e,n,i){t.D.h7=null,t.D.po=[],t.Lj=!0,this.finish(t,e,n,i)},qr.d6.prototype.getSelection=function(t,e,n,i){if(this.a9.iy(this.t9)||!this.op)return null;n=this.bZ(t,n,!0);return n.mN()?null:qr.$S.K6("Rctn",n,this.sH.anta)},qr.iE=function(){qr.$S.call(this,[10,4],qr.a8w,"tools/eselect"),this.nD="crosshair"},qr.iE.prototype=new qr.$S,qr.iE.prototype.Ij=function(t,e,n,i){i.nK&&this.op&&(n=this.bZ(t,n),t.D.h7=qr.iE.LD(n),t.Lj=!0,qr.wE.mi(i,n,t,e))},qr.iE.prototype.KE=function(t,e,n,i){t.D.h7=null,t.D.po=[],t.Lj=!0,this.finish(t,e,n,i)},qr.iE.prototype.getSelection=function(t,e,n,i){if(this.a9.iy(this.t9)||!this.op)return null;n=this.bZ(t,n);return n.$B(new Fr(0,0,t.m,t.n))?qr.$S.K6("Elps",n,this.sH.anta):null},qr.iE.LD=function(t){var e=t.x,n=t.y,i=t.x+t.m,r=t.y+t.n,a=(e+i)/2,t=(n+r)/2,e=(e-i)/2,i=(n-r)/2,n=.5522848,r={U:[a,t-i],C:["M","C","C","C","C"]};return r.U.push(a+n*e,t-i,a+e,t-n*i,a+e,t),r.U.push(a+e,t+n*i,a+n*e,t+i,a,t+i),r.U.push(a-n*e,t+i,a-e,t+n*i,a-e,t),r.U.push(a-e,t-n*i,a-n*e,t-i,a,t-i),r},qr.dO=function(t){qr.wE.call(this,[10,5],t?qr.hs:qr.Lv,"tools/eyedropper"),this.FQ=null,this.RM=0,this.b2=null,this.HS=1,this.YU=2,this.adN=!0,this.Qo=!1},qr.dO.prototype=new qr.wE,qr.dO.prototype.Vg=function(t){return t.nK},qr.dO.prototype.gT=function(t,e,n,i,r){"pickhere"==t.d&&this.xd(n,e,r,null,t.agk),"supertool"==t.d&&(this.FQ=t.b)},qr.dO.prototype.CK=function(t,e,n,i,r){var a=this.FQ;a?a.CK(t,e,n,i,r):(this.RM=n.k$,this.b2=r,i=this.xd(t,null,n,i,r),this.Lw(t,e,i,r))},qr.dO.prototype.wl=function(t,e,n,i,r){var a,s=this.FQ;s?s.wl(t,e,n,i,r):(a=this.b2)&&(s=r.x-a.x,r=r.y-a.y,a=new Pr(a.x+s,a.y+r),i=this.xd(t,null,n,i,a),this.Lw(t,e,i,a,new Pr(0*s,0*r)))},qr.dO.prototype.Lw=function(t,e,n,i,r){var a=this.adN,s=this.Qo;if((s=4<t.s.V?!1:s)||a){null==r&&(r=new Pr(0,0));var o=new Fr(0,0,t.m,t.n),l=t.y5(),h=new Pr(137.5,137.5),u=new Fr(0,0,275,275),f=Rr.t(4*u.Z()),c=t.s.Qi(i.x,i.y),t=Math.floor(c.x),i=Math.floor(c.y),c=new _r;c.scale(1/11,1/11),c.translate(t-12,i-12),s&&Rr.scale.I0(l,o,c,f,u);for(var p=0;p<275;p++)for(var d=0;d<275;d++){var v,g,y,m,w=Pr.Tn(new Pr(d,p),h);94.6<w&&(a&&(v=Math.max(0,94.6-w+1),y=f[3+(g=4*(275*p+d))]<<24|f[g]<<16|f[1+g]<<8|f[2+g],m=255<<24|(p<137.5?n:this.RM),10.3*11<w?(v=Math.max(0,10.3*11-w+1),y=m,m=4286611584):s||(y=16777215&m),f[0+g]=(1-v)*(m>>>16&255)+v*(y>>>16&255),f[1+g]=(1-v)*(m>>>8&255)+v*(y>>>8&255),f[2+g]=(1-v)*(m>>>0&255)+v*(y>>>0&255),f[3+g]=(1-v)*(m>>>24&255)+v*(y>>>24&255)),132<w&&(f[4*(275*p+d)+3]=Math.max(0,255*(132-w+1))))}var b=11*this.HS+2,M=275-b>>>1,S=M+b-1;if(s&&b<275)for(var C=0;C<b;C++){var x=275*M+M+C,L=275*S+M+C,D=275*(M+C)+M,k=275*(M+C)+S;T(x),T(L),T(D),T(k),0!=C&&C!=b-1&&(A(x+275),A(L-275),A(1+D),A(k-1))}if(!s)for(C=-9;C<=9;C++)-3<C&&C<3||(p=275*(137+C)+137,A((d=37812+C)-275),T(d),A(d+275),A(p-1),T(p),A(p+1));c=qr.wE.N6(0,0,["#"+Rr.zI(n),"RGB "+(n>>>16&255)+","+(n>>>8&255)+","+(n>>>0&255)]);(o=c[1]).y=0,o.x=275-o.m>>>1,Rr.Ik(c[0],o,f,u);u={vl:f,Ni:u,bM:new Pr(h.x+r.x,h.y+r.y)},r=new yr(mr.E.W,!0);r.data={d:mr.J.tW,Ek:u},e.c(r)}function T(t){t<<=2;f[t]=0,f[1+t]=0,f[2+t]=0,f[3+t]=255}function A(t){t<<=2;f[t]=255,f[1+t]=255,f[2+t]=255,f[3+t]=255}},qr.dO.prototype.f9=function(t,e,n,i,r,a){this.xd(t,e,n,i,r);var s=this.FQ;s?s.f9(t,e,n,i,r):this.b2&&(this.b2=null,a&&this.xd(t,e,n,i,r,this.RM),(r=new yr(mr.E.W,!0)).data={d:mr.J.tW,Ek:"default"},e.c(r))},qr.dO.prototype.xd=function(t,e,n,i,r,a){null==a&&(a=qr.dO.FT(t,r,this.HS,this.YU));r=new yr(mr.E.W);return r.data={d:mr.J.ot,jm:Bi.UB,wp:i&&i.j(ii.e$)?1:0,k:a},e&&e.c(r),a},qr.dO.FT=function(t,e,n,i){null==i&&(i=2);var r,a,s,o=t.s.Qi(e.x,e.y),l=1==t.w.length&&0<t.g[t.w[0]].rq,e=0!=t.kx.length,h=0,u=0,f=0;if(l||e){if(!(s=(e=e?t.En[t.kx[0]]:1==(r=t.g[t.w[0]]).rq?r.sL():r.a9y()).bZ()).tl(o))return 0==e.color?0:16777215;(a=Rr.t(4*s.Z())).fill(255);e=e.rz();Rr.PU(e,a)}else s=0==i&&0!=t.w.length?(a=(r=t.g[t.w[0]]).buffer,r.rect):(a=2==i?t.y5():t.y5(t.w[0]),new Fr(0,0,t.m,t.n));for(var c=Math.floor(o.x)-s.x,p=Math.floor(o.y)-s.y,o=(n-1)/2,n=Math.max(0,c-o),d=Math.max(0,p-o),v=Math.min(s.m,c+o+1),g=Math.min(s.n,p+o+1),o=(v-n)*(g-d),c=n;c<v;c++)for(p=d;p<g;p++){var y=4*(p*s.m+c);h+=a[y],u+=a[1+y],f+=a[2+y]}return(h=Math.round(h/o))<<16|(u=Math.round(u/o))<<8|(f=Math.round(f/o))},qr.dO.prototype.qx=function(t){t=t.sH;this.HS=[1,3,5,11,31][t[0]],this.YU=t[1],this.adN=t[2],this.Qo=t[3]},qr.iU=function(){qr.wE.call(this,[10,6],qr.adD,"tools/gradient"),this.sH={I:JSON.parse(Wi.I6.a76).v,yu:"Lnr",Iy:!1,a0V:!1,adU:"norm",cj:1},this.Vk=!1,this.yx=null},qr.iU.prototype=new qr.wE,qr.iU.prototype.enable=function(t,e,n,i){var r=new yr(mr.E.W,!0);r.data={d:mr.J.tW,Ek:"default"},e.c(r)},qr.iU.prototype.qx=function(t){this.sH=t.jm},qr.iU.prototype.CK=function(t,e,n,i,r){t._W()&&(this.yx=t.s.Qi(r.x,r.y),this.yx=qr.DD.ET(t,this.yx,n),this.Vk=!0)},qr.iU.prototype.wl=function(t,e,n,i,r){this.Vk&&(r=t.s.Qi(r.x,r.y),r=qr.DD.ET(t,r,n),i.j(ii.Ml)&&(r=qr.iU.yX(this.yx,r)),t.D.h7={U:[this.yx.x,this.yx.y,r.x,r.y],C:["M","L"]},t.D.us=[this.yx.x,this.yx.y,r.x,r.y],t.Lj=!0)},qr.iU.prototype.f9=function(t,e,n,i,r){if(this.Vk){t.g[t.w[0]];var a=t.s.Qi(r.x,r.y),a=qr.DD.ET(t,a,n),s=(a=i.j(ii.Ml)?qr.iU.yX(this.yx,a):a).Pf(this.yx),o=Pr.Ey(this.yx,a,.5),l=Math.atan2(s.y,s.x),h=Pr.Tn(this.yx,a),r=Math.sin(l),i=Math.cos(l);if(2<h){var s=t.v?t.v.rect:new Fr(0,0,t.m,t.n),u=Rr.t(4*s.Z()),a=this.sH,l=a.yu;"Lnr"!=l&&(h*=2,o=this.yx),Rr.I.Sq(a.I,u,s,[+i/h,+r/h,-r/h,+i/h],o.x,o.y,a.Iy,Wi.I.types.indexOf(l),n.k$,n.JH,null,a.a0V);var f=Math.round(256*a.cj),c=u.length;if(256!=f)for(var p=0;p<c;p+=4)u[p+3]=u[p+3]*f>>>8;n=new yr(mr.E.u);n.b=qr.r0,n.data={d:"fillBMP",KS:u,pW:a.adU,rD:this.name},e.c(n)}t.D.h7=null,t.D.us=[],t.Lj=!0,this.Vk=!1}},qr.iU.yX=function(t,e){if(t.iy(e))return t;var n=e.x-t.x,i=e.y-t.y;(r=Math.abs(n))<(e=(e=Math.abs(i))<r?e<r/2?0:r:e)&&(r=r<e/2?0:e);var r=0<n?r:-r,e=0<i?e:-e,i=Math.sqrt(n*n+i*i)/Math.sqrt(r*r+e*e);return new Pr(t.x+r*i,t.y+e*i)},qr.iU.sW=function(t,e,n,i,r,a,s){var o=(s=null==s?document.createElement("canvas"):s).getContext("2d"),l=new Fr(0,0,s.width=e,s.height=n),h=Rr.t(e*n*4);Rr.eU(h,e,n,4);var u=Math.sin(i),f=Math.cos(i),i=Rr.t(e*n*4);Rr.I.Sq(t,i,l,[+f/e,+u/e,-u/n,+f/n],e/2,n/2,!1,0,r,a),Rr.a.bW("norm",i,l,h,l,l,1);n=o.getImageData(0,0,e,n);return Rr.VO(h,n.data),o.putImageData(n,0,0),s.toDataURL()},qr.iU.agL=function(t,e,n){var i=JSON.parse(JSON.stringify(t));if(i.Clrs)for(var r=0;r<i.Clrs.v.length;r++){var a=i.Clrs.v[r].v,s=a.Type.v.Clry;"UsrS"!=s&&(s="FrgC"==s?e:n,a.Type.v.Clry="UsrS",a.Clr={t:"Objc",v:Rr.I.wg({p:s>>16&255,z:s>>8&255,S:255&s})})}return i},qr.oo=function(){qr.wE.call(this,[10,7],qr.f0,"tools/hand"),this.b2=new Pr(0,0),this.yM=null,this.Tg=0},qr.oo.prototype=new qr.wE,qr.oo.prototype.gT=function(t,e,n,i,r){var a=t.d;"setcls"==a&&(n.s.DF=t.DF,n.Lj=!0,n.iM=!0),"scroll"!=a||i.j(ii.e$)||(i.j(ii.NT)?qr.oo.IO(n,n.s.r.x-t.jX.y,n.s.r.y-t.jX.x):qr.oo.IO(n,n.s.r.x-t.jX.x,n.s.r.y-t.jX.y))},qr.oo.prototype.enable=function(t,e,n,i){this.yM=null;var r=new yr(mr.E.W,!0);r.data={d:mr.J.tW,Ek:"grab"},e.c(r),t&&Date.now()-this.Tg<300&&(r.type=mr.E.u,r.b=qr.fz,r.data={d:"adapt",k:"fitscr"},e.c(r)),this.Tg=Date.now()},qr.oo.prototype.CK=function(t,e,n,i,r){this.yM=t.s.r.clone(),this.b2.R7(r.x,r.y)},qr.oo.prototype.wl=function(t,e,n,i,r){r.nK&&(null==this.yM&&this.CK(t,e,n,i,r),qr.oo.IO(t,this.yM.x+(r.x-this.b2.x),this.yM.y+(r.y-this.b2.y)))},qr.oo.prototype.f9=function(t,e,n,i,r){this.yM=null},qr.oo.IO=function(t,e,n){var i=t.s.V,r=t.s.ct,a=r.m,s=r.n,r=t.m*i,i=t.n*i,r=a/2+r/2-64,i=s/2+i/2-64;t.s.r.R7(Math.max(-r,Math.min(r,e)),Math.max(-i,Math.min(i,n))),t.iM=!0},qr.Ql=function(){qr.wE.call(this,[10,47],qr.aiA,"tools/rview"),this.b2=new Pr(0,0),this.Co=null,this.a3j=null,this.Tg=0},qr.Ql.prototype=new qr.wE,qr.Ql.prototype.enable=function(t,e,n,i){this.yM=null;var r=new yr(mr.E.W,!0);r.data={d:mr.J.tW,Ek:"grab"},e.c(r),t&&Date.now()-this.Tg<300&&0!=t.s.Zw&&(t.s.Zw=0,t.Lj=!0),this.Tg=Date.now(),t&&this.P7(t,e)},qr.Ql.prototype.disable=function(t,e,n,i,r){t&&this.P7(t,e)},qr.Ql.prototype.Ks=function(t,e,n,i){t&&this.P7(t,e)},qr.Ql.prototype.CK=function(t,e,n,i,r){this.b2.R7(r.x,r.y);t=t.s;this.Co=t.Qi(t.ct.m/2,t.ct.n/2),this.a3j=t.Us()},qr.Ql.prototype.wl=function(t,e,n,i,r){var a,s,o;r.nK&&(o=t.s,a=this.Co,s=this.b2,o=new Pr(o.ct.m/2,o.ct.n/2),r=Math.atan2(r.y-o.y,r.x-o.x),o=Math.atan2(s.y-o.y,s.x-o.x),this.IC(t,e,this.a3j.clone(),a,r-o))},qr.Ql.prototype.qx=function(t,e,n,i){this.IC(n,e,null,null,t.LY-n.s.Zw),n.s.Zw=t.LY},qr.Ql.prototype.IC=function(t,e,n,i,r){var a=t.s;null==n&&(n=a.Us()),null==i&&(i=a.Qi(a.ct.m/2,a.ct.n/2)),n.translate(-i.x,-i.y),n.rotate(r),n.translate(i.x,i.y),a.aqO(n),t.m*a.V<a.ct.m&&t.n*a.V<a.ct.n&&a.r.R7(0,0),t.Lj=!0,this.P7(t,e)},qr.Ql.prototype.P7=function(t,e){var n=new yr(mr.E.W,!0);n.data={d:mr.J.QP,b:this.id,LY:t.s.Zw},e.c(n)},qr.lG=function(){qr.aG.call(this,[10,25],qr.jx,"tools/hbrush")},qr.lG.prototype=new qr.aG(""),qr.lG.prototype.f9=function(t,e,n,i,r){null!=this.Mi&&(this.Oc(t,"heal",this.Mi.Fy(),this.Mi.bZ(),this.Mi.CY()),this.G(t,this.Mi.CY()),qr.Hp.prototype.f9.call(this,t,e,n,i,r),this.sH.algnd||(this.r=null))},qr.on=function(t){qr.wE.call(this,t?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],t?qr.oy:qr.iL,t?"tools/vtype":"tools/htype"),this.Mj=[],this.Jt=null,this.xv=null,this.caller=null,this.q0=1,this.ML=null,this.atY=0,this.CT=0,this.aqU=null,this.N3=null,this.eP=null,this.de=null,this.C4=null,this.HJ=null,this.ann=null,this.tu=null,this.q5=null,this.U7=null,this.ain=null,this.tH=!1,this.Ry=!1,this.C3=!1,this.SC=null,this.Ie=null,this.a1$=null,this.Bf=!1,this.Qm=!1,this.Ku=-1,this.mC=-1,this.eA=document.createElement("textarea"),this.eA.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1;  position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;"),this.eA.addEventListener("input",this.Cy.bind(this),!1),this.eA.addEventListener("keydown",this.ac1.bind(this),!1),this.eA.addEventListener("keyup",this.a11.bind(this),!1);t=function(t){t.stopPropagation()};this.eA.addEventListener("keydown",t,!1),this.eA.addEventListener("keyup",t,!1)},qr.on.prototype=new qr.wE,qr.on.prototype.Vg=function(t){return t.nK},qr.on.prototype.nr=function(t,e,n,i){if(null==this.eP&&this.id!=qr.oy){this.caller=e,this.Jt=t;var r=this.tn(t);if(0!=r.length){for(var a=null,s=[],o=[],l=0;l<r.length;l++){var h=t.g[r[l]].add.TySh,u=ir.CP(h.nx).length-2,f=ir.vK(h.nx,0,u);ir.xe(f,qr.Q.eZ(h.A)),null!=f.hy.Font&&(f.hy.Font=f.CV[f.hy.Font].Name),a=f.CV,s.push(f.hy),o.push(f.eS)}null!=(f={CV:a,hy:ir.bR(s),eS:ir.bR(o)}).hy.Font&&ir.Ui(f,f.hy.Font),this.PV(e,f,h)}}},qr.on.prototype.tn=function(t){for(var e=[],n=0;n<t.w.length;n++)t.g[t.w[n]]&&t.g[t.w[n]].add.TySh&&e.push(t.w[n]);return e},qr.on.prototype.gT=function(t,e,n,i,r){var a="insertGlyph"==t.d;if((a||"insertText"==t.d)&&this.eP&&(b=a?String.fromCharCode(65533):t.k,C=(p=this.eA).value,k=p.selectionStart,T=p.selectionEnd,p.value=C.slice(0,k)+b+C.slice(T),p.selectionStart=p.selectionEnd=k+b.length,this.Cy(null,a?t.k:null),p.focus()),"updateStyles"==t.d){if(null==this.eP){var s=this.tn(n),o=!1;if(0!=s.length){this.Z2(n,e,r,s);for(var l=0;l<s.length;l++){var h=(M=n.g[s[l]]).add.TySh;ir.jV(h,this.q0),this.eP=M;var u=ir.CP(h.nx);this.Ku=0,this.mC=u.length-1,ir.xB(h.nx,this.Ku,this.mC,this.Lh(r,h)),0==this.P0(n,r)&&(o=!0)}if(o)return void(this.Bf=!0);this.n9(n,e)}return}this.UC(r)}if(t.d.startsWith("warp")){var f=this.Qm;if("warp"==t.d||"warpCancel"==t.d){if(null==this.eP)return;"warp"==t.d?this.eP.add.TySh.pZ=t.oH:this.eP.add.TySh.pZ=this.ann;n=this.Jt;this.P0(n,r),f||this.jZ(n)}"warp"!=t.d&&this.eA.focus(),"warpConfirm"!=t.d&&"warpCancel"!=t.d||!f||(this.Qm=!1,"warpConfirm"==t.d?this.n9(n,e):this.ga(n,e))}if("editCurr"==t.d&&(r.No!=qr.iL&&(this.ML=r.No,(v=new yr(mr.E.W,!0)).data={d:mr.J.ms,b:qr.iL},e.c(v)),null!=this.eP&&this.disable(n,e,r,i),this.Jt=n,this.xv=r,this.caller=e,this.Z2(n,e,r,[t.CB]),u=ir.CP(this.eP.add.TySh.nx),this.Ku=0,this.mC=u.length-1,this.jZ(n),this.S4(),this.eA.focus()),"switchPntPrgr"==t.d){if(this.eP)return;var a=(h=(M=n.g[n.w[0]]).add.TySh).A.eZ(),c=JSON.parse(JSON.stringify(h.nx)),p=1==(x=ir.R_(c))?ir.Ob(c):[0,0,Math.round(1.05*M.rect.m/a),Math.round(1.25*M.rect.n/a)],d=ir.vK(c,0,0),f=d.CV[d.hy.Font].Name,v=r.PG.Jf(f),a=[0,p[2],p[2]/2][d.eS.Justification%3],d=v?nr.Lq(v,f,d.hy):.8*d.hy.FontSize;ir.b8(c,1-x),0==x&&(a=-a,d=-d,ir.NO(c,[0,0,p[2],p[3]]));d=new _r(1,0,0,1,a,d);d.concat(h.A),this.gT({Ru:n.w[0],d:"newED",M7:c,A:d,aeB:[16,3,1==x?0:1]},e,n,i,r)}if("newED"==t.d&&(h=(M=n.g[t.Ru]).add.TySh,c=this.Yl(n,[t.Ru]),h.nx=t.M7,t.A&&(h.A=t.A),I=new nr(h.nx,r.PG),P=er.xm(I,h),M.rect=P.Ni,M.buffer=P.L0,M.G(),n.G(),(d=new Ri(t.aeB||this.name,this)).data={wn:c,fq:this.Yl(n,[t.Ru])},n.Sy(d)),"fromAction"==t.d){for(var g=t.__.l5.Usng.v,y=g.TxtC.v,m=[],l=0;l<2;l++){var w=y[0==l?"Hrzn":"Vrtc"].v,b=w.val;"#Prc"==w.type&&(b=(0==l?n.m:n.n)*(b/100)),m[l]=b}this.DC(n,e,r,i,n.s.d$(m[0],m[1]));var M,S=(h=(M=n.g[n.w[0]]).add.TySh).nx,C=ir.CP(S);ir.SI(S,0,C.length-1),ir.RX(S,0,g.Txt.v.replace(/\r/g,"\n")),C=ir.CP(S);for(var x=0;x<2;x++)for(var L=g[0==x?"Txtt":"paragraphStyleRange"].v,l=0;l<L.length;l++){var D,k=(A=L[l].v).From.v,T=Math.min(A.T.v-1,C.length-1),A=A[0==x?"TxtS":"paragraphStyle"].v,E=ir.vK(S,k,T),O=0==x?E.hy:E.eS;for(D in A){var N=A[D].v;"Sz"==D?O.FontSize=Math.round(N.val):"fontPostScriptName"==D?ir.Ui(E,N):"Algn"==D?O.Justification={Left:1,Cntr:2}[N.Alg]:"leading"==D?O.Leading=A[D].v.val:"baselineShift"==D?O.BaselineShift=A[D].v.val:"autoLeading"==D?O.AutoLeading=A[D].v:"syntheticBold"==D?O.FauxBold=A[D].v:"syntheticItalic"==D?O.FauxItalic=A[D].v:"Trck"==D?O.Tracking=A[D].v:"verticalScale"==D?O.VerticalScale=A[D].v/100:"horizontalScale"==D?O.HorizontalScale=A[D].v/100:"Clr"==D&&(O.FillColor={Type:1,Values:[1,N.Rd.v/255,N.Grn.v/255,N.Bl.v/255]})}ir.xB(S,k,T,E)}var I=new nr(h.nx,r.PG),P=er.xm(I,h);M.rect=P.Ni,M.buffer=P.L0,M.G(),n.G(),this.n9(n,e)}},qr.on.prototype.UC=function(t){var e=Math.min(this.Ku,this.mC),n=Math.max(this.Ku,this.mC),i=this.eP.add.TySh;ir.jV(i,this.q0),ir.xB(i.nx,e,n-1,this.Lh(t,i));i=this.Jt;this.P0(i,t)&&this.jZ(i),"input"!=document.activeElement.tagName.toLowerCase()&&this.eA.focus()},qr.on.prototype.XC=function(t){return-1!=this.Mj.indexOf(t)},qr.on.prototype.enable=function(t,e,n,i){var r=this.eA;e.e.appendChild(r),this.tu="default",this.Lw(e)},qr.on.prototype.L$=function(){return null!=this.eP},qr.on.Ms=function(t,e){for(var n=t.g.length-1;0<=n;n--){var i=t.g[n];if(i.add.TySh&&i.rect.tl(e)&&t.asC(n))return i.zC(2)||i.zC(31)?-2:n}return-1},qr.on.prototype.CK=function(t,e,n,i,r){this.Jt=t,this.xv=n,this.caller=e;var a=t.s.Qi(r.x,r.y),s=null==this.eP;if(s){var o=qr.on.Ms(t,a);if(-2==o)return void alert(ri.get([6,57,0]));if(!(0<=o)||i.j(ii.Ml))return this.C3=!0,void(this.SC=r);if(!er.IP(t.g[o].add.TySh,n.PG,e))return void alert("Fonts not loaded yet");this.Z2(t,e,n,[o])}e=s?-1:ir.R_(this.eP.add.TySh.nx),o=this.U7||this.q5;if(o&&o.CK(t,n,i,a,null,null,r)&&Rr.oH.pz(this.eP.add.TySh.pZ)||!s&&Rr.H.j5(a,this.eP.rect)>20/t.s.V&&(0==e||1==e))this.tH=!0,this.Ie=a,this.a1$=this.eP.add.TySh.A.clone(),-1==this.Ku&&-1==this.mC&&(this.Ku=this.mC=this.qD(a));else{if(null==this.C4)return void alert("Fonts not loaded yet");this.Ry=!0,this.Ku=this.mC=this.qD(a);a=Date.now();300<a-this.atY&&(this.CT=0),this.CT++,this.atY=a,2==this.CT&&this.a1n(),3==this.CT&&this.aq2(),1<this.CT&&(this.Ry=!1)}this.S4(),this.jZ(t)},qr.on.prototype.Z2=function(t,e,n,i){var r=t.g[i[0]];this.eP=r,this.Hz(e,mr.E.W,{d:mr.J.QP,b:this.id,_u:"showactive"}),this.de=i,t.w=i.slice(0),t.aA(),t.b6=!0,this.HJ=this.Yl(t,i),this.tt(r.add.TySh),this.P0(t,n)},qr.on.prototype.tt=function(t){var e;1==ir.R_(t.nx)&&(e=[(e=new Fr(0,0,(e=ir.Ob(t.nx))[2]-e[0],e[3]-e[1])).x,e.y,e.x+e.m,e.y,e.x+e.m,e.y+e.n,e.x,e.y+e.n],Rr.H.A(e,t.A,e),this.q5=new Pi(e,!1,!1,!1,!0))},qr.on.prototype.a1n=function(){var t=ir.CP(this.eP.add.TySh.nx);this.Ku=this.xW(t,this.Ku),this.mC=this.Pp(t,this.Ku)},qr.on.prototype.xW=function(t,e){for(var n=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",i=[],r=0;r<n.length;r++)i.push(n.charAt(r));for(var a=-1==i.indexOf(t[e]),r=e-1;0<=r;r--)if(-1!=i.indexOf(t.charAt(r))==a)return r+1;return 0},qr.on.prototype.Pp=function(t,e){for(var n=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",i=[],r=0;r<n.length;r++)i.push(n.charAt(r));for(var a=-1==i.indexOf(t[e]),r=e+1;r<t.length;r++)if(-1!=i.indexOf(t.charAt(r))==a)return r;return t.length-1},qr.on.prototype.aq2=function(){var t=this.C4.ada(this.Ku);this.Ku=t[0],this.mC=t[1]},qr.on.prototype.Lw=function(t){var e=new yr(mr.E.W,!0);e.data={d:mr.J.tW,Ek:this.tu},t.c(e)},qr.on.prototype.wl=function(t,e,n,i,r){var a,s,o,l=t.s.Qi(r.x,r.y),h=this.eP;r.nK||(p="default",a=this.q5,(s=this.U7||a)&&Rr.oH.pz(h.add.TySh.pZ)?(o=s.RS(l,t.s.V,null,r))?p=o:s==a&&a.w2(l)&&(p="text"):h&&Rr.H.j5(l,h.rect)>20/t.s.V?p="move":0<=qr.on.Ms(t,l)&&(p="text"),p!=this.tu&&(this.tu=p,this.Lw(e)));var u,f,c,p=this.SC;this.C3&&Math.min(r.x-p.x,r.y-p.y)>4/t.s.V&&(this.C3=!1,this.DC(t,e,n,i,r),h=this.eP,this.tH=!0,this.q5=new Pi(null,!1,!1,!1,!0),(e=t.s.Qi(this.SC.x,this.SC.y)).x=Math.round(e.x),e.y=Math.round(e.y),this.q5.CK(t,n,i,e,null,null,r)),this.tH&&(r=h.add.TySh,this.U7?(this.U7.wl(t,n,i,l),u=Rr.N.gD(Rr.N.zw(this.U7.mY(),this.ain)),r.A=u,this.P0(t,n),ir.Sj(r)):this.q5?(this.q5.wl(t,n,i,l),h=r.A.clone(),i=Math.atan2(h.S,h.q4),h.rotate(i),u=Rr.N.gD(Rr.N.zw(this.q5.mY())),i=Math.atan2(u.S,u.q4),u.rotate(i),isNaN(u.q4)||u.q4*u.DR-u.S*u.yH==0||(c=new Fr(0,0,u.q4/h.q4,u.DR/h.DR),i=Math.round(c.m),f=Math.round(c.n),(u=r.nx.Curve)&&(h=new _r(i/(h=ir.Ob(r.nx))[2],0,0,f/h[3],0,0),Rr.H.A(u.Points,h,u.Points),ir.Sj(r)),ir.NO(r.nx,[0,0,i,f]),r.A=Rr.N.gD(Rr.N.zw(this.q5.mY(),c)),this.P0(t,n),ir.Sj(r))):(f=l.x-this.Ie.x,c=l.y-this.Ie.y,r.A=this.a1$.clone(),c=new Pr(r.A.E_+f,r.A.Qq+c),c=qr.DD.ET(t,c,n),r.A.E_=c.x,r.A.Qq=c.y,this.P0(t,n))),this.Ry&&(this.mC=this.qD(l)),(this.tH||this.Ry)&&this.jZ(t)},qr.on.prototype.DC=function(t,e,n,i,r){var a=t.l7(),s=a[0],o=a[1],l=t.rL();l.add.lnsr="rend";var h=t.g.slice(0);l.Zu("Text layer "+h.length),this.eP=l;var u=0==t.w.length?t.g.length-1:t.w[t.w.length-1],a=u+1;h[u].add.lsct==Gi.pb&&a--,this.HJ={sX:h.slice(0),Xa:t.w.slice(0)},h.splice(a,0,l),t.w=[a],this.Ku=this.mC=0,t.Gk(h),this.HJ.V6=h.slice(0),this.HJ.TB=t.w.slice(0),this.Hz(e,mr.E.W,{d:mr.J.QP,b:this.id,_u:"showactive"});a=t.s.Qi(r.x,r.y),h=n.wO;console.log(h),this.id==qr.oy&&((h=JSON.parse(JSON.stringify(h))).hy.BaselineDirection=1),l.add.TySh=ir.mb(a.x,a.y,h);e=l.add.TySh,h=e.nx;if(this.id==qr.oy&&(h._LineOrientation=2),ir.jV(e,this.q0),r.nK)ir.b8(h,1);else{ir.b8(h,0);s=s[o.pop()];if((o=s?s.add.vmsk:null)&&!i.j(ii.Ml)){for(var f=(o=o.clone()).Y,c=0;c<f.length;c++)null!=f[c].Gw&&(f[c].Gw=0);s=5/t.s.V;-1!=(i=-1==(i=Rr.$.LP(o.Y,a,!0,s)).BT?Rr.$.LP(o.Y,a):i).BT&&(ir.b8(h,1),t=Rr.$.PX(f,i.BT),s=Rr.$.Tb(f,i.BT)-1,f=o.Y=f.slice(0,2).concat(f.slice(t,t+s+1)),o.w=[],e.add={vmsk:o,vogk:qi.Ky(f)},h.Curve={},ir.vb(e),null!=i.ZP?(h=nr.ag(h.Curve),Rr.H.A(h[0],e.A,h[0]),a=Rr.H.KL(h[0],a.x,a.y),2!=(n=n.wO.eS.Justification)&&5!=n||(n=(h[2][a]+.5*h[3])%h[3],a=nr.kT(n,h[2])),a=h[1][a],o.Xo=[a%=s,a],ir.vb(e)):this.tt(e))}}return l},qr.on.prototype.f9=function(t,e,n,i,r,a){var s;a?this.C3=!1:null==this.eP&&!this.C3||(s=t.s.Qi(r.x,r.y),a=this.C3,this.C3&&(this.C3=!1,this.DC(t,e,n,i,r),this.Ry=!0),(this.tH||this.Ry)&&(this.jZ(t),this.S4(),a&&this.UC(n)),this.tH&&this.q5&&this.q5.f9(t,n,i,s),this.tH=this.Ry=!1,this.eA.focus())},qr.on.prototype.S4=function(){var t,e=this.eP.add.TySh,n=Math.min(this.Ku,this.mC),i=Math.max(this.Ku,this.mC);n==i?(t=ir.CP(e.nx),t=r=0==n||"\n"==t.charAt(n-1)?n:n-1):(t=n,r=i-1);var r=ir.vK(e.nx,t,r);ir.xe(r,qr.Q.eZ(e.A)),this.PV(this.caller,r,e)},qr.on.prototype.PV=function(t,e,n){this.Hz(t,mr.E.W,{d:mr.J.ot,jm:Bi.qq,wO:e});n=this.q0=ir._P(n);this.Hz(this.caller,mr.E.W,{d:mr.J.QP,b:this.id,_u:"changeAA",NL:n})},qr.on.prototype.j9=function(){var t=this.eP;t&&!this.tH&&null!=this.U7&&(this.U7.f9(this.Jt,this.xv,null,null),this.U7=null,this.tt(t.add.TySh),this.jZ(this.Jt))},qr.on.prototype.disable=function(t,e,n,i){this.eP;this.n9(t,e)},qr.on.prototype.qx=function(t,e,n,i,r){if(!this.Qm&&("commit"==t._u&&this.n9(n,e),"cancel"==t._u&&this.ga(n,e),"changeAA"==t._u&&(this.q0=t.NL,null!=n&&this.gT({d:"updateStyles"},e,n,i,r)),"showwarp"==t._u&&null!=n)){if(null==this.eP){if(null==n.g[n.w[0]].add.TySh)return;this.Z2(n,e,r,[n.w[0]]),this.eA.focus(),this.Qm=!0}this.ann=this.eP.add.TySh.pZ;n=new yr(mr.E.W,!0);n.data={d:mr.J.go,RB:"textwarp"},e.c(n)}},qr.on.prototype.v1=function(t,e){if(e==Bi.eE)if(this.Bf){this.Bf=!1;for(var n=this.Jt,i=this.de,r=0;r<i.length;r++)this.eP=n.g[i[r]],this.P0(n,t);this.n9(n,this.caller)}else this.eP&&this.UC(t)},qr.on.prototype.Lh=function(t,e){t=JSON.parse(JSON.stringify(t.wO));return ir.xe(t,1/qr.Q.eZ(e.A)),t},qr.on.prototype.PS=function(t,e){null!=t.wn?this.u7(e,t.fq):this.CU(e,t.V6,t.TB)},qr.on.prototype.AP=function(t,e){null!=t.wn?this.u7(e,t.wn):this.CU(e,t.sX,t.Xa)},qr.on.prototype.u7=function(t,e){for(var n=0;n<e.length;n++){var i=e[n],r=i.Ru,a=t.g[r];a.buffer=i.lJ,a.rect=i.Ni.clone(),a.G();r=a.add.TySh;r.pZ=i.oH,r.qK=i.qK.clone(),r.A=i.A.clone(),r.nx=JSON.parse(JSON.stringify(i.nx)),a.Kr()}t.G()},qr.on.prototype.Yl=function(t,e){for(var n=[],i=0;i<e.length;i++){var r=e[i],a=t.g[r],s=a.add.TySh;n.push({Ru:r,A:s.A.clone(),oH:JSON.parse(JSON.stringify(s.pZ)),qK:s.qK.clone(),nx:JSON.parse(JSON.stringify(s.nx)),lJ:a.buffer.slice(0),Ni:a.rect.clone()})}return n},qr.on.prototype.CU=function(t,e,n){t.w=n,t.Gk(e),t.G(),t.hu=!0},qr.on.prototype.P0=function(t,e,n){null==n&&(n=!1);var i=this.eP.add.TySh;if(!er.IP(i,e.PG,this.caller))return!1;this.C4=new nr(i.nx,e.PG),n||(r=ir.CP(i.nx),this.eA.value=r.slice(0,r.length-1));var r,e=er.xm(this.C4,i);Rr.oH.pz(i.pZ)?i.qK=new Fr:1==ir.R_(i.nx)?(n=ir.Ob(i.nx),r=e.qK.y,i.qK=new Fr(0,r,n[2]-n[0],n[3]-n[1]-r)):i.qK=e.qK;i=this.eP.rect;return this.eP.rect=e.Ni,this.eP.buffer=e.L0,this.eP.G(),t.Lg(),t.G(t.root.W4(e.Ni.hq(i),t,t.g.indexOf(this.eP))),!0},qr.on.prototype.Cy=function(t,e){if(null!=this.eP&&!this.Qm){var n=this.eA.selectionStart,i=this.eP.add.TySh,r=ir.CP(i.nx),a=this.eA.value+"\n",s=Math.min(this.Ku,this.mC),o=(Math.max(this.Ku,this.mC),!1);if(this.Ku=Math.min(n,s),a.length-n<r.length-this.mC&&(this.mC=r.length-a.length+n),r!=a)for(;0<this.Ku&&r.charAt(this.Ku-1)!=a.charAt(this.Ku-1);)this.Ku--;s=r.substring(0,this.Ku),n=r.substring(this.mC,r.length),n=a.substring(this.Ku,a.length-n.length);ir.SI(i.nx,this.Ku,this.mC),ir.RX(i.nx,this.Ku,n),null!=e&&ir.afi(i.nx,this.Ku,e);for(var l,e=this.Lh(this.xv,i),h=-1,u=Array.from(n),f=0;f<u.length;f++)h=Math.max(h,u[f].codePointAt(0));-1!=h&&128<h&&65533!=h&&null!=e.hy.Font&&((l=e.CV[e.hy.Font].Name)!=(l=this.xv.PG.yi(h,l,e.CV))&&(ir.Ui(e,l),o=!0)),null!=this.N3&&n==this.N3&&(l=JSON.parse(this.aqU),e.hy=l.hy,e.CV=l.CV,o=!0),ir.xB(i.nx,this.Ku,this.Ku+n.length-1,e),this.Ku=this.mC=s.length+n.length;n=this.Jt;this.P0(n,this.xv,!0)&&this.jZ(n,!0),o&&this.S4()}},qr.on.prototype.a11=function(t){t.ctrlKey||this.j9()},qr.on.prototype.ac1=function(t){if(null!=this.eP&&!this.Qm&&null!=this.eP){null==this.U7&&t.ctrlKey&&(a=this.eP.add.TySh,o=[(l=1==ir.R_(a.nx)?new Fr(0,0,(l=ir.Ob(a.nx))[2]-l[0],l[3]-l[1]):this.C4.bk()).x,l.y,l.x+l.m,l.y,l.x+l.m,l.y+l.n,l.x,l.y+l.n],Rr.H.A(o,a.A,o),this.U7=new Pi(o,!0,!0,!1,!1),this.ain=l,this.jZ(this.Jt));var e=ii,n=0,i=0,r=!1;e.A7(t.code,e.yo)&&(n=1),e.A7(t.code,e.b4)&&(n=-1),e.A7(t.code,e.Rr)&&(i=-1),e.A7(t.code,e.QH)&&(i=1);var a,s=t.ctrlKey||t.metaKey,o=e.A7(t.code,ii.ajO),l=e.A7(t.code,ii.ais);if(e.A7(t.code,ii.C_)&&s)this.n9(this.Jt,this.caller);else if(e.A7(t.code,ii.Yh))this.ga(this.Jt,this.caller);else{if(e.A7(t.code,ii.Ok)){t.preventDefault();var h=(p=this.eA).value,u=p.selectionStart,f=p.selectionEnd;return p.value=h.substring(0,u)+"\t"+h.substring(f),p.selectionStart=p.selectionEnd=u+1,void this.Cy(null)}(e.A7(t.code,e.eB)||e.A7(t.code,e.oL))&&s&&(f=this.Ku,(d=this.mC)<f&&(u=f,f=d,d=u),a=this.eP.add.TySh,a=ir.CP(a.nx),f!=d&&(this.N3=a.slice(f,d),this.aqU=JSON.stringify(this.xv.wO)));var c=ir.CP(this.eP.add.TySh.nx);if(0!=n||0!=i||o||l){t.preventDefault();var p,d=this.Ku;if(0!=n)s&&-1==n?d=this.xW(c,this.Ku-1):s&&1==n?d=this.Pp(c,this.Ku):(h=(p=this.eA).value,0!=(d=this.Ku+n)&&65535<h.codePointAt(d-1)&&(d+=n));else if(0!=i){n=this.C4.QJ(this.Ku);d=-1==i&&0==n.Pq?0:1==i&&n.Pq==this.C4.aiq()-1?99999999999:this.C4.aqJ(new Pr(n.Ni.x+n.Ni.m/2,0),n.Pq+i)}else if(o){for(var v=this.Ku-1;0<v&&10!=c.charCodeAt(v);)v--;d=0==v?0:v+1}else if(l){for(v=this.Ku;v<c.length-1&&10!=c.charCodeAt(v);)v++;d=v}d=Math.max(0,Math.min(c.length-1,d)),t.shiftKey?this.Ku=d:this.Ku=this.mC=d,r=!0}e.A7(t.code,ii.J)&&s&&(this.Ku=0,this.mC=c.length-1,r=!0),r&&(this.S4(),this.jZ(this.Jt))}}},qr.on.aqq=function(t,e){var n=t.length;if(n!=e.length)return!1;for(var i=0;i<n;i++)if(t[i].Ru!=e[i].Ru)return!1;return!0},qr.on.prototype.n9=function(t,e){var n,i,r,a;null!=this.eP&&(this.eP.Kr(),(n=this.HJ)instanceof Array?(i=this.Yl(t,this.de),null!=(r=t.Ki())&&r.b==this&&r.data.wn&&qr.on.aqq(r.data.wn,n)?r.data.fq=i:((a=new Ri(this.name,this)).data={wn:n,fq:i},t.Sy(a))):((a=new Ri(this.name,this)).data={sX:n.sX,V6:n.V6,Xa:n.Xa,TB:n.TB},t.Sy(a)),this.escape(t,e))},qr.on.prototype.ga=function(t,e){null!=this.eP&&(this.HJ instanceof Array?(this.u7(t,this.HJ),this.eP&&ir.Sj(this.eP.add.TySh)):(t.w=this.HJ.Xa,t.Gk(this.HJ.sX)),t.G(),this.escape(t,e))},qr.on.prototype.escape=function(t,e){this.j9(),this.eP=null,this.de=null,this.C4=null,this.q5=null,this.eA.blur(),t.D.h7=null,t.D.jb=null,t.D.us=[],t.Lj=!0,this.tH=!1,this.Ry=!1,this.Ku=this.mC=-1,this.Hz(e,mr.E.W,{d:mr.J.QP,b:this.id,_u:"hideactive"}),this.ML&&((t=new yr(mr.E.W,!0)).data={d:mr.J.ms,b:this.ML},e.c(t),this.ML=null)},qr.on.prototype.Hz=function(t,e,n,i){e=new yr(e,!0);e.data=n,i&&(e.b=i),t.c(e)},qr.on.prototype.qD=function(t){var e=this.eP.add.TySh,n=this.C4,i=e.A.clone();i.tU();i=i.iX(t),t=ir.bZ(e,n),e=Rr.oH.Av(e.pZ,t),e=Rr.Cs.a1P(e,i);return null==e&&(e=new Float64Array(2)),i=new Pr(t.x+e[0]*t.m,t.y+e[1]*t.n),n.KW&&((t=n.KW.clone()).tU(),i=t.iX(i)),n.aqJ(i)},qr.on.prototype.jZ=function(t,e){null==e&&(e=!1);var n=this.eP.add.TySh,i=ir.R_(n.nx),r=this.C4,a=r?ir.bZ(n,r):null;t.D.us=[],t.D.h7=null,t.D.jb=null;var s,o=this.U7||this.q5;o?(o.VV(t,this.xv,!Rr.oH.pz(n.pZ)),(s=n.A.clone()).tU(),r&&r.KW&&1==r.A2&&((o=r.KW.clone()).tU(),s.concat(o)),Rr.H.A(t.D.us,s,t.D.us),Rr.H.A(t.D.h7.U,s,t.D.h7.U),r&&null==r.KW&&r.alg()&&(s=a.m-20,l=a.n+8,t.D.h7.U.push(s,l,10+s,l,5+s,l-5,5+s,l+5),t.D.h7.C.push("M","L","M","L"))):0==i?this.ape(t,n,r):t.D.h7={U:[],C:[]};var l=Math.min(this.Ku,this.mC),h=Math.max(this.Ku,this.mC);if(e||(this.eA.selectionStart=l,this.eA.selectionEnd=h),null!=r){function u(t,e){var n=t.x,i=t.y+t.n,r=new _r;r.translate(-n,-i),r.rotate(-e),r.translate(n,i),t.y+=.27*t.n;t=Rr.H.UQ(t);return Rr.H.A(t.U,r,t.U),t}if(l==h){l=Math.max(l,0);(c=r.QJ(l))&&(i=c.Ni,null!=(e=this.xv.wO.hy.FontSize)&&0!=e&&(e/=n.A.eZ(),i.y+=i.n-e,i.n=e),null!=(e=r.a83(l))&&1==e.tz&&(i.x+=i.m),i=u(i,c.Zw).U,t.D.h7.C.push("M","L"),t.D.h7.U.push(i[0],i[1]-1,i[6],i[7]-1))}else{t.D.jb={U:[],C:[]};for(var f=l;f<h;f++){var c,p=u((c=r.QJ(f)).Ni,c.Zw);Rr.H.concat(t.D.jb,p)}}}t.D.h7=er.cX(t.D.h7,n,r),t.D.jb=er.cX(t.D.jb,n,r),t.D.us=er.cX({U:t.D.us},n,r).U,t.Lj=!0},qr.on.prototype.ape=function(t,e,n){if(null!=n){t.D.us.push(0,0),null==t.D.h7&&(t.D.h7={C:[],U:[]});for(var i=0;i<n.eS.length;i++)for(var r=n.eS[i],a=0;a<r.JY.length;a++){var s=r.JY[a],o=r.yZ.x+s.yZ.x+s.Ni.x,l=r.yZ.y+s.yZ.y+s.Ni.y+s.Ni.n;t.D.h7.C.push("M","L"),t.D.h7.U.push(o,l,o+s.Ni.m,l)}t.Lj=!0}},qr.OI=function(){qr.on.call(this,!0)},qr.OI.prototype=new qr.on,qr.aF=function(){qr.$S.call(this,[10,9],qr.mt,"tools/lasso"),this.nD="crosshair",this.vE=null,this.An=null,this.Ie=null},qr.aF.prototype=new qr.$S,qr.aF.prototype.Wv=function(t,e,n,i){this.vE=this.a9,this.An={U:[this.vE.x,this.vE.y],C:["M"]}},qr.aF.prototype.Ij=function(t,e,n,i){this.Ie=i;var r=this.An;null!=r&&(i.nK?(r.C.push("L"),r.U.push(this.t9.x,this.t9.y),this.vE=this.t9,this.op&&(t.D.h7=r,t.Lj=!0)):null!=this.An&&1<this.Uw&&n.j(ii.e$)&&(r.U.pop(),r.U.pop(),r.U.push(this.t9.x,this.t9.y),t.D.h7=r,t.Lj=!0))},qr.aF.prototype.L$=function(){return null!=this.An},qr.aF.prototype.df=function(){return null!=this.An},qr.aF.prototype.XL=function(t,e,n,i){qr.$S.prototype.XL.call(this,t,e,n,i),this.An&&1<this.Uw&&this.Ie&&!this.Ie.nK&&!i.j(ii.e$)&&this.RV(t,n,i)},qr.aF.prototype.KE=function(t,e,n,i){this.Ie=i;i=this.An;if(null!=i)return 1<this.Uw&&n.j(ii.e$)?(i.C.push("L"),void i.U.push(this.t9.x,this.t9.y)):void this.RV(t,e,n)},qr.aF.prototype.RV=function(t,e,n){this.finish(t,e,n,this.Ie),this.An=null,t.D.h7=null,t.Lj=!0},qr.aF.prototype.getSelection=function(t,e,n,i){return this.a9.iy(this.t9)||!this.op?null:qr.$S.Nq(this.An.U,null,this.sH.anta)},qr.DD=function(){qr.wE.call(this,[10,11],qr.AZ,"tools/move"),this.Lz=new Pr(0,0),this.rn=new Pr(0,0),this.GD=null,this.jY=null,this.oQ=new Pr(0,0),this.je=null,this.fd=null,this._a=null,this.Tg=0,this.Ah=null,this.YQ=[],this.Ib=null,this.DX=null,this.Vk=!1,this.d=0,this.hn=null,this.ug=null,this.Aj=null,this.tx=!1,this.sH={BU:!1,dL:!1,mW:!1},this.a5T=!1,this.aqw=!1,this.q5=null,this.ba=null,this.apv=null;for(var t=[],e=0;e<Rr.IR.d2.length;e++)t.push({name:Rr.IR.d2[e],K:function(t,e,n){return{Cc:e.jv.el==n}}});this.mv=new xr(t),this.mv.h("select",this.aK,this)},qr.DD.prototype=new qr.wE,qr.wE.prototype.Vg=function(t){return this.Vk&&2!=this.d},qr.DD.prototype.$r=function(){return this.Vk&&0==this.d},qr.DD.prototype.Ks=function(t,e,n,i){this.FD(t,-this.oQ.x,-this.oQ.y),this.oQ.R7(0,0),this.qL(t,null,n),this.j7(t)},qr.DD.prototype.XB=function(){var t=this.sH;return[t.BU?1:0,t.dL?1:0,t.mW?1:0]},qr.DD.prototype.t6=function(t,e,n){var i=this.sH;t&&null!=t[0]&&(i.BU=1==t[0]),t&&null!=t[1]&&(i.dL=1==t[1]),t&&null!=t[2]&&(i.mW=1==t[2]);t=new yr(mr.E.W,!0);t.data={d:mr.J.QP,b:this.id,VU:i,a4A:e},n.c(t)},qr.DD.Lk=function(t,e,n,i,r,a,s){null==s&&(s=[!1,!0]);var o=t.ZI(null,r,!0);if(t.add.artd&&1==t.w.length&&t.g[t.w[0]].add.artb){r=t.g[t.w[0]].Gn();l=t.v5(o,r,r)[0]}else{var l,h=new Fr(0,0,t.m,t.n);if(h=(l=t.v5(o,s[0]?h:null,s[1]?null:h)[0]).add.artd){for(var u=0;u<l.g.length;u++)delete l.g[u].add.artb;delete l.add.artd}s[1]&&(f=Rr.zZ(l.y5(),new Fr(0,0,l.m,l.n),2),qr.B_.RA(l,f))}if(1!=n){var f=new Fr(0,0,Math.round(l.m*n),Math.round(l.n*n));qr.B_.RA(l,f);for(var c=[],u=0;u<l.g.length;u++)c.push(u);f=qr.Q.q_(l,c,!0);qr.B_.IJ(l,new _r(n,0,0,n,0,0)),qr.Q.yN(l,i,c,f,1,Rr.N.V$(new _r(n,0,0,n,0,0)),null,!0),l.Bv()}else h&&(l.G(),l.Bv());for(var p=[],u=0;u<e.length;u++)l.m*l.n!=0&&p.push(ai._x(l,e[u].toUpperCase(),null,null,a?a[u]:null,i));return p},qr.DD.prototype.kr=function(t,e,n,i,r){var a;null!=t&&0!=t.w.length&&(a=qr.DD.Lk(t,[e],n,i,null)[0],(i=new yr(mr.E.W,!0)).data={d:mr.J.Bx,data:a,name:t.g[t.w[0]].getName()+(1==n?"":"@"+n+"x")+"."+e},r.c(i))},qr.DD.prototype.qx=function(t,e,n,i,r){"getPNG"==t.wp?this.kr(n,"png",t.Bo,r,e):"getSVG"==t.wp&&this.kr(n,"svg",t.Bo,r,e),"prms"==t.wp&&(this.sH=t,this.j7(n))},qr.DD.aeX=function(t){var e=t.length,n=0;t.sort(function(t,e){return t[0]+t[1]/2-(e[0]+e[1]/2)});for(var i=t[e-1][0]+t[e-1][1]-t[0][0],r=0;r<e;r++)n+=t[r][1];for(var a=Math.round((i-n)/(e-1)),s=t[0][0],r=0;r<e;r++)t[r][0]=s,s+=t[r][1]+a},qr.DD.prototype.gT=function(t,e,n,i,r){if("trsl"==(o=t.d)){var a=Math.round(t.Bc),s=Math.round(t.fJ);this.oQ.R7(a,s),this.gP(n,e,i,r,!1,t.i),this.FD(n,a,s),this.qL(n,null,r)}else if("fcmy"==o)(o=new Ri(["RGB","CMYK"][t.k]+" Color",this)).data={d:t.d,Zk:null==n.add.fcmy?0:n.add.fcmy,NL:t.k},n.Sy(o),this.PS(o.data,n);else if("lockguides"==o)n&&(n.lU=!n.lU);else if("gids"==o||"gidsFromLayer"==o){var o,a=t.ug;if(null==a&&(a=n.pt()),"gids"==o){var l=t.th,h=a[0].length,s=l[0].length,h=h==s?[23,2]:s<h?[23,3]:[23,4];0==s&&(h=[11,15,0])}else if("gidsFromLayer"==o){for(var u=[],f=[],c=n.ak(),p=0;p<n.w.length;p++)(v=n.g[n.w[p]].rect).mN()||(u.push([0,v.x],[1,v.y],[0,v.x+v.m],[1,v.y+v.n]),f.push(c,c,c,c));h=[11,15,1],l=n.pt(),qr.DD.rC(l,[u,f])}JSON.stringify(a)!=JSON.stringify(l)&&((o=new Ri(h,this)).data={d:2,ug:a,th:l},n.Sy(o),this.PS(o.data,n))}else if("algn"==o){var d=t.k;if(null!=n)if(n.w.length<2&&(null==n.v||3==d||7==d))alert(ri.get([15,7,5]));else{t=n.v;n.v=null;var v=t?t.rect:qr.Q.bZ(n);if(this.gP(n,e,i,r,!1),this.Vk){for(var g=this.Ah,y=[],m=[],w=[],p=0;p<g.length;p++){for(var b=g[p];"</Layer group>"==n.g[b].getName();)b++;for(var M=n.root.eu(b),S=M;null!=M.parent;)M=M.parent,-1!=g.indexOf(M.index)&&(S=M);var C=m.indexOf(S.index);-1==C&&(C=m.length,m.push(S.index)),y[p]=C}for(var x=[],L=[],D=[],p=0;p<m.length;p++){var k=qr.Q.bZ(n,n.ZI(!0,m[p]));D.push(k);var T=3==d?[k.y,k.n]:[k.x,k.m];x[p]=T,L.push(T)}qr.DD.aeX(L);for(p=0;p<m.length;p++){var A=(k=D[p]).x,E=k.y;0==d&&(A=v.x),1==d&&(A=v.x+(v.m-k.m)/2),2==d&&(A=v.x+(v.m-k.m)),3==d&&(E=x[p][0]),4==d&&(E=v.y),5==d&&(E=v.y+(v.n-k.n)/2),6==d&&(E=v.y+(v.n-k.n)),7==d&&(A=x[p][0]),w.push(Math.round(A-k.x),Math.round(E-k.y))}for(var O=[],p=0;p<g.length;p++){var N=y[p];O[2*p]=w[2*N],O[2*p+1]=w[2*N+1]}this.FD(n,0,0,null,O),this.qL(n,null,r,O,3==d||7==d?[20,4,6]:[20,4,d<3?d:d-1]),n.v=t}}}else"disabAuto"==o&&this.t6([!1],null,e)},qr.DD.rC=function(t,e){for(var n=0;n<e[0].length;n++){for(var i=e[0][n],r=e[1][n],a=!1,s=0;s<t[0].length;s++){var o=t[0][s],l=t[1][s];i[0]==o[0]&&i[1]==o[1]&&r==l&&(a=!0)}a||(t[0].push(i.slice(0)),t[1].push(r))}},qr.DD.prototype.enable=function(t,e,n,i,r){this.fd=n,this._a=e,this.tx=!!r,this.j7(t),this.Lw("default",e)},qr.DD.prototype.disable=function(t,e,n,i){this.VN(t)},qr.DD.prototype.VN=function(t){null!=t&&(this.q5&&(this.q5.clear(t),this.q5=null),t.D.mW&&(t.D.mW=null,t.Lj=!0),t.D.LA&&(t.D.LA=null,t.Lj=!0),t.D.ca[this.id]&&(delete t.D.ca[this.id],t.Lj=!0),0!=t.D.po.length&&(t.D.po=[],t.Lj=!0))},qr.DD.prototype.nr=function(t,e,n,i){n.No==this.id&&this.j7(t)},qr.DD.prototype.j7=function(t,e){var n,i,r,a,s,o,l,h,u,f,c,p,d,v,g,y;null!=t&&(f=this.sH,this.VN(t),this.tx||((f.dL||f.mW)&&(n=Rr.H.dP(qr.Q.bZ(t))),f.dL&&!n.mN()&&(this.q5=new Pi([n.x,n.y,n.x+n.m,n.y,n.x+n.m,n.y+n.n,n.x,n.y+n.n],!0),this.q5.VV(t,this.fd)),f.mW&&(i=a=null,r=!1,a=-1!=t.ak()?t.g[t.ak()].Gn():new Fr(0,0,t.m,t.n),t.D.mW={oJ:[n],zz:[]},s=t.D.mW.zz,o=n.x+n.m,l=n.y+n.n,h=n.x+Math.floor(n.m/2),v=n.y+Math.floor(n.n/2),!e||(c=t.root.LP(new Pr(Math.floor(e.x),Math.floor(e.y))))&&(i=Rr.H.dP(c.i.w8(t))).$B(n)&&((r=(i.st(n)||n.st(i))&&!n.iy(i))||(i=null)),this.CX(n,s),null!=i?(t.D.mW.oJ.push(i),u=i.x+i.m,f=i.y+i.n,e=i.x+Math.floor(i.m/2),c=i.y+Math.floor(i.n/2),r?(d=h,p=v,n.st(i)&&(d=e,p=c),s.push(n.x,p,i.x,p),s.push(o,p,u,p),s.push(d,n.y,d,i.y),s.push(d,l,d,f)):(this.CX(i,s),p=l<i.y||f<n.y,d=o<i.x||u<n.x,o<i.x&&s.push(o,v,i.x,v),u<n.x&&s.push(u,v,n.x,v),l<i.y&&s.push(h,l,h,i.y),f<n.y&&s.push(h,f,h,n.y),p&&!d&&(n.x<i.x&&s.push(n.x,c,i.x,c),i.x<n.x&&s.push(i.x,v,n.x,v)))):(n.y>a.y&&s.push(h,a.y,h,n.y),l<a.y+a.n&&s.push(h,l,h,a.y+a.n),n.x>a.x&&s.push(a.x,v,n.x,v),o<a.x+a.m&&s.push(o,v,a.x+a.m,v)),t.Lj=!0)),2==this.d&&this.Vk&&(y=new Fr(0,0,t.m,t.n),-1!=(v=t.ak())&&(g=t.pt()[1][this.Ah],y=t.g[g=-1==g?v:g].Gn()),y=(0==(g=(v=t.p6[this.Ah])[0])?"X":"Y")+": "+Rr.IR.KQ(v[1]-(0==g?y.x:y.y),t.Mg,this.fd,0==g?y.m:y.n,!0),qr.wE.N6(Math.round(this.GD.x)+10,Math.round(this.GD.y)-10,[y],t),t.Lj=!0),3==this.d&&this.Vk&&(y=Rr.H.UQ(this.hn),t.D.ca[this.id]={h7:y},t.Lj=!0))},qr.DD.prototype.CX=function(t,e){var n=t.m,i=t.n,r=t.x+Math.floor(.2*n),a=t.y+Math.floor(.2*i);e.push(r,t.y,r,t.y+i),e.push(t.x,a,t.x+n,a)},qr.DD.prototype.Lw=function(t,e){var n={d:mr.J.tW,Ek:t},t=new yr(mr.E.W,!0);t.data=n,e.c(t)},qr.DD.prototype.Y1=function(t){var e=this.ba.$T()[0],n=this.je,e=this.apv[e];this.Gu(n,e)},qr.DD.prototype.aK=function(t){var e=JSON.parse(JSON.stringify(this.fd.jv));e.el=this.mv.$T()[0];var n=new yr(mr.E.W,!0);n.data={d:mr.J.ot,jm:Bi.TL,NL:e},this._a.c(n)},qr.DD.prototype.Yp=function(t,e,n,i,r){this.Vk&&this.f9(t,e,n,i,r),this.je=t,this.fd=n,this._a=e;var a,i=t.s.Qi(r.x,r.y);if(qr.DD.qZ(n,r,t.s))a=this.mv;else{this.ba&&this.ba.removeEventListener("select",this.Y1);var s=[];if(t.root.LP(i,s),0==s.length)return;var o=[];this.apv=s;for(var l=0;l<s.length;l++)o.push({name:t.g[s[l]].getName()});(a=this.ba=new xr(o)).h("select",this.Y1,this)}a.parent=e,a.T(),a.update(t,n);n=new yr(mr.E.W,!0);n.data={d:mr.J.u9,IZ:a,x:r.TR+2,y:r.KY+1},e.c(n)},qr.DD.prototype.i7=function(t,e,n,i,r){return-1!=qr.DD.Kv(t,r)||qr.DD.qZ(n,r,t.s)},qr.DD.Kv=function(t,e){if(null==t||null==t.add.artd)return-1;for(var n=t.s.Qi(e.x,e.y),i=12*qr.F()/t.s.V,r=0;r<t.g.length;r++){var a=t.g[r];if(a.SH()&&null!=a.add.artb){var s=a.Gn();if(new Fr(s.x,s.y-1.7*i,i*a.getName().length*.5,i).tl(n))return r}}return-1},qr.DD.prototype.CK=function(t,e,n,i,r){var a,s=qr.DD.Kv(t,r),o=qr.DD.DP(t,t.s.Qi(r.x,r.y));return-1!=s?(t.w=[s],void(n.No==qr.AZ&&((a=new yr(mr.E.W)).data={d:mr.J.ms,b:qr.j8},e.c(a)))):-1!=o?(t.s.LB=o,t.iM=!0,(a=new yr(mr.E.W,!0)).data={d:mr.J.R$,RB:Ns.DG.atu},void e.c(a)):(this.GD=r,this.Lz.R7(r.x,r.y),this.rn=t.s.Qi(r.x,r.y),this.jY=new Ki(this.rn),void this.gP(t,e,i,n,!0))},qr.DD.qZ=function(t,e,n,i){var r=Rr.IR.jC,n=n.ct.n;return t.CO&&(0<e.x&&e.x<r||0<e.y&&e.y<r||i&&0<e.x&&e.x<4*r&&n-r<e.y&&e.y<n)},qr.DD.prototype.gP=function(t,e,n,i,r,a){var s=this.rn,o=!1;if(r){var l,h,u=i.Me&&i.jv.p6;qr.DD.qZ(i,this.Lz,t.s)&&(f=t.pt(),l=t.pt(),h=null,this.Lz.x<Rr.IR.jC&&(h=[0,s.x]),this.Lz.y<Rr.IR.jC&&(h=[1,s.y]),l[0].push(h),l[1].push(t.ak()),t.Eq(l),u||(c=new yr(mr.E.W),i.jv.p6||(c.data={d:mr.J.ot,jm:Bi.CL},e.c(c)),i.Me||(c.data={d:mr.J.ot,jm:Bi.ph},e.c(c)),u=!0));var f,c,i=this.iQ(t,s);if(u&&null!=i&&!t.lU)return this.d=2,this.ug=f||t.pt(),this.Ah=i,this.Vk=!0,void(this.DX=qr.Q.bZ(t));if(0!=t.kx.length)return this.d=4,this.DX=t.En[t.kx[0]].rect.clone(),void(this.Vk=!0);if(this.q5&&null!=this.q5.RS(s,t.s.V,!0,this.GD))return(c=new yr(mr.E.W)).data={d:mr.J.ms,b:qr.gc,afA:!0},void e.c(c);if(t.v&&t.v.rect.tl(s)&&(f=Math.round(s.x),i=Math.round(s.y),c=t.v.rect,o=128<t.v.channel[(i-c.y)*c.m+f-c.x]),!o&&(!this.tx&&this.sH.BU||this.tx&&this.sH.BU&&(n.j(ii.Ml)||t.w.length<2)))if(!this.asp(t,s,n))return t.w=[],t.Ae=null,t.hu=t.pB=!0,this.d=3,this.hn=new Fr,void(this.Vk=!0);n.j(ii.e$)&&!o&&((y=new yr(mr.E.u)).b=qr.ZD,y.data={d:qi.PR,at3:!0},e.c(y))}if(0!=t.kx.length)return this.d=4,this.DX=t.En[t.kx[0]].rect.clone(),void(this.Vk=!0);this.Ah=t.ZI(null==a,a,null,!0);for(var p=0;p<this.Ah.length;p++){var d=t.g[this.Ah[p]];if(d.zC(2)||d.zC(31))return void alert(ri.get([6,57,0]))}if(t.add.artd&&r){for(var v=this.Ah,g=!1,p=0;p<v.length;p++)t.g[v[p]].add.artb&&(g=!0);g||(this.Ib=[t,t.g.slice(0),t.w.slice(0),-1],this.Ah.sort(function(t,e){return t-e}))}if(this.YQ=qr.DD.a9X(t,this.Ah),this.d=0,t.v&&(!r||o)&&1==t.w.length&&t._W(!1)){if(!t.a5i())return void(this.Vk=!1);var y=t.g[t.w[0]],a=n.j(ii.e$);this.d=1;var m,r=t.history[t.i_];r.b!=this||1!=r.data.d||r.data.i!=t.w[0]||y.rq!=y.jS.rq||a?(o=y.jS,n=!1,y.Ga(t,t.v)&&!a||(n=!0,y.tk(t,t.v,a)),y.jS.rq<=0?(m=Rr.t(y.jS.Hq.length>>2),Rr.VW(y.jS.Hq,m,3)):m=t.v.channel.slice(0),m={rect:y.jS.LH.clone(),channel:m},this.Aj=new Ri(a?[12,53]:[12,54],this),this.Aj.data={d:1,i:t.w[0],jS:y.jS,YT:o,Rl:n,Xa:t.v,TB:m,DR:new Pr(0,0)},t.Sy(this.Aj),t.v=m,t.RD=!0):this.Aj=r}this.Vk=!0,this.DX=qr.Q.bZ(t)},qr.DD.prototype.asp=function(t,e,n){var i=t.root.LP(new Pr(Math.floor(e.x),Math.floor(e.y)));return i&&(i.i.add.vmsk&&(t.Lj=!0),e=t.g.indexOf(i.i),n.j(ii.Ml)?-1==(n=t.w.indexOf(e))?t.w.push(e):1<t.w.length&&t.w.splice(n,1):-1==t.w.indexOf(e)&&this.Gu(t,e)),null!=i},qr.DD.prototype.Gu=function(t,e){t.g[e].rq=0,t.w=[e],t.Ae=null,t.aA(),t.b6=!0,t.hu=!0},qr.DD.DP=function(t,e){var n=t.add.Anno;if(null==n||0==n.length)return-1;for(var i=30/t.s.V,r=0;r<n.length;r++)if(new Fr(n[r][0],n[r][1],i,i).tl(e))return r;return-1},qr.DD.prototype.wl=function(t,e,n,i,r){this.GD=r;var a,s,o,l=t.s.Qi(r.x,r.y);if(this.jY&&this.d<2&&(l=this.jY.Id(l,i)),!this.Vk)return n.Me&&n.jv.p6&&t&&!t.lU&&(o=this.iQ(t,l),u="default",c=qr.DD.Kv(t,r),null!=o?u=["col-resize","row-resize"][t.p6[o][0]]:this.q5?(h=this.q5.RS(l,t.s.V,null,r))&&(u=h):-1==c&&-1==qr.DD.DP(t,l)||(u="pointer"),this.Lw(u,e)),void this.j7(t,l);var h=this.rn,u=Math.round(l.x-h.x)-this.oQ.x,e=Math.round(l.y-h.y)-this.oQ.y;this.DX&&(2==this.d?(h=[],t.v&&h.push(t.v.rect),this.DX&&h.push(this.DX),t.s.Ht&&h.push(t.s.Ht),l=qr.DD.ET(t,l,n,[!1,h,!0])):((s=this.DX.clone()).offset(this.oQ.x+u,this.oQ.y+e),a=qr.DD.Mr(t,s,n),u+=Math.round(a[0]),e+=Math.round(a[1]))),this.oQ.x+=u,this.oQ.y+=e;n=this.Ib;if(n&&t==n[0]&&(t.Gk(n[1]),t.w=n[2].slice(0),n[3]=-1),this.FD(t,u,e,l,null,i.j(ii.Ml)),n&&t==n[0]){i=this.DX.clone();i.offset(this.oQ.x,this.oQ.y);for(var f=new Pr(i.x+i.m/2,i.y+i.n/2),c=t.ak(),p=-1,d=0;d<t.g.length;d++){var v=t.g[d];v.SH()&&null!=v.add.artb&&v.Gn().tl(f)&&(p=d)}-1!=p&&p!=c&&(c=qr.Ap.mO(t,this.Ah,p,!0,null,!1),t.Gk(c[0]),t.w=c[1],n[3]=p)}this.j7(t,l),a&&qr.DD.d_(t,s,a)},qr.DD.prototype.iQ=function(t,e){var n=qr.$s(t,this.GD);e=[e.x,e.y];for(var i=t.pt(),r=t.ak(),a=0;a<i[0].length;a++){var s=i[0][a],o=i[1][a];if((-1==o||o==r)&&Math.abs(s[1]-e[s[0]])<n)return a}return null},qr.DD.prototype.FD=function(t,e,n,i,r,a){if(0==this.d)r?qr.DD.jB(t,this.Ah,this.YQ,r):qr.DD.iu(t,this.Ah,this.YQ,e,n);else if(1==this.d){var s=this.Aj.data;s.DR.offset(e,n),qr.DD.ED(t,s.i,e,n)}else if(2==this.d){var o=1e-5;a?o=t.s.V<=1?10:1:t.s.V<=1&&(o=1);s=o*Math.round(i.x/o),a=o*Math.round(i.y/o),o=t.p6[this.Ah];o[1]=[s,a][o[0]]}else if(3==this.d){o=this.rn,o=Rr.H.ws([o.x,o.y,i.x,i.y]);this.hn=o;i=[];t.root.apk(o,i),JSON.stringify(t.w)!=JSON.stringify(i)&&(t.w=i,t.hu=t.pB=!0)}else if(4==this.d){for(var l=0;l<t.kx.length;l++)t.En[t.kx[l]].rect.offset(e,n);t.Lj=!0}},qr.DD.ED=function(t,e,n,i){e=t.g[e];t.v.rect.offset(n,i),e.J6(t,n,i,t.v),t.RD=!0,t.G()},qr.DD.prototype.f9=function(t,e,n,i,r,a){var s;this.qL(t,r,n),this.j7(t),Date.now()-this.Tg<300&&!a&&(a=qr.on.Ms(t,t.s.Qi(r.x,r.y)),qr.DD.qZ(n,r,t.s,!0)?(s=new yr(mr.E.W),r.y>t.s.ct.n-20?s.data={d:mr.J.go,RB:"doczoom",Zk:100*t.s.V,zE:{_:mr.E.u,b:qr.fz,R:{d:"pzoom"}}}:s.data={d:mr.J.go,RB:"preferences"},e.c(s)):0<=a&&((s=new yr(mr.E.u,!0)).b=qr.iL,s.data={d:"editCurr",CB:a},e.c(s))),this.Tg=Date.now(),qr.B_.FU(t)},qr.DD.prototype.qL=function(t,e,n,i,r){if(this.Vk){if(this.Vk=!1,0==this.d){if(i)this.D2(t,null,i,r);else{if(0==this.oQ.x&&0==this.oQ.y)return;this.D2(t,this.oQ.clone())}t.iM=!0}else if(2==this.d){var a=0;e=[e.x,e.y];var s=this.Ah,o=t.p6[s],i=this.ug[0].length,r=t.p6.length;if(n.CO&&e[o[0]]<Rr.IR.jC){o=t.pt();if(o[0].splice(s,1),o[1].splice(s,1),t.Eq(o),i==r-(a=1))return}(a=new Ri([[23,2],[23,3],[23,4]][a=i<r?2:a],this)).data={d:2,ug:this.ug,th:t.pt()},t.Sy(a)}else 4==this.d&&((a=new Ri([12,54],this)).data={d:4,w:t.kx.slice(0),r:this.oQ.clone()},t.Sy(a));this.oQ.R7(0,0)}},qr.DD.prototype.XL=function(t,e,n,i){var r,a=i.WJ();if(null!=t&&(0!=a.x||0!=a.y)){if(i.j(ii.e$)&&null==t.v&&((r=new yr(mr.E.u)).b=qr.ZD,r.data={d:qi.PR,at3:!0},e.c(r)),this.oQ.R7(a.x,a.y),this.gP(t,e,i,n,!1),!this.Vk)return;this.FD(t,a.x,a.y),this.qL(t,null,n),this.j7(t)}i=i.j(ii.NT);this.tx||this.aqw==i||(i?(this.a5T=this.sH.BU,this.sH.BU=!0):this.sH.BU=this.a5T,this.aqw=i,(i=new yr(mr.E.W,!0)).data={d:mr.J.QP,b:this.id,VU:this.sH},e.c(i))},qr.DD.prototype.AP=function(t,e){if(0==t.d){var n=t.AA;n&&(e.Gk(n.sX),e.w=n.Sc.slice(0),e.G(),e.hu=!0),qr.DD.jB(e,t.w,t.A6,t.fG,!0),qr.B_.FU(e)}else if("fcmy"==t.d)0==t.Zk?delete e.add.fcmy:e.add.fcmy=t.Zk,e.Lj=!0;else if(2==t.d)e.Eq(t.ug),e.Lj=!0;else if(4==t.d){for(var i=0;i<t.w.length;i++)e.En[t.w[i]].rect.offset(-t.r.x,-t.r.y);e.Lj=!0}else{n=e.g[t.i];t.Rl?(n.RH(e,t.YT),e.v=t.Xa,e.RD=!0,e.G(),n.G()):qr.DD.ED(e,t.i,-t.DR.x,-t.DR.y)}},qr.DD.prototype.PS=function(t,e){if(0==t.d){qr.DD.jB(e,t.w,t.A6,t.fG);var n=t.AA;n&&(e.Gk(n.V6),e.w=n.sg.slice(0),e.G(),e.hu=!0),qr.B_.FU(e)}else if("fcmy"==t.d)0==t.NL?delete e.add.fcmy:e.add.fcmy=t.NL,e.Lj=!0;else if(2==t.d)e.Eq(t.th),e.Lj=!0;else if(4==t.d){for(var i=0;i<t.w.length;i++)e.En[t.w[i]].rect.offset(t.r.x,t.r.y);e.Lj=!0}else{n=e.g[t.i];t.Rl?(n.jS=t.jS,e.v=t.TB,qr.DD.ED(e,t.i,0,0),n.G()):qr.DD.ED(e,t.i,t.DR.x,t.DR.y)}},qr.DD.prototype.D2=function(t,e,n,i){if(n){for(var r=!0,a=0;a<n.length;a++)0!=n[a]&&(r=!1);if(r)return}var s=t.history[t.i_],o=this.Ib,l=null!=o&&-1!=o[3]&&o[0]==t;if(!l&&null==n&&s.data&&s.b==this&&0==s.data.d&&JSON.stringify(s.data.w)==JSON.stringify(this.Ah)&&JSON.stringify(s.data.A6)==JSON.stringify(this.YQ)){var h=s.data.fG,u=s.data.abR.l5.T.v;u.Hrzn.v.val+=e.x,u.Vrtc.v.val+=e.y;for(a=0;a<h.length;a+=2)h[a]+=e.x,h[a+1]+=e.y}else{null==e&&(e=new Pr(n[0],n[1]));s={YY:"move",l5:{classID:"null",null:Ui.S3("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:e.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:e.y}}}}}},u=null;l&&(u={sX:o[1],Sc:o[2],V6:t.g.slice(0),sg:t.w.slice(0)}),this.Ib=null;i=new Ri(i||[12,54],this);i.data=n?{d:0,w:this.Ah,A6:this.YQ,AA:u,fG:n}:{d:0,w:this.Ah,A6:this.YQ,AA:u,fG:qr.DD.eT(this.Ah,e.x,e.y)},i.data.abR=s,t.Sy(i),this.track(s)}},qr.DD.eT=function(t,e,n){for(var i=[],r=0;r<t.length;r++)i.push(e,n);return i},qr.DD.iu=function(t,e,n,i,r){qr.DD.jB(t,e,n,qr.DD.eT(e,i,r))},qr.DD.jB=function(t,e,n,i,r){if(0!=e.length){if(null==n){n=[];for(var a=0;a<e.length;a++)n.push(t.g[e[a]].Ne(t,!0))}for(var s=new Fr,o=new Fr(0,0,t.m,t.n),a=0;a<e.length;a++){var l=i[2*a],h=i[2*a+1];r&&(l=-l,h=-h);var u=t.g[e[a]],f=n[a];u.add.fxrp&&(-1!=f.indexOf(0)||u.D5())&&u.add.fxrp.offset(l,h);for(var c,p=0;p<f.length;p++){var d,v,g,y=f[p];if(0==y){if(u.rect.offset(l,h),u.UG()&&u.ez(t)&&u.ez(t).rect.offset(l,h),u.add.artb){var m=u.Gn();m.offset(l,h),u.fx(m);for(var w=(w=u.add.artb.guideIndeces)?w.v:[],b=0;b<w.length;b++){var M=t.p6[w[b].v];M[1]+=0==M[0]?l:h}}u.add.TySh&&(u.add.TySh.A.translate(l,h),u.add.TySh.add&&u.add.TySh.add.vmsk.offset(l,h)),u.add.SoLd&&(d=new _r(1,0,0,1,l,h),v=u.add.SoLd,g=qr.Q.Je(v.Trnf),m=qr.Q.Je(v.nonAffineTransform),Rr.H.A(g,d,g),Rr.H.A(m,d,m),v.Trnf=qr.Q.mk(g),v.nonAffineTransform=qr.Q.mk(m),qr.Q.fo(v,d))}1==y&&u.sL().rect.offset(l,h),2==y&&(u.add.vmsk.offset(l,h),u.add.vogk&&Rr.UY.A(u.add.vogk,[1,0,l,0,1,h,0,0],[])),3==y&&(u.ez(t).q.rect.offset(l,h),1==f.length&&u.G())}0<f.length&&(null==(c=u.add.GdFl)&&(c=u.add.PtFl),u.D5()&&!u.Fl()&&null!=u.add.vmsk&&Rr.$.k1(u.add.vmsk.Y)&&255==u.add.vmsk.Py&&(null==c||c.Algn&&c.Algn.v)?u.rect.offset(l,h):u.fF(t),c=t.root.W4(u.w8(t),t,e[a]),u.add.artb&&(c=c.hq(u.Gn())),s=s.hq(c),c.offset(-l,-h),s=s.hq(c),u.Fi()&&u.q&&255==u.q.color&&(s=s.hq(o)),u.bD())}t.G(Rr.H.dP(s))}},qr.DD.a9X=function(t,e){for(var n=[],i=0;i<e.length;i++){var r=t.g[e[i]];n.push(r.Ne(t))}return n},qr.DD.d_=function(t,e,n){var i=t.D.LA={U:[],C:[]},r=e.x+n[0],a=e.y+n[1];1e9!=n[2]&&(i.C.push("M","L"),i.U.push(n[2],a,n[2],a+e.n)),1e9!=n[3]&&(i.C.push("M","L"),i.U.push(r,n[3],r+e.m,n[3])),t.Lj=!0},qr.DD.ET=function(t,e,n,i){i=qr.DD.$J(t,[[e.x],[e.y]],n,i);return new Pr(e.x+i[0],e.y+i[1])},qr.DD.Mr=function(t,e,n,i,r){r=1==r?1:.5;return qr.DD.$J(t,[[e.x,e.x+Math.round(e.m*r),e.x+e.m],[e.y,e.y+Math.round(e.n*r),e.y+e.n]],n,i)},qr.DD.$J=function(t,e,n,i){null==i&&(i=[!0,null,!0]);var r=[0,0,1e9,1e9];if(!n.Wo)return r;for(var a=JSON.parse(JSON.stringify(e)),s=0;s<2;s++){for(var o=1e9,l=e[s],h=0,u=0;u<l.length;u++){var f=qr.DD.agT(t,l[u],a[1-s][u],s,n,i);1e9!=f&&(a[s][u]=f),1e9!=f&&Math.abs(f-l[u])<Math.abs(o)&&(o=f-l[u],h=f)}1e9!=o&&(r[s]=o,r[s+2]=h)}return r},qr.DD.agT=function(t,e,n,i,r,a){for(var s,o=1e9,l=r.cd,h=r.jv,u=[t.root];0!=u.length&&l[2];){var f,c=u.pop(),p=c.i,d=p.rect;if(p.SH()){if(c.children)for(var v=0;v<c.children.length;v++)u.push(c.children[v]);-1!=t.w.indexOf(c.index)||d.mN()||(0==i?(f=(x=d.m)>>>1,Math.abs(d.x-e)<Math.abs(o-e)&&(o=d.x),Math.abs(d.x+f-e)<Math.abs(o-e)&&(o=d.x+f),Math.abs(d.x+x-e)<Math.abs(o-e)&&(o=d.x+x)):(f=(L=d.n)>>>1,Math.abs(d.y-e)<Math.abs(o-e)&&(o=d.y),Math.abs(d.y+f-e)<Math.abs(o-e)&&(o=d.y+f),Math.abs(d.y+L-e)<Math.abs(o-e)&&(o=d.y+L)))}}if(a[0]&&l[0]&&h.p6&&r.Me)for(var g=t.pt(),y=g[0],m=g[1],w=t.ak(),v=0;v<y.length;v++)(-1==m[v]||m[v]==w)&&y[v][0]==i&&Math.abs(y[v][1]-e)<Math.abs(o-e)&&(o=y[v][1]);l[1]&&h.NM&&r.Me&&(g=Math.round(Rr.IR.GX(h.Qz,t.Mg,t.m,h.LS)),s=1==i&&1==h.gC?(n=.5*n*Math.sqrt(4/3),g*=Math.sqrt(4/3),s=Math.round((e-n)/g)*g+n,Math.abs(s-e)<Math.abs(o-e)&&(o=s),Math.round((e+n)/g)*g-n):Math.round(e/g)*g,Math.abs(s-e)<Math.abs(o-e)&&(o=s));var b=t.EQ;if(l[3]&&h.EQ&&r.Me&&0!=b.length)for(v=0;v<b.length;v++)if(a[2]||-1==t.jU.indexOf(v))for(var M=qr.C0.r7(b,v),S=0;S<3;S+=2)M[S+i]!=e&&Math.abs(M[S+i]-e)<Math.abs(o-e)&&(o=M[S+i]);if(a[1])for(var C=0;C<a[1].length;C++)for(var x=(d=a[1][C]).m,L=d.n,D=[d.x,d.y,d.x+(x>>>1),d.y+(L>>>1),d.x+x,d.y+L],v=0;v<6;v+=2)Math.abs(D[v+i]-e)<Math.abs(o-e)&&(o=D[v+i]);if(l[4])for(d=new Fr(0,0,t.m,t.n),x=(d=-1!=(w=t.ak())?t.g[w].Gn():d).m,L=d.n,D=[d.x,d.y,d.x+(x>>>1),d.y+(L>>>1),d.x+x,d.y+L],v=0;v<6;v+=2)Math.abs(D[v+i]-e)<Math.abs(o-e)&&(o=D[v+i]);return Math.abs(o-e)<=4*qr.F()/t.s.V?o:1e9},qr.yt=function(){qr.$S.call(this,[10,12],qr.Xn,"tools/mwand")},qr.yt.prototype=new qr.$S,qr.yt.prototype.XB=qr.$S.prototype.aca,qr.yt.prototype.t6=qr.$S.prototype.ag3,qr.yt.prototype.Wv=function(t,e,n,i){this.finish(t,e,n,i)},qr.yt.prototype.getSelection=function(t,e,n,i){var r=this.t9;return qr.$S.aaS(new Pr(Math.floor(r.x),Math.floor(r.y)),this.sH.wconf,this.sH.sall)},qr.yt.Jk=function(t,e,n,i,r){if(1!=t.w.length)return alert("More than one layer selected."),null;var a=t.g[t.w[0]],s=null;if(null==(s=r?a.rq<=0?null:1==a.rq?a.sL():a.ez(t).q:s)&&null!=a.add.lsct&&a.add.lsct!=Gi.Tv)return alert("No layer selected."),null;if(e.x<0||e.x>t.m||e.y<0||e.y>t.n)return null;r=new Fr(0,0,t.m,t.n);i?o=t.y5():null==s&&r.iy(a.rect)?o=a.buffer:(o=Rr.t(4*r.Z()),null==s?Rr.Ik(a.buffer,a.rect,o,r):qr.Hp.uz(s.channel,s.rect,s.color,o,r));var o=qr.yt.pE(o,r,e,null,n),e=Rr._1(o,r),n=Rr.t(e.Z());return Rr.rR(o,r,n,e),{rect:e,channel:n}},qr.yt._H=function(t,e,n){var i=e.m,r=e.n;t=new Uint32Array(t.buffer);for(var a=[],s=n.length,o=0;o<s;o++){var l=n[o],h=Math.round(l.x-.5-e.x),l=Math.round(l.y-.5-e.y),h=Math.max(0,Math.min(i-1,h)),h=t[(l=Math.max(0,Math.min(r-1,l)))*i+h];a.push([255&h,h>>8&255,h>>16&255,h>>>24])}return a},qr.yt.pE=function(t,e,n,i,r){t=new Uint32Array(t.buffer);var a=e.m,s=e.n,o=a*s;null==i&&(i=qr.yt._H(t,e,[n]));var l=Math.round(n.x-.5-e.x),n=Math.round(n.y-.5-e.y),e=n*a+l,h=(Date.now(),Rr.t(a*s)),u=r[0],f=1/u,c=r[1]&&0<u?255:0;if(r[2]){var p=Rr.t(h.length),d=new Uint32Array(o),v=1;for(d[0]=l<<16|n,p[e]=1;0<v;){var g=d[v-1];v--;var y=(b=65535&g)*a+(M=g>>>16);u<(m=qr.yt._k(t[y],i))?(w=c*(1-Math.max(0,Math.min(1,(m-u)*f))),h[y]=~~w):(h[y]=255,b!=s-1&&0==p[y+a]&&(d[v++]=M<<16|b+1,p[y+a]=1),0!=b&&0==p[y-a]&&(d[v++]=M<<16|b-1,p[y-a]=1),M!=a-1&&0==p[y+1]&&(d[v++]=M+1<<16|b,p[y+1]=1),0!=M&&0==p[y-1]&&(d[v++]=M-1<<16|b,p[y-1]=1))}}else{for(y=0;y<o;y++)(m=qr.yt._k(t[y],i))<=u&&(h[y]=255);for(var m,w,b=0;b<s;b++)for(var M=0;M<a;M++)0==h[y=b*a+M]&&(0<M&&(255==h[y-1]||0<b&&255==h[y-a-1]||b<s-1&&255==h[y+a-1])||M<a-1&&(255==h[y+1]||0<b&&255==h[y-a+1]||b<s-1&&255==h[y+a+1])||0<b&&255==h[y-a]||b<s-1&&255==h[y+a])&&(m=qr.yt._k(t[y],i),w=c*(1-Math.max(0,Math.min(1,(m-u)*f))),h[y]=~~w)}return h},qr.yt._k=function(t,e){for(var n=e.length,i=qr.yt.yf(t,e[0]),r=1;r!=n;)i=Math.min(i,qr.yt.yf(t,e[r])),r++;return i},qr.yt.yf=function(t,e){var n=t>>>8&255,i=t>>>16&255,r=t>>>24&255;if(0==e[3])return r<5?0:255;e=Math.max(Math.abs((255&t)-e[0]),Math.max(Math.abs(n-e[1]),Math.abs(i-e[2])));return 0==r?255:e},qr.gf=function(t,e){e?qr.Hp.call(this):t?qr.Hp.call(this,[10,49],qr.Lt,"tools/camove"):qr.Hp.call(this,[10,26],qr.Br,"tools/patch"),this.vE=null,this.An=null,this.r=null,this.yZ=null,this.f2=new Pr,this.xf=null,this.vf=null},qr.gf.prototype=new qr.Hp,qr.gf.prototype.CK=function(t,e,n,i,r){var a,s=t.s.Qi(r.x,r.y);t.v&&Rr.LP(s,t.v.channel,t.v.rect)?(a=new Fr(0,0,t.m,t.n).BS(t.v.rect),t._W()&&!a.mN()&&(r=Rr.t(a.Z()),Rr.rR(t.v.channel,t.v.rect,r,a),t.v={channel:r,rect:a},this.Eg(t),this.l1(t),this.yZ=s,this.f2=new Pr(s.x-t.v.rect.x,s.y-t.v.rect.y),this.vf=Rr.t(4*t.v.rect.Z()),this.vf.fill(255),1==this.sH.patch&&((a=t.g[t.w[0]]).tk(t,t.v,!0),null==a.jS&&(this.yZ=null)),this.xf=t.v.rect.clone())):(this.An={U:[s.x,s.y],C:["M"]},this.vE=s)},qr.gf.prototype.wl=function(t,e,n,i,r){var a,s,o=t.s.Qi(r.x,r.y);this.yZ&&(1==this.sH.patch?0==t.kx.length&&(a=t.g[t.w[0]].jS,s=o.x-this.f2.x,r=o.y-this.f2.y,qr.DD.ED(t,t.w[0],Math.round(s-a.LH.x),Math.round(r-a.LH.y))):this.OQ(t,o,"clone")),this.vE&&(this.An.C.push("L"),this.An.U.push(o.x,o.y),this.vE=o,t.D.h7=this.An,t.Lj=!0)},qr.gf.prototype.f9=function(t,e,n,i,r){var a,s=t.s.Qi(r.x,r.y);this.yZ&&(a=t.v.rect.clone(),this.id==qr.Lt&&((r=t.g[t.w[0]]).RH(t,r.jS),t.v.rect=this.xf.clone(),r=Rr.t(4*t.v.rect.Z()),Rr.al(t.v.channel,r,3),this.Oc(t,"sheal",r,t.v.rect,t.v.rect),a=(t.v.rect=a).hq(this.xf)),this.OQ(t,s,"heal"),this.finish(t,a,null,null,!0),t.G(a),this.yZ=null),this.vE&&(a=qr.$S.sy(this.sH.setop,i.j(ii.Ml),i.j(ii.e$)),i=new yr(mr.E.n$,!0),this.An.U.length<=4?i.data=qr.$S.X0():i.data=qr.$S.Nq(this.An.U,a),e.c(i),this.vE=null,t.D.h7=null,t.Lj=!0)},qr.gf.prototype.mp=function(){return this.r},qr.gf.prototype.qx=function(t,e,n,i,r){qr.Hp.prototype.qx.call(this,t,e,n,i,r),this.Lw(r,i)},qr.gf.prototype.Lw=function(t,e){var n="auto;";(null!=e&&e.j(ii.Ml)&&!e.j(ii.e$)||"union"==this.sH.setop)&&(n="copy");e=new yr(mr.E.W,!0);e.data={d:mr.J.tW,Ek:n},this.caller&&this.caller.c(e)},qr.gf.prototype.OQ=function(t,e,n){e=new Pr(Math.round(this.yZ.x-e.x),Math.round(this.yZ.y-e.y));1==this.sH.patch&&e.R7(-e.x,-e.y),this.r=e,this.Oc(t,n,this.vf,t.v.rect,t.v.rect),this.G(t,t.v.rect)},qr.NI=function(){qr.gf.call(this,!0),this.sH.patch=1},qr.NI.prototype=new qr.gf(!0,!0),qr.XZ=function(){qr.Hp.call(this,[10,13],qr.afw,"tools/pbucket"),this.H1=!1},qr.XZ.prototype=new qr.Hp,qr.XZ.prototype.enable=function(t,e,n,i){var r=new yr(mr.E.W,!0);r.data={d:mr.J.tW,Ek:"default"},e.c(r)},qr.XZ.prototype.v1=function(t,e){},qr.XZ.prototype.CK=function(t,e,n,i,r){this.H1=!0},qr.XZ.prototype.f9=function(t,e,n,i,r,a){var s=this.H1;this.H1=!1,s&&!a&&(this.z7(i,e,r)||t._W()&&(e=t.s.Qi(r.x,r.y),null!=(r=qr.yt.Jk(t,e,this.sH.wconf,this.sH.sall,!0))&&(e=Rr.t(4*r.rect.Z()),Rr.Bg(e,(255&n.k$)<<16|(n.k$>>8&255)<<8|(n.k$>>16&255)<<0),Rr.al(r.channel,e,3),this.Eg(t),this.Oc(t,"draw",e,r.rect,r.rect),this.G(t,r.rect),this.finish(t,r.rect))))},qr.S7=function(){qr.$S.call(this,[10,14],qr.a8F,"tools/plasso"),this.nD="crosshair",this.Mj=[],this.Za=null,this.An=null,this.a2u=0},qr.S7.prototype=new qr.$S,qr.S7.prototype.disable=function(t,e,n,i){this.ii(t)},qr.S7.prototype.Wv=function(t,e,n,i){this.Mj=[ii.K1,ii.kn]},qr.S7.prototype.XC=function(t){return-1!=this.Mj.indexOf(t)},qr.S7.prototype.Vg=function(t){return null!=this.An},qr.S7.prototype.df=function(){return null!=this.An},qr.S7.prototype.L$=function(){return null!=this.An},qr.S7.prototype.Ij=function(t,e,n,i){var r,a,s,o;null!=this.An&&(s=(a=(r=this.An).U).length-2,o=this.t9,this.wH.uk(1)&&n.j(ii.e$)&&i.nK?(a.push(0,0),r.C.push("L"),s+=2):n.j(ii.Ml)&&(o=qr.iU.yX(new Pr(a[s-2],a[s-1]),o)),a[s]=o.x,a[s+1]=o.y,t.D.h7=r,t.Lj=!0)},qr.S7.prototype.KE=function(t,e,n,i){var r=Date.now();if(null==this.An)this.An={U:[this.t9.x,this.t9.y,this.t9.x,this.t9.y],C:["M","L"]};else{if(this.Ij(t,e,n,i),r-this.a2u<250||Pr.Tn(this.t9,new Pr(this.An.U[0],this.An.U[1]))<qr.$s(t,i))return this.Za=this.An,this.finish(t,e,n,i),void this.ii(t);this.An.C.push("L"),this.An.U.push(this.t9.x,this.t9.y)}this.a2u=r,t.D.h7=this.An},qr.S7.prototype.ii=function(t){this.An=null,this.Mj=[],null!=t&&(t.D.h7=null,t.Lj=!0)},qr.S7.prototype.XL=function(t,e,n,i){if(qr.$S.prototype.XL.call(this,t,e,n,i),i.j(ii.Yh)&&null==this.An&&this.Za&&null!=t.v){var r=new yr(mr.E.u);return r.b=qr.bX,r.data={d:"h_stepbck"},e.c(r),this.Wv(t,n,i,null),void(this.An=this.Za)}null!=this.An&&((i.j(ii.K1)||i.j(ii.kn))&&(this.An.U.pop(),this.An.U.pop(),this.An.C.pop(),this.Ij(t,n,i)),i.j(ii.C_)&&(4<this.An.U.length&&(this.Za=this.An,this.finish(t,n,i)),this.An=null),i.j(ii.Yh)&&(this.An=null),t.D.h7=this.An,t.Lj=!0)},qr.S7.prototype.getSelection=function(t,e,n,i){return qr.$S.Nq(this.An.U,null,this.sH.anta)},qr.Km=function(){qr.$S.call(this,[10,10],qr.akv,"tools/mlasso"),this.nD="crosshair",this.Mj=[],this.Y=[],this.G2=[],this.JY=[],this.va=null,this.k6=null,this.E5=null,this.Tg=0,this.Z4=0},qr.Km.prototype=new qr.$S,qr.Km.prototype.disable=function(t,e,n,i){this.clear(t)},qr.Km.prototype.Vg=function(t){return 0!=this.Y.length},qr.Km.prototype.L$=function(){return 0!=this.Y.length},qr.Km.prototype.XC=function(t){return-1!=this.Mj.indexOf(t)},qr.Km.prototype.Wv=function(t,e,n,i){this.Mj=[ii.K1,ii.kn];var r=this._c(this.a9,t);if(0!=this.Y.length&&(Pr.Tn(r,this.Y[0])<qr.$s(t,i)||Date.now()-this.Tg<300))return this.BX(t,this.Y[0]),this.finish(t,e,n),void this.clear(t);if(this.Tg=Date.now(),0!=this.Y.length)r=this.E$(r,t);else{for(var i=t.m,e=t.n,a=Rr.t(i*e),s=t.y5(),o=i*e*4,l=0;l<o;l+=4)a[l>>>2]=~~(.5+Rr.X_(s[l],s[l+1],s[l+2])*(s[l+3]*(1/255)));this.va=Rr.Nb.amS(a,i,e),this.E5=new Uint16Array(a.length)}this.BX(t,r),this.Z4=n.j(ii.e$)?1:0,this.pX(t)},qr.Km.prototype.BX=function(t,e){var n,i=this.Y;this.G2[i.length]=this.JY.length,0!=i.length&&(Rr.Nb.W8(this.k6,e.y*t.m+e.x),(n=this.VZ(t,e)).reverse(),n=qr.Km.bO(t,n),this.JY=this.JY.concat(n)),i.push(e),this.gy(t)},qr.Km.prototype.gy=function(t){var e=this.Y[this.Y.length-1],e=e.y*t.m+e.x;this.k6=Rr.Nb.atA(this.va.bo,this.va.Z5,e),this.E5.fill(0)},qr.Km.prototype._c=function(t,e){return new Pr(Math.floor(Math.max(0,Math.min(e.m-1,t.x))),Math.floor(Math.max(0,Math.min(e.n-1,t.y))))},qr.Km.prototype.clear=function(t){this.JY=[],this.Y=[],this.G2=[],this.va=null,this.k6=null,(this.E5=null)!=t&&(t.D.h7=null,t.D.us=[],t.Lj=!0),this.Mj=[]},qr.Km.prototype.Ij=function(t,e,n,i){var r=this.Y,a=r.length;if(0!=a){for(var s=this.E$(this._c(this.t9,t),t),o=this.VZ(t,s),l=0;l<o.length;l++){var h=o[l],u=new Pr(h%t.m,Math.floor(h/t.m));if(30<this.E5[h]&&20<Pr.Tn(u,r[a-1]))return void this.BX(t,u);this.E5[h]++}1==this.Z4&&i.nK&&this.BX(t,s),this.pX(t)}},qr.Km.prototype.pX=function(t){var e=this.Y;if(0!=e.length){var n=this.E$(this._c(this.t9,t),t),n=this.VZ(t,n);n.reverse();for(var n=qr.Km.bO(t,n),i=this.JY.concat(n),r=t.D.h7={U:i,C:["M"]},a=2;a<i.length;a+=2)r.C.push("L")}t.D.us=[];for(a=0;a<e.length;a++)t.D.us.push(e[a].x+.5,e[a].y+.5);t.Lj=!0},qr.Km.prototype.KE=function(t,e,n,i){},qr.Km.prototype.XL=function(t,e,n,i){var r;0!=this.Y.length&&((i.j(ii.K1)||i.j(ii.kn))&&(this.Y.pop(),this.JY=this.JY.slice(0,this.G2[this.Y.length]),this.G2.pop(),0==this.Y.length?this.clear(t):this.gy(t),this.pX(t)),i.j(ii.C_)&&(r=this._c(this.t9,t),this.BX(t,r),this.finish(t,n,i),this.clear(t)),i.j(ii.Yh)&&this.clear(t))},qr.Km.prototype.getSelection=function(t,e,n,i){return qr.$S.Nq(this.JY,null,this.sH.anta)},qr.Km.prototype.VZ=function(t,e){var n=this.Y[this.Y.length-1],i=n.y*t.m+n.x,r=e.y*t.m+e.x;if(1==this.Z4)return[r,i];for(var a=[r];r!=i;)if(r=this.k6.$f[r],a.push(r),5e3<a.length)throw console.log(a),"e";return a},qr.Km.bO=function(t,e){for(var n=[],i=t.m,r=0;r<e.length;r++){var a=e[r];n.push(a%i+.5,Math.floor(a/i)+.5)}return n},qr.Km.prototype.E$=function(t,e){var n=e.m,i=e.n,r=t.clone();Rr.Nb.W8(this.k6,t.y*n+t.x);for(var a=this.k6.RU[t.y*n+t.x],s=-2;s<3;s++)for(var o=-2;o<3;o++){var l=t.x+o,h=t.y+s;l<0||n<=l||h<0||i<=h||(Rr.Nb.W8(this.k6,h*n+l),this.k6.RU[h*n+l]<a&&r.R7(l,h))}return r},qr.De=function(){qr.wE.call(this,[10,36],qr.yg,"tools/ruler"),this.Xo=null,this.G4=null,this.gJ=null,this.MZ=null,this.fO=null},qr.De.prototype=new qr.wE,qr.De.prototype.Vg=function(t){return t.nK},qr.De.prototype.enable=function(t,e,n,i){qr.wE.prototype.enable.call(this,t,e,i,n),t&&this.j7(t)},qr.De.prototype.disable=function(t,e,n,i){t&&this.ii(t)},qr.De.prototype.gT=function(t,e,n,i,r){this.Xo=this.gJ=null,this.j7(n)},qr.De.prototype.CK=function(t,e,n,i,r){var a=qr.$s(t,r),s=t.s.Qi(r.x,r.y);s.x=Math.round(s.x),s.y=Math.round(s.y);var o=this.Xo;this.G4=o?o.slice(0):null;var l=o&&Pr.Tn(s,o[0])<a,t=o&&Pr.Tn(s,o[1])<a,r=o&&o[2]&&Pr.Tn(s,o[2])<a;if(l||t||r)i.j(ii.e$)&&2==o.length?(t&&(i=o[0],o[0]=o[1],o[1]=i),o[2]=o[0].clone(),this.gJ=[2]):this.gJ=[l?0:t?1:2];else if(o&&qr.De.ajC(o[0],o[1],s)<a&&Math.min(o[0].x,o[1].x)-5<=s.x&&s.x<=Math.max(o[0].x,o[1].x)+5&&Math.min(o[0].y,o[1].y)-5<=s.y&&s.y<=Math.max(o[0].y,o[1].y)+5){this.gJ=[],this.fO=[];for(var h=0;h<o.length;h++)this.gJ.push(h),this.fO.push(o[h].clone());this.MZ=s}else this.Xo=[s.clone(),s.clone()],this.gJ=[1]},qr.De.prototype.wl=function(t,e,n,i,r){if(null!=this.gJ){var a=this.Xo,s=this.gJ,r=t.s.Qi(r.x,r.y);if(r.x=Math.round(r.x),r.y=Math.round(r.y),1<s.length)for(var o=r.x-this.MZ.x,l=r.y-this.MZ.y,h=0;h<a.length;h++)a[h]=this.fO[h].clone(),a[h].offset(o,l);else a[s[0]].R7(r.x,r.y),i.j(ii.Ml)&&(a[s[0]]=qr.iU.yX(a[1-s[0]],a[s[0]]));this.j7(t),this.Hz(e,mr.E.W,{d:mr.J.QP,b:this.id,a4W:a[0],DI:a[1],C6:a[2],Mg:t.Mg,a4J:t.m}),t.s.Ht=Rr.H.ws([a[0].x,a[0].y,a[1].x,a[1].y]),console.log(t.s.Ht)}},qr.De.prototype.f9=function(t,e,n,i,r,a){this.gJ=null,a&&(this.Xo=this.G4.slice(0),this.j7(t))},qr.De.prototype.Hz=function(t,e,n){e=new yr(e,!0);e.data=n,t.c(e)},qr.De.prototype.j7=function(t){var e,n,i=this.Xo;null==i?this.ii(t):(e=[i[1].x,i[1].y,i[0].x,i[0].y],n=["M","L"],2<i.length&&(e.push(i[2].x,i[2].y),n.push("L")),t.D.h7={C:n,U:e},t.D.us=e),t.Lj=!0},qr.De.prototype.ii=function(t){t.D.h7=null,t.D.us=[]},qr.De.ajC=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,t=Math.abs(r*n.x-i*n.y+e.x*t.y-e.y*t.x),r=Math.sqrt(i*i+r*r);return 0==r?0:t/r},qr.sb=function(){qr.Hp.call(this,[10,19],qr.SK,"tools/sharpen"),this.ME="copy"},qr.sb.prototype=new qr.Hp,qr.sb.prototype.CK=function(t,e,n,i,r){var a=this.sH.pdetail?tr.WB:tr.SK;i.j(ii.e$)&&(a=tr.eC),this.y_(t,n,i,r,this.sH.strn,a),null!=this.Mi&&this.Kd(t)},qr.sb.prototype.wl=function(t,e,n,i,r){this.fI(t,e,n),this.Po&&this.HC(t,n,r),null!=this.Mi&&r.nK&&(this.Se(t,n,i,r),this.Kd(t))},qr.Z$=function(){qr.Hp.call(this,[10,24],qr.jH,"tools/shbrush"),this.ME="draw",this.sH.opacity=.5},qr.Z$.prototype=new qr.Hp,qr.Z$.prototype.CK=function(t,e,n,i,r){this.y_(t,n,i,r,1),null!=this.Mi&&(this.l1(t),this.Kd(t))},qr.Z$.prototype.wl=function(t,e,n,i,r){this.fI(t,e,n),this.Po&&this.HC(t,n,r),null!=this.Mi&&r.nK&&(this.Se(t,n,i,r),this.Kd(t))},qr.Z$.prototype.f9=function(t,e,n,i,r){null!=this.Mi&&(this.Oc(t,"sheal",this.Mi.Fy(),this.Mi.bZ(),this.Mi.CY(),null),this.G(t,this.Mi.CY()),qr.Hp.prototype.f9.call(this,t,e,n,i,r))},qr.YJ=function(){qr.Hp.call(this,[10,20],qr.QR,"tools/smudge"),this.ME="copy"},qr.YJ.prototype=new qr.Hp,qr.YJ.prototype.CK=function(t,e,n,i,r){this.y_(t,n,i,r,this.sH.strn,tr.QR),null!=this.Mi&&this.Kd(t)},qr.YJ.prototype.wl=function(t,e,n,i,r){this.fI(t,e,n),this.Po&&this.HC(t,n,r),null!=this.Mi&&r.nK&&(this.Se(t,n,i,r),this.Kd(t))},qr.py=function(){qr.Hp.call(this,[10,23],qr.p_,"tools/sponge"),this.ME="sponge"},qr.py.prototype=new qr.Hp,qr.py.prototype.CK=function(t,e,n,i,r){this.y_(t,n,i,r,this.sH.flow),null!=this.Mi&&this.Kd(t)},qr.py.prototype.wl=function(t,e,n,i,r){this.fI(t,e,n),this.Po&&this.HC(t,n,r),null!=this.Mi&&r.nK&&(this.Se(t,n,i,r),this.Kd(t))},qr.WD=function(){qr.wE.call(this,[10,17],qr.fz,"tools/zoom"),this.tU=!1,this.qo=!0,this.D4=0,this.ny=null,this.yx=null,this.Y8=0,this.fe=null,this.hG=0,this.mv=new xr([{name:[8,0],DO:"Ctrl + +"},{name:[8,1],DO:"Ctrl + -",jp:!0},{name:[20,3],DO:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],DO:"Ctrl + 1"}],[{_:mr.E.u,b:qr.fz,R:{d:"zoom",qo:!0}},{_:mr.E.u,b:qr.fz,R:{d:"zoom",qo:!1}},{_:mr.E.u,b:qr.fz,R:{d:"adapt",k:"fitscr"}},{_:mr.E.u,b:qr.fz,R:{d:"adapt",k:"pixel"}}])},qr.WD.prototype=new qr.wE,qr.WD.prototype.Yp=function(t,e,n,i,r){var a=this.mv;a.T(),a.parent=e,a.update(t,n);n=new yr(mr.E.W,!0);n.data={d:mr.J.u9,IZ:a,x:r.TR+2,y:r.KY+1},e.c(n)},qr.WD.prototype.enable=function(t,e,n,i){this.BI(e,i),t&&Date.now()-this.D4<300&&this.gT({d:"adapt",k:"pixel"},e,t,i,n),this.D4=Date.now()},qr.WD.prototype.CK=function(t,e,n,i,r){this.yx=new Pr(r.x,r.y),this.Y8=t.s.V,this.fe=t.s.r.clone()},qr.WD.prototype.wl=function(t,e,n,i,r){null!=this.yx&&(r=Math.exp(Math.log(this.Y8)+(r.x-this.yx.x)/64),r=Math.max(.02,Math.min(qr.WD.Q8[0],r)),t.s.V=this.Y8,t.s.r=this.fe.clone(),this.gT({d:"zoom",V:r,GD:this.yx},e,t,i,n))},qr.WD.prototype.f9=function(t,e,n,i,r){var a;Pr.Tn(this.yx,r)<4&&(a=this.gO(i),this.gT({d:"zoom",qo:a,GD:r},e,t,i,n)),this.yx=null},qr.WD.Q8=[64,32,16,12,8,6,5,4,3,2,1,2/3,.5,2/3*.5,.25,2/3*.25,1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64],qr.WD.VY=function(t,e,n,i){for(var r=1;n<t*r*1/2||i<e*r*1/2;)r*=.5;return n<t*r*2/3||i<e*r*2/3?r*=.5:(n<t*r||i<e*r)&&(r*=2/3),r},qr.WD.xt=function(t,e){var n=qr.WD.aeT(t);return(!e||0!=n)&&(e||n!=qr.WD.Q8.length-1)?qr.WD.Q8[e?n-1:n+1]:t},qr.WD.aeT=function(t){for(var e=0;qr.WD.Q8[e]>t;)e++;return e},qr.WD.h0=function(t,e,n,i){var r=t.Jt;(0!=i&&null!=i||(i=qr.WD.xt(t.V,n))!=t.V)&&(e=t.Qi(e.x,e.y),r.m*i<=t.ct.m&&r.n*i<=t.ct.n?(t.r.R7(0,0),t.V=i):(r=t.Us(),i=t.V/i,r.translate(-e.x,-e.y),r.scale(i,i),r.translate(e.x,e.y),t.aqO(r)))},qr.WD.prototype.gT=function(t,e,n,i,r){if("pzoom"==t.d){if("string"==typeof t.k)return;t={d:"zoom",V:t.k/100}}var a,s,o,l,h,u=0,f=!1,c=null;function p(t){var e=t[0].x-t[1].x,t=t[0].y-t[1].y;return Math.sqrt(e*e+t*t)}if("adapt"==t.d&&(h=0,"pixel"==t.k&&(h=1),"fitscr"==t.k&&(h=0,a=n.s.ct.m,o=n.s.ct.n,l=r.CO?Rr.IR.jC+4:8,h=Math.min((a-2*l)/n.m,(o-2*l)/n.n)),c=new Pr(Math.round(n.s.ct.m/2),Math.round(n.s.ct.n/2)),u=h,qr.WD.h0(n.s,c,f,u),n.iM=!0),t.d.startsWith("multi")&&(o=new Pr(((s=t.o9)[0].x+s[1].x)/2,(s[0].y+s[1].y)/2),"multidown"==t.d?this.ny=[s,n.s.V,n.s.Qi(o.x,o.y)]:(l=qr.WD.Q8,u=this.ny[1]*p(s)/p(this.ny[0]),(u=Math.max(l[l.length-1],Math.min(l[0],u)))!=n.s.V&&qr.WD.h0(n.s,o,f,u),h=this.ny[2],l=n.s.d$(h.x,h.y),(h=n.s.r).x=Math.round(h.x+o.x-l.x),h.y=Math.round(h.y+o.y-l.y),n.iM=!0)),"scroll"==t.d){c=t.GD,this.hG+=t.jX.y;if(this.hG<-14)f=!0,this.hG=Math.max(this.hG+14,-13);else{if(!(14<this.hG))return;f=!1,this.hG=Math.min(this.hG-14,13)}qr.WD.h0(n.s,c,f,u),n.iM=!0}if("zoom"==t.d&&(c=t.GD||new Pr(Math.round(n.s.ct.m/2),Math.round(n.s.ct.n/2)),null!=t.V?u=t.V:f=t.qo,qr.WD.h0(n.s,c,f,u),n.iM=!0),"mskView"==t.d){u=n.g[n.w[0]];u.rq<=0&&(u.rq=1,n.hu=!0);u=3==u.rq?u.ez(n).q:u.sL();0==t.k&&(n.s.DF=[1,1,1],u.KT=!1),1==t.k&&(n.s.DF=[1,1,1],u.KT=!0),2==t.k&&(n.s.DF=[0,0,0],u.KT=!0);for(var d=0;d<n.En.length;d++)n.En[d].KT=!1;n.kx=[],n.Lj=!0}},qr.WD.prototype.XL=function(t,e,n,i){var r,a;this.tU!=i.j(ii.e$)&&(this.tU=i.j(ii.e$),r={d:mr.J.QP,b:this.id,tU:this.tU},(a=new yr(mr.E.W,!0)).data=r,e.c(a),this.BI(e,i))},qr.WD.prototype.BI=function(t,e){var n=new yr(mr.E.W,!0),e=this.gO(e);n.data={d:mr.J.tW,Ek:e?"zoom-in":"zoom-out"},t.c(n)},qr.WD.prototype.qx=function(t,e,n,i){this.qo=t.qo,this.BI(e,i)},qr.WD.prototype.gO=function(t){var e=this.qo;return t.j(ii.QO)&&t.j(ii.NT)&&(e=!0),e=this.tU?!e:e},qr.WD.Y7=function(t,e){(t.j(ii.$t)||t.j(ii.avd))&&(e.b=qr.fz,e.data={d:"zoom",qo:!0}),t.j(ii.gr)&&(e.b=qr.fz,e.data={d:"zoom",qo:!1}),t.j(ii.LU)&&(e.b=qr.fz,e.data={d:"adapt",k:"fitscr"}),t.j(ii.ZL)&&(e.b=qr.fz,e.data={d:"adapt",k:"pixel"})},qr.iT=function(t,e,n){qr.wE.call(this,t,e,n),this.yh=null,this.fd=null,this._a=null,this.akz=0},qr.iT.prototype=new qr.wE,qr.iT.Of=function(t){var e={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]};return{YY:0==t?"fill":"stroke",l5:0==t?{classID:"null",null:e,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:e,Usng:{t:"type",v:{classID:"PbTl"}},__name:"Stroke"}}},qr.iT.prototype.enable=function(t,e,n,i,r){this.fd=n;n=new yr(mr.E.W,!0);n.data={d:mr.J.tW,Ek:"default"},e.c(n)},qr.iT.prototype.Yp=function(t,e,n,i,r){var a=t.l7(),s=a[0],o=a[1];0!=o.length&&(a=s[o[0]].add.vmsk,s=t.s.Qi(r.x,r.y),o=4*qr.F()/t.s.V,o=new Fr(s.x-o,s.y-o,2*o,2*o),0!=(o=Rr.$.Be(a.Y,o)[0]).length&&(a.nZ=o,t.Lj=!0),-1!=(s=Rr.$.LP(a.Y,s).BT)&&(a.w=[s],t.Lj=!0),(s=new yr(mr.E.W,!0)).data={d:mr.J.QP,b:this.id,Pw:r,Dl:t,xv:n},e.c(s))},qr.iT.prototype.C9=function(t,e){var n=new yr(mr.E.W,!0);n.data={d:mr.J.ot,jm:Bi.ph},e.Me||t.c(n),n.data={d:mr.J.ot,jm:Bi.Im},e.jv.Y3||t.c(n)},qr.iT.prototype.nr=function(t,e,n,i){var r,a,s,o;n.No==this.id&&0!=t.w.length&&(a=(r=t.g[t.w[0]]).add.vmsk,s=r.add.vstk,o=qr.iT.Tr(t,t.w[0]),this.yh=t,this._a=e,!r.D5()||null==a||JSON.stringify(s)==JSON.stringify(n.vF)&&JSON.stringify(o)==JSON.stringify(n.f6)||(this.akz=Date.now(),(n=new yr(mr.E.W,!0)).data={d:mr.J.ot,jm:Bi.bj,k:o},e.c(n),n.data={d:mr.J.ot,jm:Bi.c9,k:s},e.c(n)))},qr.iT.prototype.v1=function(t,e){if(null!=this.yh&&!(e!=Bi.MB&&e!=Bi.bj&&e!=Bi.c9||Date.now()-this.akz<50)){for(var n=e==Bi.bj,i=this.yh,e=n?t.f6:t.vF,r=[],a=i.w,s=0;s<a.length;s++){var o=a[s],l=i.g[o];l.D5()&&null!=l.add.vmsk&&r.push(o)}t=new yr(mr.E.u,!0);t.b=qr.ZD,t.data={d:qi.cU,wy:r,At:n,k:e},0!=r.length&&this._a.c(t)}},qr.iT.prototype.a0F=function(t){var e;"number"==typeof t&&((e=new yr(mr.E.n$,!0)).data=qr.zL.xq(0),e.data.l5.Usng.v.Type.v.Clr.v=Rr.I.wg({p:t>>>16&255,z:t>>>8&255,S:t>>>0&255}),this._a.c(e))},qr.iT.prototype.gT=function(t,e,n,i,r){if(this._a=e,"newfill"==t.d)0==t.A2&&((o=new yr(mr.E.W,!0)).data={d:mr.J.go,RB:"colorpicker",ZB:r.k$,a4:this.a0F.bind(this)},e.c(o));else if("pathedit"==t.d){var a=t.wp,s="",e=n.Y3.slice(0),o=n.B0.slice(0),l=n.Y3.slice(0),h=n.B0.slice(0);if("rnm"==a){var u=-1-t.BT,f=e[u],f=zi.hd(t.name,f.add);0!=u?l[u]=f:(h=[l.length],l.push(f),l[0]=zi.hd("Work Path")),s="Rename"}else if("new"==a){f=zi.hd("Path "+e.length);t.alE&&(g=(y=(M=n.l7())[0])[M[1][0]],f.add.vmsk=g.add.vmsk.clone(),f.add.vogk=JSON.parse(JSON.stringify(g.add.vogk)),-1==g.BT&&((u=l[h[0]]=zi.hd("Path "+e.length)).name=g.name,u.BT=g.BT)),l.push(f),h=[l.length-1],s="New"}else if("del"==a){if(0==h.length)return;h.sort(function(t,e){return t-e}),0==h[0]&&(l[0]=zi.hd(e[0].name),h=h.slice(1));for(var c=0;0!=h.length;)l.splice(h[0]-c,1),h=h.slice(1),c++;s="Delete"}else if("fromsel"==a){var p=l[0]=zi.hd("Work Path"),h=[0];if(null==n.v)return;for(var d=n.v.channel.slice(0),v=0;v<d.length;v++)d[v]=128<d[v]?2:1;var g=n.v.rect.clone();g.bA(1,1);f=Rr.t(g.Z());Rr.rR(d,n.v.rect,f,g);for(var g=Be.mT(f,g.m,g.n,Math.round(5e-4*g.Z())),y=Be.l7(g),m=new _r(1,0,0,1,-1+n.v.rect.x,-1+n.v.rect.y),v=0;v<y.length;v++)Rr.H.A(y[v].path.U,m,y[v].path.U);for(v=0;v<y.length;v++){var w=y[v];1==w.color&&-1==w.parent||(w=Rr.H.z8(y[v].path,!1),p.add.vmsk.Y=p.add.vmsk.Y.concat(w.slice(2)))}p.add.vogk=qi.Ky(p.add.vmsk.Y),s="Selection to"}s=new Ri(s+" Path",this);s.data={G4:e,SQ:o,aus:l,en:h},"fromsel"==a&&(s.data.Xa=n.v,s.data.TB=null),n.Sy(s),this.PS(s.data,n)}else{var a=t.rD,s=(p=(y=(M=n.l7("append"==t.d))[0])[M[1][0]]).add.vmsk,b=p.add.vogk,M=s.clone(),S=s.clone(),s=JSON.stringify(b);if("remove"==t.d)if(t.Vd&&0!=S.nZ.length){S.Y=Rr.$.abS(S.Y,S.nZ,b);for(var C=Rr.$.M$(S.Y),v=0;v<S.w.length;v++)S.w[v]>=C&&(S.w.splice(v,1),v--);S.nZ=[],a="Delete Anchors"}else{if(0==S.w.length)return;for(c=0,v=0;v<S.w.length;v++)b.splice(S.w[v]+c,1),c--;S.Y=Rr.$.a4s(S.Y,S.w),S.w=[],S.nZ=[],null==a&&(a="Delete Paths")}"append"==t.d&&qr.iT.dx(t.acI,S,b),this.IG(n,p.BT,S,b),this.co(n,a,p.BT,M,S.clone(),null,s,JSON.stringify(b))}},qr.iT.t5=function(t,e){for(var n=Rr.$.arO(t.Y,t.w),i=[],r=0;r<t.w.length;r++)i.push(JSON.parse(JSON.stringify(e[t.w[r]])));return[n,i]},qr.iT.dx=function(t,e,n){var i=Rr.$.M$(e.Y),r=Rr.$.M$(t[0]);e.Y=e.Y.concat(t[0].slice(2)),e.w=[];for(var a=0;a<r;a++)e.w.push(i+a);for(a=0;a<r;a++)n.push(JSON.parse(JSON.stringify(t[1][a])))},qr.iT.prototype.XC=function(t,e){if(null==e)return!1;var n=e.l7(),e=n[0],n=n[1];if(0==n.length)return!1;n=e[n[0]].add.vmsk;return n&&n.w.length+n.nZ.length!=0?-1!=[ii.K1,ii.kn].indexOf(t):void 0},qr.iT.prototype.XL=function(t,e,n,i){var r,a,s,o,l,h;null!=t&&(s=(a=t.l7())[0],0!=(o=a[1]).length&&(l=(r=s[o[0]]).add.vmsk,(i.j(ii.Yh)||i.j(ii.C_))&&(l.nZ=[],t.Lj=!0),0!=l.w.length&&(0==(h=i.WJ()).x&&0==h.y||(a=l.clone(),s=l.clone(),o=new _r(1,0,0,1,h.x,h.y),l=r.add.vogk,h=JSON.stringify(l),Rr.$.yl(s.Y,o,s.w),Rr.UY.A(l,Rr.N.V$(o),s.w),this.IG(t,r.BT,s,l),this.co(t,"Move Paths",r.BT,a,s.clone(),!0,h,JSON.stringify(l))),(i.j(ii.K1)||i.j(ii.kn))&&this.gT({d:"remove",Vd:this.id==qr._V},e,t,i,n))))},qr.iT.prototype.co=function(t,e,n,i,r,a,s,o){e=new Ri(e,this);e.data={X2:n,x1:i,me:r,ajV:a,ap0:s,fN:o},t.Sy(e)},qr.iT.prototype.PS=function(t,e){null!=t.X2?this.IG(e,t.X2,t.me.clone(),JSON.parse(t.fN)):(e.Y3=t.aus.slice(0),e.B0=t.en.slice(0),e.Lj=e.hu=!0),(t.Xa||t.TB)&&(e.v=t.TB,e.RD=!0)},qr.iT.prototype.AP=function(t,e){null!=t.X2?this.IG(e,t.X2,t.x1.clone(),JSON.parse(t.ap0)):(e.Y3=t.G4.slice(0),e.B0=t.SQ.slice(0),e.Lj=e.hu=!0),(t.Xa||t.TB)&&(e.v=t.Xa,e.RD=!0)},qr.iT.prototype.IG=function(t,e,n,i){var r,a=e<0?t.Y3[-1-e]:e<1e6?t.g[e]:t.g[e-1e6].add.TySh,s=a.add.vmsk;s.channel=null,s.X$=!0,s._n&&(s._n.channel=null,s._n.X$=!0),a.add.vmsk=n,a.add.vogk=i,1e6<=e?(ir.vb(a),r=t.g[e-1e6],s=this.fd,s=new nr((i=a).nx,s.PG),i=er.xm(s,i),r.rect=i.Ni,r.buffer=i.L0,r.G(),t.G()):0<=e&&(n.X$=!0,a.fF(t),t.G()),t.Lj=t.hu=!0},qr.iT.Tr=function(t,e){var n=t.g[e],t=n.add.vstk,e=null;return t&&!t.fillEnabled.v?e={SB:0}:n.add.SoCo?e={SB:1,k4:n.add.SoCo}:n.add.GdFl?e={SB:2,k4:n.add.GdFl}:n.add.PtFl&&(e={SB:3,k4:n.add.PtFl}),e},qr.iT.T4=function(t,e){t.add.vmsk;var n=t.add.vstk,i=e.SB;if(n&&(n.fillEnabled.v=0!=i),0<i){for(var i=["SoCo","GdFl","PtFl"][i-1],r=0;r<3;r++)delete t.add[["SoCo","GdFl","PtFl"][r]];t.add[i]=e.k4}},qr.zL=function(t,e,n,i){qr.iT.call(this,t,e,n),this.sH={shape:ze.PD(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{sB:0},anta:!0,aopts:[!1,!1,50,100,0]},this.acl=i,this.OF=null,this.Mw=null,this.OH=null,this.wH=new _i},qr.zL.prototype=new qr.iT,qr.zL.prototype.Vg=function(t){return t.nK&&this.id!=qr.m_},qr.zL.prototype.enable=function(t,e,n,i,r){this.fd=n;n=new yr(mr.E.W,!0);n.data={d:mr.J.tW,Ek:"crosshair"},e.c(n)},qr.zL.prototype.XL=function(t,e,n,i){qr.iT.prototype.XL.call(this,t,e,n,i),this.wH.XL(i),this.fv(e,n)},qr.zL.prototype.fv=function(t,e){var n=new yr(mr.E.W,!0);n.data={d:mr.J.QP,b:this.id,WS:this.HM(e)},t.c(n)},qr.zL.prototype.HM=function(t){var e=this.wH.fU(0),n=this.wH.uk(0),n=qr.$S.sy(this.sH.binop,e,n);return n=1==t.YA&&0==n?1:n},qr.zL.prototype.Lp=function(t,e,n,i){},qr.zL.prototype.CK=function(t,e,n,i,r){var a=n.YA;2!=a&&this.C9(e,n),2==a&&!t._W()||(r=t.s.Qi(r.x,r.y),r=qr.DD.ET(t,r,n),this.OH=[r.x,r.y],this.OF=r,this.Mw=new Pr(0,0),this.wH.CK(i))},qr.zL.prototype.TO=function(t,e,n){e=[this.OF.clone(),e.clone()];return n=this.wH.fU(1)||n.j(ii.Ml)||this.wH.uk(1)?n:null,this.acl&&(e=qr.zL.jG(e[0],e[1],n,!0,this.sH.cstr)),t&&(t.s.Ht=new Fr(e[0].x,e[0].y,e[1].x-e[0].x,e[1].y-e[0].y)),this.Lp(e[0],e[1],this.wH.fU(1)&&n.j(ii.Ml),this.OH)},qr.zL.prototype.fR=function(t,e,n){var i=t.s.Qi(e.x,e.y),r=this.sH.cstr;return 2==r.sB?(e=new Fr(i.x-r.x,i.y-r.y,r.x,r.y),r=qr.DD.Mr(t,e,n),i.x+=r[0],i.y+=r[1],qr.DD.d_(t,e,r)):i=qr.DD.ET(t,i,n),i},qr.zL.prototype.wl=function(t,e,n,i,r){var a,s;null!=this.OF&&(s=(a=this.OH).length,s=r?this.fR(t,r,n):new Pr(a[s-2],a[s-1]),i.j(ii.QO)?this.OF=s.Pf(this.Mw):this.Mw=s.Pf(this.OF),a.push(s.x,s.y),null==this.sH.shape&&(this.sH.shape=n.wF[0]),i=this.TO(t,s,i)[0],i=Rr.H.x4(i),t.D.h7=i,this.id!=qr.m_&&this.id!=qr.iA&&this.id!=qr.ih&&qr.wE.mi(r,t.s.Ht,t,n),t.Lj=!0,this.wH.wl())},qr.zL.prototype.as2=function(t,e,n,i){var r=t[4].clone();i&&(r.x-=e/2,r.y-=n/2);n=this.Lp(r,new Pr(r.x+e,r.y+n),!1,this.OH);this.kC(t[0],t[1],t[2],n)},qr.zL.prototype.kC=function(t,e,n,i){var r=new yr(mr.E.n$,!0);r.data=qr.zL.p5(i[1],n),e.c(r),"customShape"==i[1].v.classID&&i[1].v.Nm.v.startsWith("--")&&(r=(e=(n=t.l7())[0][n[1].pop()]).add.vmsk,n=e.add.vogk,(r=r.clone()).Y=i[0],this.IG(t,e.BT,r,n))},qr.zL.prototype.f9=function(t,e,n,i,r,a){var s,o,l,h,u,f;null!=this.OF&&(h=this.fR(t,r,n),o=this.HM(n),u=n.YA,l=this.OH.length,this.id==qr.m_&&l<=4||(l<=4?(h.x=Math.round(h.x),h.y=Math.round(h.y),(s=new yr(mr.E.W)).data={d:mr.J.go,RB:"createshape",a8m:this.as2.bind(this),asy:this.name,adK:[t,e,n,i,h]},a||e.c(s)):2!=l&&(a=(r=this.TO(t,h,i))[0],l=(s=t.l7(!0))[0],i=(h=s[1]).length-1,1==u&&2<a.length||0==u&&0!=o&&-1!=i&&0<=l[h[i]].BT?(a[2].Gw=[1,2,3,0][o-1],i=(s=l[h.pop()]).add.vmsk,o=s.add.vogk,l=i.clone(),f=i.clone(),h=JSON.stringify(o),f.Y=f.Y.concat(a.slice(2)),f.w=[Rr.$.M$(f.Y)-1],i=Rr.UY.Xx(r[1]),o.push(i||Rr.UY.lk()),this.IG(t,s.BT,f,o),this.co(t,this.name,s.BT,l,f,null,h,JSON.stringify(o))):0==u?this.kC(t,e,n,r):2==u&&((f=new qi.g6).Y=f.Y.concat(a.slice(2)),u=f.sL(),this.sH.anta||Rr.round(u.channel),a=Rr.t(4*u.rect.Z()),Rr.Bg(a,(255&n.k$)<<16|(n.k$>>8&255)<<8|(n.k$>>16&255)<<0),Rr.al(u.channel,a,3),(f=new yr(mr.E.u,!0)).b=qr.Gx,f.data={d:"draw",bG:{buffer:a,rect:u.rect.clone()},rD:this.name},e.c(f)))),this.OF=null,t.D.h7=null,t.D.LA=null,t.D.po=[],t.s.Ht=null,t.Lj=!0,this.wH.f9(),this.fv(e,n))},qr.zL.prototype.qx=function(t,e,n,i,r){for(var n in t)this.sH[n]=t[n]},qr.zL.jG=function(t,e,n,i,r){var a,s,o,l=t.x,h=t.y,u=e.x,f=e.y;r&&2==r.sB?(i&&(u=Math.round(u),f=Math.round(f)),l=u-r.x,h=f-r.y):(a=0,r&&1==r.sB?a=r.y/r.x:n&&n.j(ii.Ml)&&(a=1),0!=a&&(i&&(l=l<u?Math.floor(l):Math.ceil(l),h=h<f?Math.floor(h):Math.ceil(h)),s=Math.abs(u-l),(o=Math.abs(f-h))/(r=s)<a&&(r*=o/s/a),u=l<u?l+r:l-r,f=h<f?h+r*a:h-r*a),n&&n.j(ii.e$)&&(l-=u-l,h-=f-h));t=new Pr(l,h),e=new Pr(u,f);return i&&qr.zL.aoE(t,e),[t,e]},qr.zL.aoE=function(t,e){var n;t.x>e.x&&(n=t.x,t.x=e.x,e.x=n),t.y>e.y&&(n=t.y,t.y=e.y,e.y=n),t.x=Math.floor(t.x),t.y=Math.floor(t.y),e.x=Math.ceil(e.x),e.y=Math.ceil(e.y)},qr.zL.a4u=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}},qr.zL.xq=function(t,e){var n=qr.zL.a4u();return null==e&&(e=JSON.parse(JSON.stringify(Wi.iP[t]))),qr.Ap.pY(e,n.Usng.v.Type.v,t),{YY:"make",l5:n}},qr.zL.p5=function(t,e){var n=e.f6,e=JSON.parse(JSON.stringify(e.vF));0==n.SB&&(e.fillEnabled.v=!1);n=qr.zL.xq(Math.max(0,n.SB-1),n.k4);return n.l5.Usng.v.Shp=t,n.l5.Usng.v.strokeStyle={t:"Objc",v:e},n},qr.Tf=function(){qr.iT.call(this,[10,29],qr._V,"tools/pen"),this.kW=null,this.PB=null,this.ev=null,this.aeu=0,this.EV=null,this.NB=!1,this.sJ=!1,this.VM=!1,this.AE=!1},qr.Tf.prototype=new qr.iT,qr.Tf.prototype.Vg=function(t){return null!=this.PB},qr.Tf.prototype.XL=function(t,e,n,i){qr.iT.prototype.XL.call(this,t,e,n,i),i.j(ii.e$)||(this.VM=!1)},qr.Tf.prototype.CK=function(t,e,n,i,r){this.kW=r,this.C9(e,n);var a=t.s.Qi(r.x,r.y);a.x=Math.round(a.x),a.y=Math.round(a.y);var s=qr.DD.ET(t,a,n),o=n.YA,l=this.aeu,h=t.l7(1==(o=2==o?0:o)),u=h[0],f=h[1],c=u[f.pop()],p=c?c.add.vmsk:null;0==o&&0!=l&&c&&0<=c.BT&&(o=1);var d=qr.$s(t,r);p&&(m=Rr.$.LP(p.Y,a,!0,d));r=i.j(ii.e$);0==o&&(null==p||0==p.nZ.length&&-1==m.BT)&&(v=new yr(mr.E.n$,!0),o=Rr.UY.UW("customShape",[0,0,1,1],null,null,null,"--"),v.data=qr.zL.p5(o,n),e.c(v),this.AE=!0,(p=(c=(h=t.l7(!0))[0][(f=h[1]).pop()]).add.vmsk).Y=p.Y.slice(0,2));var v=c.add.vogk;this.PB=p.clone(),this.ev=JSON.stringify(v);var g=p.Y,u=Rr.$.M$(g),y=Rr.$.Be(p.Y,new Fr(a.x-d,a.y-d,2*d,2*d),p.nZ),m=Rr.$.LP(p.Y,a,!0,d),h=y[0].length+y[1].length+y[2].length;if(-1!=m.BT&&0==y[0].length){for(var w=Rr.$.PX(g,m.BT);g[w].length<=m.ZP;)m.ZP-=g[w].length,w+=g[w].length+1;g[w].length++,g.splice(w+2+m.ZP,0,{type:4,Sm:s.clone(),B:s.clone(),Pv:s.clone()}),p.nZ=[w+2+m.ZP]}else if(0!=h&&r){for(var b=0,M=0;M<3;M++)if(0!=y[M].length){b=y[M][0],this.sJ=1==M;break}0!=y[0].length&&(f=p.Y.length-1,(h=p.Y[b]).Pv=h.B.clone(),r=3<=h.type?3:0,b!=f?(h.Sm=h.B.clone(),h.type=1+r,this.VM=!0):h.type=2+r),p.nZ=[b]}else if(1==y[0].length&&g[y[0][0]-1]&&null==g[y[0][0]-1].Gw){var b=y[0][0],w=Rr.$.Fu(g,b),S=(w=Rr.$.PX(g,w))+g[w].length;b!=S&&(g[w].length--,g.splice(b,1),S--),p.nZ=[S]}else{S=0;if(1!=p.nZ.length)p.w=[u],g.push({type:3,length:1,Gw:[1,2,3,0][Math.max(0,l-1)],aD:0,QL:0,Bt:0}),S=g.length,v.push(Rr.UY.lk());else{u=p.nZ[0],l=Rr.$.Fu(g,u),u=(w=Rr.$.PX(g,l))+g[w].length;if(Pr.Tn(a,g[w+1].B)<d)return g[w].type=0,p.nZ=[w+1],this.EV=s,this.NB=!0,this.IG(t,c.BT,p,v),void(t.Lj=!0);g[w].length++,S=u+1,u==w+1&&2!=g[w].length&&(S=w+1)}i.j(ii.Ml)&&g[S-1]&&g[S-1].B&&(s=qr.iU.yX(g[S-1].B,s)),g.splice(S,0,{type:4,Sm:s.clone(),B:s.clone(),Pv:s.clone()}),p.nZ=[S],this.EV=s}this.IG(t,c.BT,p,v),t.Lj=!0},qr.Tf.prototype.wl=function(t,e,n,i,r){var a,s,o,l,h;null!=this.PB&&((o=this.kW)&&Pr.Tn(o,r)<qr.$s({s:{V:1}},r)||(this.kW=null,s=t.s.Qi(r.x,r.y),a=qr.DD.ET(t,s,n),n=(s=(r=(o=t.l7(1==n.YA))[0][o[1].pop()]).add.vmsk).Y[s.nZ[0]],i.j(ii.QO)?(i.j(ii.Ml)&&(a=qr.iU.yX(this.EV,a)),o=n.B.Pf(n.Pv),l=n.Sm.Pf(n.B),n.Pv=a,n.B=a.add(o),n.Sm=n.B.add(l)):(i.j(ii.Ml)&&(a=qr.iU.yX(n.B,a)),this.sJ&&(h=n.Sm,n.Sm=n.Pv,n.Pv=h),this.NB?(l=0==(l=Pr.Tn(n.B,a))?0:Pr.Tn(n.B,n.Pv)/l,n.Pv.x=n.B.x+l*(a.x-n.B.x),n.Pv.y=n.B.y+l*(a.y-n.B.y)):n.Pv=a,i.j(ii.e$)&&!this.VM?n.type=5:(n.type=4,n.Sm=n.B.add(n.B.Pf(a))),this.EV=a,this.sJ&&(h=n.Sm,n.Sm=n.Pv,n.Pv=h)),this.IG(t,r.BT,s,r.add.vogk),t.Lj=!0))},qr.Tf.prototype.f9=function(t,e,n,i,r){var a,s,o,l;null!=this.PB&&(s=(a=(l=t.l7(1==n.YA))[0][l[1].pop()]).add.vmsk,o=a.add.vogk,this.NB&&(s.nZ=[],this.IG(t,a.BT,s,a.add.vogk)),n=this.PB.Y.length,l=s.Y.length,this.AE||this.co(t,this.NB?"Close Path":(n==l?"Move":n<l?"Add":"Delete")+" Anchor Point",a.BT,this.PB,s.clone(),null,this.ev,JSON.stringify(o)),this.AE=!1,this.NB=!1,this.sJ=!1,this.VM=!1,this.PB=null)},qr.Tf.prototype.qx=function(t,e,n,i,r){this.aeu=t.binop},qr.oi=function(){qr.zL.call(this,[10,30],qr.m_,"tools/fpen",!1)},qr.oi.prototype=new qr.zL,qr.oi.prototype.Lp=function(t,e,n,i){return[Rr.$.G1(i,this.sH.tolr),Rr.UY.UW("customShape",[0,0,1,1],null,null,null,"--")]},qr.v7=function(){qr.iT.call(this,[10,27],qr.es,"tools/pselect"),this.xb=null,this.h6=!1,this.An=null,this.PB=null,this.p$=null,this.ev=null,this.VD=null,this.DX=null,this.UN=null,this.jY=null},qr.v7.prototype=new qr.iT,qr.v7.prototype.Vg=function(t){return t.nK},qr.v7.prototype.CK=function(t,e,n,i,r){for(var a,s,o=t.s.Qi(r.x,r.y),r=t.l7(),l=r[0],h=r[1],u=0;u<h.length;u++){var f=l[h[u]],c=f.add.vmsk,p=Rr.$.LP(c.Y,o).BT;-1!=p&&(this.An=a=f,s=p);for(var d=0;d<c.Xo.length;d++){var v,g,y,m=Rr.$.IB(c.Y,c.Xo[d]);null!=m&&Pr.Tn(m,o)<4*qr.F()/t.s.V&&(y=(v=t.g[f.BT-1e6].add.TySh).nx.Curve,g=v.A,m=y.Reversed,y.Reversed=!1,(y=nr.ag(v.nx.Curve)).Reversed=m,Rr.H.A(y[0],g,y[0]),this.UN=[y,d,g.q4*g.DR-g.S*g.yH],this.An=a=f,s=0)}if(this.UN)break}null!=a&&((c=a.add.vmsk).nZ=[],r=c.w.indexOf(s),i.j(ii.Ml)?-1==r?(c.w.push(s),this.h6=!0):c.w.splice(r,1):(-1==r&&(c.w=[s]),this.h6=!0),this.DX=Rr.$.b3(c.Y,c.w)),this.xb=o,this.jY=new Ki(o),t.hu=!0,t.Lj=!0},qr.v7.prototype.wl=function(t,e,n,i,r){var a,s,o,l,h,u,f;null!=this.xb&&(a=t.s.Qi(r.x,r.y),this.h6?(a=this.jY.Id(a,i),r=this.An,null==this.PB&&(this.PB=this.p$=r.add.vmsk.clone(),this.ev=this.VD=JSON.stringify(r.add.vogk),i.j(ii.e$)&&(s=this.PB.clone(),f=JSON.parse(this.ev),o=qr.iT.t5(s,f),qr.iT.dx(o,s,f),this.p$=s,this.VD=JSON.stringify(f))),s=this.p$.clone(),f=JSON.parse(this.VD),this.UN?(i=(h=this.UN)[0][0],o=Rr.H.KL(i,a.x,a.y),s.Xo[h[1]]=h[0][1][o],l=i[2*o],u=i[2*o+1],u=(i[2*o+2]-l)*(a.y-u)-(i[2*o+3]-u)*(a.x-l),h[2]<0&&(u=-u),s.Iy=0<u):(h=(l=this.DX.clone()).x,u=l.y,l.offset(a.x-this.xb.x,a.y-this.xb.y),l.x=Math.round(l.x),l.y=Math.round(l.y),n=qr.DD.Mr(t,l,n),u=new _r(1,0,0,1,l.x-h+n[0],l.y-u+n[1]),Rr.$.yl(s.Y,u,s.w),Rr.UY.A(f,Rr.N.V$(u),s.w),qr.DD.d_(t,l,n)),this.IG(t,r.BT,s,f)):(f=this.xb,t.D.h7=Rr.H.UQ(new Fr(f.x,f.y,a.x-f.x,a.y-f.y)),t.Lj=!0))},qr.v7.prototype.f9=function(t,e,n,i,r){if(null!=this.xb){var a=t.s.Qi(r.x,r.y),r=this.An,s=r?r.add.vmsk:null;if(this.h6){var o=JSON.stringify(r.add.vogk);this.xb.iy(a)||this.co(t,"Move Paths",r.BT,this.PB,s,null,this.ev,o),null!=t&&t.D.LA&&(t.D.LA=null,t.Lj=!0)}else{if(s){var o=this.xb,o=new Fr(o.x,o.y,a.x-o.x,a.y-o.y),l=Rr.$.ah_(s.Y,o);if(i.j(ii.Ml))for(var h=0;h<l.length;h++)-1==s.w.indexOf(l[h])&&s.w.push(l[h]);else s.w=l}t.D.h7=null,t.Lj=!0}this.xb=null,this.PB=null,this.UN=null,this.h6=!1,this.jY=null}},qr.v7.prototype.nr=function(t,e,n,i){qr.iT.prototype.nr.call(this,t,e,n,i),n.No==this.id&&0!=t.w.length&&(n=(i=t.l7())[0],0!=(t=i[1]).length&&(n=(i=n[t[0]]).add.vmsk,i.add.vstk,t=i.add.vogk,(i=new yr(mr.E.W,!0)).data={d:mr.J.QP,b:this.id,_u:"main",ue:n||null,UY:t},e.c(i)))},qr.v7.prototype.qx=function(t,e,n,i,r){var a,s,o,l,h=t.Nn;h.ue&&(o=(s=n.l7())[0],0!=(l=s[1]).length&&(t=(a=o[l[0]]).add.vmsk.clone(),s=JSON.stringify(a.add.vogk),o=h.ue,this.IG(n,a.BT,o,h.UY),l=[18,5],t.Y.length==o.Y.length&&(l=t.w[0]==o.w[0]?"Fill Rule":"Path Order"),this.co(n,l,a.BT,t,o,null,s,JSON.stringify(h.UY))))},qr.vI=function(){qr.iT.call(this,[10,28],qr.zj,"tools/dselect"),this.Xs=-1,this.iG=-1,this.QD=null,this.xb=null,this.An=null,this.PB=null,this.ev=null,this.yh=null,this.Tg=0,this.aq5={psnap:!1},this.jY=null},qr.vI.prototype=new qr.iT,qr.vI.prototype.Vg=function(t){return t.nK},qr.vI.prototype.qx=function(t){this.aq5=t},qr.vI.prototype.gT=function(t,e,n,i,r){if("crnr"==t.d){if(null!=n){var a=n.l7(),s=a[0],a=a[1];if(0!=a.length){var a=s[a[0]],o=a.add.vmsk;if(0!=o.nZ.length){for(var l=0;l<o.nZ.length;l++){var h=o.Y[o.nZ[l]];if(!h.B.iy(h.Pv)||!h.B.iy(h.Sm))return void alert("Only sharp corners can be rounded")}null==this.PB&&(this.PB=a.add.vmsk.clone(),this.ev=JSON.stringify(a.add.vogk),this.An=a,this.yh=n);a=new yr(mr.E.W,!0);a.data={d:mr.J.go,RB:"cornerradius",Zk:5,ky:this.anL.bind(this)},e.c(a)}else alert("No corners selected")}else alert("No paths selected")}}else qr.iT.prototype.gT.call(this,t,e,n,i,r)},qr.vI.prototype.anL=function(t){if("confirm"==t){var e=this.yh,n=this.An,i=n.add.vmsk,r=n.add.vogk;return this.co(e,[12,94,0],n.BT,this.PB,i,null,this.ev,JSON.stringify(r)),void this.ii()}var i=this.PB.clone(),r=JSON.parse(this.ev),a=i.nZ;if("cancel"!=t){for(var s=[],o=0;o<a.length;o++){var l=a[o],l=Rr.$.Fu(i.Y,l,!0),h=0;if(-1==s.indexOf(l)){s.push(l);for(var u=Rr.$.PX(i.Y,l,!0),f=i.Y[u].length,c=[],p=0;p<f;p++){var d=-1==i.nZ.indexOf(u+p+1)?0:t;c.push(d),0!=d&&h++}Rr.$.kA(i.Y,u,c);for(p=0;p<a.length;p++)a[p]>u+f&&(a[p]+=h)}}this.mL(i,r),i.nZ=[]}this.IG(this.yh,this.An.BT,i,r),"cancel"==t&&this.ii()},qr.vI.prototype.disable=function(t,e,n,i){this.GG(t)},qr.vI.prototype.CK=function(t,e,n,i,r){this.GG(t);var a,s,o,l=t.s.Qi(r.x,r.y);this.QD=l.clone();var h=t.l7(),u=h[0],f=h[1];if(0!=f.length){for(var r=qr.$s(t,r),c=new Fr(l.x-r,l.y-r,2*r,2*r),p=0;p<f.length&&(s=(a=this.An=u[f[p]]).add.vmsk,(o=Rr.$.Be(s.Y,c))[0].length+o[1].length+o[2].length==0);p++);for(var d=[!1,!1,!1],v=0;v<3;v++)for(var g=0;g<o[v].length;g++){var y=o[v][g];if(-1!=s.nZ.indexOf(y)||1==v&&-1!=s.nZ.indexOf(y-1)||2==v&&-1!=s.nZ.indexOf(y+1)){o[v]=[y],d[v]=!0;break}}if(0==o[0].length||!d[0]&&(d[1]||d[2]))0!=o[1].length&&d[1]?(this.Xs=o[1][0],this.iG=1):0!=o[2].length&&d[2]?(this.Xs=o[2][0],this.iG=2):-1==(m=Rr.$.LP(s.Y,l,!0,r)).BT?this.xb=l:(s.w=[m.BT],s.nZ=[]);else{var r=o[0][0],m=s.nZ.indexOf(r);if(i.j(ii.Ml)){if(-1!=m)return s.nZ.splice(m,1),void(t.Lj=!0);s.nZ.push(r)}else-1==m&&(s.nZ=[r]);this.Xs=r,this.iG=0}null==this.PB&&(this.PB=a.add.vmsk.clone(),this.ev=JSON.stringify(a.add.vogk)),this.jY=new Ki(l),t.Lj=!0}},qr.vI.prototype.wl=function(t,e,n,i,r){if(null!=t){var a=t.s.Qi(r.x,r.y),s=this.An;if(-1!=this.Xs){var o,l,h=this.PB.clone(),u=s.add.vogk,f=[(f=h.Y[this.Xs]).B,f.Sm,f.Pv][this.iG];i.j(ii.Ml)?0==this.iG?((a=this.jY.Id(a,i)).x+=f.x-this.QD.x,a.y+=f.y-this.QD.y):a=qr.iU.yX(h.Y[this.Xs].B,a):(this.aq5.psnap&&(a.x=Math.round(a.x),a.y=Math.round(a.y)),a=qr.DD.ET(t,a,n)),0==this.iG?(l=new _r(1,0,0,1,a.x-f.x,a.y-f.y),Rr.$.yl(h.Y,l,null,h.nZ)):(n=(o=h.Y[this.Xs]).Sm,f=o.Pv,2==this.iG&&(n=o.Pv,f=o.Sm),!i.j(ii.e$)||1!=o.type&&4!=o.type||o.type++,n.R7(a.x,a.y),1!=o.type&&4!=o.type||(l=Pr.Tn(n,o.B),0!=(i=Pr.Tn(f,o.B))&&(f.x=o.B.x-(n.x-o.B.x)*(i/l),f.y=o.B.y-(n.y-o.B.y)*(i/l)))),this.mL(h,u),this.IG(t,s.BT,h,u)}else if(null!=this.xb){var c=this.xb;t.D.h7=Rr.H.UQ(new Fr(c.x,c.y,a.x-c.x,a.y-c.y)),t.Lj=!0}else{var p,c=t.l7(),d=c[0],v=c[1];if(0!=v.length){for(var r=qr.$s(t,r),g=new Fr(a.x-r,a.y-r,2*r,2*r),y=0;y<v.length&&(h=(s=d[v[y]]).add.vmsk,(p=Rr.$.Be(h.Y,g))[0].length+p[1].length+p[2].length==0);y++);this.GG(t);for(var m=0;m<3;m++)for(var w=0;w<p[m].length;w++){var b=p[m][w],b=h.Y[b],b=0==m?b.B:1==m?b.Sm:b.Pv;t.D.x2.push(t.D.SF.length>>>1),t.D.SF.push(b.x,b.y),t.Lj=!0}}}}},qr.vI.prototype.GG=function(t){t&&0!=t.D.SF.length&&(t.D.SF=[],t.D.x2=[],t.Lj=!0)},qr.vI.prototype.f9=function(t,e,n,i,r){var a,s,o,l,h=t.s.Qi(r.x,r.y),u=this.An,f=u?u.add.vmsk:null,c=u?u.add.vogk:null;-1!=this.Xs?(Date.now()-this.Tg<300?(a=f.Y[this.Xs],o=null,0==(s=this.iG)?(l=a.Sm.iy(a.B),r=a.Pv.iy(a.B),l||r?(o="Add Handles",l&&r?(a.Sm.x-=30,a.Pv.x+=30):l?a.Sm=a.B.add(a.B.Pf(a.Pv)):r&&(a.Pv=a.B.add(a.B.Pf(a.Sm)))):(o="Anchor Type",1==a.type||4==a.type?a.type++:(a.type--,a.Pv=a.B.add(a.B.Pf(a.Sm))))):(o="Remove Handle",(1==s?a.Sm:a.Pv).kH(a.B)),this.mL(f,c),this.IG(t,u.BT,f,c),this.co(t,o,u.BT,this.PB,f,null,this.ev,JSON.stringify(c))):this.QD.iy(h)||this.co(t,"Drag Anchors",u.BT,this.PB,f,null,this.ev,JSON.stringify(c)),this.Tg=Date.now()):null!=this.xb&&((c=new Fr((c=this.xb).x,c.y,h.x-c.x,h.y-c.y)).m<0&&(c.x+=c.m),c.n<0&&(c.y+=c.n),c.m=Math.abs(c.m),c.n=Math.abs(c.n),c=Rr.$.Be(f.Y,c),f.nZ=c[0].concat(i.j(ii.Ml)?f.nZ:[]),t.D.h7=null),this.ii(),t.Lj=!0},qr.vI.prototype.ii=function(){this.An=null,this.PB=null,this.xb=null,this.Xs=this.iG=-1,this.jY=null},qr.vI.prototype.mL=function(t,e){for(var n=0;n<t.nZ.length;n++){var i=Rr.$.Fu(t.Y,t.nZ[n]);Rr.UY.P9(e,i)}},qr.vI.prototype.XL=function(t,e,n,i){var r,a,s,o,l,h;null!=t&&(h=(s=t.l7())[0],0==(o=s[1]).length||null!=(l=(r=h[o[0]]).add.vmsk)&&0!=l.nZ.length&&(a=r.add.vogk,s=JSON.stringify(a),0==(h=i.WJ()).x&&0==h.y||(o=l.clone(),l=l.clone(),h=new _r(1,0,0,1,h.x,h.y),Rr.$.yl(l.Y,h,null,l.nZ),this.mL(l,a),this.IG(t,r.BT,l,a),this.co(t,"Move Anchors",t.w[0],o,l.clone(),!0,s,JSON.stringify(a))),(i.j(ii.K1)||i.j(ii.kn))&&this.gT({d:"remove",Vd:!0},e,t,i,n)))},qr.vI.prototype.co=function(t,e,n,i,r,a,s,o){var l=t.Ki();a&&null!=l&&l.b==this&&l.data.ajV&&l.data.X2==n&&JSON.stringify(l.data.x1.nZ)==JSON.stringify(i.nZ)?(l.data.me=r,l.data.fN=o):((l=new Ri(e,this)).data={X2:n,x1:i,me:r,ajV:a,ap0:s,fN:o},t.Sy(l))},qr.Rect=function(){qr.zL.call(this,[10,32],qr.gW,"tools/rect",!0)},qr.Rect.prototype=new qr.zL,qr.Rect.prototype.Lp=function(t,e,n){var i=this.sH.crad,r=e.x-t.x,a=e.y-t.y;return[Rr.$.lO.Rect(t.x,t.y,r,a,i),Rr.UY.UW("Rctn",[t.x,t.y,e.x,e.y],[i,i,i,i])]},qr._D=function(){qr.zL.call(this,[10,33],qr.vL,"tools/ellipse",!0)},qr._D.prototype=new qr.zL,qr._D.prototype.Lp=function(t,e,n){var i=e.x-t.x,r=e.y-t.y;return[Rr.$.lO._D(t.x,t.y,i,r),Rr.UY.UW("Elps",[t.x,t.y,e.x,e.y])]},qr.ao=function(){qr.zL.call(this,[10,34],qr.iA,"tools/pshape",!1),this.sH.aopts=[!1,!0,50,100,0]},qr.ao.prototype=new qr.zL,qr.ao.prototype.Lp=function(t,e,n){var i,r=this.sH.pshape,a=this.sH.crad,s=this.sH.irad/100,o=this.sH.sides,l=this.sH.width,h=this.sH.aopts,u=this.sH.length;e=e.clone();var f=t.x,c=t.y,p=e.x,d=e.y,v=Math.sqrt((p-f)*(p-f)+(d-c)*(d-c)),p=Math.atan2(-d+c,p-f);return n&&(p=15*Math.round(180*p/Math.PI/15)*Math.PI/180),0==r&&(i=Rr.$.lO.Ll(f,c,v,p,o,a)),1==r&&(i=Rr.$.lO.a$(f,c,v,p,o,a,s)),2==r&&(i=Rr.$.lO.Rs(t.x,t.y,e.x,e.y,l,h)),[i=3==r?Rr.$.lO.a3v(f,c,v,p,u):i,Rr.UY.UW("customShape",[t.x,t.y,e.x,e.y],null,null,null,"--")]},qr.ao.prototype.XL=function(t,e,n,i){qr.zL.prototype.XL.call(this,t,e,n,i);var r,a,s,o,l=i.WJ(),h=this.sH;0!=l.y&&(o=-l.y,(s=h.pshape)<2?(r="sides",a=Math.max(3,Math.min(100,h.sides+o))):2==s?(r="width",a=Math.max(1,Math.min(100,h.width+o))):3==s&&(r="length",a=Math.max(4,Math.min(40,h.length+o)))),0!=l.x&&(r="pshape",a=Math.max(0,Math.min(3,h.pshape+l.x))),r&&(o=new yr(mr.E.W,!0),(l={})[r]=a,h[r]=a,o.data={d:mr.J.QP,b:this.id,wp:"vals",acp:l},e.c(o),this.wl(t,e,n,i))},qr.Ca=function(){qr.zL.call(this,[10,35],qr.ih,"tools/line",!1)},qr.Ca.prototype=new qr.zL,qr.Ca.prototype.Lp=function(t,e,n){var i=this.sH.width,r=this.sH.aopts;return e=e.clone(),n&&(e=qr.iU.yX(t,e)),[Rr.$.lO.Rs(t.x,t.y,e.x,e.y,i,r),Rr.UY.UW("Ln",null,null,[t.x,t.y,e.x,e.y],i,null,r)]},qr.ps=function(){qr.zL.call(this,[10,31],qr.xx,"tools/cshape",!0)},qr.ps.prototype=new qr.zL,qr.ps.prototype.Lp=function(t,e,n){var i=this.sH.shape,r=(i.sz.m,i.sz.n,qi.g6.nk(i.Y)),a=(e=e.clone()).x-t.x,s=e.y-t.y;return Rr.$.yl(r,new _r(a,0,0,s,t.x,t.y)),[r,Rr.UY.UW("customShape",[t.x,t.y,e.x,e.y],null,null,null,i.L2)]},qr.Q=function(t,e,n){qr.wE.call(this,t,e,n),this.Ep=0,this.g=null,this.tC=null,this.xv=null,this.Cb=1,this.NA=!1,this.cursor=null,this.YT=null,this.Xa=null,this.Rl=!1,this.JG=null,this.a89=0,this.I5=null,this.Z4=0,this.ic=null,this.q5=null,this.q9=null,this.Tt=null,this.abV=null,this.Wk=null},qr.Q.prototype=new qr.wE,qr.Q.iI=function(t,e){var n={classID:"null",null:Ui.S3("Dcmn",!0)};return t?n.Angl={t:"UntF",v:{type:"#Ang",val:e}}:n.Axis={t:"enum",v:{Ornt:e}},{YY:t?"rotateEventEnum":"flip",l5:n}},qr.Q.prototype.Yp=function(t,e,n,i,r){var a=new yr(mr.E.W,!0);a.data={d:mr.J.QP,b:this.id,Pw:r,Dl:t,xv:n},e.c(a),this.$C=!1},qr.Q.prototype.Vg=function(t){return this.q5&&this.q5.RR()},qr.Q.prototype.gT=function(t,e,n,i,r){if(this.xv=r,("again"!=t.d||null!=this.I5)&&this.hH(n,r)){if(this.q5)return this.Fh(t,this.q5.g0()),this.S2(n,r,0,!0),void this.nG(n);this.in(n,null==t.i,t.i),this.Sx(n),this.Fh(t),this.n9(n,e,t.rD,!1)}},qr.Q.prototype.Fh=function(t,e){var n=this.ic;null==e&&(i=null!=t.cv?t.cv:4,e=this.q5.ai6()[i]);var i=e.x,e=e.y;"rot"==t.d&&t.k!=Math.PI&&1==(n.m+n.n&1)&&(i=Math.floor(i),e=Math.floor(e));n=new _r;n.translate(-i,-e),"rot"==t.d&&n.rotate(t.k),"scl"==t.d&&n.scale(t.k.x,t.k.y),"mat"==t.d&&n.concat(t.k),n.translate(i,e),"again"==t.d&&(n=this.I5);t=this.q5.mY();Rr.H.A(t,n,t),this.q5.tI(t)},qr.Q.prototype.L$=function(){return!0},qr.Q.prototype.hH=function(t,e){if(null==t)return!1;if(this.id==qr.bS)return null!=t.v;var n=t.ZI(!0,null,null,!0);if(this.id==qr.VQ&&t.g[n[0]].rect.mN())return alert("Layer is empty."),!1;for(var i=0;i<n.length;i++){var r=t.g[n[i]];if(r.zC(2)||r.zC(31))return alert(ri.get([6,57,0])),!1;if(r.add.artb)return alert("You can not transform the whole artboard"),!1;if(r.add.TySh&&!er.IP(r.add.TySh,e.PG))return!1;if(r.add.SoLd){if(1==n.length&&!Rr.oH.pz(r.add.SoLd.warp.v)&&(r.sL()&&r.sL().$j||r.add.vmsk&&r.add.vmsk.$j))return alert("Unlink masks before transforming Smart Object"),!1;if(!t.a6P(r.add.SoLd.Idnt.v))return alert("Unsupported format of the smart object ("+t.Qw(r.add.SoLd.Idnt.v).s3+")"),!1}}return null==t.v||!!t._W()&&t.a5i()},qr.Q.prototype.CK=function(t,e,n,i,r){var a=t.s.Qi(r.x,r.y);1==this.Z4&&(s=Rr.N.tU(Rr.N.zw(this.q5.mY(),this.ic)),a=Rr.N.OZ(s,a));var s=0==this.Z4?this.q5:this.q9;this.NA=s.CK(t,n,i,a,null,null,r),this.NA&&s.w2(a)&&(Date.now()-this.a89<250&&this.n9(t,e,null,!0),this.a89=Date.now())},qr.Q.prototype.Lw=function(t){var e=new yr(mr.E.W,!0);e.data={d:mr.J.tW,Ek:this.cursor},t.c(e)},qr.Q.prototype.wl=function(t,e,n,i,r){var a=t.s.Qi(r.x,r.y);1==this.Z4&&(s=Rr.N.tU(Rr.N.zw(this.q5.mY(),this.ic)),a=Rr.N.OZ(s,a));var s,o=0==this.Z4?this.q5:this.q9;r.nK||(s="default",!o||(r=o.RS(a,t.s.V,null,r))&&(s=r),s!=this.cursor&&(this.cursor=s,this.Lw(e))),this.NA&&(o.wl(t,n,i,a),this.S2(t,n,0,!0),this.nG(t),this._i(e))},qr.Q.prototype.f9=function(t,e,n,i,r){r=t.s.Qi(r.x,r.y);this.q5.f9(t,n,i,r),this.NA=!1},qr.Q.prototype.XL=function(t,e,n,i){i.j(ii.C_)?this.n9(t,e,null,!0):i.j(ii.Yh)?this.ga(t,e):this.q5.XL(t,n,i)&&(this.S2(t,n,0,!0),this._i(e))},qr.Q.prototype.qx=function(t,e,n,i){var r,a;"commit"==t._u?this.n9(n,e,null,!0):"cancel"==t._u?this.ga(n,e):"switchWarp"==t._u?(this.Z4=1-this.Z4,this.ag0(),this.nG(n),this._i(e)):"wrp"==t._u?(this.q9.J4(t.sv),this.nG(n),this.S2(n,this.xv,0,!0)):"ctyp"==t._u?(this.q5.agf(t.Gj),this.nG(n),this._i(e)):"cen"==t._u?(this.q5.aiw(t.bM),this.nG(n),this.S2(n,this.xv,0,!0),this._i(e)):"trn"==t._u&&(r=Rr.N.V$(t.P4),a=this.ic,e=Rr.N.zw(this.q5.mY(),this.ic),r[6]=e[6],r[7]=e[7],a=[a.x,a.y,a.x+a.m,a.y,a.x+a.m,a.y+a.n,a.x,a.y+a.n],Rr.N.A(r,a),this.Cb=t.Cb,this.q5.tI(a),this.nG(n),this.S2(n,this.xv,0,!0))},qr.Q.prototype.nG=function(t){var e;0==this.Z4?this.q5.VV(t,this.xv):(this.q9.VV(t),e=Rr.N.zw(this.q5.mY(),this.ic),Rr.N.A(e,t.D.h7.U),Rr.N.A(e,t.D.us))},qr.Q.prototype.n9=function(t,e,n,i){this.S2(t,this.xv,this.Cb);n=new Ri(n||this.name,this);0==this.Ep?n.data={type:this.Ep,g:this.g,JG:this.tC,TE:qr.Q.q_(t,this.g)}:1==this.Ep?((s=t.g[this.g[0]]).jS.rq<=0?(r=Rr.t(s.jS.LH.Z()),Rr.VW(s.jS.Hq,r,3)):r=t.v.channel,a={rect:s.jS.LH.clone(),channel:r},n.data={type:this.Ep,i:this.g[0],Xa:this.Xa,TB:a,YT:this.YT,Rl:this.Rl,jS:s.jS,JG:this.JG,TE:{Ni:s.jS.LH,lJ:s.jS.Hq}}):2==this.Ep&&(n.data={type:this.Ep,Xa:this.Xa,TB:{rect:t.v.rect.clone(),channel:t.v.channel.slice(0)}}),t.Sy(n);var r=this.ic,a=new Pr(r.x+r.m/2,r.y+r.n/2),s=Rr.N.zw(this.q5.mY(),r),n=Rr.N.gD(s),r=new _r;r.translate(a.x,a.y),r.concat(n),r.translate(-a.x,-a.y);n=r.clone(),s=-Math.atan2(-n.S,n.q4),a=new _r;function o(t,e){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][e],val:t}}}a.rotate(s),n.concat(a);a=Ui.S3("Lyr",!0);this.id==qr.bS&&(a.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}});s={classID:"null",null:a,FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:o(r.E_,0),Vrtc:o(r.Qq,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:o(180*Math.atan(n.yH)/Math.PI,2),Vrtc:o(0,2)}},Wdth:o(100*n.q4,1),Hght:o(100*n.DR,1),Angl:o(180*s/Math.PI,2)};this._a=e,this.track({YY:"transform",l5:s}),this.escape(t,e,i)},qr.Q.prototype.ga=function(t,e){var n;0==this.Ep?qr.Q.kO(t,this.g,this.tC):1==this.Ep?(n=t.g[this.g[0]],t.v=this.Xa,this.Rl?n.RH(t,this.YT):(n.jS.LH=this.JG.Ni,n.jS.Hq=this.JG.lJ,n.J6(t,0,0,t.v)),t.G(),t.RD=!0):2==this.Ep&&(t.v=this.Xa,t.RD=!0),this.escape(t,e,!0)},qr.Q.prototype.escape=function(t,e,n){this.q5.clear(t),this.q5=null,this.q9=null,this.Wk=null,this.Z4=0,n&&this.Hz(e,mr.E.W,{d:mr.J.RE})},qr.Q.prototype.PS=function(t,e){var n;0==t.type?qr.Q.kO(e,t.g,t.TE):(1==t.type&&(n=e.g[t.i],t.Rl?n.jS=t.jS:(n.jS.LH=t.TE.Ni,n.jS.Hq=t.TE.lJ),n.J6(e,0,0,e.v),e.G()),e.v={rect:t.TB.rect.clone(),channel:t.TB.channel.slice(0)},e.RD=!0)},qr.Q.prototype.AP=function(t,e){var n;0==t.type?qr.Q.kO(e,t.g,t.JG):(1==t.type&&(n=e.g[t.i],t.Rl?n.RH(e,t.YT):(n.jS.LH=t.JG.Ni,n.jS.Hq=t.JG.lJ,n.J6(e,0,0,e.v)),e.G()),e.v=t.Xa,e.RD=!0)},qr.Q.prototype.in=function(t,e,n){t.l7();var i=[];if(null==n)for(var r=0;r<t.B0.length;r++)2<t.Y3[t.B0[r]].add.vmsk.Y.length&&i.push(-1-t.B0[r]);var a=[],s=t.s.DF;s[0]+s[1]+s[2]==3&&(null!=n||0==i.length||null!=t.Ae&&0!=t.Ae.length)&&(1!=t.w.length||(s=t.g[t.w[0]]).dH()&&s.Vj&&(a=[t.w[0]]),0==a.length&&(a=t.ZI(e,n,null,!0)));for(a=a.concat(i),r=0;r<t.kx.length;r++)a.push(-1e3-t.kx[r]);this.g=a},qr.Q.prototype.enable=function(t,e,n,i,r,a){null==this.cursor&&(this.cursor="default"),this.Lw(e),this.q5||(this.xv=n,this.in(t,!0),this.Sx(t,a&&null!=a.Zx&&-1!=a.Zx?a.Zx:null),this._i(e),this.nG(t),a&&-1==a.Zx&&this.qx({_u:"switchWarp"},e,t,i))},qr.Q.prototype._i=function(t){var e,n={d:mr.J.QP,b:this.id};0==this.Z4?(e=Rr.N.zw(this.q5.mY(),this.ic),e=Rr.N.gD(e),n.P4={Cq:e,Gj:this.q5.a5h(),bM:this.q5.g0(),Ni:this.ic.clone()}):n.sv=this.q9.XV(),n.a4$=null!=this.q9,this.Hz(t,mr.E.W,n)},qr.Q.prototype.Sx=function(t,e){var n,i=this.id==qr.bS,r=!0,a=this.g[0],s=t.g[a],o=null;if(i)this.Ep=2,this.Xa=t.v;else if(t.v&&1==this.g.length&&0<=a&&!s.rect.mN())this.Ep=1,this.Xa=t.v,this.YT=s.jS,this.Rl=!1,s.Ga(t,t.v)||(this.Rl=!0,s.tk(t,t.v,!1)),this.JG={lJ:s.jS.Hq,Ni:s.jS.LH};else{this.Ep=0,this.tC=qr.Q.q_(t,this.g,null);for(var l=0;l<this.tC.length;l++)null!=this.tC[l][3]&&(r=!1)}a=1==this.Ep;this.tC&&1==this.tC.length&&(null==(f=this.tC[0])[2]||!f[2].UY||(s=f[2].ue.w).length<2&&(n=f[2].UY[0==s.length?0:s[0]].v,Rr.UY.nP(n)),null==f[3]&&(a=!0),null!=f[4]&&(o=t.g[this.g[0]].add.SoLd,(f[1]||f[2])&&(a=!1)));var h,u,f=i?t.v.rect.clone():qr.Q.bZ(t,this.g);this.ic=f,!i&&o?(t=qr.Q.Je(o.nonAffineTransform),this.ic=Rr.H.UP(Rr.oH.Av(o.warp.v)),a&&(this.q9=new Fi(o.warp.v)),this.Tt=Rr.N.zw(t,this.ic),this.q5=new Pi(t,!0,!0,r,!1,!1,e)):((a||i)&&(this.q9=new Fi(Rr.oH.t(this.ic))),this.Tt=[1,0,0,0,1,0,0,0],this.id==qr.VQ&&(e=3),this.q5=new Pi([f.x,f.y,f.x+f.m,f.y,f.x+f.m,f.y+f.n,f.x,f.y+f.n],!0,!0,r,!1,!1,e)),this.abV=[1,0,0,0,1,0,0,0],this.id==qr.VQ&&(this.tC?(h=(u=this.tC[0][0].h8)[0],u=u[1]):this.JG&&(h=this.JG.lJ,u=this.JG.Ni),this.Wk=Rr.Ny.aj9(h,u.m,u.n))},qr.Q.bZ=function(t,e){null==e&&(e=t.ZI(!0,null,null,!0));var n=new Fr,i=new Fr;if(t.v&&1==e.length&&0<=e[0])n=t.v.rect.clone();else for(var r=0;r<e.length;r++){var a=e[r],s=0<=a?t.g[a]:-1e3<a?t.Y3[-1-a]:t.En[-1e3-a],o=s.add?s.add.vmsk:null,o=0<=a?s.w8(t,1==e.length,!1,!0):-1e3<a?Rr.$.b3(o.Y,1==e.length&&0!=o.w.length?o.w:null):s.rect.clone(),n=n.hq(o);0<a&&s.add.artb&&(i=i.hq(s.Gn()))}return i.mN()?n:i},qr.Q.prototype.Hz=function(t,e,n,i){e=new yr(e,!0);e.data=n,i&&(e.b=i),t.c(e)},qr.Q.q_=function(t,e,n){for(var i=[],r=0;r<e.length;r++){var a,s,o=e[r];if(0<=o)s=(a=t.g[o]).Ne(t,n,!0);else{if(!(-1e3<o)){i.push([null,null,null,null,null,null,null,t.En[-1e3-o].clone()]);continue}a=t.Y3[-1-o],s=[2]}var l,h,u=[];-1!=s.indexOf(0)?(l={h8:[a.buffer.slice(0),a.rect.clone()]},u.push(l),a.UG()&&(h=a.ez(t),l.acy=h.buffer.slice(0),l.alw=h.rect.clone())):u.push(null),-1!=s.indexOf(1)?u.push(a.sL().clone()):u.push(null),-1!=s.indexOf(2)?u.push({ue:a.add.vmsk.clone(),XF:a.add.vstk?JSON.parse(JSON.stringify(a.add.vstk)):null,k4:a.add.vstk?qr.iT.Tr(t,o):null,UY:a.add.vogk?JSON.parse(JSON.stringify(a.add.vogk)):null}):u.push(null),a.add.TySh&&u[0]?(ir.vb(a.add.TySh),u.push(a.add.TySh.A.clone())):u.push(null),a.add.SoLd&&u[0]?u.push(JSON.parse(JSON.stringify(a.add.SoLd))):u.push(null),-1!=s.indexOf(3)?u.push(a.ez(t).q.clone()):u.push(null),a.add.lmfx?u.push(JSON.stringify(a.add.lmfx)):u.push(null),i.push(u)}return i},qr.Q.kO=function(t,e,n){for(var i=0;i<e.length;i++){var r,a=e[i],s=0<=a?t.g[a]:-1e3<a?t.Y3[-1-a]:t.En[-1e3-a],o=n[i];o[0]&&(s.rect=o[0].h8[1].clone(),s.buffer=o[0].h8[0].slice(0),s.UG()&&((r=s.ez(t)).buffer=o[0].acy.slice(0),r.rect=o[0].alw.clone())),o[1]&&(s.sL().channel=o[1].channel.slice(0),s.sL().rect=o[1].rect.clone(),s.sL().X$=!0),o[2]&&(s.add.vmsk=o[2].ue.clone(),o[2].k4&&qr.iT.T4(s,o[2].k4),o[2].XF&&(s.add.vstk=JSON.parse(JSON.stringify(o[2].XF))),o[2].UY&&(s.add.vogk=JSON.parse(JSON.stringify(o[2].UY)))),o[3]&&(s.add.TySh.A=o[3].clone(),ir.Sj(s.add.TySh)),o[4]&&(s.add.SoLd=JSON.parse(JSON.stringify(o[4]))),o[5]&&((r=s.ez(t).q).channel=o[5].channel.slice(0),r.rect=o[5].rect.clone()),o[6]&&(s.add.lmfx=JSON.parse(o[6])),o[7]&&(s.channel=o[7].channel.slice(0),s.rect=o[7].rect.clone(),s.X$=!0),0<=a&&(s.fF(t),s.G())}t.G()},qr.Q.eZ=function(t){var e=t.clone(),n=Math.atan2(-e.S,e.q4),t=new _r;return t.rotate(-n),e.concat(t),(Math.abs(e.q4)+Math.abs(e.DR))/2},qr.Q.yN=function(t,e,n,i,r,a,s,o,l,h){if("number"==typeof a[0]){for(var u=[],f=0;f<n.length;f++)u[f]=a;a=u}for(f=0;f<n.length;f++){var c,p,d,v,g,y,m,w,b,M,S,C,x=a[f],L=Rr.N.gD(x),D=qr.Q.eZ(L),k=n[f],T=0<=k?t.g[k]:-1e3<k?t.Y3[-1-k]:t.En[-1e3-k],A=i[f];T.add.lmfx&&o&&Xi.oI(T.add.lmfx,D),!A[0]||A[3]||A[4]||A[5]||(v=A[0].h8,l&&(c=l.clone(),g=Rr.t(4*c.Z()),Rr.Ik(v[0],v[1],g,c),v=[g,c]),(y=qr.Q.vS(v,r,x,s,0==r?T.buffer.buffer:null,null,null,h))&&(T.rect=y.rect,T.buffer=y.buffer)),A[1]&&(m=T.sL(),qr.Q.$A(t,A[1],m,r,x,s),l&&(c=T.rect.BS(l),b=Rr.t(c.Z()),Rr.rR(m.channel,m.rect,b,c),m.channel=b,m.rect=c)),A[2]&&(p=s&&!Rr.oH.pz(s),d=A[2].ue.clone(),g=1==n.length&&0!=d.w.length,y=(g=(v=1==n.length&&1<d.nZ.length)?!1:g)?d.w:null,m=v?d.nZ:null,p?(g=Rr.oH.Av(s),Rr.N.A(x,g),Rr.$.ab$(d.Y,g,y,m)):Rr.$.ai$(d.Y,x,y,m),T.add.vstk&&o&&(T.add.vstk.strokeStyleLineWidth.v.val=A[2].XF.strokeStyleLineWidth.v.val*D,(y=A[2].k4)&&3==y.SB&&(m=(y=JSON.parse(JSON.stringify(y))).k4.phase.v,y.k4.Scl.v.val=Math.round(y.k4.Scl.v.val*D),m.Hrzn.v=Math.round(m.Hrzn.v*D),m.Vrtc.v=Math.round(m.Vrtc.v*D),qr.iT.T4(T,y))),T.add.vogk&&(T.add.vogk=JSON.parse(JSON.stringify(A[2].UY)),p||v?Rr.UY.aqF(T.add.vogk):Rr.UY.A(T.add.vogk,x,1<n.length?[]:d.w,o)),d.Df*=D,T.add.vmsk=d,T.add.vogk&&Rr.UY.pR(T.add.vogk,T.add.vmsk)),A[3]&&((M=A[3].clone()).concat(L),T.add.TySh.A=M,ir.Sj(T.add.TySh),w=new nr(T.add.TySh.nx,e.PG),M=er.xm(w,T.add.TySh),T.rect=M.Ni,T.buffer=M.L0),A[4]&&(w=T.add.SoLd,M=qr.Q.Je(A[4].nonAffineTransform),Rr.N.A(x,M),Rr.H.ws(M),Pi.J$(M)&&(s&&(S=Rr.H.UP(Rr.oH.Av(A[4].warp.v)),b=Rr.N.zw(M,S),M=[(C=Rr.H.UP(Rr.oH.Av(s))).x,C.y,C.x+C.m,C.y,C.x+C.m,C.y+C.n,C.x,C.y+C.n],Rr.N.A(b,M),w.warp.v=s),S=Rr.N.zw(M),C=M,Rr.N.p0(S)||(S[6]=S[7]=0,Rr.N.A(S,C=[0,0,1,0,1,1,0,1])),w.Trnf=qr.Q.mk(C),w.nonAffineTransform=qr.Q.mk(M),w.filterFX&&(w.filterFX=JSON.parse(JSON.stringify(A[4].filterFX))),qr.Q.fo(w,L),T.jM(t,0==r))),A[5]&&qr.Q.$A(t,A[5],T.ez(t).q,r,x,s),A[7]&&qr.Q.$A(t,A[7],T,r,x,s),0<=k&&(0!=r&&T.Er(),T.fF(t),T.G())}t.G()},qr.Q.xX=function(t,e,n,i,r,a){return qr.Q.vS(t,(n=null==n?!1:n)?0:1,Rr.N.V$(e),null,i,r,a,n)},qr.Q.vS=function(t,e,n,i,r,a,s,o){if((o=null==o?!1:o)&&s)throw"e";var l={},h=0,u=.3;if(i&&!Rr.oH.pz(i)){var f=Rr.oH.Av(i);return Rr.N.A(n,f),l.rect=Rr.H.ws(f),l.buffer=Rr.t(4*l.rect.Z()),Rr.Cs.drawImage(f,t[0],t[1].m,t[1].n,l.buffer,l.rect,0==e),l}Rr.bb(t);var c=t[0],p=t[1],i=p.Z()*qr.Q.eZ(Rr.N.gD(n));for(o&&4e6<i&&(u=8e6<i?2.2:1.2);h+3<t.length&&16<t[h+3].Z()&&Rr.N.p0(n)&&qr.Q.eZ(Rr.N.gD(n))<u;){var d=t[h+=2],v=t[h+1],g=p.m/v.m,y=p.n/v.n;n=Rr.N.bR(n,[1,0,p.x,0,1,p.y,0,0]),n=Rr.N.bR(n,[g,0,0,0,y,0,0,0]),n=Rr.N.bR(n,[1,0,-p.x,0,1,-p.y,0,0]),p=v,c=d}f=Rr.N.bR(n,Rr.N.V$(new _r(p.m,0,0,p.n,p.x,p.y))),i=[0,0,1,0,1,1,0,1];if(Rr.N.A(f,i),l.rect=Rr.H.ws(i),s&&(l.rect=l.rect.BS(s)),o){for(;0!=(3&l.rect.m);)l.rect.m++;for(;0!=(3&l.rect.n);)l.rect.n++}if(!Pi.J$(i)||1e5<l.rect.m||1e5<l.rect.n||9e8<l.rect.Z())return null;i=4*l.rect.Z();return r&&r.byteLength>=i&&i>=r.byteLength>>2?l.buffer=new Uint8Array(r):l.buffer=Rr.t(i),Rr.N.drawImage(f,c,p.m,p.n,l.buffer,l.rect,0==e,a,o),2==e&&l.buffer&&(f=l.rect.m,a=l.rect.n,o=Rr.dh.EP(o=[0,-1,0,-1,16,-1,0,-1,0]),e=l.buffer.slice(0),Rr.dh.ah(e,l.buffer,f,a,o,255,!1,!0)),l.buffer?l:void 0},qr.Q.$A=function(t,e,n,i,r,a){255==e.color&&Rr.tU(e.channel);var s=e.rect,o=Rr.t(4*s.Z());Rr.al(e.channel,o,3);a=qr.Q.vS([o,s],i,r,a);a&&(n.rect=a.rect,n.channel=Rr.t(a.rect.Z()),Rr.VW(a.buffer,n.channel,3),n.X$=!0),255==e.color&&(Rr.tU(e.channel),a&&Rr.tU(n.channel))},qr.Q.fo=function(t,e){var n=t.filterFX;if(n=(n=n&&n.v.filterFXList)&&n.v)for(var i=0;i<n.length;i++){var r=n[i].v.Fltr;if(null!=r&&"rigidTransform"==r.v.classID){r=r.v,console.log(r);for(var a=[],s=0;s<4;s++)a.push(r["PuX"+s].v,r["PuY"+s].v);Rr.H.A(a,e,a);for(s=0;s<4;s++)r["PuX"+s].v=a[2*s],r["PuY"+s].v=a[2*s+1];for(var o=["PinP","posFinalPins"],l=["originalVertexArray","deformedVertexArray"],h=r.puppetShapeList.v,u=0;u<h.length;u++)for(var f=h[u].v,c=0;c<o.length;c++){var p=qr.Q.Je(f[o[c]]);Rr.H.A(p,e,p),f[o[c]]=qr.Q.mk(p);var d=new Uint8Array(f[l[c]].v),p=new Float32Array(d.buffer);Rr.H.A(p,e,p);for(var v=[],g=0;g<d.length;g++)v[g]=d[g];f[l[c]].v=v}}}},qr.Q.Je=function(t){for(var e=[],n=t.v.length,i=0;i<n;i++)e.push(t.v[i].v);return e},qr.Q.mk=function(t){for(var e={t:"VlLs",v:[]},n=t.length,i=0;i<n;i++)e.v.push({t:"doub",v:t[i]});return e},qr.Q.prototype.ag0=function(){var t=Rr.H.UP(Rr.oH.Av(this.q9.XV())),e=Rr.N.zw(this.q5.mY(),this.ic),n=[t.x,t.y,t.x+t.m,t.y,t.x+t.m,t.y+t.n,t.x,t.y+t.n];Rr.N.A(e,n),this.q5.tI(n),this.ic=t},qr.Q.prototype.S2=function(t,e,n,i){var r,a,s,o,l,h,u,f,c,p=Rr.N.zw(this.q5.mY(),this.ic),p=Rr.N.bR(p,Rr.N.tU(this.Tt)),d=this.q9?this.q9.XV():null;0==this.Ep?(s=this.I5=Rr.N.gD(p),this.id==qr.VQ?(o=~~((a=this.tC[0][0].h8[1]).m*Math.max(0,s.q4)),l=~~(a.n*Math.max(0,s.DR)),h=new Fr(Math.round(s.q4*a.x+s.E_),Math.round(s.DR*a.y+s.Qq),o,l),u=Rr.Ny.A(this.Wk,h),(r=t.g[this.g[0]]).buffer=u,r.rect=h,r.G(),t.G()):qr.Q.yN(t,e,this.g,this.tC,n,p,d,null,null,i)):1==this.Ep?(r=t.g[this.g[0]],a=this.JG.Ni,r.rq<=0?(e=this.JG.lJ,i=this.Xa,c=null,!d||Rr.oH.pz(d)||i.rect.iy(a)||(u=Rr.t(4*i.rect.Z()),Rr.Ik(e,a,u,i.rect),e=u,a=i.rect),(c=this.id==qr.VQ?(s=this.I5=Rr.N.gD(p),o=~~(a.m*Math.max(0,s.q4)),l=~~(a.n*Math.max(0,s.DR)),h=new Fr(Math.round(s.q4*a.x+s.E_),Math.round(s.DR*a.y+s.Qq),o,l),{buffer:u=Rr.Ny.A(this.Wk,h),rect:h}):qr.Q.vS([e,a],n,p,d))&&(r.jS.Hq=c.buffer,r.jS.LH=c.rect,f=Rr.t(c.rect.Z()),Rr.VW(r.jS.Hq,f,3),t.v={channel:f,rect:r.jS.LH.clone()})):(f=Rr.t(4*a.Z()),Rr.al(this.JG.lJ,f,3),(c=qr.Q.vS([f,a],n,p,d))&&(r.jS.Hq=Rr.t(c.rect.Z()),Rr.VW(c.buffer,r.jS.Hq,3),r.jS.LH=c.rect),this.Dx(t,n,p,d)),r.J6(t,0,0,t.v),0!=n&&(r.Er(),Rr.Er(t.v)),t.RD=!0,t.G()):2==this.Ep&&this.Dx(t,n,p,d)},qr.Q.prototype.Dx=function(t,e,n,i){var r=this.Xa.rect,a=Rr.t(4*r.Z());Rr.al(this.Xa.channel,a,3);n=qr.Q.vS([a,r],e,n,i),i=Rr.t(n.rect.Z());Rr.VW(n.buffer,i,3),t.v={channel:i,rect:n.rect},t.RD=!0},qr.Q.prototype.disable=function(t,e,n,i){this.q5&&this.n9(t,e,null,!0)},qr.nI=function(){qr.Q.call(this,[10,16],qr.gc,"tools/transform")},qr.nI.prototype=new qr.Q,qr.ji=function(){qr.Q.call(this,[7,10],qr.bS,"tools/transform")},qr.ji.prototype=new qr.Q,qr.xQ=function(){qr.Q.call(this,[10,48],qr.VQ,"tools/transform")},qr.xQ.prototype=new qr.Q,qr.Tw=function(t,e,n){qr.wE.call(this,[10,46],qr.Du,"tools/transform"),this.Wb=[1,1,2,!0],this.Fa="rigidTransform",this.Aa=null,this.auM=null,this.h4=null,this.Sr=null,this.Ie=null,this.lW=null,this.W1=[]},qr.Tw.prototype=new qr.wE,qr.Tw.prototype.L$=function(){return!0},qr.Tw.CI=function(t){return null!=t&&(1==t.w.length&&(t.g[t.w[0]].add.SoLd||t._W(!1)))},qr.Tw.prototype.hH=function(t,e){return qr.Tw.CI(t)},qr.Tw.prototype.enable=function(t,e,n,i,r,a,s){this.auM=a.jy;var o,l=a.jy,h=null;l&&(null==(d=t.g[l.i]).add.SoLd.filterFX||(f=d.add.SoLd.filterFX.v.filterFXList.v)[l.index]&&(o=JSON.parse(JSON.stringify(f[l.index].v.Fltr.v))));var u=null==o,a=(d=t.g[t.w[0]]).buffer,f=d.rect,l=d.add.SoLd;if(l){for(var c=l.nonAffineTransform.v,h=[],p=0;p<4;p++)h.push(c[2*p].v,c[2*p+1].v);u&&this.X5("edit",e);var d=d.ez(t),a=d.buffer,f=d.rect}this.Aa={buffer:a.slice(0),rect:f.clone(),a8P:h},u&&(o=qr.Tw.B9(this.Aa,this.Wb)),this.h4=o,this.Sr=qr.Tw.iS(this.h4,this.Wb),this.Zm(),this.j7(t),u&&this.yE(e);u=new yr(mr.E.W,!0);u.data={d:mr.J.QP,b:this.id,jm:this.Wb},e.c(u),u.data={d:mr.J.tW,Ek:"default"},e.c(u)},qr.Tw.prototype.disable=function(t,e,n,i){this.Sr&&this.n9(t,e,!0)},qr.Tw.prototype.Zm=function(t){var e=this.Sr;this.W1=[];for(var n=0;n<e.length;n++){for(var i=e[n],r=0;r<i.w.length;r++)this.W1.push([n,i.w[n]]);i.JM=Rr.Zg.pf(i),t&&Rr.Zg.mM(i)}},qr.Tw.prototype.qx=function(t,e,n,i){if("commit"==t._u)this.n9(n,e,!0);else if("cancel"==t._u)this.ga(n,e,!0);else if("prm"==t._u){for(var r=!1,a=0;a<3;a++)this.Wb[a]!=t.jm[a]&&(r=!0);this.Wb=t.jm,r&&(this.h4=qr.Tw.B9(this.Aa,this.Wb,this.h4),this.Sr=qr.Tw.iS(this.h4,this.Wb),this.Zm(!0),this.yE(e)),this.j7(n)}else if("moveDepth"==t._u){for(var s=this.Sr,o=0;o<s.length;o++)for(var l=s[o],a=0;a<l.w.length;a++){var h=l.w[a];l.L_[h]+=t.adm?1:-1}this.yE(e)}},qr.Tw.prototype.XC=function(t,e){return t==ii.K1||t==ii.kn},qr.Tw.prototype.XL=function(t,e,n,i){var r=i.WJ();if(i.j(ii.C_))this.n9(t,e,!0);else if(i.j(ii.Yh))this.ga(t,e,!0);else if(i.j(ii.K1)||i.j(ii.kn)){for(var a=this.Sr,s=0;s<a.length;s++){var o=a[s];o.w.sort(function(t,e){return e-t});for(var l=0;l<o.w.length;l++){var h=o.w[l],u=2*h;o.L_.splice(h,1),o.qT.splice(h,1),o.mg.splice(h,1),o.g9.splice(h,1),o.lD.splice(u,2),o.dz.splice(u,2)}o.w=[],0==o.g9.length&&(o._j=o.AO.slice(0),o.vh=o.AO.slice(0))}this.Zm(!0),this.yE(e),this.j7(t)}else 0==r.x&&0==r.y||(this.aq(t,r.x,r.y,e),this.eh=null)},qr.Tw.prototype.n9=function(t,e,n){this.X5("confirm",e),this.escape(t,e,n)},qr.Tw.prototype.ga=function(t,e,n){this.X5("cancel",e),this.escape(t,e,n)},qr.Tw.prototype.escape=function(t,e,n){t.D.h7=null,t.D.SF=[],t.Lj=!0,this.Sr=null;t=new yr(mr.E.W,!0);t.data={d:mr.J.RE},n&&e.c(t)},qr.Tw.prototype.CK=function(t,e,n,i,r){for(var a=t.s.Qi(r.x,r.y),s=a.x,o=a.y,l=this.Sr,h=null,u=-1,f=qr.$s(t,r),c=0;c<l.length;c++){var p=l[c],d=Rr.H.KL(p.dz,s,o,f);-1!=d&&(h=[c,d]),-1==u&&Rr.Zg.ow.ade(p.vh,p.EJ,s,o)&&(u=c)}null==h&&-1!=u&&(p=l[u],qr.Tw.PW(p,s,o,s,o,0),h=[u,p.g9.length-1],p.JM=Rr.Zg.pf(p)),this.Ie=a,h&&(a=-1!=l[h[0]].w.indexOf(h[1]),i.j(ii.Ml)&&!a?(l[h[0]].w.push(h[1]),this.W1.push(h)):a||(l[h[0]].w=[h[1]],this.W1=[h])),this.j7(t)},qr.Tw.PW=function(t,e,n,i,r,a){var s=Rr.H.KL(t.vh,e,n);t.g9.push(s),t.dz.push(i,r),t.lD.push(t.vh[2*s]-e,t.vh[2*s+1]-n),t.mg.push(0),t.qT.push(!1),t.L_.push(a)},qr.Tw.prototype.wl=function(t,e,n,i,r){var a=t.s.Qi(r.x,r.y),r=this.Ie;r&&this.aq(t,a.x-r.x,a.y-r.y,e)},qr.Tw.prototype.aq=function(t,e,n,i){var r={},a=this.W1,s=this.Sr;if(null==this.eh){this.eh=[];for(var o=0;o<s.length;o++)this.eh.push(s[o].dz.slice(0))}for(o=0;o<a.length;o++){var l=this.W1[o],h=l[0],u=s[l[0]],l=2*l[1];u.dz[0+l]=this.eh[h][0+l]+e,u.dz[1+l]=this.eh[h][1+l]+n,r[h]=h}for(h in r)Rr.Zg.mM(this.Sr[r[h]]);this.j7(t),this.yE(i)},qr.Tw.prototype.X5=function(t,e){var n=new yr(mr.E.u,!0);n.b=qr.Hu,n.data={d:t,jy:this.auM,Fa:this.Fa,JL:this.h4},e.c(n)},qr.Tw.prototype.f9=function(t,e,n,i,r){this.Ie=null,this.eh=null},qr.Tw.prototype.yE=function(t){qr.Tw.Si(this.Sr,this.Wb,this.h4),this.X5("edit",t)},qr.Tw.prototype.j7=function(t){var e=this.Sr;this.h4;t.D.h7={U:[],C:[]},t.D.SF=[],t.D.x2=[];for(var n=0;n<e.length;n++){for(var i=e[n],r=0;r<i.w.length;r++)t.D.x2.push((t.D.SF.length>>>1)+i.w[r]);t.D.SF=t.D.SF.concat(i.dz),this.Wb[3]&&Rr.H.concat(t.D.h7,Rr.H.apy(i.vh,i.EJ))}t.Lj=!0},qr.Tw.B9=function(t,e,n){var i=t.buffer,r=t.rect,a=t.a8P,s=Gr.PD("rigidTransform");if(a)for(var o=0;o<4;o++)s["PuX"+o].v=a[2*o],s["PuY"+o].v=a[2*o+1];for(var l=s.puppetShapeList.v,h=Rr.Zg.ae2(i,r.m,r.n,e[1],e[2]),u=[],f=0;f<h.length;f++){var c={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]},meshBoundaryPath:{t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}}},p=h[f];l.push({t:"Objc",v:c});c=p.AO.slice(0);Rr.H.A(c,new _r(1,0,0,1,r.x,r.y),c);for(var d=p.EJ,o=0;o<d.length;o+=3){var v=d[o+1];d[o+1]=d[o+2],d[o+2]=v}u.push({EJ:d,AO:c,_j:c,vh:c,g9:[],lD:[],dz:[],JM:null,w:[],mg:[],qT:[],L_:[]})}if(n)for(var g=qr.Tw.iS(n,[]),y=u[0],o=0;o<g.length;o++){for(var m=g[o],w=0;w<m.w.length;w++)y.w.push((y.dz.length>>>1)+m.w[w]);for(w=0;w<m.g9.length;w++){var b=2*m.g9[w],M=m.AO[b]-m.lD[2*w],b=m.AO[1+b]-m.lD[2*w+1];qr.Tw.PW(y,M,b,m.dz[2*w],m.dz[2*w+1],m.L_[w])}}return qr.Tw.Si(u,e,s),s},qr.Tw.iS=function(t,e){for(var n=qr.Q.Je,i=t.puppetShapeList.v,r=[],a=0;a<i.length;a++){var s=i[a].v;e[0]=s.meshRigidity.v-1,e[1]=s.meshQuality.v-1,e[2]=s.meshExpansion.v;s.pinVertexIndices.v.length;var o=s.meshBoundaryPath.v.pathComponents.v;0!=o.length&&(o[0].v.SbpL.v[0].v.Pts.v=[]);for(var l=new Uint32Array(new Uint8Array(s.indexArray.v).buffer),h=new Float32Array(new Uint8Array(s.originalVertexArray.v).buffer),u=new Float32Array(new Uint8Array(s.deformedVertexArray.v).buffer),f=[],c=[],p=[],d=0;d<l.length;d++)f.push(l[d]);for(d=0;d<h.length;d++)c.push(h[d]),p.push(u[d]);var v=n(s.pinVertexIndices),g=n(s.pinOffsets),y=n(s.posFinalPins),m=n(s.PnRt),w=n(s.PnOv),o=n(s.PnDp),s=n(s.selectedPin);r.push({EJ:f,AO:c,_j:p.slice(0),vh:p,g9:v,lD:g,dz:y,JM:null,mg:m,qT:w,L_:o,w:s})}return r},qr.Tw.Si=function(t,e,n){function i(t,e){for(var n=[],i=0;i<t.length;i++)n.push({t:e,v:t[i]});return n}function r(t,e,n){for(var t=new(n?Uint32Array:Float32Array)(t),i=new Uint8Array(t.buffer),r=0;r<i.length;r++)e[r]=i[r]}for(var a=n.puppetShapeList.v,s=0;s<a.length;s++){var o=t[s],l=a[s].v;l.meshRigidity.v=e[0]+1,l.meshQuality.v=e[1]+1,l.meshExpansion.v=e[2],r(o.EJ,l.indexArray.v,!0),r(o.AO,l.originalVertexArray.v),r(o.vh,l.deformedVertexArray.v);for(var h=[],u=0;u<o.g9.length;u++){var f=2*o.g9[u],c=2*u;h[c]=o.AO[f]-o.lD[c],h[1+c]=o.AO[1+f]-o.lD[1+c]}l.PinP.v=i(h,"doub"),l.pinVertexIndices.v=i(o.g9,"long"),l.pinOffsets.v=i(o.lD,"doub"),l.posFinalPins.v=i(o.dz,"doub"),l.PnRt.v=i(o.mg,"long"),l.PnOv.v=i(o.qT,"bool"),l.PnDp.v=i(o.L_,"doub"),l.selectedPin.v=i(o.w,"long")}},qr.C0=function(t,e,n){qr.wE.call(this,t||[10,40],e||qr.bp,n||"tools/slice"),this.cb=null,this._a=null,this.YF=null,this.a71=null,this.Qj=null,this.mv=null},qr.C0.prototype=new qr.wE,qr.C0.LP=function(t,e){for(var n=-1,i=0;i<t.length;i++){var r=qr.C0.r7(t,i);if(r[0]<=e.x&&e.x<=r[2]&&r[1]<=e.y&&e.y<=r[3]){n=i;break}}return n},qr.C0.prototype.gT=function(t,e,n,i,r){if(null!=n){if(this.Xl(n),"fromAction"==t.d){for(var a=n.pt(),s=n.ak(),o=-1==s?new Fr(0,0,n.m,n.n):n.g[s].Gn(),l=[o.x,o.x+o.m],h=[o.y,o.y+o.n],u=0;u<a[0].length;u++){var f=a[0][u],c=Math.round(f[1]),p=a[1][u];-1!=p&&p!=s||(0==f[0]&&-1==l.indexOf(c)&&l.push(c),1==f[0]&&-1==h.indexOf(c)&&h.push(c))}l.sort(function(t,e){return t-e}),h.sort(function(t,e){return t-e});for(var d=1;d<h.length;d++)for(var v=1;v<l.length;v++)n.EQ.push(qr.C0._r()),qr.C0.vC(n.EQ,n.EQ.length-1,[l[v-1],h[d-1],l[v],h[d]]),n.Lj=!0}else if("reorder"==t.d){if(0==n.jU.length)return;var g=n.EQ,y=n.jU;y.sort(function(t,e){return t-e}),console.log(y);for(var m=g.slice(0),w=[],b=[],u=0;u<y.length;u++){var M=g[y[u]];b.push(M),m.splice(m.indexOf(M),1)}for(var S=Math.max(0,Math.min(m.length,y[0]-t.dir)),u=0;u<b.length;u++)m.splice(S+u,0,b[u]),w.push(S+u);n.EQ=m,n.jU=w}else if("delete"==t.d){for(g=n.EQ.slice(0),u=0;u<n.jU.length;u++)n.EQ.splice(n.EQ.indexOf(g[n.jU[u]]),1);n.jU=[]}else"deleteAll"==t.d?(n.EQ=[],n.jU=[]):(n.EQ[n.jU[0]].v=t,n.Lj=!0);this.bx(n)}},qr.C0.prototype.enable=function(t,e,n,i,r,a){qr.wE.prototype.enable.call(this,t,e,n,i,r,a),n.jv.EQ||((n=new yr(mr.E.W,!0)).data={d:mr.J.ot,jm:Bi.Zf},e.c(n))},qr.C0.prototype.disable=function(){this.cb=null,this._a=null},qr.C0.prototype.Yp=function(t,e,n,i,r){var a=t.s.Qi(r.x,r.y),a=qr.C0.LP(t.EQ,a);-1!=a&&(this.cb=t,this._a=e,t.jU=[a],t.Lj=!0,null==this.mv&&(this.mv=new xr([{name:[5,4]},{name:[8,11,1],ZN:!0}]),this.mv.h("select",this.aK,this)),(a=this.mv).parent=e,a.T(),a.update(t,n),(n=new yr(mr.E.W,!0)).data={d:mr.J.u9,IZ:a,x:r.TR+2,y:r.KY+1},e.c(n))},qr.C0.prototype.aK=function(t){var e=this.mv.$T()[0],n=this.cb;0==e&&(this.Xl(n),n.EQ.splice(n.jU[0],1),n.jU=[],n.Lj=!0,this.bx(n)),1==e&&((e=new yr(mr.E.W,!0)).data={d:mr.J.go,RB:"soptions",k:n.EQ[n.jU[0]].v},this._a.c(e))},qr.C0.prototype.CK=function(t,e,n,i,r){null!=t&&(this.Xl(t),r=t.s.Qi(r.x,r.y),(r=qr.DD.ET(t,r,n,[!0,null,!1])).x=Math.round(r.x),r.y=Math.round(r.y),this.Qj=r,t.EQ.unshift(qr.C0._r()),t.jU=[0],qr.C0.vC(t.EQ,0,[r.x,r.y,r.x+20,r.y+20]),t.Lj=!0)},qr.C0.prototype.wl=function(t,e,n,i,r){var a;null!=this.YF&&(a=t.s.Qi(r.x,r.y),r=this.Qj,(a=qr.DD.ET(t,a,n,[!0,null,!1])).x=Math.round(a.x),a.y=Math.round(a.y),a=[r.x,r.y,a.x,a.y],qr.C0.Lc(a),qr.C0.vC(t.EQ,0,a),t.Lj=!0)},qr.C0.prototype.f9=function(t,e,n,i,r){this.bx(t),this.Qj=null},qr.C0.prototype.Xl=function(t){this.YF=JSON.stringify(t.EQ),this.a71=JSON.stringify(t.jU)},qr.C0.prototype.bx=function(t){var e,n=JSON.stringify(t.EQ);n!=this.YF&&((e=new Ri(this.name,this)).data={JG:this.YF,TE:n,asm:this.a71,agQ:JSON.stringify(t.jU)},t.Sy(e)),this.YF=null},qr.C0.prototype.AP=function(t,e){e.EQ=JSON.parse(t.JG),e.jU=JSON.parse(t.asm),e.Lj=!0},qr.C0.prototype.PS=function(t,e){e.EQ=JSON.parse(t.TE),e.jU=JSON.parse(t.agQ),e.Lj=!0},qr.C0.prototype.XC=function(t,e){return null!=e&&0!=e.jU.length&&(t==ii.K1||t==ii.kn)},qr.C0.prototype.XL=function(t,e,n,i){null!=t&&((i.j(ii.K1)||i.j(ii.kn))&&this.gT({d:"delete"},e,t,i,n),0==(i=i.WJ()).x&&0==i.y||(this.Xl(t),qr.C0.Ry(t,i),this.bx(t)))},qr.C0.prototype.qx=function(t,e,n,i,r){},qr.C0.atC=function(t,e,n,i){for(var r=new Pr(-e.x,-e.y),a=e.m/n.m,s=e.n/n.n,o=[0,0,e.m,e.n],l=0;l<t.length;l++){var h=qr.C0.r7(t,l);i?(h[0]=Math.round(h[0]*a),h[1]=Math.round(h[1]*s),h[2]=Math.round(h[2]*a),h[3]=Math.round(h[3]*s)):(qr.C0.ZT(h,r),qr.C0.aqE(h,o)),h[0]>=h[2]||h[1]>=h[3]?(t.splice(l,1),l--):qr.C0.vC(t,l,h)}},qr.C0.Ry=function(t,e){for(var n=t.EQ,i=0;i<t.jU.length;i++){var r=qr.C0.r7(n,t.jU[i]);qr.C0.ZT(r,e),qr.C0.vC(n,t.jU[i],r)}},qr.C0.aqE=function(t,e){t[0]<e[0]&&(t[0]=e[0]),t[1]<e[1]&&(t[1]=e[1]),e[2]<t[2]&&(t[2]=e[2]),e[3]<t[3]&&(t[3]=e[3])},qr.C0.ZT=function(t,e){t[0]=Math.round(t[0]+e.x),t[2]=Math.round(t[2]+e.x),t[1]=Math.round(t[1]+e.y),t[3]=Math.round(t[3]+e.y)},qr.C0.vC=function(t,e,n){e=t[e].v.bounds.v;e.Left.v=n[0],e.Top.v=n[1],e.Rght.v=n[2],e.Btom.v=n[3]},qr.C0.r7=function(t,e){t=t[e].v.bounds.v;return[t.Left.v,t.Top.v,t.Rght.v,t.Btom.v,e]},qr.C0.Lc=function(t){var e;t[2]<t[0]&&(e=t[0],t[0]=t[2],t[2]=e),t[2]==t[0]&&t[2]++,t[3]<t[1]&&(e=t[1],t[1]=t[3],t[3]=e),t[3]==t[1]&&t[3]++},qr.C0.UP=function(t,e){for(var n=1e9,i=-1e9,r=1e9,a=-1e9,s=0;s<e.length;s++)var o=qr.C0.r7(t,e[s]),n=Math.min(n,o[0]),r=Math.min(r,o[1]),i=Math.max(i,o[2]),a=Math.max(a,o[3]);return[n,r,i,a]},qr.C0._r=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}},qr.il=function(){qr.C0.call(this,[10,41],qr.qi,"tools/sselect"),this.Qj=null,this.kl=null,this.Hb=null,this.lW=null,this.Q2=!1},qr.il.prototype=new qr.C0,qr.il.prototype.CK=function(t,e,n,i,r){if(null!=t){var a=t.s.Qi(r.x,r.y),r=qr.il.oX(a,4/t.s.V,t.EQ,t.jU);if(r.pop(),0!=r.length)return this.Qj=a,this.Hb=r,void this.Xl(t);var s=t.EQ;if(-1==(f=qr.C0.LP(s,a)))t.jU=[];else{r=t.jU.indexOf(f);if(i.j(ii.Ml))-1==r?t.jU.push(f):t.jU.splice(r,1);else{t.jU.sort(function(t,e){return t-e}),-1==r&&(t.jU=[f]),this.Qj=a,this.Xl(t),this.kl=qr.C0.UP(s,t.jU),this.lW=[];for(var o=0;o<t.jU.length;o++)this.lW.push(qr.C0.r7(s,t.jU[o]));if(i.j(ii.e$)){for(var l=s.slice(0),h=t.jU,u=[],o=0;o<h.length;o++){var f,c=l[f=h[o]],p=s.indexOf(c);u.push(p),s.splice(p,0,JSON.parse(JSON.stringify(c)))}t.jU=u}}}t.Lj=!0}},qr.il.prototype.wl=function(t,e,n,i,r){var a=t.s.Qi(r.x,r.y);if(null==this.Qj){var s=(o=qr.il.oX(a,4/t.s.V,t.EQ,t.jU)).pop(),r=0==o.length?"default":["ew","nwse","ns","nesw"][s]+"-resize",s=new yr(mr.E.W,!0);return s.data={d:mr.J.tW,Ek:r},void e.c(s)}if(this.Q2||!a.iy(this.Qj)){this.Q2=!0;var o,l=t.EQ;if(o=this.Hb)for(var a=qr.DD.ET(t,a,n,[!0,null,!1]),h=Math.round(a.x),u=Math.round(a.y),f=0;f<o.length;f+=2){var c=qr.C0.r7(l,o[f]),p=o[f+1];c[p]=0==(1&p)?h:u,qr.C0.Lc(c),qr.C0.vC(l,o[f],c)}else{s=a.Pf(this.Qj),a=this.kl.slice(0);qr.C0.ZT(a,s);a=new Fr(a[0],a[1],a[2]-a[0],a[3]-a[1]),n=qr.DD.Mr(t,a,n,[!0,null,!1],!0);qr.DD.d_(t,a,n),s.x+=n[0],s.y+=n[1];for(f=0;f<t.jU.length;f++)qr.C0.vC(l,t.jU[f],this.lW[f]);qr.C0.Ry(t,s)}t.Lj=!0}},qr.il.prototype.f9=function(t,e,n,i,r){null!=this.Qj&&(this.bx(t),t.D.LA=null,t.Lj=!0,this.Qj=null,this.Hb=null,this.lW=null,this.Q2=!1)},qr.il.oX=function(t,e,n,i){for(var r=t.x,a=t.y,s=[],o=-1,l=[],h=0;h<i.length;h++){var u=i[h],f=(M=qr.C0.r7(n,u))[0],c=M[1],p=M[2],d=M[3];if(!(r<f-e||p+e<r||a<c-e||d+e<a)){for(var v=[r<f+e,a<c+e,p-e<r,d-e<a],g=-1,y=0;y<4;y++)v[y]&&v[y+1&3]&&(g=1+2*(1&y)),v[y]&&s.push(u,y);-1==g&&((v[0]||v[2])&&(g=0),(v[1]||v[3])&&(g=2)),-1!=g&&(o=g,l.push(u))}}for(var m=s.length,h=0;h<m;h+=2)for(var u=s[h],w=s[h+1],b=qr.C0.r7(n,u)[w],y=0;y<i.length;y++){var M,S=i[y];-1==l.indexOf(S)&&((M=qr.C0.r7(n,S))[1&w]==b&&s.push(S,1&w),M[2+(1&w)]==b&&s.push(S,2+(1&w)))}return s.push(o),s},qr.Jd=function(){qr.$S.call(this,[10,44],qr.aaW,"tools/oselect"),this.nD="crosshair",this.a1z=0},qr.Jd.prototype=new qr.$S,qr.Jd.prototype.Wv=function(t,e,n,i){Math.random()<1/(1+this.a1z)&&(alert("The cross should be fully inside the object.",3500),this.a1z++)},qr.Jd.prototype.Ij=function(t,e,n,i){var r,a,s,o,l;qr.UI.rm(t,qr.$S.dy,this._a),i.nK&&this.op&&(r=(l=this.bZ(t,n,!1)).m,a=l.n,s=l.x,o=l.y,i=l.x+r,n=l.y+a,l=qr.Jd.ux,t.D.h7={U:[s,o,i,o,i,n,s,n,(s=s+r/2)-r*l,o=o+a/2,s+r*l,o,s,o-a*l,s,o+a*l],C:"M L L L Z M L M L".split(" ")},t.Lj=!0)},qr.Jd.ux=.12,qr.Jd.prototype.KE=function(t,e,n,i){t.D.h7=null,t.Lj=!0,this.finish(t,e,n,i)},qr.Jd.prototype.getSelection=function(t,e,n,i){if(this.a9.iy(this.t9)||!this.op)return null;n=this.bZ(t,n,!1),t=t.g[t.w[0]];return n.mN()||!n.$B(t.rect)?null:qr.$S.K6("ObSl",n)},qr.UI=function(){qr.Hp.call(this,[10,37],qr.TQ,"tools/qselect"),this.ME="qselect"},qr.UI.prototype=new qr.Hp,qr.UI.prototype.CK=function(t,e,n,i,r){this.y_(t,n,i,r,1),null!=this.Mi&&this.Kd(t)},qr.UI.prototype.wl=function(t,e,n,i,r){this.fI(t,e,n),qr.UI.rm(t,qr.$S.dy,e),this.Po&&this.HC(t,n,r),null!=this.Mi&&r.nK&&1!=this.Se(t,n,i,r)&&this.Kd(t)},qr.UI.rm=function(i,r,a){var s,o,t;i&&r.key!=qr.UI.yA(i)&&(r.key=qr.UI.yA(i),t=i.g[i.w[0]].rect.Z(),s="Image Analysis ...",0!=t&&(o=1e6<t,(t=new yr(mr.E.W,!0)).data={d:mr.J.yd,c6:s},o&&a.c(t),setTimeout(function(){var t,e=qr.UI.hS(i);for(t in e)r[t]=e[t];var n=new yr(mr.E.W,!0);n.data={d:mr.J.xJ,c6:s},o&&a.c(n)},30)))},qr.UI.yA=function(t){var e=t.w[0],n=t.g[e],i=n.rect,r=i.m,t=i.n,n=n.buffer;return[e,i.x,i.y,r,t,n[0],n[1],n[2],n[3]].join(",")},qr.UI.hS=function(t){var e=t.w[0],n=t.g[e],i=n.rect,r=i.m,a=i.n,s=r*a,o=n.buffer,l=Date.now(),e=Rr.t(s);e.fill(128);n=Rr.$P.HQ(o,r,a);console.log(Date.now()-l);s={key:qr.UI.yA(t),lS:o,rect:i.clone(),r2:r,kY:a,KO:12,a8$:!1,fB:e,GA:n,v:Rr.t(s),fS:null,GY:null,qk:null};return qr.UI.hm(s),s},qr.UI.hm=function(t,e){var n=t.r2,i=t.kY,r=Date.now(),a=null!=t.fS&&Rr.$P.a4Y(t.GA.EJ,t.fS.EJ,t.fS.nW,t.fB);Date.now();r=Date.now(),a||t.a8$||(t.fS=Rr.$P.G1(t.GA,n,i,t.fB,t.KO),Rr.$P.a4Y(t.GA.EJ,t.fS.EJ,t.fS.nW,t.fB)||(t.a8$=!0,console.log("conflict")),t.GY=Rr.$P.app(t.lS,n,i,t.fS.EJ,t.fS.nW),t.qk=[t.GY[0].slice(0),[]],Date.now(),r=Date.now());r=Date.now();if(e){t.qk[0].set(t.GY[0]);for(var s=t.GY[1],o=t.qk[1],l=0;l<s.length;l++)o[l]=s[l].slice(0);Rr.$P.ahK(t.fS.EJ,n,i,t.fS.nW,t.fB,t.v,t.qk)}},qr.kE=function(){qr.wE.call(this,[10,50],qr.j8,"tools/artb"),this.l3=null,this.adu=!1,this.q5=null,this._$=!1,this.aqa=null,this.fV=100,this.mJ=null,this.Tg=0},qr.kE.prototype=new qr.wE,qr.kE.prototype.gT=function(t,e,n,i,r){this.L8(n,t.aku,e,t.Zx)},qr.kE.HY=function(t,e){var n=t[0],i=0,r=0;return 0==n?r=-1:1==n?i=1:2==n?r=1:i=-1,[20/e.Pd,t[1]+60*i/e.Pd,t[2]+60*r/e.Pd]},qr.kE.prototype.qx=function(t,e,n,i,r){this.l3=t.jm,this.Tg=Date.now()},qr.kE.prototype.nr=function(t,e,n,i){if(n.No==this.id)if(null!=t&&1==t.w.length){var r=t.w[0],a=(v=t.g[r]).add.artb;if(null!=a){if(!this._$){if(50<Date.now()-this.Tg){this.l3={};for(var s=["artboardBackgroundType","Clr"],o=0;o<s.length;o++)a[s[o]]&&(this.l3[s[o]]=JSON.parse(JSON.stringify(a[s[o]])));var l=new yr(mr.E.W,!0);l.data={d:mr.J.QP,b:this.id,VU:this.l3},e.c(l)}var h=v.Gn(),e=Rr.H.UQ(h).U;(this.q5=new Pi(e,!0,!1,!1,!0,!1,3,!1)).VV(t,n,!1);for(var u={U:[1,0],C:["M"]},o=1;o<30;o++){var f=2*Math.PI*o/30;u.U.push(Math.cos(f),Math.sin(f)),u.C.push("L")}u.C.push("Z","M","L","M","L"),u.U.push(-.5,0,.5,0,0,-.5,0,.5);var l=h.x+h.m/2,e=h.y+h.n/2,n=1.1*this.fV,c=this.aqa=[l,h.y,h.x+h.m,e,l,h.y+h.n,h.x,e],p=[0,-n,n,0,0,n,-n,0],d=t.root.children;t.D._f=[];for(o=0;o<4;o++){for(var v,g=new Pr(c[2*o]+p[2*o],c[2*o+1]+p[2*o+1]),y=!1,m=0;m<d.length;m++)null!=(v=d[m].i).add.artb&&(h=v.Gn()).tl(g)&&(y=!0);y?c[2*o]=1e9:t.D._f.push([o,c[2*o],c[2*o+1]])}}}else this.ii(t)}else this.ii(t)},qr.kE.prototype.disable=function(t,e,n,i,r){this.ii(t)},qr.kE.prototype.ii=function(t){this.q5&&(this.q5.clear(t),this.q5=null,t.D._f=null)},qr.kE.prototype.CK=function(t,e,n,i,r){this.Tg=Date.now();var a=t.s.Qi(r.x,r.y),s=this.q5;if(s){var o=new yr(mr.E.u);if(s.ahN(null,a,t,r)<9)return void(this._$=s.CK(t,n,i,a,null,!0,r));if(s.w2(a)){o.b=qr.AZ,o.data={d:"disabAuto"},e.c(o);var l=new yr(mr.E.W);return l.data={d:mr.J.ms,b:qr.AZ,afA:!0},void e.c(l)}for(var h=-1,u=t.D._f,f=0;f<u.length;f++){var c=qr.kE.HY(u[f],t.s);Pr.Tn(a,new Pr(c[1],c[2]))<c[0]&&(h=u[f][0])}if(-1!=h){var p,r=t.g[t.w[0]].Gn(),s=r.clone(),l=(0==h||2==h?r.n:r.m)+this.fV;return 0!=h&&3!=h||(l=-l),0==h||2==h?r.y+=l:r.x+=l,void(i.j(ii.e$)?(i=new Fr(0,0,t.m,t.n),o.b=qr.ZD,o.data={d:qi.PR},e.c(o),qr.DD.iu(t,t.ZI(null,t.w[0],null,!0),null,r.x-s.x,r.y-s.y),(s=qr.B_.FU(t))&&((p=t.Ki()).data.ic=i,p.data.dX=s),t.w=p.data.sg=t.w.slice(t.w.length-1)):this.L8(t,r,e))}}this.mJ=qr.DD.ET(t,a,n)},qr.kE.prototype.L8=function(t,e,n,i){null==i&&(i=0);var r=t.g.slice(0),a=[t.g.length+1],s=t.rL();if(s.Zu("Artboard "+(t.root.children.length+1)),s.add.lsct=Gi.pb,s.fx(e),this.l3){var o,l=s.add.artb,h=this.l3;for(o in h)l[o]=h[o]}s.SD="pass",s.OW=24,0==i?t.add.artd||e.BS(new Fr(0,0,t.m,t.n)).mN()?r.push(t.ne()):r.unshift(t.ne()):((i=t.ZI()).sort(function(t,e){return t-e}),(e=qr.Ap.mO(t,i,r.length-1,!1,null,!1)).pop(),e.pop(),(r=e.pop()).splice(t.g.length-i.length,0,t.ne())),r.push(s);s=new yr(mr.E.u);s.b=qr.ZD,s.data={d:qi.xC,V6:r,TB:a,rD:"New Artboard"},n.c(s)},qr.kE.prototype.wl=function(t,e,n,i,r){var a,s=t.s.Qi(r.x,r.y),o=this.q5,l=this.mJ;o&&(this._$?o.wl(t,n,i,s):(null==(a=o.RS(s,t.s.V,null,r))&&(a="default"),(o=new yr(mr.E.W,!0)).data={d:mr.J.tW,Ek:a},e.c(o))),l&&(i=this.r7(t,s,i,n),t.D.h7=Rr.H.UQ(i),t.Lj=!0,qr.wE.mi(r,i,t,n))},qr.kE.prototype.f9=function(t,e,n,i,r){var a,s=t.s.Qi(r.x,r.y),o=this.mJ;this._$&&(this.q5.f9(t,n,i,s),this._$=!1,a=Rr.H.ws(this.q5.mY()),r=qi.Qx(a),a=t.g[t.w[0]],(a=JSON.parse(JSON.stringify(a.add.artb))).artboardRect.v=r,(r=new yr(mr.E.u,!0)).b=qr.ZD,r.data={d:qi.VL,E3:a},e.c(r)),o&&(20<(n=this.r7(t,s,i,n)).Z()&&this.L8(t,n,e),t.D.h7=null,t.Lj=!0,this.mJ=null,t.D.po=[])},qr.kE.prototype.r7=function(t,e,n,i){var r=this.mJ,i=qr.DD.ET(t,e,i),n=qr.zL.jG(r,i,n,!0),r=n[0],i=n[1];return Rr.H.ws([r.x,r.y,i.x,i.y])},Pi.prototype.RR=function(){return-1!=this.Bb},Pi.prototype.mY=function(){return this.Xo.slice(0)},Pi.prototype.tI=function(t){this.Xo=t},Pi.prototype.ai6=function(){return this.VG(this.Xo)},Pi.prototype.a5h=function(){return this.Ck},Pi.prototype.agf=function(t){this.Ck=t},Pi.prototype.g0=function(t){return null==t&&(t=this.Xo),9==this.Ck?this.t9:this.VG(t)[this.Ck]},Pi.prototype.aiw=function(t){var e;9==this.Ck?this.t9=t.clone():(e=this.g0(),e=new _r(1,0,0,1,t.x-e.x,t.y-e.y),Rr.H.A(this.Xo,e,this.Xo))},Pi.prototype.RS=function(t,e,n,i){i=this.zc(null,t,e,i);if(9==i)return"default";if(10==i)return n||this.as$?null:"move";if(-1==i||4==i)return null;if(11==i){var r=this.g0().Pf(t),a=90-180*Math.atan2(r.y,r.x)/Math.PI,r=Math.round(a/360*8);return this.a0f[r=(r+8)%8]}this.SG(t,this.Xo);a=[135,90,45,180,0,0,225,270,315][i];i=Rr.N.zw(this.Xo);return a+=180*Math.atan2(-i[3],i[0])/Math.PI,"ew nesw ns nwse ew nesw ns nwse".split(" ")[r=((r=Math.round(a/360*8))+8)%8]+"-resize"},Pi.prototype.SG=function(t,e){var n=Rr.N.tU(Rr.N.zw(e)),e=new Float64Array(2);return Rr.N.If(t.x,t.y,n,e),new Pr(e[0],e[1])},Pi.prototype.w2=function(t){t=this.SG(t,this.Xo);return 0<=t.x&&t.x<=1&&0<=t.y&&t.y<=1},Pi.prototype.CK=function(t,e,n,i,r,a,s){this.ajL=a,this.Q4=i;var o,a=t.s.V;return null==this.Xo&&(i=qr.DD.ET(t,i,e)),this.pT=i.clone(),null==this.Xo?(this.pT.offset(1,1),this.Xo=[i.x,i.y,i.x+1,i.y,i.x+1,i.y+(o=null==r?1:1/r),i.x,i.y+o],o=8):(0<=(o=this.zc(n,i,a,s))&&o<=8&&(this.pT=this.VG(this.Xo)[o]),9==o&&(this.Ck=9,this.t9=i.clone())),this.G4=this.Xo.slice(0),this.Bb=o,this.VV(t,e),this.A3=this.g0(),-1!=o},Pi.prototype.ahN=function(t,e,n,i){return this.zc(t,e,n.s.V,i)},Pi.prototype.zc=function(t,e,n,i){var r=-1,a=this.VG(),s=[0,2,6,8,1,3,5,7],o=i?qr.$s({s:{V:n}},i):6*qr.F()/n;if(-1==(r=-1==r&&Pr.Tn(this.g0(),e)<o?9:r))for(var l=0;l<s.length;l++)Pr.Tn(a[s[l]],e)<o&&(r=s[l]);return-1!=(r=-1==r&&t&&t.j(ii.e$)?9:r)&&4!=this.Zx||(this.w2(e)?this.as$&&(r=10):(n=this.SG(e,this.Xo),(t=new Fr(0,0,1,1)).bA(.2,.2),r=t.tl(n)&&3!=this.Zx?11:10)),r},Pi.prototype.wl=function(t,e,n,i){if(-1!=this.Bb){this.Q4=i;var r=n.j(ii.Ml),a=n.j(ii.e$),s=n.j(ii.NT),o=t.s.V,l=this.pT,h=this.Bb,u=(this.VG(),qr.DD.ET(t,l,e)),f=qr.DD.ET(t,i,e);if(9==h){for(var c=this.VG(),p=-1,d=0;d<c.length;d++)Pr.Tn(c[d],f)*o<10&&(p=d);this.Ck=-1==p?9:p,this.t9=r?qr.iU.yX(u,f):f.clone()}else if(10==h){var v,n=(v=Rr.H.UP(this.G4)).x,g=v.y;v.offset(i.x-l.x,i.y-l.y),this.lm()&&(v.x=Math.round(v.x),v.y=Math.round(v.y));var y=qr.DD.Mr(t,v,e),g=new _r(1,0,0,1,v.x-n+y[0],v.y-g+y[1]);Rr.H.A(this.G4,g,this.Xo)}else if(11==h){var m=(N=this.g0(this.G4)).Pf(i),w=N.Pf(l),b=Math.atan2(m.y,m.x),M=Math.atan2(w.y,w.x),g=new _r(1,0,0,1,-N.x,-N.y),S=Math.PI/12;r?g.rotate(Math.round((M-b)/S)*S):g.rotate(M-b),g.translate(N.x,N.y),Rr.H.A(this.G4,g,this.Xo)}else{m=this.G4,w=0==h||2==h||6==h||8==h;if(1==this.Zx?w&&(r=a=s=!0):2==this.Zx&&w&&1!=this.ajL&&(s=!0),3==this.Zx&&(s=!1),this.akk&&w&&s){var C,x,L,d=[0,0,2,0,0,0,6,0,4,0][h],D=-1,S=f.x,M=f.y;r?(L=d+10&7,b=Pi.u5(m[d],m[d+1],m[x=d+6&7],m[1+x],f.x,f.y),C=Pi.u5(m[d],m[d+1],m[L],m[1+L],f.x,f.y),S=(I=b[2]<C[2]?b:C)[0],M=I[1],a&&(D=b[2]<C[2]?x:L)):a&&(D=d+4&7),C=m.slice(0),-1!=D&&(x=m[D],L=m[D+1],x=(m[d]+x)/2,L=(m[d+1]+L)/2,C[D]=x-(S-x),C[D+1]=L-(M-L)),C[d]=S,C[d+1]=M}else if(w&&a){var k=(N=this.A3).x,T=N.y,w=u.x-k,u=u.y-T,A=1,E=1;1<=Math.abs(w)&&(A=(f.x-k)/w),1<=Math.abs(u)&&(E=(f.y-T)/u),(r||this.bL)&&(A=E=(A+E)/2),(g=new _r).translate(-k,-T),g.scale(A,E),g.translate(k,T),C=m.slice(0),Rr.H.A(C,g,C)}else{this.lm()&&(f.x=Math.round(f.x),f.y=Math.round(f.y));for(var k=[0,1,2,5,8,7,6,3],T=k[(k.indexOf(h)+4)%8],O=[],d=0;d<3;d++)for(D=0;D<3;D++)O.push(new Pr(D/2,d/2));var N=this.A3,k=this.SG(f,m),l=this.SG(l,m),a=!a||4!=this.Ck&&9!=this.Ck?O[T]:this.SG(N,m),T=new _r,N=new _r;0==(A=(k.x-a.x)/(l.x-a.x))&&(A=1e-4),0==(E=(k.y-a.y)/(l.y-a.y))&&(E=1e-4),this.aqQ&&(A=Math.max(A,0),E=Math.max(E,0)),0!=h&&2!=h&&6!=h&&8!=h||(r||this.bL?T.scale(A,A):T.scale(A,E)),1!=h&&3!=h&&5!=h&&7!=h||(r=this.bL,1==h||7==h?T.scale(r?E:1,E):T.scale(A,r?A:1),this.aa_&&s&&(1==h||7==h?N.yH=(k.x-a.x)/(k.y-a.y):N.S=(k.y-a.y)/(k.x-a.x))),(g=new _r).translate(-a.x,-a.y),g.concat(T),g.concat(N),g.translate(a.x,a.y),Rr.H.A(C=[0,0,1,0,1,1,0,1],g,C);var I=Rr.N.zw(m);Rr.N.A(I,C)}Pi.J$(C)&&(this.Xo=C)}this.VV(t,e),y&&qr.DD.d_(t,v,y)}},Pi.u5=function(t,e,n,i,r,a){var s=n-t,n=i-e,i=((r-t)*s+(a-e)*n)/(s*s+n*n),s=t+i*s,n=e+i*n,r=r-s,a=a-n;return[s,n,Math.sqrt(r*r+a*a)]},Pi.prototype.lm=function(){var t=this.Xo;return Math.abs(t[1]-t[3])<1e-6&&Math.abs(t[2]-t[4])<1e-6||Math.abs(t[0]-t[2])<1e-6&&Math.abs(t[3]-t[5])<1e-6},Pi.J$=function(t){return Rr.H.yc(t)||Rr.H.yc([t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]])},Pi.prototype.f9=function(t,e,n,i){this.Bb=-1,this.Q4=null,t.D.LA=null,t.D.po=[],t.Lj=!0},Pi.prototype.XL=function(t,e,n){n=n.WJ();if(n.x||n.y){n=new _r(1,0,0,1,n.x,n.y);return Rr.H.A(this.Xo,n,this.Xo),this.VV(t,e),!0}return!1},Pi.prototype.VG=function(t){for(var e=(t=null==t?this.Xo:t)[6]-t[0],n=t[7]-t[1],i=t[4]-t[2],r=t[5]-t[3],a=[t[0],t[1],t[2],t[3],t[0]+e/2,t[1]+n/2,t[2]+i/2,t[3]+r/2,t[6],t[7],t[4],t[5]],s=[],o=0;o<3;o++){var l=4*o,h=a[0+l],u=a[1+l],f=a[2+l],l=a[3+l];s.push(new Pr(h,u)),s.push(new Pr(h+(f-h)/2,u+(l-u)/2)),s.push(new Pr(f,l))}return s},Pi.prototype.VV=function(t,e,n){null==n&&(n=!1);var i=this.VG(),r=i[0],a=i[2],s=i[6],o=i[8];t.D.h7={C:[],U:[]},t.D.h7.C.push("M","L","L","L","Z"),t.D.h7.U.push(r.x,r.y,a.x,a.y,o.x,o.y,s.x,s.y);var l=this.afC;if(1<l)for(var h=a.Pf(r),u=s.Pf(r),f=o.Pf(a),c=o.Pf(s),p=1;p<l;p++){t.D.h7.C.push("M","L","M","L");var d=p/l;t.D.h7.U.push(r.x+h.x*d,r.y+h.y*d,s.x+c.x*d,s.y+c.y*d),t.D.h7.U.push(r.x+u.x*d,r.y+u.y*d,a.x+f.x*d,a.y+f.y*d)}if(t.s.Ht=new Fr(0,0,Pr.Tn(i[0],i[2]),Pr.Tn(i[0],i[6])),-1!=this.Bb&&this.Bb<9&&this.Q4&&(o=t.s.d$(this.Q4.x,this.Q4.y),qr.wE.mi(o,t.s.Ht,t,e)),!n){t.D.us=[];for(p=0;p<i.length;p++)4!=p&&t.D.us.push(i[p].x,i[p].y);n=this.g0();t.D.us.push(n.x,n.y)}t.Lj=!0},Pi.prototype.clear=function(t){t.s.Ht=null,t.D.LA=null,t.D.h7=null,t.D.us=[],t.Lj=!0},Fi.prototype.XV=function(){return JSON.parse(JSON.stringify(this.oH))},Fi.prototype.J4=function(t){this.oH=JSON.parse(JSON.stringify(t))},Fi.prototype.w2=function(t){return!0},Fi.prototype.RS=function(t,e,n,i){return-1==this.zc(t,e,i)?"default":"pointer"},Fi.prototype.CK=function(t,e,n,i,r,a,s){return this.Bb=this.zc(i,t.s.V,s),-1!=this.Bb},Fi.prototype.zc=function(t,e,n){for(var i=this.gm(),r=-1,a=1e6,s=0;s<i.length;s++){var o=Pr.Tn(i[s],t);o<a&&(r=s,a=o)}return a<(n?2*qr.$s({s:{V:e}},n):20*qr.F()/e)?r:-1},Fi.prototype.wl=function(t,e,n,i){var r;-1!=this.Bb&&(t.s.V,r=this.Bb,(t=Rr.oH.Av(this.oH))[2*r]=i.x,t[2*r+1]=i.y,Rr.oH.LZ(t,this.oH))},Fi.prototype.f9=function(t,e,n,i){this.Bb=-1,t.Lj=!0},Fi.prototype.XL=function(t,e,n){n=n.WJ();(n.x||n.y)&&(n=new _r(1,0,0,1,n.x,n.y),Rr.H.A(this.Xo,n,this.Xo),this.VV(t))},Fi.prototype.gm=function(t){for(var e=Rr.oH.Av(this.oH),n=[],i=0;i<e.length;i+=2)n.push(new Pr(e[i],e[i+1]));return n},Fi.prototype.VV=function(t){var e=this.gm();t.D.h7={C:[],U:[]},t.D.h7.C.push("M","C","C","C","C");for(var n=[0,1,2,3,7,11,15,14,13,12,8,4,0],i=0;i<n.length;i++)t.D.h7.U.push(e[n[i]].x,e[n[i]].y);t.D.h7.C.push("M","L","L","M","L","L","M","L","L","M","L","L");for(n=[4,0,1,2,3,7,11,15,14,13,12,8],i=0;i<n.length;i++)t.D.h7.U.push(e[n[i]].x,e[n[i]].y);t.D.us=[];for(i=0;i<e.length;i++)t.D.us.push(e[i].x,e[i].y);t.Lj=!0},Fi.prototype.clear=function(t){t.D.h7=null,t.D.us=[],t.Lj=!0},_i.prototype.CK=function(t){this.AW=!0,this.T7=!1,this.lA=t.j(ii.Ml),this.re=t.j(ii.e$),this.AG=this.lA?0:1,this.Uw=this.re?0:1},_i.prototype.XL=function(t){var e=this.akU=t.j(ii.Ml),t=this.amE=t.j(ii.e$);this.T7&&(0!=this.AG||e||this.AG++,1==this.AG&&e&&this.AG++,0!=this.Uw||t||this.Uw++,1==this.Uw&&t&&this.Uw++)},_i.prototype.wl=function(){this.T7=!0},_i.prototype.f9=function(){this.AW=!1},_i.prototype.uk=function(t){return 0==t?this.AW?this.re:this.amE:1==t?!!this.T7&&2==this.Uw:void 0},_i.prototype.fU=function(t){return 0==t?this.AW?this.lA:this.akU:1==t?!!this.T7&&2==this.AG:void 0},qr.History=function(){qr.wE.call(this,"History",qr.bX),this.NZ=!0,this.ajR=0},qr.History.prototype=new qr.wE,qr.History.prototype.gT=function(t,e,n,i){if(n.iM=!0,"h_itemchange"==t.d){if(t.index<n.i_)for(var r=n.i_;r>t.index;r--)this.zU(n);if(t.index>n.i_)for(r=n.i_;r<t.index;r++)this.Ch(n)}var a;"h_stepfwd"==t.d&&this.Ch(n),"h_stepbck"==t.d&&this.zU(n),"h_undoredo"==t.d&&(a=(a=this.NZ||this.ajR!=n.i_)?(this.zU(n),!1):(this.Ch(n),!0),this.NZ=a,this.ajR=n.i_),"h_clear"==t.d?window.confirm("Do you really want to clear all states in History? You won't be able to undo it.")&&(n.history=[new Ri([1,0],null)],n.i_=0):this.NZ=!0},qr.History.prototype.zU=function(t){var e;0!=t.i_&&((e=t.history[t.i_]).b.AP(e.data,t),t.i_--)};qr.History.prototype.Ch=function(t){var e;t.i_!=t.history.length-1&&((e=t.history[t.i_+1]).b.PS(e.data,t),t.i_++)},qr.Ap=function(){qr.wE.call(this,"Layers",qr.ZD),this._a=null},qr.Ap.prototype=new qr.wE,qr.Ap.prototype.gT=function(t,e,n,i,r){this._a=e;var a=t.d,s=null!=t.i?t.i:0!=n.w.length?n.w[0]:n.g.length-1,o=n.g[s];n.hu=!0;var l=i.j(ii.e$),h=i.j(ii.Ml),u=i.j(ii.NT);if((a=a==qi.rb&&null==n.v&&(1<n.w.length||!n._W(!1))?qi.PR:a)==qi.Lu){for(var f=new Ri([6,33],this),c=(o.dH()?["pass"].concat(Ji.sp):Ji.sp)[t.NL],p=null!=t.i?[t.i]:n.w,d=JSON.stringify(p),v=[],g=0;g<p.length;g++)v.push(n.g[p[g]].SD);f.data={d:a,wy:d,QX:v,NL:c},n.Sy(f),this.PS(f.data,n),this.track(Ui.Ia("Md",{t:"enum",v:{BlnM:Ji.S8(c)}}))}if(a==qi.t$){var y=n.Ki(),p=null!=t.i?[t.i]:n.w,d=JSON.stringify(p);if(y&&y.data&&y.data.d==a&&y.data.wy==d)f=y;else{var m=Ui.Ia("Opct",{t:"UntF",v:{type:"#Prc",val:0}});this.track(m);for(v=[],g=0;g<p.length;g++)v.push(n.g[p[g]].opacity);(f=new Ri([6,32],this)).data={d:a,wy:d,QX:v,NL:t.NL,Dd:m.l5},n.Sy(f)}f.data.NL=t.NL,f.data.Dd.T.v.Opct.v.val=Math.round(100*t.NL/255),this.PS(f.data,n)}if(a==qi.qn&&(null==o.add.iOpa&&(o.add.iOpa=255),(y=n.Ki())&&y.data&&y.data.d==a&&y.data.i==s?f=y:((f=new Ri("Fill Opacity Change",this)).data={d:a,i:s,QX:o.add.iOpa,NL:t.NL},n.Sy(f)),f.data.NL=t.NL,this.PS(f.data,n)),a==qi.N1){for(var w=t.NL,b=null!=t.i?[t.i]:n.w.slice(0),M=[],S=[],C=0;C<b.length;C++){null==(ee=n.g[b[C]]).add.lspf&&(ee.add.lspf=0);for(c=v=ee.add.lspf,g=0;g<w[0].length;g++){var x=1<<w[1][g];(0!=(c&x)||!w[0][g])&&(0==(c&x)||w[0][g])||(c^=x)}M.push(v),S.push(c)}var y=n.Ki(),p=JSON.stringify(b);y&&y.data&&y.data.d==a&&JSON.stringify(y.data.wy)==p?(f=y).data.NL=S:((f=new Ri([6,57,1],this)).data={d:a,wy:p,QX:M,NL:S},n.Sy(f)),this.PS(f.data,n)}if(a==qi.Hi){for(var L="----",D=t.Ly,c=null,g=0;g<or.XT.Yx.length;g++)o.add[or.XT.Yx[g]]&&(L=or.XT.Yx[g]);d=o.add[L];"TySh"==D&&(c=ir.mb(50,50,r.wO)),(f=new Ri("Layer Type",this)).data={d:a,i:s,a9x:[L,d],Ly:[D,c]},n.Sy(f),this.PS(f.data,n)}if(a==qi.hP){b=[];if(l){var k=n.Ki(),T=k?k.data:null;if(null!=k&&k.b==this&&T.d==qi.hP&&1!=T.wy.length){var A=new yr(mr.E.u);if(A.b=qr.bX,A.data={d:"h_stepbck"},e.c(A),T.i==s)return}for(var E=n.root.eu(s),O=n.ZI(null,s);E.parent!=n.root;)O.push(E.parent.index),E=E.parent;for(g=0;g<n.g.length;g++){var N=(jt=n.g[g]).SH();!(-1!=O.indexOf(g))&&N&&b.push(g),g!=s||N||b.push(g)}}else{b.push(s);m={YY:(N=n.g[s].SH())?"hide":"show",l5:{classID:N?"Hd":"Shw",null:{t:"VlLs",v:[Ui.S3("Lyr",!0)]}}};this.track(m)}(f=new Ri("Layer visibility",this,!0)).data={d:a,wy:b,i:s},n.Sy(f),this.PS(f.data,n)}if(a==qi.vW){r.No==qr.j8&&((En=new yr(mr.E.W)).data={d:mr.J.ms,b:qr.AZ},e.c(En));var I,D=t.a5g,k=t.nn,A=!1,T=!1;if(t.acx&&u&&(0==k||1==k||2==k)){var P=0;return h&&P++,l&&(P+=2),(G=new yr(mr.E.u,!0)).b=qr.rZ,G.data={d:"fromlayer",Nn:[t.i,k,P]},void e.c(G)}m={YY:"select",l5:{classID:"null",MkVs:{t:"bool",v:!1}}};"111"!=n.s.DF.join("")&&(n.s.DF=[1,1,1],n.Lj=!0);for(g=0;g<n.g.length;g++){var F,_=(jt=n.g[g]).add.vmsk;!jt.UG()||(F=jt.ez(n))&&F.q&&F.q.KT&&(F.q.KT=!1,n.Lj=!0),(rn=jt.sL())&&rn.KT&&(rn.KT=!1,n.Lj=!0),_&&(0!=_.w.length&&(_.w=[]),0!=_.nZ.length&&(_.nZ=[]))}if(i.j(ii.NT)||0==t.ah7)-1==(Rn=n.w.indexOf(s))?n.w.push(s):1<n.w.length&&n.w.splice(Rn,1),n.w.sort(function(t,e){return t-e}),m.l5.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}},I=s;else if(h&&!l&&0<k)a=1==k?qi._v:2==k?qi.ds:qi.MG,A=!0;else if((h||1==t.ah7)&&0<n.w.length){var P=Math.min(s,n.w[0]),B=Math.max(s,n.w[n.w.length-1]);n.w=[];for(g=P;g<=B;g++)n.g[g].add.lsct!=Gi.A0&&n.w.push(g);m.l5.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}},I=s}else{if((I=s)>=n.g.length)return;(jt=n.g[s])&&jt.dH()&&t.a3k?jt.add.lsct=Gi.pb:1==n.w.length&&n.w[0]==s&&k==jt.rq&&(T=!0),T||(n.w=[s],n.aA())}if(!T&&(null!=I&&I<n.g.length&&(m.l5.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:n.g[I].getName()}}]},this.track(m)),!A)){if(console.log("no escape"),1==n.w.length){for(var R=n.w[0],g=0;g<n.g.length;g++)g!=R&&((ee=n.g[g]).rq=0,ee.Vj=!1);o=n.g[R];2==k?(o.Vj=!o.Vj,n.B0=[]):o&&(o.rq=k<=0?0:k)}else for(g=0;g<n.g.length;g++)(ee=n.g[g]).rq=0,ee.Vj=!1;n.Ae=null,n.iM=!0}t.acx&&l&&(1!=k&&3!=k||null==D?this.gT({d:qi.io,i:t.i},e,n,i,r):((G=new yr(mr.E.u,!0)).b=qr.fz,G.data={d:"mskView",k:0!=D?0:h?1:2},e.c(G)))}if(a==qi._v||a==qi.MG){var U=a==qi._v;if(null==(qn=U?o.sL():o.ez(n).q))return;(f=new Ri(qn.isEnabled?U?[6,15]:[6,42]:U?[6,14]:[6,41],this)).data={d:a,i:s},n.Sy(f),this.PS(f.data,n)}if(a==qi.ds){if(null==(qn=o.add.vmsk))return;(f=new Ri(qn.isEnabled?[6,17]:[6,16],this)).data={d:a,i:s},n.Sy(f),this.PS(f.data,n)}if(a==qi.a55){var j=o.add.lsct==Gi.pb?Gi.jT:Gi.pb;if(i.j(ii.NT))for(var H=n.root.eu(n.g.indexOf(o)).parent,g=0;g<H.children.length;g++)(re=H.children[g].i).dH()&&(re.add.lsct=j);else o.add.lsct=j;n.iM=!0}if(a==qi.io){if(!n.gt(s))return;(f=new Ri(o.jF?[6,19]:[6,18],this)).data={d:a,i:s},n.Sy(f),null!=t.NL&&t.NL==o.jF||this.PS(f.data,n)}if(a==qi.anR&&(o.W3()?o.OW-=32:o.OW+=32,n.iM=!0),a!=qi.kS&&a!=qi.g2||(a==qi.kS&&(f=new Ri(o.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this)),(f=a==qi.g2?new Ri(o.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this):f).data={d:a,i:s},n.Sy(f),this.PS(f.data,n)),a!=qi.Ug&&a!=qi.Rj||(R=t.index,a==qi.Ug&&(f=new Ri(o.add.lmfx[Wi.Th[R[0]]].v[R[1]].v.enab.v?[6,30]:[6,29],this)),(f=a==qi.Rj?new Ri(o.add.SoLd.filterFX.v.filterFXList.v[R].v.enab.v?[6,44]:[6,43],this):f).data={d:a,i:s,index:t.index},n.Sy(f),this.PS(f.data,n)),a==qi.Nt){if(t.src==t.BV)return;var J=n.g[t.src],q=n.g[t.BV],G=J.add.lmfx?JSON.stringify(J.add.lmfx):"",U=q.add.lmfx?JSON.stringify(q.add.lmfx):"";if(null==q.add.lmfx){q.add.lmfx=JSON.parse(Wi.default);for(g=0;g<Wi.order.length;g++)q.add.lmfx[Wi.Th[g]]={t:"VlLs",v:[]}}null==t.cW?(q.add.lmfx=JSON.parse(G),l||delete J.add.lmfx):(Z=t.cW[0],z=Wi.Th[Z],-1==Wi.arL.indexOf(Wi.order[Z])&&(q.add.lmfx[z].v=[]),q.add.lmfx[z].v.push(J.add.lmfx[z].v[t.cW[1]]),l||J.add.lmfx[z].v.splice(t.cW[1],1));var Z=J.add.lmfx?JSON.stringify(J.add.lmfx):"",z=q.add.lmfx?JSON.stringify(q.add.lmfx):"";q.W3()||(q.OW+=32),(f=new Ri("Move Layer Styles",this)).data={d:a,zN:t.src,Ec:t.BV,aul:G,adi:U,a1c:Z,akE:z},n.Sy(f),this.PS(f.data,n)}if(a==qi.Go&&(null!=t.src&&(s=t.src),ee=n.g[s],$=JSON.stringify(ee.add.SoLd),(tt=(an=JSON.parse($)).filterFX.v.filterFXList.v).splice(t.cW,1),(f=new Ri([6,53],this)).data={d:qi.H7,A6:[{X2:s,pQ:[$,JSON.stringify(an)]}]},n.Sy(f),this.PS(f.data,n)),a==qi.asP){var Z=l,V=[];if((J=n.g[t.src])!=(q=n.g[t.BV])&&null==q.add.SoLd)return void alert("Target layer is not a smart object!");if(J==q&&!Z&&(t.cW==t.a5||-1==t.cW))return;var W,X,Y,K,Q=J.ez(n),$=JSON.stringify(J.add.SoLd),tt=(an=JSON.parse($)).filterFX.v.filterFXList.v;J==q?(tt.splice(t.a5,0,tt[t.cW]),Z||tt.splice(t.cW+(t.cW<t.a5?0:1),1),V.push({X2:t.src,pQ:[$,JSON.stringify(an)]})):-1==t.cW?(z=an.filterFX,Z||(delete an.filterFX,V.push({X2:t.src,pQ:[$,JSON.stringify(an)],Zi:[Q,null]})),W=q.UG()?q.ez(n):null,K=zi.at6(Q),X=JSON.stringify(q.add.SoLd),(Y=JSON.parse(X)).placed.v=K.id,Y.filterFX=z,V.push({X2:t.BV,pQ:[X,JSON.stringify(Y)],Zi:[W,K]})):(W=tt[t.cW],Z||(tt.splice(t.cW,1),V.push({X2:t.src,pQ:[$,JSON.stringify(an)]})),X=JSON.stringify(q.add.SoLd),null==(Y=JSON.parse(X)).filterFX&&(Y.filterFX=Gr.lI()),Y.filterFX.v.filterFXList.v.splice(t.a5,0,W),Ae={X2:t.BV,pQ:[X,JSON.stringify(Y)]},q.UG()||(K=zi.a3J(q.add.SoLd.placed.v),Ae.Zi=[null,K]),V.push(Ae)),(f=new Ri([6,52],this)).data={d:qi.H7,A6:V},n.Sy(f),this.PS(f.data,n)}if(a==qi.sC&&((f=new Ri((qn=o.sL()).$j?[6,26]:[6,25],this)).data={d:a,i:s},n.Sy(f),this.PS(f.data,n),this.track({YY:"set",l5:{classID:"setd",null:{t:"obj ",v:[Ui.S3("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:qn.$j}}}}})),a==qi.dq&&((f=new Ri((qn=o.add.vmsk).$j?[6,28]:[6,27],this)).data={d:a,i:s},n.Sy(f),this.PS(f.data,n)),a==qi.a_){for(var et=[],g=0;g<n.w.length;g++){C=n.w[g];(jt=n.g[C]).add.vogk&&et.push(C,JSON.stringify(jt.add.vogk))}for(g=0;g<n.B0.length;g++){C=n.B0[g];(jt=n.Y3[C]).add.vogk&&et.push(-1-C,JSON.stringify(jt.add.vogk))}Rr.UY.a16(n,t.k);for(var nt=[],g=0;g<n.w.length;g++){C=n.w[g];(jt=n.g[C]).add.vogk&&nt.push(C,JSON.stringify(jt.add.vogk))}for(g=0;g<n.B0.length;g++){C=n.B0[g];(jt=n.Y3[C]).add.vogk&&nt.push(-1-C,JSON.stringify(jt.add.vogk))}if((y=n.Ki())&&y.data&&y.data.d==a){for(var it=!0,g=0;g<et.length;g+=2)et[g]!=y.data.EI[g]&&(it=!1);it&&((f=y).data.Ue=nt)}null==f&&((f=new Ri([12,91,1],this)).data={d:a,EI:et,Ue:nt},n.Sy(f)),this.PS(f.data,n)}if(a==qi.VL&&(Y=JSON.stringify(o.add.artb),K=JSON.stringify(t.E3),n.g[s].add.artb=JSON.parse(K),V=new Fr(0,0,n.m,n.n),ht=qr.B_.ZG(n),(y=n.Ki())&&y.data&&y.data.d==a&&y.data.i==s&&((f=y).data.E3=K),null==f&&((f=new Ri("Editing Artboard",this)).data={d:a,i:s,aaa:Y,E3:K,ic:V},n.Sy(f)),f.data.dX=ht,this.PS(f.data,n)),a==qi.lB){var nt=n.En.slice(0),rt=n.kx.slice(0),at=n.v,st=n.v;if("fromAction"==t.wp){var ot=t.k.YY,lt=t.k.l5;if("make"==ot||"duplicate"==ot){var ht,ut,ft=nt.length,ct=!1;n.y7()&&ft--,(nn=new qi.vi).name="Alpha "+(ft+1),"make"==ot?(ht=lt.Nw.v,nn.color=255,rt=[ft],nn.KT=!0,nn.i9=ht.Opct.v,ht.Nm&&(nn.name=ht.Nm.v),"SCch"==ht.classID&&(ct=!0,st=null,nn.A2=1)):"fsel"==lt.null.v[0].v.keyID?ct=!0:(ut=qr.$S.tV(n),st=qr.$S.x5(n,ut),nn.color=0,nn.rect=st.rect,nn.channel=st.channel),ct&&(nn.color=0,n.v&&(nn.rect=n.v.rect.clone(),nn.channel=n.v.channel.slice(0))),nt.splice(ft,0,nn)}else if("delete"==ot){if(o&&o.sL()&&1==o.rq)return void this.gT({d:qi.BY},e,n,i,r);if((O=n.kx).sort(function(t,e){return e-t}),0==O.length)return;for(g=0;g<O.length;g++)nt.splice(O[g],1);rt=[]}else"hide"==ot&&(nt[rt[0]]=nt[rt[0]].clone(),nt[rt[0]].KT=!1)}"rnm"==t.wp&&(nt[t.BT]=nt[t.BT].clone(),nt[t.BT].name=t.name),(f=new Ri("Channel Edit",this)).data={d:a,EI:n.En.slice(0),SQ:n.kx.slice(0),Ue:nt,en:rt,Xa:at,TB:st},this.PS(f.data,n),n.Sy(f)}if(a==qi.xC&&(ut=new Fr(0,0,n.m,n.n),(f=new Ri(t.rD,this)).data={d:qi.xC,sX:n.g.slice(0),V6:t.V6,Sc:n.w.slice(0),sg:t.TB},n.Sy(f),this.PS(f.data,n),(ct=qr.B_.FU(n))&&(f.data.ic=ut,f.data.dX=ct)),a==qi.hL){var pt=1e10;if(0==(Ze=n.ZI(null,t.i)).length)return;if(n.g.length==Ze.length)return void alert("Project must have at least 1 layer");for(var dt=[],g=0;g<n.g.length;g++)-1==Ze.indexOf(g)&&dt.push(n.g[g]);for(g=0;g<Ze.length;g++)pt=Math.min(pt,Ze[g]);for(pt=Math.max(pt-1,0);"</Layer group>"==dt[pt].name;)pt++;this.track({YY:"delete",l5:{classID:"Dlt",null:Ui.S3("Lyr",!0)}}),(f=new Ri([6,31],this)).data={d:qi.xC,sX:n.g.slice(0),V6:dt,Sc:n.w.slice(0),sg:[pt]},n.Sy(f),this.PS(f.data,n)}if(a==qi.EU){if(!i.j(ii.Ml))return;(f=new Ri("Switch Layer Link",this)).data={d:a,i:t.i},n.Sy(f),this.PS(f.data,n)}if(a==qi.jI){var vt=0,gt=!1;if(0==(O=t.a6a||n.w).length)return;if(1==O.length&&0==n.g[O[0]].au)return void alert(ri.get([15,7,5]));for(var yt=[],g=0;g<n.g.length;g++){var mt=n.g[g].au;yt.push(mt),vt=Math.max(vt,mt)}for(var wt=-1,bt=-1,g=0;g<O.length;g++)0==(mt=n.g[O[g]].au)?gt=!0:-1==wt||wt==mt?wt=mt:bt=mt;if(gt)if(-1!=wt&&-1==bt)for(g=0;g<O.length;g++)n.g[O[g]].au=wt;else for(g=0;g<O.length;g++)n.g[O[g]].au=vt+1;else for(g=0;g<O.length;g++)n.g[O[g]].au=0;for(var Mt=[],g=0;g<n.g.length;g++)null==Mt[mt=n.g[g].au]&&(Mt[mt]=0),Mt[mt]++;for(g=0;g<n.g.length;g++)1==Mt[mt=n.g[g].au]&&(n.g[g].au=0);for(var St=yt,yt=[],g=0;g<n.g.length;g++){mt=n.g[g].au;yt.push(mt),vt=Math.max(vt,mt)}(f=new Ri(gt?[6,54,0]:[6,54,1],this)).data={d:qi.jI,ah4:St,aav:yt},n.Sy(f),this.PS(f.data,n)}if((a!=qi.PR||null==t.i&&0==n.w.length)&&a!=qi.RZ||(Lt=n.sE(a==qi.PR?t.i:s,null,t.at3),a==qi.RZ&&(ot=(ee=Lt[0]).add.SoLd.Idnt.v,It=n.Qw(ot).clone(),ee.add.SoLd.Idnt.v=It.n4=zi.Gs()+ot.slice(8),n.add.lnk2.push(It)),a==qi.PR&&(St={YY:"duplicate",l5:{classID:"null",null:Ui.S3("Lyr",!0)}},t.uD&&(Lt[0].Zu(t.uD),St.Nm={t:"TEXT",v:t.uD}),this.track(St),t.a0K=t.i),a=qi.gn,t.g=Lt,t.Pt=n,t.h_=n),a==qi.gn){var Ct=t.Pt,xt=t.h_,Lt=0,Dt=0,kt=!1,Tt=0,At=0;if(Ct!=xt){console.log("ADDLAYERS different projs");new Fr(0,0,Ct.m,Ct.n),new Fr(0,0,xt.m,xt.n);for(var Et=[],Ot=[],g=0;g<t.g.length;g++)null!=(ee=t.g[g]).add.SoLd&&(ot=ee.add.SoLd.Idnt.v,-1==Et.indexOf(ot)&&(Et.push(ot),Ot.push(zi.Gs()+ot.slice(8))),ee.add.SoLd.Idnt.v=Ot[Et.indexOf(ot)],(Q=ee.ez(Ct))&&(Ct.V1(Q),xt.lQ(Q)));if(0<Et.length){null==xt.add.lnk2&&(xt.add.lnk2=[]);for(var Nt,It,g=0;g<Et.length;g++)(It=(Nt=Ct.Qw(Et[g])).clone()).n4=Ot[g],xt.add.lnk2.push(It)}}(at=xt.w.slice(0)).sort(function(t,e){return t-e});for(var dt=xt.g.slice(0),st=[],Pt=-1,g=0;g<at.length;g++)Pt=Math.max(Pt,at[g]);null!=t.a0K&&(Pt=t.a0K);var Ft=Ct.ak();t.PH&&(Pt=t.PH-1,Lt+=(Jt=xt.g[t.PH].Gn()).x,Dt+=Jt.y),-1==Ft||Ct==xt&&!t.PH||(Lt-=(bn=Ct.g[Ft].Gn()).x,Dt-=bn.y);var _t=xt.pt();Pt++;for(g=0;g<t.g.length;g++){var Bt=(jt=t.g[g]).add.artb;if(dt.splice(Pt,0,jt),st.push(Pt),Pt++,Bt){var Rt=Bt.guideIndeces;if(Rt){Rt=Rt.v,console.log(Rt);for(var Ut=0;Ut<Rt.length;Ut++)_t[0].push(Ct.p6[Rt[Ut].v].slice(0)),_t[1].push(dt.indexOf(jt)),kt=!0}}}for(g=0;g<t.g.length;g++){var jt=t.g[g];o.add.lsct==Gi.A0?(0==Tt&&At++,Tt++):jt.dH()&&Tt--}1==At&&(st=[Pt-1]),(f=new Ri([6,0],this)).data={d:qi.xC,sX:xt.g.slice(0),V6:dt,Sc:at,sg:st},kt&&(f.data.Oi=[xt.pt(),_t]),xt.Sy(f),this.PS(f.data,xt),0==Lt&&0==Dt||qr.DD.iu(xt,xt.ZI(),null,Lt,Dt)}if(a==qi.afP){for(var Ht=null!=t.i?[t.i]:n.ZI(),dt=n.g.slice(0),g=0;g<Ht.length;g++)(jt=n.g[Ht[g]].clone()).mx(n),dt.splice(Ht[g],1,jt);(f=new Ri([6,8],this)).data={d:qi.xC,sX:n.g.slice(0),V6:dt,Sc:n.w.slice(0),sg:n.w.slice(0)},n.Sy(f),this.PS(f.data,n)}if(a==qi.a3a){var Jt,Dt=(jt=(dt=n.g.slice(0))[n.w[0]]=dt[n.w[0]].clone()).add.lmfx;delete jt.add.lmfx;var qt,Gt=(Ve=n.w[0])+1;jt.dH()?(Jt=(qt=n.g[n.w[0]].St).acd,qt=qt.K2,Ve=(E=n.root.eu(Ve)).vQ):(Jt=jt.rect,qt=Rr.t(Jt.Z()),Rr.VW(jt.buffer,qt,3));for(var Zt=Xi.Ux(Dt,jt.add.fxrp,qt,Jt,n,Jt).type,g=0;g<Wi.order.length;g++){var zt=Wi.order[g];(ke=Zt[zt]).reverse();for(Ut=0;Ut<ke.length;Ut++){var Vt,Wt=ke[Ut],p=n.rL(),Xt=7<g;"ebbl"==zt&&(Wt.rg||Wt.Nu?(Vt=Wt.rg||Wt.Nu,Wt.rg?delete Wt.rg:delete Wt.Nu,(Wt.Nu||Wt.HL)&&Ut--):(Wt.HL||Wt.JU)&&(Vt=Wt.JU||Wt.HL,Wt.JU&&(delete Wt.JU,Wt.HL&&Ut--),Xt=!0),Wt=Vt),p.SD=Wt.pW,p.opacity=Math.round(255*Wt.WS),p.buffer=Wt.L0,p.rect=Wt.HI.clone(),p.rect.offset(Jt.x,Jt.y),"FrFX"==zt&&(p.buffer=p.buffer.slice(0),Rr.al(Wt.jj||Wt.Qd,p.buffer,3),Wt.jj&&(Xt=!0,delete Wt.jj,Wt.Qd&&Ut--)),p.jF=!Xt,p.Zu(jt.getName()+"'s "+ri.get(Wi.names[g])),dt.splice(Xt?Ve:Gt,0,p),Xt&&Gt++}}(f=new Ri("Styles to Layers",this)).data={d:qi.xC,sX:n.g.slice(0),V6:dt,Sc:n.w.slice(0),sg:[Gt-1]},n.Sy(f),this.PS(f.data,n)}if(a==qi.DM){for(var Ht=n.ZI(),dt=n.g.slice(0),Yt=new Fr(0,0,n.m,n.n),g=0;g<Ht.length;g++){var Kt=(hn=n.g[Ht[g]]).SH();hn.I9(!0);var Qt=n.root.eu(Ht[g]);hn.dH()||null!=Qt&&((jt=hn.clone()).mx(n),Qt=Qt.bZ(n,!0),ce=n.g,n.Gk([hn]),n.G(),n.Bv(),jt.buffer=Rr.t(4*Qt.Z()),Rr.Ik(n.y5(),Yt,jt.buffer,Qt),jt.rect=Qt,jt.opacity=255,jt.add.iOpa=255,jt.SD="norm",jt.G(),jt.St.JC=!0,n.Gk(ce),jt.add.lmfx&&delete jt.add.lmfx,jt.q=jt._n=null,dt.splice(Ht[g],1,jt),jt.I9(Kt),hn.I9(Kt))}(f=new Ri([6,34],this)).data={d:qi.xC,sX:n.g.slice(0),V6:dt,Sc:n.w.slice(0),sg:n.w.slice(0)},n.Sy(f),this.PS(f.data,n)}if(a==qi.a2k){for(Ht=n.ZI(),dt=n.g.slice(0),g=0;g<Ht.length;g++){var $t=(jt=n.g[Ht[g]]).add.TySh;if(null!=$t){var te,ee=new nr($t.nx,r.PG);for(te in mn=Rr.H.eN(er.cy(ee,$t))){var ne=mn[te];delete(re=jt.clone()).add.TySh,re.OW=16|re.OW,re.add.SoCo=JSON.parse(JSON.stringify(Wi.iP[0]));var ie=re.add.SoCo.Clr.v;ie.Rd.v=parseInt(te.slice(1,3),16),ie.Grn.v=parseInt(te.slice(3,5),16),ie.Bl.v=parseInt(te.slice(5,7),16);ie=new qi.g6;ie.Y=Rr.H.z8(ne,!1),null!=re.add.vmsk&&(re.add.vmsk.a8p(),ie.concat(re.add.vmsk)),re.add.vmsk=ie,re.add.vstk=JSON.parse(JSON.stringify(Wi.XF.default)),re.Ky(),re.fF(n),dt.splice(dt.indexOf(jt),0,re)}dt.splice(dt.indexOf(jt),1)}}for(g=(st=n.w.slice(0)).length-1;0<=g;g--)st[g]>=dt.length&&st.splice(g,1);(f=new Ri([6,40],this)).data={d:qi.xC,sX:n.g.slice(0),V6:dt,Sc:n.w.slice(0),sg:st},n.Sy(f),this.PS(f.data,n)}if(a==qi.au5){if((Dn=n.w.length)<2)return void alert("Select two or more layers.");if(!n.JA())return;for(var re=n.g[n.w[0]].clone(),dt=[],g=0;g<n.g.length;g++)-1==n.w.indexOf(g)&&dt.push(n.g[g]);dt.splice(n.w[0],0,re);for(g=1;g<Dn;g++)if(2e6<n.g[n.w[g]].rect.Z())return void alert("Blended areas are too large.");for(g=1;g<Dn;g++){(ve=(jt=n.g[n.w[g]]).rect.clone()).bA(1,1);var ae=Rr.t(4*ve.Z());Rr.Ik(jt.buffer,jt.rect,ae,ve),re.extend(ve);var se=Rr.t(4*ve.Z());Rr.Ik(re.buffer,re.rect,se,ve);var f=Rr.t(ve.Z());Rr.VW(ae,f,3),Rr.round(f,200),Rr.al(f,ae,3),Rr.a.bW("norm",ae,ve,se,ve,ve,1),Rr.BH.rc(se,f,ve),Rr.Ik(se,ve,re.buffer,re.rect)}(f=new Ri([2,10,0],this)).data={d:qi.xC,sX:n.g.slice(0),V6:dt,Sc:n.w.slice(0),sg:[n.w[0]]},n.Sy(f),this.PS(f.data,n)}if(a==qi.Nl){for(dt=n.g.slice(0),rt=n.w.slice(0),g=0;g<dt.length;g++){_=(jt=dt[g]).add.vmsk;if(jt.D5()&&_&&jt.add.vstk.strokeEnabled.v&&!jt.add.vstk.fillEnabled.v){for(var oe=_.Y,le=0,he=-1,Ut=0;Ut<oe.length;Ut++)0!=oe[Ut].type&&3!=oe[Ut].type||-1==oe[Ut].Gw||(le++,3==oe[Ut].type&&-1==he&&(oe[Ut].aD=oe[Ut].Gw=1,he=Ut));if(1<le&&-1!=he){console.log("separating an open path into a new layer");var p=(oe=(_=(jt=jt.clone()).add.vmsk).Y)[he].length,ue=jt.clone();ue.add.lyid=n.zJ(),_.Y=oe.slice(0,2).concat(oe.slice(he,he+p+1)),_.w=[],jt.fF(n),jt.G();var fe=ue.add.vmsk.Y;ue.add.vmsk.Y=fe.slice(0,he).concat(fe.slice(he+p+1,fe.length)),ue.add.vmsk.w=[],ue.fF(n),dt[g]=jt,dt.splice(g+1,0,ue);for(Ut=0;Ut<rt.length;Ut++)rt[Ut]>g&&rt[Ut]++;ue=rt.indexOf(g);-1!=ue&&rt.splice(ue+1,0,g+1)}}}dt.length!=n.g.length&&((f=new Ri("Splitting open paths",this)).data={d:qi.xC,sX:n.g.slice(0),V6:dt,Sc:n.w.slice(0),sg:rt},n.Sy(f),this.PS(f.data,n))}if(a==qi.G_){this.gT({d:qi.Nl},e,n,i,r);var at=n.w.slice(0),ce=n.g.slice(0);if(0==(Ht=n.ZI()).length)return;n.aiN(Ht,!1,t.gw),(f=new Ri([6,36,0],this)).data={d:qi.xC,sX:ce,V6:n.g.slice(),Sc:at,sg:n.w.slice(0)},n.Sy(f),this.PS(f.data,n)}if(a==qi.ab4){if(null==($=o.add.SoLd))return;var ot=$.Idnt.v,pe=n.Qw(ot);pe.y5(!1);var de=pe.y9[0],ve=pe.y9[1];if(Rr.Jw(de))return void alert("The smart object contains transparency.");pe=ai.TN("jpg").D6([[de.buffer]],ve.m,ve.n,[90]);return this.gT({d:qi.Q0,Jt:n,data:new Uint8Array(pe),id:ot,gw:"jpg"},e,n,i,r),void console.log(n.add)}if(a==qi.Q0&&((It=(Nt=t.Jt.Qw(t.id)).clone()).raw=t.data,t.s3&&(It.s3=t.s3),t.gw?(It.cZ="    ",It.SB="    ",It.s3=It.s3+"."+t.gw):(It.cZ="8BIM",It.SB="8BPB",It.s3=It.s3+".psd"),It.y5(!1),Nt.y5(!1),(f=new Ri([6,36,1],this)).data={d:qi.Q0,id:t.id,cV:Nt,Ic:It},t.Jt.Sy(f),this.PS(f.data,t.Jt)),a==qi.v2&&((f=new Ri([6,36,4],this)).data={d:a,i:s,Zk:o.add.SoLd.Impr.v.classID,NL:t.NL},n.Sy(f),this.PS(f.data,n)),a==qi.akJ){pe=t._8?(ge=t.Jt,t._8):(t.Jt.Lg(),t.Jt.he(),t.Jt.G(),t.Jt.Bv(),t.Jt.y5(),ge=ai.TN("PSD").D6(t.Jt,0,0,[!0,!0]),t.Jt.name);if(!(ge instanceof ArrayBuffer))throw"e";var ge=new Uint8Array(ge);null==(Rn=t.CB)&&(Rn=0==n.w.length?n.w.length:(me=n.w[n.w.length-1],(p=n.g[me]).dH()?me:me+1));var ye=new Fr(0,0,n.m,n.n),me=n.ak();-1!=me&&(ye=n.g[me].Gn());var we=n.Rp(ge,pe,0,0,ye);(dt=n.g.slice(0)).splice(Rn,0,we),(f=new Ri([6,36,2],this)).data={d:qi.xC,sX:n.g.slice(),V6:dt,Sc:n.w.slice(0),sg:[dt.indexOf(we)]},n.Sy(f),this.PS(f.data,n)}if(a==qi.YN&&"merge"==t.wp){for(var be=[],Me=n.root.children,Se=0,g=0;g<Me.length;g++){var jt=(E=Me[g]).i,Ce=E.children,xe=!0;if(jt.dH()&&0!=Ce.length){for(Ut=0;Ut<Ce.length;Ut++)if(!Ce[Ut].i.getName().startsWith("_a_")){xe=!1;break}xe&&be.push(n.g.indexOf(jt))}}for(var Le=[],g=0;g<be.length;g++)-1!=n.w.indexOf(be[g])&&Le.push(be[g]);if((be=2<=Le.length?Le:be).length<2)return void alert('At least two animation folders needed (whose layers start with "_a_").',3500);for(var De=[],g=0;g<be.length;g++)De.push(n.g[be[g]].getName());for(var ke=[],Te=0;Te<be.length;Te++){var E=n.root.eu(be[Te]),Ae=[[],[],0,Te];ke.push(Ae);for(g=0;g<E.children.length;g++){var Ee,C=E.children[g].index,Oe=20;1<(xn=(nn=(jt=E.children[g].i).getName()).split(",")).length&&(Ee=parseInt(xn.pop()),isNaN(Ee)||0==Ee||(Oe=Ee)),Ae[0].push(jt),Ae[1].push(Oe),Ae[2]+=Oe}}ke.sort(function(t,e){return e[2]-t[2]});for(var Ne=ke[0],Ie=Ne[2],Pe=1;Pe<ke.length;Pe++){for(var Fe=1,_e=(Ae=ke[Pe])[1].slice(0),Be=0;(Fe+1)*Ae[2]<=Ne[2];)Fe++,_e=_e.concat(Ae[1]);Ae[1]=_e,Ae[2]*=Fe;for(var Re=Ne[2]/Ae[2],g=0;g<Ae[1].length;g++){var Ue=Math.floor(Ae[1][g]*Re);Be+=Ae[1][g]=Ue}for(;Be<Ie;)Be++,Ae[1][Ae[1].length-1]++;Ae[2]=Be}for(var je=[],He=[],Ue=[],g=0;g<ke.length;g++)je.push(0),He.push(0);for(;Se<Ie;){for(var Je=1e9,ft=-1,g=0;g<ke.length;g++){var qe=ke[g][1];(Ve=je[g])!=qe.length&&He[g]+qe[Ve]<Se+Je&&(Je=He[ft=g]+qe[Ve]-Se)}He[ft]+=ke[ft][1][je[ft]],je[ft]++,0!=Je&&(Ue.push(Je),Se+=Je)}for(g=1;g<Ue.length;g++){var Ge=Ue[g];Ge<16&&(Ue[g-1]<16||g<Ue.length-1&&16<=Ue[g+1])&&(Ue[g-1]+=Ge,Ue.splice(g,1),g--)}for(Kt=[],Yt=new Fr(0,0,n.m,n.n),g=0;g<n.g.length;g++)Kt[g]=n.g[g].SH(),n.g[g].I9(!1);var Ze,ye=n.w.slice(0);n.w=be,(Ze=n.ZI()).sort(function(t,e){return t-e});for(dt=[],g=0;g<n.g.length;g++)-1==Ze.indexOf(g)&&dt.push(n.g[g]);ke.sort(function(t,e){return t[3]-e[3]}),dt.splice(Ze[Se=0],0,n.ne());for(var ze=0;ze<Ue.length;ze++){for(b=[],g=0;g<ke.length;g++){var Ve=function(t,e){for(var n=0,i=0;i+t[n]<=e;)i+=t[n],n++;return n}(ke[g][1],Se)%ke[g][0].length,jt=ke[g][0][Ve];b.push(jt)}for(jt=n.rL(),g=0;g<ke.length;g++){var We=b[g],H=n.g[be[g]];We.I9(!0),H.I9(!0)}n.G(),n.Bv();de=n.y5();jt.rect=Rr.zZ(de,Yt,2),jt.buffer=Rr.t(4*jt.rect.Z()),Rr.Ik(de,Yt,jt.buffer,jt.rect);for(g=0;g<ke.length;g++){We=b[g],H=n.g[be[g]];We.I9(!1),H.I9(!1)}jt.I9(0==ze),jt.Zu("_a_frm"+ze+","+Ue[ze]),dt.splice(Ze[0]+1+ze,0,jt),Se+=Ue[ze]}(jt=n.rL()).Zu(De.join(" + ")),jt.SD="pass",jt.add.lsct=Gi.jT,jt.OW=24,dt.splice(Ze[0]+1+Ue.length,0,jt);for(g=0;g<n.g.length;g++)n.g[g].I9(Kt[g]);(f=new Ri([6,12,0],this)).data={d:qi.xC,sX:n.g,V6:dt,Sc:ye,sg:[Ze[0]+1+Ue.length]},n.Sy(f),this.PS(f.data,n)}if(a==qi.Gm||a==qi.y$){var Xe=1==n.w.length,ce=n.g.slice(0),at=n.w.slice(0),Ye=!0;if(Xe&&(n.w=[s,s-1]),a==qi.y$){n.w=[];for(g=0;g<n.g.length;g++)n.g[g].SH()&&n.w.push(g)}(Ht=n.ZI()).sort(function(t,e){return t-e});for(var Ke,Qe=new Fr,Yt=new Fr(0,0,n.m,n.n),g=0;g<Ht.length;g++)C=Ht[g],jt=n.g[C],Ye=Ye&&jt.D5()&&null!=jt.add.vmsk,Qe=Qe.hq(n.root.eu(C).bZ(n,!0));if(Ye){for(_=(we=n.g[Ht[0]].clone()).add.vmsk,g=1;g<Ht.length;g++){p=n.g[Ht[g]],fe=qi.g6.nk(p.add.vmsk.Y);_.Y=_.Y.concat(fe.slice(2)),we.add.vogk=we.add.vogk.concat(JSON.parse(JSON.stringify(p.add.vogk)))}we.add.vmsk.X$=!0,we.fF(n)}else Yt.st(Qe)?((we=n.rL()).Zu(n.g[Ht[Ht.length-1]].getName()),we.rect=Qe,we.buffer=Rr.t(4*Qe.Z()),Ke=n.y5(Ht),Rr.Ik(Ke,Yt,we.buffer,Qe),we.Er(),we.G()):(n.aiN(Ht,!0),we=n.g[n.w[0]],n.g.splice(n.w[0],1),Ke=n.Qw(we.add.SoLd.Idnt.v),n.add.lnk2.splice(n.add.lnk2.indexOf(Ke),1),delete we.add.SoLd);var $e=l,tn=-1;-1==(tn=($e=t.l5&&t.l5.Dplc&&t.l5.Dplc.v?!0:$e)&&a==qi.y$&&n.g[at[0]].Z1()&&n.g[at[0]].rect.mN()?at[0]:tn)&&!Xe||(en=n.g[-1!=tn?tn:s-1],we.Zu(en.getName()),we.add.lclr=en.add.lclr);for(dt=[],g=0;g<n.g.length;g++)!$e&&-1!=Ht.indexOf(g)||g==tn||dt.push(n.g[g]);var Xe=Ht[Ht.length-1],en=Xe==n.g.length-1?null:n.g[Xe+1],Xe=en?dt.indexOf(en):dt.length;dt.splice(Xe,0,we),st=[Xe],(f=new Ri([6,12,0],this)).data={d:qi.xC,sX:ce,V6:dt,Sc:at,sg:st},n.Sy(f),this.PS(f.data,n)}a==qi.a2o&&((re=n.rL()).rect=new Fr(0,0,n.m,n.n),re.buffer=Rr.t(4*re.rect.Z()),Rr.Bg(re.buffer,4294967295),Rr.a.bW("norm",n.y5(),re.rect,re.buffer,re.rect,re.rect,1),re.Zu("Background"),re.add.lspf=4,(f=new Ri([6,12,1],this)).data={d:qi.xC,sX:n.g.slice(),V6:[re],Sc:n.w.slice(0),sg:[0]},n.Sy(f),this.PS(f.data,n));var nn,rn,an,en=a==qi.rb||a==qi.mn;if(a==qi.cD||a==qi.P$||a==qi.$Z||a==qi.hO||en){var sn,jt=en?n.sE()[0]:n.rL(),on=ri.get([0,3]),ln=t.uD,Xe=!1;if(a==qi.$Z&&(on=ri.get([12,76,1])),en){if(n.v){var hn,un=(hn=n.g[n.w[0]]).II(n,n.v);if(null==un)return void alert("Copied area is empty");jt.rect=un.rect,jt.buffer=un.lJ,jt.mx(n)}else ln=jt.getName();jt.add.lspf=0,jt.jF=!1,0!=(1&jt.OW)&&jt.OW--}if(a==qi.hO&&(jt.rect=qr.Ap.YK(t.bG,n),jt.buffer=t.bG.buffer.slice(0),t.oP&&n.v&&(jt.q=new qi.vi,jt.q.rect=n.v.rect,jt.q.color=0,jt.q.channel=n.v.channel.slice(0))),a==qi.cD&&this.track({YY:"make",l5:{classID:"Mk",null:Ui.S3("Lyr")}}),a==qi.P$){jt.OW|=16;var fn,cn=(wn=t.l5.Usng.v).Type.v,pn=ji.kc[cn.classID];for(fn in on=ri.get(ji.names[pn]),wn.Nm&&(ln=wn.Nm.v),jt.add[pn]=Gr.PD(pn),null==jt.add[pn]&&(jt.add[pn]={}),cn)jt.add[pn][fn]=JSON.parse(JSON.stringify(cn[fn]));jt.q=qr.Ap.E9(n),jt.rq=1}if(a==qi.$Z){jt.OW|=16;var dn,un=(wn=(lt=t.l5).Usng.v).Type.v,vn=wn.Shp;if(wn.Nm&&(ln=wn.Nm.v),null==vn){var gn,yn=n.l7(),mn=yn[0],yn=yn[1];0!=yn.length&&mn[yn[0]].BT<0?(gn=mn[yn[0]].add,jt.add.vmsk=gn.vmsk.clone(),jt.add.vstk=JSON.parse(JSON.stringify(Wi.XF.default)),jt.add.vogk=JSON.parse(JSON.stringify(gn.vogk)),n.B0=[]):jt.q=qr.Ap.E9(n)}else if(console.log(wn),jt.add.vmsk=new qi.g6,jt.add.vstk=JSON.parse(JSON.stringify(wn.strokeStyle?wn.strokeStyle.v:Wi.XF.default)),jt.add.vogk=[],vn)if(dn=Rr.UY.Xx(vn))jt.add.vogk=[dn],jt.add.vmsk.Y.push({type:0,Gw:1,length:0}),Rr.UY.pR(jt.add.vogk,jt.add.vmsk);else{yn=(vn=vn.v).classID;if("Plgn"==yn){var wn=vn.Cntr.v,bn=vn.corner.v,wn=new Pr(wn.Hrzn.v.val,wn.Vrtc.v.val);bn=new Pr(bn.Hrzn.v.val,bn.Vrtc.v.val),jt.add.vmsk.Y=Rr.$.lO.Ll(wn.x,wn.y,Math.sqrt(bn.x*bn.x+bn.y*bn.y),Math.atan2(bn.y,bn.x),vn.sides.v,0)}else if("customShape"==yn){for(var Mn,bn=Rr.UY.LJ(vn),yn=bn[2]-bn[0],Sn=bn[3]-bn[1],Cn=r.wF,g=0;g<Cn.length;g++)Cn[g].L2==vn.Nm.v&&(Mn=Cn[g]);Mn?(Ln=qi.g6.nk(Mn.Y),Rr.$.yl(Ln,new _r(yn,0,0,Sn,bn[0],bn[1]))):Ln=Rr.$.lO.Rect(bn[0],bn[1],yn,Sn,0),jt.add.vmsk.Y=Ln}jt.Ky()}var xn,Sn={solidColorLayer:0,gradientLayer:1,patternLayer:2}[un.classID],Ln=["SoCo","GdFl","PtFl"][Sn];jt.add[Ln]=JSON.parse(JSON.stringify(Wi.iP[Sn])),qr.Ap.pY(un,jt.add[Ln],Sn),null==vn&&(on=ri.get([6,48,0,Sn])),"PtFl"==Ln&&(Tn=jt.add[Ln].Ptrn.v,null==(xn=Xi.B8(Tn,r.fC))&&(xn=Xi.B8(Tn,n.add.Patt)),Tn.Idnt.v=xn.id,n.uo(xn)),jt.fF(n)}var Dn=qr.Ap.E1(n,on+" ");jt.Zu(on+" "+(Dn+1)),ln&&jt.Zu(ln);var kn=0==n.w.length?n.g.length-1:n.w[n.w.length-1],Tn=n.g[kn];a==qi.$Z&&Tn.Z1()&&Tn.rect.mN()?(Xe=!0,jt.Zu(Tn.getName()),Pn=kn):(Pn=kn+(a==qi.cD&&u&&!h?0:1),Tn&&Tn.add.lsct==Gi.pb&&Pn--),t.aae&&(Pn=Math.max(0,Pn-1));dt=n.g.slice(0);a==qi.mn&&(An=dt[n.w[0]]=dt[n.w[0]].clone(),Tn=n.v.channel.slice(0),Rr.tU(Tn),Rr.WE(Tn,n.v.rect,An.buffer,An.rect)),dt.splice(Pn,Xe?1:0,jt);var An=[5,2];a==qi.cD&&(An=[6,13]),a==qi.P$&&(An=[6,1]),a==qi.$Z&&(An=[6,48,1],!(vn=t.l5.Usng.v.Shp)||(Xe={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[vn.v.classID])&&(An=Xe)),en&&(An=[6,49,a==qi.rb?0:1]),(en||a==qi.$Z||a==qi.hO||a==qi.P$)&&n.v&&(sn=[n.v,null]),(f=new Ri(An,this)).data={d:qi.xC,sX:n.g.slice(0),V6:dt,Sc:n.w.slice(0),sg:[Pn],cI:sn},n.Sy(f),this.PS(f.data,n),(a==qi.$Z&&null==vn&&0!=Sn||a==qi.P$)&&((En=new yr(mr.E.W)).data={d:mr.J.R$,RB:Ns.DG.OX},e.c(En))}if(a==qi.rk&&(jt=n.rL(),on=ri.get([0,4]),Dn=qr.Ap.E1(n,on+" "),jt.Zu(on+" "+(Dn+1)),jt.SD="pass",jt.add.lsct=Gi.pb,jt.OW=24,t.uD&&jt.Zu(t.uD),null!=t.AF&&(jt.add.lclr=t.AF),Bn=n.ne(),Pn=(kn=s)+(u?0:1),(dt=n.g.slice(0)).splice(Pn,0,Bn,jt),(f=new Ri([6,20],this)).data={d:qi.xC,sX:n.g.slice(0),V6:dt,Sc:n.w.slice(0),sg:[Pn+1]},n.Sy(f),this.PS(f.data,n)),a==qi.Mp||a==qi.eF){var En=a==qi.Mp?t.source:n.w[0],on=-1!=n.w.indexOf(En),u=l|t.akL,Je=null;if((_n=on?n.ZI():n.h5(En)).sort(function(t,e){return t-e}),a==qi.Mp)On=t.target,In=.5<t.zD;else if(null!=t.target)On=Math.min(t.target,n.g.length-1),In=t.target<n.g.length,n.b6=!0;else{var On,Nn=t.wp,In=1<Nn;if(0==Nn&&(On=n.g.length-1),1==Nn&&(On=_n[_n.length-1]+1,-1==(p=n.h5(On)).indexOf(En)&&(On+=p.length-1)),2==Nn&&(On=_n[0]-1,-1==(p=n.h5(On)).indexOf(En)&&(On-=p.length-1)),3==Nn&&"bgnd"==n.g[On=0].add.lnsr&&On++,On<0||On>n.g.length-1)return;n.b6=!0}if(-1!=_n.indexOf(On)&&!u)return;var Pn=qr.Ap.mO(n,_n,On,In,u?n.sE(on?null:En):null,a==qi.Mp&&.8<t.zD),Nn=Pn.pop(),rt=Pn.pop(),dt=Pn.pop(),on=n.w;n.w=[En];Ft=n.ak();n.w=[On];Pn=n.ak();Pn!=On||In||(Pn=-1),n.w=on,En==Ft||Ft!=Pn&&(Je=new Pr(0,0),-1!=Ft&&(ve=n.g[Ft].Gn(),Je.x-=ve.x,Je.y-=ve.y),-1!=Pn&&(ve=n.g[Pn].Gn(),Je.x+=ve.x,Je.y+=ve.y)),(f=new Ri(u?[6,0]:[6,35],this)).data={d:qi.xC,sX:n.g.slice(0),V6:dt,Sc:n.w.slice(0),sg:rt,bt:Je},n.Sy(f),this.PS(f.data,n);lt={classID:"move",null:Ui.S3("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:Nn+(In?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:u}};this.track({YY:"move",l5:lt})}if(a==qi.t8)if(t.lr){if(null==o||!o.dH())return;var E=n.root.eu(s),Fn=n.g.indexOf(E.a4c);(dt=n.g.slice(0)).splice(s,1),dt.splice(Fn,1);for(rt=[],g=Fn;g<s-1;g++)rt.push(g);(f=new Ri("Ungroup Layers",this)).data={d:qi.xC,sX:n.g.slice(0),V6:dt,Sc:n.w.slice(0),sg:rt},n.Sy(f),this.PS(f.data,n)}else{jt=n.rL(),Fn=ri.get([0,4])+" ";jt.Zu(Fn+(qr.Ap.E1(n,Fn)+1)),jt.SD="pass",t.uD&&jt.Zu(t.uD),null!=t.AF&&(jt.add.lclr=t.AF),jt.add.lsct=1==n.w.length?Gi.pb:Gi.jT,jt.OW=24;var _n,Bn=n.ne();if(0==(_n=n.ZI()).length)return;_n.sort(function(t,e){return t-e});for(dt=[],g=0;g<n.g.length;g++)-1==_n.indexOf(g)&&dt.push(n.g[g]);kn=n.w[n.w.length-1]-_n.length;dt.splice(kn+1,0,Bn);for(g=0;g<_n.length;g++)dt.splice(kn+2+g,0,n.g[_n[g]]);dt.splice(kn+2+_n.length,0,jt),(f=new Ri([6,9],this)).data={d:qi.xC,sX:n.g.slice(0),V6:dt,Sc:n.w.slice(0),sg:[dt.indexOf(jt)]},n.Sy(f),this.PS(f.data,n),(m={YY:"make",xY:!0}).l5={classID:"Mk",null:Ui.S3("layerSection"),From:Ui.S3("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:jt.getName()}}}},this.track(m)}if(a==qi.ak1){if(1!=n.w.length)return;var Rn=n.w[0],Un=l;null!=n.g[Rn].sL()||i.j(ii.NT)?(a=qi.gA,t.adx=!0):(a=qi.xo,t.Zx=n.v?Un?"HdSl":"RvlS":Un?"HdAl":"RvlA")}if(a==qi.xo){if(1!=n.w.length)return;Rn=n.w[0];(jt=n.g[Rn]).add.vmsk&&null==jt.q&&jt.fF(n);var jn,Hn,Jn,Un=jt.sL();null!=Un&&!t.an2||(f=new Ri([6,21],this),jn=new qi.vi,Jn="RvlS"==(Hn=t.Zx)||"HdSl"==Hn,"RvlS"!=Hn&&"HdAl"!=Hn&&"Trns"!=Hn||(jn.color=0),Jn&&(jn.channel=n.v.channel.slice(0),jn.rect=n.v.rect.clone(),"HdSl"==Hn&&Rr.tU(jn.channel)),"Trns"==Hn&&(jn.rect=jt.rect.clone(),jn.channel=Rr.t(jt.rect.Z()),Rr.VW(jt.buffer,jn.channel,3)),f.data={d:qi.ff,d0:[Rn,Un,jn],cI:Jn?[n.v,null]:null},n.Sy(f),this.PS(f.data,n),n.g[Rn].rq=1,this.track({YY:"make",l5:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:Hn}}}}))}else a==qi.al6&&(J=n.g[t.src],q=n.g[t.BV],f=new Ri([6,21],this),Jn=J.sL(),Hn=q.sL(),qn=[t.src,Jn,null,t.BV,Hn,Jn],(l||h)&&(nn=Jn.clone(),l?qn=[t.BV,Hn,nn]:qn[5]=nn,h&&(Rr.tU(nn.channel),nn.color=255-nn.color)),f.data={d:qi.ff,d0:qn},n.Sy(f),this.PS(f.data,n));if(a==qi.BY){if(1!=n.w.length)return;var Rn=s,qn=n.g[Rn].sL();null!=qn&&((f=new Ri([6,22],this)).data={d:qi.ff,d0:[s,qn,null]},n.Sy(f),this.PS(f.data,n))}if(a==qi.PN&&(ce=n.g.slice(0),rn=(re=o.clone()).sL(),Rr.WE(rn.PZ(re.rect),re.rect,re.buffer,re.rect),qr.Ap.C2(n,re),re.Er(),n.g[n.w[0]]=re,(f=new Ri([5,8],this)).data={d:qi.xC,sX:ce,V6:n.g.slice(),Sc:n.w.slice(0),sg:n.w.slice(0)},n.Sy(f),this.PS(f.data,n)),a==qi.lz){if(1!=n.w.length)return;Rn=n.w[0];null==n.g[Rn].ez(n).q&&((f=new Ri([6,45],this)).data={d:a,i:Rn,q:new qi.vi},n.Sy(f),this.PS(f.data,n))}if(a==qi.fs){if(1!=n.w.length)return;Rn=n.w[0];null!=n.g[Rn].ez(n).q&&((f=new Ri([6,46],this)).data={d:a,i:Rn,q:n.g[Rn].ez(n).q},n.Sy(f),this.PS(f.data,n))}if(a==qi.WW){if(null==t.src&&1!=n.w.length)return;null!=t.src&&(s=t.src),n.g[s].UG()&&(f=new Ri([6,47],this),$=JSON.stringify(n.g[s].add.SoLd),delete(an=JSON.parse($)).filterFX,f.data={d:qi.H7,A6:[{X2:s,pQ:[$,JSON.stringify(an)],Zi:[n.g[s].ez(n),null]}]},n.Sy(f),this.PS(f.data,n))}if(a==qi.gA){if(1!=n.w.length)return;null==o.add.vmsk&&(f=new Ri([6,23],this),O=(oe=n.l7())[1],oe=oe[0],t.adx&&0!=O.length?(jn=(gn=oe[O[0]].add).vmsk.clone(),dn=gn.vogk):(dn=[],(jn=new qi.g6).Y[1].all=t.a9Z?0:1),f.data={d:a,i:s,Ao:!0,q:jn,UY:JSON.stringify(dn),XF:null},o.D5()&&(f.data.XF=JSON.stringify(Wi.XF.default)),n.Sy(f),this.PS(f.data,n))}if(a==qi.kD){J=n.g[t.src];if((q=n.g[t.BV]).add.vmsk)return;var f=new Ri([6,23],this),_=J.add.vmsk;f.data={i:t.BV,Ao:J.Vj,q:_.clone(),UY:JSON.stringify(J.add.vogk),XF:J.add.vstk?JSON.stringify(J.add.vstk):null},l?f.data.d=qi.gA:(f.data.d=a,f.data.src=t.src,f.data.BV=t.BV),n.Sy(f),this.PS(f.data,n)}if(a==qi.m0||a==qi.e8){if(1!=n.w.length)return;null!=(_=(jt=n.g[s]).add.vmsk)&&((f=new Ri((Zn=a==qi.e8)?[6,8]:[6,24],this)).data={d:qi.m0,i:s,Ao:jt.Vj,q:_,UY:JSON.stringify(jt.add.vogk),XF:jt.add.vstk?JSON.stringify(jt.add.vstk):null},Zn&&(f.data._n=_.sL(jt.add.vstk)),n.Sy(f),this.PS(f.data,n))}if(a==qi.iB&&((f=new Ri("Metadata",this)).data={d:a,JG:JSON.stringify(n._E),TE:JSON.stringify(t.TE)},n.Sy(f),this.PS(f.data,n)),a==qi.dY){var Gn,Zn=t.BV||n;if((Gn=Zn.name)==(ln=t.k+".psd"))return;(f=new Ri([6,37],this)).data={d:a,ap8:Gn,uD:ln},1!=t.asS&&Zn.Sy(f),this.PS(f.data,Zn)}if(a==qi.YN&&t.wp.endsWith("makeframes")){for(var zn=[],Vn=t.wp.startsWith("make"),g=0;g<n.w.length;g++){var Wn,C=n.w[g],Xn=(jt=n.g[C]).getName();Vn!=Xn.startsWith("_a_")&&jt.add.lsct!=Gi.A0&&(Wn=Vn?"_a_"+Xn:Xn.slice(3),zn.push([C,Xn,Wn,jt.add.lnsr,null]))}(f=new Ri([6,37],this)).data={d:qi.Rq,jm:zn},n.Sy(f),this.PS(f.data,n)}if(a==qi.Rq){if((Gn=o.getName())==(ln=t.name.substring(0,255)))return;(f=new Ri([6,37],this)).data={d:a,jm:[[s,Gn,ln,o.add.lnsr,null]]},n.Sy(f),this.PS(f.data,n),this.track(Ui.Ia("Nm",{t:"TEXT",v:ln}))}if(a==qi.Pj){for(var Yn=n.ZI(),Kn=[],Qn=[],g=0;g<Yn.length;g++)Kn.push(n.g[Yn[g]].add.lclr),Qn.push(t.arX);(f=new Ri([6,38],this)).data={d:a,g:Yn,a0N:Kn,AF:Qn},n.Sy(f),this.PS(f.data,n)}if(a==qi.Bj&&(null!=(f=n.history[n.i_])&&f.b==this&&f.data.d==a&&f.data.i==t.Nh&&f.data.NL.E6==t.Xd.E6?f.data.NL=t.Xd:((f=new Ri("Mask Density / Feather",this)).data={d:a,i:t.Nh,Zk:n.g[t.Nh].Cd(t.Xd.E6),NL:t.Xd},n.Sy(f)),this.PS(f.data,n)),a==qi.cU){var $n=JSON.stringify(t.k),ti=JSON.parse($n);if(null!=(f=n.history[n.i_])&&f.b==this&&f.data.d==a&&f.data.At==t.At&&f.data.wy.join(",")==t.wy.join(",")){for(g=0;g<t.wy.length;g++)f.data.ig[g]=ti;f.data.l5&&0!=ti.SB&&qr.Ap.pY(ti.k4,f.data.l5.T.v,ti.SB-1)}else{for(var ei=!((f=new Ri([11,6],this)).data={d:a,wy:t.wy,At:t.At,ai0:[],ig:[]}),g=0;g<t.wy.length;g++){var C=t.wy[g],jt=n.g[C],ni=t.At?qr.iT.Tr(n,C):JSON.parse(JSON.stringify(jt.add.vstk));f.data.ai0.push(ni),f.data.ig.push(ti),JSON.stringify(ni)!=$n&&(ei=!0)}if(!ei)return;n.Sy(f),t.At&&0<ti.SB&&(lt=f.data.l5={classID:"setd",null:Ui.S3("contentLayer",!0),T:{t:"Objc",v:{}}},Ln=["SoCo","GdFl","PtFl"][ti.SB-1],qr.Ap.pY(ti.k4,lt.T.v,ti.SB-1),this.track({YY:"set",l5:lt}))}t.At&&3==ti.SB&&n.uo(Xi.B8(ti.k4.Ptrn.v,r.fC)),t.At||(lt=ti.strokeStyleContent.v).classID==Wi.XF.xP[2]&&n.uo(Xi.B8(lt.Ptrn.v,r.fC)),this.PS(f.data,n)}},qr.Ap.mO=function(t,e,n,i,r,a){var s=t.g[n],o=[];if(r)o=t.g.slice(0);else for(var l=0;l<t.g.length;l++)-1==e.indexOf(l)&&o.push(t.g[l]);var h=o.indexOf(s);a&&s.dH()&&s.add.lsct==Gi.jT&&(h-=t.h5(n).length-1);for(var u=[],l=0;l<e.length;l++){var f=h+(i?0:1)+l,c=r?r[l]:t.g[e[l]];o.splice(f,0,c),u.push(f)}return[o,u,h]},qr.Ap.pY=function(t,e,n){var i=[Wi.Di,Wi.lK,Wi.Gt][n];null==e.classID&&(e.classID=["solidColorLayer","gradientLayer","patternLayer"][n]);for(var r=0;r<i.length;r++)t[i[r]]&&(e[i[r]]=JSON.parse(JSON.stringify(t[i[r]])))},qr.Ap.E9=function(t){var e=new qi.vi;return null!=t.v&&(e.color=0,e.channel=t.v.channel.slice(0),e.rect=t.v.rect.clone()),e},qr.Ap.OS=function(t,e,n,i){for(var r=i.m/n.m,a=i.n/n.n,s=i.m/2,o=i.n/2,l=Rr.H.UQ(i).U,h=0;h<t.g.length;h++){var u,f,c=t.g[h],p=c.add.SoLd;null!=p&&p.Idnt.v==e&&(1==r&&1==a||(f=qr.Q.Je(p.nonAffineTransform),u=Rr.N.zw(f,i),(f=new _r).translate(-s,-o),f.scale(r,a),f.translate(s,o),u=Rr.N.bR(u,Rr.N.V$(f)),f=l.slice(0),Rr.N.A(u,f),p.Trnf=qr.Q.mk(f),p.nonAffineTransform=qr.Q.mk(f)),c.jM(t))}t.G()},qr.Ap.aln=function(t,e,n){e.color=255-e.color,Rr.tU(e.channel),e.X$=!0,t.fF(n),n.G()},qr.Ap.prototype.AP=function(t,e){var n,i,r,a,s,o=t.d,l=e.g[t.i];if(e.hu=!0,o==qi.Q0&&(e.add.lnk2.splice(e.add.lnk2.indexOf(t.Ic),1,t.cV),qr.Ap.OS(e,t.id,t.Ic.y9[1],t.cV.y9[1])),o==qi.v2&&(l.add.SoLd.Impr.v.classID=t.Zk,l.jM(e)),o==qi.Lu){for(var h=JSON.parse(t.wy),u=0;u<h.length;u++)e.g[h[u]].SD=t.QX[u];e.G()}if(o==qi.t$){for(h=JSON.parse(t.wy),u=0;u<h.length;u++)e.g[h[u]].opacity=t.QX[u];e.G()}if(o==qi.N1)for(h=JSON.parse(t.wy),u=0;u<h.length;u++)e.g[h[u]].add.lsct!=Gi.A0&&(e.g[h[u]].add.lspf=t.QX[u]);if(o==qi.Hi&&(n=t.Ly,i=t.a9x,delete l.add[n[0]],"----"!=i[0]&&(l.add[i[0]]=i[1])),o==qi.qn&&(l.add.iOpa=t.QX,e.G()),o==qi.hP){for(u=0;u<t.wy.length;u++)(y=e.g[t.wy[u]]).I9(!y.SH());e.G()}if(o==qi._v&&((d=l.sL()).isEnabled=!d.isEnabled,l.fF(e),e.G()),o==qi.MG&&((d=l.ez(e).q).isEnabled=!d.isEnabled,l.G(),e.G()),o==qi.ds&&((d=l.add.vmsk).isEnabled=!d.isEnabled,d.isEnabled?l.q&&(l._n=l.q,l.q=null):l._n?(l.q=l._n,l._n=null):l.q=null,l.fF(e),e.G()),o==qi.io&&(l.jF=!l.jF,e.G()),o==qi.kS&&(l.add.lmfx.masterFXSwitch.v=!l.add.lmfx.masterFXSwitch.v,l.St.JC=!0,e.G()),o==qi.g2&&(l.add.SoLd.filterFX.v.enab.v=!l.add.SoLd.filterFX.v.enab.v,l.S6(e),e.G()),o==qi.Ug&&(r=t.index,(a=l.add.lmfx[Wi.Th[r[0]]].v[r[1]].v).enab.v=!a.enab.v,l.St.JC=!0,e.G()),o==qi.Nt&&(i=e.g[t.zN],s=e.g[t.Ec],r=t.aul,a=t.adi,""==r?delete i.add.lmfx:i.add.lmfx=JSON.parse(r),""==a?delete s.add.lmfx:s.add.lmfx=JSON.parse(a),i.St.JC=!0,s.St.JC=!0,e.G()),o==qi.Rj&&((s=l.add.SoLd.filterFX.v.filterFXList.v[t.index].v).enab.v=!s.enab.v,l.S6(e),e.G()),o==qi.a94&&(l.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(t.a5B)),l.S6(e),e.G()),o==qi.sC&&((d=l.sL()).$j=!d.$j),o==qi.dq&&((d=l.add.vmsk).$j=!d.$j),o==qi.a_){for(var f=t.EI,u=0;u<f.length;u+=2){var c=f[u];(y=0<=c?e.g[c]:e.Y3[-1-c]).add.vogk=JSON.parse(f[u+1]),Rr.UY.pR(y.add.vogk,y.add.vmsk),0<=c&&y.fF(e)}e.G()}if(o==qi.VL&&(l.add.artb=JSON.parse(t.aaa),e.G(),qr.B_.M0(e,t)),o==qi.lB&&(e.v=t.Xa,e.En=t.EI.slice(0),e.kx=t.SQ.slice(0),e.Lj=e.iM=!0),o==qi.EU&&(l.KN=!l.KN),o==qi.jI)for(var p=t.ah4,u=0;u<p.length;u++)e.g[u].au=p[u];if(o==qi.xC&&(t.bt&&qr.DD.iu(e,e.w,null,-t.bt.x,-t.bt.y),t.Sc&&(e.w=t.Sc),t.cI&&(e.v=t.cI[0]),e.Ae=null,e.G(),e.Gk(t.sX),qr.B_.M0(e,t),t.Oi&&e.Eq(t.Oi[0])),o==qi.ff){for(var d,u=0;u<t.d0.length;u+=3)qr.Ap.C2(e,e.g[t.d0[u]],t.d0[u+1]);t.cI&&(null==(d=t.cI[0])?delete e.v:e.v=d)}if(o==qi.lz&&(l.ez(e).q=null,l.G(),e.G()),o==qi.fs&&(l.ez(e).q=t.q,l.G(),e.G()),o==qi.H7&&qr.Ap.cC(e,t.A6,0),o==qi.gA&&qr.Ap.sF(e,l,!0),o==qi.kD&&(qr.Ap.sF(e,e.g[t.BV],t.q.isEnabled),qr.Ap.gz(e,e.g[t.src],t)),o==qi.m0&&(t._n&&qr.Ap.C2(e,l,null),qr.Ap.gz(e,l,t)),o==qi.iB&&(e._E=JSON.parse(t.JG)),o==qi.dY&&(e.name=t.ap8),o==qi.Rq)for(u=0;u<t.jm.length;u++){var v=t.jm[u];(y=e.g[v[0]]).Zu(v[1]),v[3]?y.add.lnsr=v[3]:delete y.add.lnsr}if(o==qi.Pj)for(u=0;u<t.g.length;u++)e.g[t.g[u]].add.lclr=t.a0N[u];if(o==qi.cU){for(var g=t.ai0,u=0;u<t.wy.length;u++){var y=e.g[t.wy[u]],m=g[u];t.At?qr.iT.T4(y,JSON.parse(JSON.stringify(m))):y.add.vstk=JSON.parse(JSON.stringify(m)),y.gq(e)}e.G()}o==qi.Bj&&(l.B$(t.Zk),l.fF(e),e.G()),e.iM=!0},qr.Ap.prototype.PS=function(t,e){var n,i,r,a,s,o=t.d,l=e.g[t.i];if(e.hu=!0,o==qi.Q0&&(e.add.lnk2.splice(e.add.lnk2.indexOf(t.cV),1,t.Ic),qr.Ap.OS(e,t.id,t.cV.y9[1],t.Ic.y9[1])),o==qi.v2&&(l.add.SoLd.Impr.v.classID=t.NL,l.jM(e)),o==qi.Lu){for(var h=JSON.parse(t.wy),u=0;u<h.length;u++)e.g[h[u]].SD=t.NL;e.G()}if(o==qi.t$){for(h=JSON.parse(t.wy),u=0;u<h.length;u++)e.g[h[u]].opacity=t.NL;e.G()}if(o==qi.N1)for(h=JSON.parse(t.wy),u=0;u<h.length;u++)e.g[h[u]].add.lsct!=Gi.A0&&(e.g[h[u]].add.lspf=t.NL[u]);if(o==qi.Hi&&(n=t.a9x,i=t.Ly,delete l.add[n[0]],"----"!=i[0]&&(l.add[i[0]]=i[1])),o==qi.qn&&(l.add.iOpa=t.NL,e.G()),o==qi.hP){for(u=0;u<t.wy.length;u++)(M=e.g[t.wy[u]]).I9(!M.SH());e.G()}if(o==qi._v&&((m=l.sL()).isEnabled=!m.isEnabled,l.fF(e),e.G()),o==qi.MG&&((m=l.ez(e).q).isEnabled=!m.isEnabled,l.G(),e.G()),o==qi.ds&&((m=l.add.vmsk).isEnabled=!m.isEnabled,m.isEnabled?l.q&&(l._n=l.q,l.q=null):l._n?(l.q=l._n,l._n=null):l.q=null,l.fF(e),e.G()),o==qi.io&&(l.jF=!l.jF,e.G()),o==qi.kS&&(l.add.lmfx.masterFXSwitch.v=!l.add.lmfx.masterFXSwitch.v,l.St.JC=!0,e.G()),o==qi.g2&&(l.add.SoLd.filterFX.v.enab.v=!l.add.SoLd.filterFX.v.enab.v,l.S6(e),e.G()),o==qi.Ug&&(r=t.index,(a=l.add.lmfx[Wi.Th[r[0]]].v[r[1]].v).enab.v=!a.enab.v,l.St.JC=!0,e.G()),o==qi.Nt&&(i=e.g[t.zN],s=e.g[t.Ec],r=t.a1c,a=t.akE,""==r?delete i.add.lmfx:i.add.lmfx=JSON.parse(r),""==a?delete s.add.lmfx:s.add.lmfx=JSON.parse(a),i.St.JC=!0,s.St.JC=!0,e.G()),o==qi.Rj&&((s=l.add.SoLd.filterFX.v.filterFXList.v[t.index].v).enab.v=!s.enab.v,l.S6(e),e.G()),o==qi.a94&&(l.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(t.anx)),l.S6(e),e.G()),o==qi.sC&&((m=l.sL()).$j=!m.$j),o==qi.dq&&((m=l.add.vmsk).$j=!m.$j),o==qi.a_){for(var f=t.Ue,u=0;u<f.length;u+=2){var c=f[u];(M=0<=c?e.g[c]:e.Y3[-1-c]).add.vogk=JSON.parse(f[u+1]),Rr.UY.pR(M.add.vogk,M.add.vmsk),0<=c&&M.fF(e)}e.G()}if(o==qi.VL&&(l.add.artb=JSON.parse(t.E3),e.G(),qr.B_.XP(e,t)),o==qi.lB&&(e.v=t.TB,e.En=t.Ue.slice(0),e.kx=t.en.slice(0),e.Lj=e.iM=!0),o==qi.EU&&(l.KN=!l.KN),o==qi.jI)for(var p=t.aav,u=0;u<p.length;u++)e.g[u].au=p[u];if(o==qi.xC){for(var d,v=t.V6,g=0,u=0;u<v.length;u++){var y=(M=v[u]).add.lsct;y==Gi.A0?g++:y!=Gi.pb&&y!=Gi.jT||g--,M.add.artb&&0!=g&&(d="Artboards can not be inside folders.")}if(d)return e.history.pop(),e.i_--,void alert(d);qr.B_.XP(e,t),t.sg&&(e.w=t.sg),t.cI&&(e.v=t.cI[1]),e.Ae=null,e.G(),e.Gk(t.V6),t.bt&&qr.DD.iu(e,e.w,null,t.bt.x,t.bt.y),t.Oi&&e.Eq(t.Oi[1])}if(o==qi.ff){for(var m,u=0;u<t.d0.length;u+=3)qr.Ap.C2(e,e.g[t.d0[u]],t.d0[u+2]);t.cI&&(null==(m=t.cI[1])?delete e.v:e.v=m)}if(o==qi.lz&&(l.ez(e).q=t.q,l.rq=0,l.G(),e.G()),o==qi.fs&&(l.ez(e).q=null,l.rq=0,l.G(),e.G()),o==qi.H7&&qr.Ap.cC(e,t.A6,1),o==qi.gA&&qr.Ap.gz(e,l,t),o==qi.kD&&(qr.Ap.sF(e,e.g[t.src],t.q.isEnabled),qr.Ap.gz(e,e.g[t.BV],t)),o==qi.m0&&(qr.Ap.sF(e,l,t.q.isEnabled),t._n&&qr.Ap.C2(e,l,t._n)),o==qi.iB&&(e._E=JSON.parse(t.TE)),o==qi.dY&&(e.name=t.uD),o==qi.Rq)for(u=0;u<t.jm.length;u++){var w=t.jm[u];(M=e.g[w[0]]).Zu(w[2]),w[4]?M.add.lnsr=w[4]:delete M.add.lnsr}if(o==qi.Pj)for(u=0;u<t.g.length;u++)e.g[t.g[u]].add.lclr=t.AF[u];if(o==qi.cU){for(var b=t.ig,u=0;u<t.wy.length;u++){var M=e.g[t.wy[u]],S=b[u];t.At?qr.iT.T4(M,JSON.parse(JSON.stringify(S))):M.add.vstk=JSON.parse(JSON.stringify(S)),M.gq(e)}e.G()}o==qi.Bj&&(l.B$(t.NL),l.fF(e),e.G()),e.iM=!0},qr.Ap.E1=function(t,e){for(var n=0,i=0;i<t.g.length;i++){var r,a=t.g[i].getName();a.startsWith(e)&&(r=a.slice(e.length).trim(),a=parseInt(r),!isNaN(a)&&a+""==r&&n<a&&(n=a))}return n},qr.Ap.cC=function(t,e,n){for(var i=0;i<e.length;i++){var r=e[i],a=t.g[r.X2];r.pQ&&(a.add.SoLd=JSON.parse(r.pQ[n])),r.Zi&&(null!=r.Zi[1-n]&&t.V1(r.Zi[1-n]),null!=r.Zi[n]?t.lQ(r.Zi[n]):a.rq=0),a.jM(t)}},qr.Ap.YK=function(t,e){var n=t.EX,i=t.rect.clone();return null==n||n.x==e.m&&n.y==e.n?null==n&&(t=new Fr(0,0,e.m,e.n),-1!=(n=e.ak())&&(t=e.g[n].Gn()),i.x+=t.x,i.y+=t.y):(i.x=Math.floor((e.m-i.m)/2),i.y=Math.floor((e.n-i.n)/2)),i},qr.Ap.ant=function(t,e){e._n?e._n=null:e.q=null,e.fF(t),t.G(),e.rq=0},qr.Ap.C2=function(t,e,n){var i=e.sL();null==i&&null==n||(i&&qr.Ap.ant(t,e),null!=n&&(e.q?e._n=n:e.q=n,e.fF(t),t.G()))},qr.Ap.sF=function(t,e,n){e._n&&n?(e.q=e._n,e._n=null):e.q&&n&&(e.q=null),delete e.add.vogk,delete e.add.vstk,delete e.add.vmsk,e.fF(t),e.Vj=!1,t.Ae=[],t.G()},qr.Ap.gz=function(t,e,n){e.add.vogk=JSON.parse(n.UY),n.XF?e.add.vstk=JSON.parse(n.XF):delete e.add.vstk,e.add.vmsk=n.q.clone(),e.q&&e.add.vmsk.isEnabled&&(e._n=e.q),e.fF(t),e.Vj=n.Ao,t.Ae=[t.g.indexOf(e)],t.B0=[],t.G()},qr.M6=function(){qr.wE.call(this,"Layer Styles",qr.em),this.tq=null,this.Ba=null,this.J5=null,this.xs=[],this.HR=null},qr.M6.prototype=new qr.wE,qr.M6.prototype.gT=function(t,e,n,i,r){var a=t.i;null==a&&(a=n.w[0]);var s=n.g[a],o=t.BT;if(null==this.tq&&(this.J5=qr.M6.FC(n,s),this.tq=JSON.stringify(this.J5),s.add.lmfx&&(this.Ba=JSON.stringify(s.add.lmfx))),null==s.add.lmfx){s.add.lmfx=JSON.parse(Wi.default);for(var l=0;l<Wi.order.length;l++)s.add.lmfx[Wi.Th[l]]={t:"VlLs",v:[]}}if("scaleeffects"==t.d){if("confirm"==t.k||"cancel"==t.k)return void this.gT({d:t.k},e,n,i,r);s.add.lmfx=JSON.parse(this.Ba),Xi.oI(s.add.lmfx,t.k/100)}else if("changeprop"==t.d){var h=null;if(0!=o){null==(f=this.xs[o[0]])&&(f=Wi.xs[o[0]]);var u,f=JSON.parse(f),i=s.add.lmfx[Wi.Th[o[0]]].v;for(u in null==i[o[1]]&&(i[o[1]]={t:"Objc",v:f}),h=i[o[1]].v,f)null==h[u]&&(h[u]=f[u])}"changeprop"==t.d&&(0==o?(this.J5[t.oE].v=t.k,qr.M6.yr(n,s,this.J5)):"lagl"==t.oE?h.uglg&&h.uglg.v?(n.vu(t.k.val),this.J5.ac3=n.GT()):h[t.oE].v=t.k:"Lald"==t.oE?h.uglg.v?(n.JR(t.k.val),this.J5.auS=n.e5()):h[t.oE].v=t.k:3!=o[0]&&8!=o[0]||"Clr"!=t.oE&&"Grad"!=t.oE?h[t.oE].v=t.k:("Clr"==t.oE&&(h.Clr={t:"Objc",v:t.k},delete h.Grad),"Grad"==t.oE&&(h.Grad={t:"Objc",v:t.k},delete h.Clr)),0!=o&&(this.xs[o[0]]=JSON.stringify(h))),0!=o&&h.Ptrn&&n.uo(Xi.B8(h.Ptrn.v,r.fC))}else if("setstl"==t.d){o=t.k.Lefx;o&&Xi.apO(o,n,r.fC),Xi.akC(t.k,s),this.J5=qr.M6.FC(n,s)}else if("st_dupsingle"==t.d){if(null==(p=s.add.lmfx[Wi.Th[t.r4[0]]].v)[t.r4[1]])return;var c=JSON.parse(JSON.stringify(p[t.r4[1]]));p.splice(t.r4[1],0,c)}else if("st_movsingle"==t.d){var p,r=t.r4[1];if(null==(p=s.add.lmfx[Wi.Th[t.r4[0]]].v)[t.r4[1]])return;var c=Math.max(0,Math.min(p.length-1,r+t.agO)),d=p[c];p[c]=p[r],p[r]=d}else if("cancel"==t.d)null==this.Ba?delete s.add.lmfx:s.add.lmfx=JSON.parse(this.Ba),qr.M6.yr(n,s,JSON.parse(this.tq)),this.tq=null,this.Ba=null;else if("confirm"==t.d){d=JSON.stringify(s.add.lmfx);(S=new Ri([11,6],this)).data={g:[a],T$:[this.Ba],ya:[d],Wf:[this.tq],ka:[JSON.stringify(this.J5)]},n.Sy(S),this.tq=null,(this.Ba=null)!=d&&(x=JSON.parse(d),en.NQ(x),x.classID="Lefx",delete x.masterFXSwitch,(C=new yr(mr.E.n$)).y2=!0,C.data={YY:"set",xY:!0},(d=Ui.S3("Lyr",!0)).v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}}),C.data.l5={__name:"Set",classID:"setd",null:d,T:{t:"Objc",v:x}},e.c(C))}else if("st_copy"==t.d)this.HR=[this.tq,this.Ba],this.tq=null,this.Ba=null;else if("st_paste"==t.d||"st_clear"==t.d){if("st_paste"==t.d&&null==this.HR)return;for(var v=null!=t.i?[t.i]:n.w.slice(0),g=[],y=[],m=[],w=[],l=0;l<v.length;l++){var s=n.g[v[l]],b=qr.M6.FC(n,s);if(g.push(s.add.lmfx?JSON.stringify(s.add.lmfx):null),m.push(JSON.stringify(b)),"st_paste"==t.d)y.push(this.HR[1]),w.push(this.HR[0]);else{y.push(null),b.lrMd.v=0,b.Opct.v.val=100,b.iOpa.v.val=100,b.blIf={v:[]};for(var M=0;M<10;M++)b.blIf.v.push(0,0,255,255);w.push(JSON.stringify(b))}}(S=new Ri([11,6],this)).data={g:v,T$:g,ya:y,Wf:m,ka:w},this.PS(S.data,n),n.Sy(S),this.tq=null,this.Ba=null}else{var S,C=this.J5,x=null;"st_delsingle"==t.d&&((x=JSON.parse(this.Ba))[Wi.Th[t.r4[0]]].v.splice(t.r4[1],1),x=JSON.stringify(x)),null==x?delete s.add.lmfx:s.add.lmfx=JSON.parse(x),null!=C&&qr.M6.yr(n,s,C),(S=new Ri([11,6],this)).data={g:[t.i],T$:[this.Ba],ya:[x],Wf:[this.tq],ka:[JSON.stringify(C)]},n.Sy(S),this.tq=null,this.Ba=null}s.St.JC=!0,n.hu=!0,n.G()},qr.M6.FC=function(t,e){return null==e.add.iOpa&&(e.add.iOpa=255),null==e.add.brst&&(e.add.brst=[1,1,1]),{lrMd:{v:(e.dH()?["pass"].concat(Ji.sp):Ji.sp).indexOf(e.SD)},Opct:{v:{type:"#Prc",val:Math.round(100*e.opacity/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(100*e.add.iOpa/255)},t:"UntF"},blIf:{v:e.i$.slice(0)},brst:{v:e.add.brst},ac3:t.GT(),auS:t.e5(),dH:e.dH()}},qr.M6.yr=function(t,e,n){var i=e.dH()?["pass"].concat(Ji.sp):Ji.sp;e.SD=i[n.lrMd.v],e.opacity=Math.round(255*n.Opct.v.val/100),e.add.iOpa=Math.round(255*n.iOpa.v.val/100),e.i$=n.blIf.v.slice(0),e.add.brst=n.brst.v.slice(0),t.vu(n.ac3),t.JR(n.auS)},qr.M6.prototype.AP=function(t,e){for(var n=0;n<t.g.length;n++){var i=e.g[t.g[n]],r=t.T$[n];null==r?delete i.add.lmfx:i.add.lmfx=JSON.parse(r),qr.M6.yr(e,i,JSON.parse(t.Wf[n])),i.St.JC=!0}e.hu=!0,e.G()},qr.M6.prototype.PS=function(t,e){for(var n=0;n<t.g.length;n++){var i=e.g[t.g[n]],r=t.ya[n];null==r?delete i.add.lmfx:i.add.lmfx=JSON.parse(r),qr.M6.yr(e,i,JSON.parse(t.ka[n])),i.St.JC=!0}e.hu=!0,e.G()},qr.iZ=function(){qr.wE.call(this,"Layer Comps",qr.z2)},qr.iZ.prototype=new qr.wE,qr.iZ.prototype.gT=function(t,e,n,i){var r,a,s,o,l=JSON.parse(JSON.stringify(n.HE)),h=JSON.parse(JSON.stringify(n.HE)),u=null,f=null,c=null,p=-1,d=!1;if("delLC"==t.d&&(o=qr.iZ.oz(n.HE,t.BT),s=n.HE.lastAppliedComp?n.HE.lastAppliedComp.v:0,h.list.v.splice(o,1),s==t.BT&&delete h.lastAppliedComp,u="Delete Layer Comp"),"editLC"==t.d&&(o=qr.iZ.oz(n.HE,t.BT),r=h.list.v[o].v,null!=t.uD&&(r.Nm.v=t.uD),null!=t.auL&&(a=t.auL,o=(s=r.capturedInfo.v)&(1<<a)-1,1==(1&(s>>=a))?s--:s++,r.capturedInfo.v=(s<<a)+o),u="Layer Comp properties"),"setLC"==t.d&&(qr.iZ.ST(n),0==t.BT?delete h.lastAppliedComp:h.lastAppliedComp={t:"long",v:t.BT},u="Switch Layer Comp",d=!0),"updLC"==t.d&&(qr.iZ.ST(n),f=qr.iZ.arJ(n,t.BT),c=qr.iZ.Ig(n,t.BT),h.lastAppliedComp={t:"long",v:t.BT},u="Update Layer Comp",p=t.BT,d=!0),"addLC"==t.d){qr.iZ.ST(n);for(var v=1,g=0;g<h.list.v.length;g++)v=Math.max(v,h.list.v[g].v.compID.v)+1;v+=Math.floor(1e4*Math.random());t={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(h.list.v.length+1)},compID:{t:"long",v:v},capturedInfo:{t:"long",v:7}}};h.list.v.push(t),h.lastAppliedComp={t:"long",v:v};u="New Layer Comp",t=qr.iZ.Ig(n,v);qr.iZ.gZ(n,t,v)}u=new Ri(u,this);u.data={amx:l,aiI:h,a6J:f,aeo:c,BT:p,pX:d},this.PS(u.data,n),n.Sy(u)},qr.iZ.prototype.PS=function(t,e){var n;e.HE=t.aiI,e.hu=!0,t.aeo&&qr.iZ.gZ(e,t.aeo,t.BT),t.pX&&(n=e.HE.lastAppliedComp?e.HE.lastAppliedComp.v:0,t=(t=-1==(t=qr.iZ.oz(e.HE,n))?null:e.HE.list.v[t].v)?t.capturedInfo.v:7,qr.iZ.w7(e,n,t),e.G())},qr.iZ.prototype.AP=function(t,e){var n;e.HE=t.amx,e.hu=!0,t.a6J&&qr.iZ.gZ(e,t.a6J,t.BT),t.pX&&(n=e.HE.lastAppliedComp?e.HE.lastAppliedComp.v:0,t=(t=-1==(t=qr.iZ.oz(e.HE,n))?null:e.HE.list.v[t].v)?t.capturedInfo.v:7,qr.iZ.w7(e,n,t),e.G())},qr.iZ.ST=function(t){var e;null==t.HE.lastAppliedComp&&t.Cr&&(e=qr.iZ.Ig(t,0),qr.iZ.gZ(t,e,0),t.Cr=!1)},qr.iZ.oU=function(t,e,n){t.v.Hrzn.v+=e,t.v.Vrtc.v+=n},qr.iZ.oz=function(t,e){for(var n=t.list.v,i=0;i<n.length;i++)if(n[i].v.compID.v==e)return i;return-1},qr.iZ.a3D=function(t){var e=t.layerSettings.v,n=null;if(0!=e.length){var i="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),t=e[0].v;null==t.enab&&(t.enab={t:"bool",v:!0}),null==t.Ofst&&(t.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}});for(var r=0;r<e.length;r++){var a=e[r].v;if(null==n)n=JSON.parse(JSON.stringify(a));else for(var s=0;s<i.length;s++){var o=i[s];a[o]&&(n[o]=JSON.parse(JSON.stringify(a[o])))}e[r].v=JSON.parse(JSON.stringify(n))}}},qr.iZ.ju=function(t,e){for(var n=t.add.shmd.cmls.layerSettings.v,i=0;i<n.length;i++)if(n[i].v.compList.v[0].v==e)return i;return-1},qr.iZ.Yy=function(t,e){e=qr.iZ.ju(t,e);return-1==e?null:t.add.shmd.cmls.layerSettings.v[e].v},qr.iZ.w7=function(t,e,n){for(var i=0;i<t.g.length;i++){var r,a,s,o=t.g[i],l=o.add.shmd.cmls;null!=l&&(l.layerSettings.v,null!=(s=qr.iZ.Yy(o,e))?(0!=(1&n)&&(s.enab?o.I9(s.enab.v):o.I9(!0)),0!=(2&n)&&s.Ofst&&(r=s.Ofst.v,a=o.w8(t),l=Math.round(r.Hrzn.v-a.x),a=Math.round(r.Vrtc.v-a.y),0==l&&0==a||qr.DD.iu(t,[i],null,l,a)),0!=(4&n)&&(s.Lefx?(a=JSON.parse(JSON.stringify(s.Lefx.v)),en.zo(a),JSON.stringify(a)!=JSON.stringify(o.add.lmfx)&&(o.add.lmfx=a,o.St.JC=!0)):delete o.add.lmfx,s.blendOptions?((s=s.blendOptions.v).Opct&&(o.opacity=Math.round(255*s.Opct.v.val/100)),s.fillOpacity&&(o.add.iOpa=Math.round(255*s.fillOpacity.v.val/100)),s.Md&&(o.SD=o.add.lsct==Gi.A0?"norm":Ji.zK(s.Md.v.BlnM))):(o.opacity=255,o.SD=o.dH()?"pass":"norm",o.add.iOpa=255))):o.I9(!1))}},qr.iZ.arJ=function(t,e){for(var n={},i=0;i<t.g.length;i++){var r=t.g[i];null!=r.add.shmd&&null!=r.add.shmd.cmls&&(n["l"+r.add.lyid]=JSON.parse(JSON.stringify(qr.iZ.Yy(r,e))))}return n},qr.iZ.Ig=function(t,e){for(var n={},i=0;i<t.g.length;i++){var r=t.g[i];n["l"+r.add.lyid]=qr.iZ.nl(t,r,e)}return n},qr.iZ.nl=function(t,e,n){var i=e.add.shmd?e.add.shmd.cmls:null,r={classID:"null"},t=e.w8(t),t={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:t.x},Vrtc:{t:"long",v:t.y}}};return r.compList={t:"VlLs",v:[{t:"long",v:n}]},r.enab={t:"bool",v:e.SH()},r.Ofst=JSON.parse(JSON.stringify(t)),r.FXRefPoint=JSON.parse(JSON.stringify(i&&i.origFXRefPoint?i.origFXRefPoint:t)),r.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:Ji.S8(e.SD)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*e.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:null!=e.add.iOpa?100*e.add.iOpa/255:100}}}},e.add.vmsk&&(r.vectorMask={t:"Objc",v:{classID:"null"}},r.vectorMask.v.Ofst=JSON.parse(JSON.stringify(t))),e.add.lmfx&&(r.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(e.add.lmfx))},en.NQ(r.Lefx.v)),r},qr.iZ.ajK=function(t,e){var n=e.add.lyid;null==e.add.shmd&&(e.add.shmd={}),null==e.add.shmd.cmls&&(e.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:n},layerSettings:{t:"VlLs",v:[{t:"Objc",v:qr.iZ.nl(t,e,0)}]}})},qr.iZ.gZ=function(t,e,n){for(var i=0;i<t.g.length;i++){var r=t.g[i],a=r.add.lyid;qr.iZ.ajK(t,r);var s=r.add.shmd.cmls.layerSettings.v,a=e["l"+a];null!=a&&(a={t:"Objc",v:JSON.parse(JSON.stringify(a))});r=qr.iZ.ju(r,n);-1==r?null!=a&&s.push(a):null==a?s.splice(r,1):s[r]=a}},qr.iZ.IL=function(t,e){for(var n=0;n<t.g.length;n++){var i=t.g[n];i.add.lyid;if(null!=i.add.shmd&&null!=i.add.shmd.cmls){var r=i.w8(t),a=Math.round(r.x),s=Math.round(r.y);e||(a=-a,s=-s);var i=i.add.shmd.cmls,o=i.layerSettings.v;i.origFXRefPoint&&qr.iZ.oU(i.origFXRefPoint,-a,-s);for(var l=0;l<o.length;l++){var h=o[l].v;qr.iZ.oU(h.Ofst,a,s);var u=h.imageMask,h=h.vectorMask;u&&u.v.Ofst&&qr.iZ.oU(u.v.Ofst,a,s),h&&h.v.Ofst&&qr.iZ.oU(h.v.Ofst,a,s)}}}},qr.YH=function(){qr.wE.call(this,"Adjust Edit",qr.qH),this.TE=null,this.tO=null},qr.YH.prototype=new qr.wE,qr.YH.JB=function(t,e,n,i){i&&(e/=4);for(var r=0,a=0,s=255,o=0,l=0,h=255;a+t[r]<e;)a+=t[r],r++;for(;o+t[s]<e;)o+=t[s],s--;return i&&(r-=Math.round(t[r]/(n/32)),s+=Math.round(t[s]/(n/32)),r<0&&(l=Math.round(255*-r/(s-r))),255<s&&(h=255-Math.round(255*(s-255)/(s-r)))),[Math.max(r,0),Math.min(s,255),l,h,100]},qr.YH.prototype.gT=function(t,e,n,i,r){var a=t.d;if("auto"==a){for(var s=t.qF,o=qr.YH.getData(n),l=0;l<o.length;l++){var h,u=o[l];s<3||(h=Gr.PD("hue2"),Je.nS(h,0,[0,-100,0]),h=ji.PJ("hue2",h)),ji.O9(h,u.lJ,u.mz,u.Ni)}qr.YH.$d(n,o),qr.YH.Wa(n,o,s<3?[4,16,s]:[19,7,0],this),n.G()}if("edit_layer"==a&&this.a74(t,e,n,i),"edit"!=a&&"confirm"!=a&&"cancel"!=a||this.$n(t,e,n,r,!0),"start"==a&&0!=n.w.length){var f,a=n.g[n.w[0]];if(a.add.SoLd&&a.rq<=0&&0==n.kx.length)return(f=new yr(mr.E.u,!0)).b=qr.Hu,f.data={d:"start",Fa:t.ac,JL:t.JL},void e.c(f);n.JA(e,null,!0)&&(Ba[t.ac]&&null==t.JL?(1!=n.w.length&&alert("Will be applied to "+n.w.length+" layers."),(f=new yr(mr.E.W,!0)).data={d:mr.J.go,RB:"afw_"+t.ac},e.c(f)):(this.$n({d:"edit",JL:t.JL,Fa:t.ac},e,n,r),this.$n({d:"confirm",Fa:t.ac},e,n,r)))}},qr.YH.prototype.a74=function(t,e,n,i){t.d;var r=n.w[0],a=n.g[r],s=ji.get(a.add),o=JSON.parse(JSON.stringify(a.add[s]));for(l in t.k)o[l]=t.k[l];var l,h=JSON.parse(JSON.stringify(o));for(l in ji.kc)ji.kc[l]==s&&(h.classID=l);var u,f,c=n.history[n.i_];c&&c.b==this&&null!=c.data.Zk&&c.data.i==r?f=c:(u=new yr(mr.E.n$,!0),c={classID:"setd",null:Ui.S3("AdjL",!0),T:{t:"Objc",v:h}},u.data={xY:!0,YY:"set",l5:c},e.c(u),(f=new Ri([6,39],this)).data={i:r,Zk:a.add[s],NL:o,Dd:c},n.Sy(f)),f.data.NL=o,f.data.Dd.T.v=h,this.PS(f.data,n)},qr.YH.getData=function(t,e,n){for(var i=[],r=new Fr(0,0,t.m,t.n),a=0!=t.kx.length?[-1-t.kx[0]]:t.w,s=0;s<a.length;s++){var o=a[s],l=o<0?null:t.g[o],h={i:o,EK:o<0?1:l.rq};i.push(h);var u=t.En[-1-o],f=((u=0<=o?l.rq<=0?null:1==l.rq?l.sL():l.ez(t).q:u)||l).rect;t.v?h.Ni=null!=u?t.v.rect.BS(r):t.v.rect.BS(f):h.Ni=e||null!=u?f.hq(r):f.clone(),n&&(h.Ni=n[s].Ni.clone());o=h.Ni.Z();h.lJ=Rr.t(4*o),u?qr.Hp.uz(u.channel,u.rect,u.color,h.lJ,h.Ni):Rr.Ik(l.buffer,f,h.lJ,h.Ni),h.mz=h.lJ.slice(0),t.v&&(h.d0=Rr.t(o),Rr.rR(t.v.channel,t.v.rect,h.d0,h.Ni))}return i},qr.YH.a3A=function(t,e,n){if(null==e)return e;var i,r=ji.CZ(t,e);if(-1==r)return e;t=n.length>>>2,e=Rr.Kk(n),n=.001*t;0!=r&&2!=r||(i=[[0,255,0,255,100],qr.YH.JB(e[1],n,t,2==r),qr.YH.JB(e[2],n,t,2==r),qr.YH.JB(e[3],n,t,2==r)]),1==r&&(i=[qr.YH.JB(e[0],.33*n,t,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]]);for(var a=Gr.PD("levl"),s=0;s<4;s++)qe.nS(a,s,i[s]);return a},qr.YH.Oy=function(t,e,n,i){if("name"==n.t){for(var r,a,s=0,o=0;o<t.g.length;o++)t.g[o].getName()==n.v.val&&(s=o);a=t==e&&s==i.i?(r=i.lJ,i.Ni):(r=(a=t.g[s]).buffer,a.rect)}else a=new Fr(0,0,t.m,t.n),r=t==e?i.vl:t.y5();return[r,a]},qr.YH.prototype.$n=function(t,e,n,i){if(null==this.TE&&("aply"==t.Fa&&n.g[n.w[0]].extend(new Fr(0,0,n.m,n.n)),this.TE=qr.YH.getData(n,null,"fade"==t.Fa?n.Ki().data:null),"aply"!=t.Fa&&"matc"!=t.Fa||(this.TE[0].vl=n.y5())),"edit"==t.d){this.tO=[t.Fa,t.JL];var r=this.TE[0],a=qr.YH.a3A(t.Fa,t.JL,r.lJ),s=ji.PJ(t.Fa,a);if(null!=(s="fade"==t.Fa||"matc"==t.Fa||"aply"==t.Fa?t.JL:s)){for(var o=0;o<this.TE.length;o++){var l=this.TE[o];if(t.rd)Rr.VO(l.lJ,l.mz);else if("fade"==t.Fa){var h=Ji.zK(t.JL.Md.v.BlnM),u=t.JL.Opct.v.val/100,f=n.Ki().data[o];if(Rr.VO(f.lJ,l.mz),"norm"==h)Rr.a.hM(l.lJ,l.Ni,l.mz,l.Ni,null,null,null,l.Ni,u);else{(m=Xi.jQ()).fT=!0;for(var c=0;c<f.lJ.length;c+=4)if(f.lJ[c+3]!=l.lJ[c+3]){m=null;break}Rr.a.bW(h,l.lJ,l.Ni,l.mz,l.Ni,l.Ni,u,m)}}else if("matc"==t.Fa){if(s.noReference&&s.noReference.v)b=l.lJ;else{for(var p=s.Srce.v,d=p[1].v.val,v=e.$c,g=n,c=0;c<v.length;c++)v[c].name==d&&(g=v[c]);b=(y=qr.YH.Oy(g,n,p[0],l))[0]}wt(l.lJ,l.Ni.m,l.Ni.n,b,l.mz,[s.Lght.v,s.ClrR.v,s.Fade.v,!!s.neutralizeColor&&s.neutralizeColor.v])}else if("aply"==t.Fa){var y,m,w=(s=s.With.v).T.v,b=(y=qr.YH.Oy(n,n,w[1],l))[0],M=y[1],p=s.Clcl?s.Clcl.v.Clcn:null,h=p?Ji.zK(p):"norm",u=s.Opct?s.Opct.v.val/100:1,w=["RGB","Rd","Grn","Bl","Trsp"].indexOf(w[0].v.enum),a=s.Invr&&s.Invr.v;if((a||0!=w)&&(b=b.slice(0),a&&Rr.a0E(b),0!=w)){var S=Rr.t(M.Z());Rr.VW(b,S,w-1),4==w&&Rr.tU(S);for(var C=0;C<3;C++)Rr.al(S,b,C)}if("Add"==p||"Sbtr"==p)for(var x=1/s.Scl.v,L=s.Ofst.v,D="Add"==p?1:-1,k=new Uint8ClampedArray(l.mz.buffer),c=0;c<b.length;c+=4)k[c]=(l.lJ[c]+D*b[c])*x+L,k[c+1]=(l.lJ[c+1]+D*b[c+1])*x+L,k[c+2]=(l.lJ[c+2]+D*b[c+2])*x+L;else(m=Xi.jQ()).fT=s.PrsT&&s.PrsT.v,l.mz.fill(0),l.mz.set(l.lJ),Rr.a.bW(h,b,M,l.mz,l.Ni,l.Ni,u,m)}else ji.O9(s,l.lJ,l.mz,l.Ni)}qr.YH.$d(n,this.TE)}}var T;"cancel"==t.d&&(qr.YH.Zs(n,this.TE),this.TE=null),"confirm"==t.d&&(null==(T={fade:[2,11],aply:[2,12],matc:[4,18]}[t.Fa])&&(T=ji.names[t.Fa]),r=ji.CZ(t.Fa,this.tO[1]),qr.YH.Wa(n,this.TE,T=-1!=r?[4,16,r]:T,this),this.TE=null,-1==r&&qr.YH.DL(e,this.tO)),n.G()},qr.YH.DL=function(t,e){var n,i,r=e[0],e=e[1];ji.Qf[r]&&(n=ji.Qf[r],Ba[r]&&(i=e)),Gr.Qf[r]&&(n=Gr.Qf[r],Ba[r]&&(i=e)),"fade"==r&&(n="fade",i=e),"matc"==r&&(n="matchColor",i=e),"aply"==r&&(n="applyImageEvent",i=e),null!=n&&((e=new yr(mr.E.n$,!0)).data={xY:!0,YY:n},i&&((i=JSON.parse(JSON.stringify(i))).classID="null",delete i.__name,e.data.l5=i),t.c(e))},qr.YH.Zs=function(t,e){qr.YH.IY(t,e)},qr.YH.Wa=function(t,e,n,i){for(var r=0;r<e.length;r++){var a=e[r],s=t.g[a.i],o=a.i<0?t.En[-1-a.i]:a.EK<=0?null:1==a.EK?s.sL():s.ez(t).q;o?(o.Er(),o.X$=!0,s&&s.fF(t)):(s.Er(),s.G()),delete a.mz,delete a.d0}i=new Ri(n,i);i.data=e,t.Sy(i),t.hu=!0},qr.YH.$d=function(t,e,n){for(var i=0;i<e.length;i++){var r,a,s=e[i],o=t.g[s.i],l=n?s.lJ:s.mz,h=s.Ni;0==s.EK?(o.extend(h),s.d0?(Rr.Ik(s.lJ,h,o.buffer,o.rect),Rr.a.hM(l,h,o.buffer,o.rect,s.d0,h,0,h,1)):Rr.Ik(l,h,o.buffer,o.rect)):((r=s.i<0?t.En[-1-s.i]:1==s.EK?o.sL():o.ez(t).q).extend(h),s.d0?(a=Rr.t(4*h.Z()),Rr.VO(s.lJ,a),Rr.a.hM(l,h,a,h,s.d0,h,0,h,1),qr.Hp.Z0(a,h,r)):qr.Hp.Z0(l,h,r),r.X$=!0,o&&o.fF(t)),o&&o.G()}n||qr.YH.wd(t,e)},qr.YH.IY=function(t,e){for(var n=0;n<e.length;n++){var i,r=e[n],a=t.g[r.i],s=r.Ni,o=Rr.t(4*s.Z());0==r.EK?(Rr.Ik(a.buffer,a.rect,o,s),a.extend(s),Rr.Ik(r.lJ,s,a.buffer,a.rect),a.Er()):(i=r.i<0?t.En[-1-r.i]:1==r.EK?a.sL():a.ez(t).q,qr.Hp.uz(i.channel,i.rect,i.color,o,s),i.extend(s),qr.Hp.Z0(r.lJ,s,i),i.Er(),i.X$=!0,a&&a.fF(t)),r.lJ=o,a&&a.G()}t.hu=!0},qr.YH.wd=function(t,e){var n=qr.YH.un(t),i=~n;if(16777215!=n){for(var r=0;r<e.length;r++){var a=e[r],s=t.g[a.i],o=a.Ni;if(0==a.EK){s.extend(o);for(var l=o.x-s.rect.x,h=o.y-s.rect.y,u=s.rect.m,f=new Uint32Array(a.lJ.buffer),c=new Uint32Array(s.buffer.buffer),p=0;p<o.n;p++)for(var d=0;d<o.m;d++){var v=p*o.m+d,g=(p+h)*u+(d+l);c[g]=c[g]&n|f[v]&i}s.Er(),s.G()}}t.G()}},qr.YH.un=function(t){t=t.s.DF;return 16711680*t[2]|65280*t[1]|255*t[0]},qr.YH.prototype.AP=function(t,e){var n=e.g[t.i];null!=t.Zk?n.add[ji.get(n.add)]=t.Zk:qr.YH.IY(e,t),e.G()},qr.YH.prototype.PS=function(t,e){var n=e.g[t.i];null!=t.Zk?n.add[ji.get(n.add)]=t.NL:qr.YH.IY(e,t),e.G()},qr.DZ=function(){qr.wE.call(this,"Filter Edit",qr.Hu),this.TE=null,this.or=null,this.d=null,this.tO=null},qr.DZ.prototype=new qr.wE,qr.DZ.prototype.gT=function(t,e,n,i,r){if("start"==t.d){if(0==n.w.length)return;var a=n.g[n.w[0]];if(!(a.add.SoLd&&a.rq<=0&&0==n.kx.length||n.JA(e,null,!0)))return;var s=t.Fa;(Ba[s]||Gr.P[s])&&null==t.JL?(1!=n.w.length&&alert("Will be applied to "+n.w.length+" layers."),(a=new yr(mr.E.W,!0)).data=qr.DZ.X6(s,this.JW(n,s)),e.c(a)):(o={d:"edit",Fa:s,JL:t.JL,jy:this.JW(n)},this.gT(o,e,n,i,r),o.d="confirm",delete o.JL,this.gT(o,e,n,i,r))}var o;"edit"!=t.d&&"cancel"!=t.d&&"confirm"!=t.d||("edit"==t.d&&(this.tO=[t.Fa,t.JL]),t.jy?this.a4h(t,n,r):this.a4M(t,e,n,r)),"applylast"==t.d&&null!=this.tO&&(o={d:"edit",Fa:this.tO[0],JL:this.tO[1],jy:this.JW(n)},this.gT(o,e,n,i,r),o.d="confirm",delete o.JL,this.gT(o,e,n,i,r))},qr.DZ.X6=function(t,e){var n=Gr.P[t];return n?{d:mr.J.ms,b:n,VU:{jy:e}}:{d:mr.J.go,RB:"afw_"+t,jy:e}},qr.DZ.prototype.JW=function(t,e){var n,i=t.g[t.w[0]];if(i.add.SoLd&&i.rq<=0&&0==t.kx.length&&(n={i:t.w[0],index:0},null!=i.add.SoLd.filterFX)){var r=i.add.SoLd.filterFX.v.filterFXList.v;n.index=r.length;for(var a=0;a<r.length;a++)Gr.vO(r[a].v)==e&&Gr.P[e]&&(n.index=a)}return n},qr.DZ.prototype.a4h=function(t,e,n){var i,r=e.g[t.jy.i],a=t.Fa;"edit"==t.d&&(null==this.d&&(null==(i=Gr.names[a])&&(i=ji.names[a]),this.d=new Ri(i="blendOptions"==a?[14,10]:i,this),this.d.data={jy:t.jy,ame:JSON.parse(JSON.stringify(r.add.SoLd))}),r.UG()||(r.add.SoLd.filterFX=Gr.lI(),this.d.data.Zi=zi.a3J(r.add.SoLd.placed.v),e.lQ(this.d.data.Zi),r.jM(e)),null==(i=r.add.SoLd.filterFX.v.filterFXList.v)[t.jy.index]&&i.push(Gr.Ci(a,n)),t.JL&&(i[t.jy.index].v.enab.v=1!=t.rd,"blendOptions"==a?i[t.jy.index].v.blendOptions.v=t.JL:i[t.jy.index].v.Fltr.v=t.JL),this.d.data.ae5=JSON.parse(JSON.stringify(r.add.SoLd)),this.PS(this.d.data,e)),"cancel"==t.d&&(this.d&&this.AP(this.d.data,e),this.d=null),"confirm"==t.d&&(this.d&&e.Sy(this.d),this.d=null)},qr.DZ.prototype.eB=function(t){return{p:t>>>16,z:t>>>8&255,S:255&t}},qr.DZ.prototype.a4M=function(t,e,n,i){var r;if(null==this.TE&&(r=Gr.Qp(t.Fa,t.JL),this.TE=qr.YH.getData(n,0!=r.x||0!=r.y)),"edit"==t.d){var a=JSON.stringify(t.JL);if((null==t.JL||a!=this.or)&&1!=t.rd)for(var s=0;s<this.TE.length;s++){var o=this.TE[s],l={rect:o.Ni,buffer:o.lJ},h={rect:o.Ni,buffer:o.mz};if("Avrg"==t.Fa&&o.d0&&(l.buffer=o.lJ.slice(0),Rr.Lx(o.d0,l.buffer)),Gr.O9(t.Fa,l,t.JL,this.eB(i.k$),this.eB(i.JH),h,[n.add.lnk2||[],n.g[n.w[0]].sL(),n.En,n.l7()]),"Avrg"==t.Fa&&o.d0)for(var u=o.lJ.length,s=0;s<u;s+=4)o.mz[s+3]=o.lJ[s+3];this.or=a}qr.YH.$d(n,this.TE,t.rd)}"cancel"==t.d&&(qr.YH.Zs(n,this.TE),this.TE=null,this.or=null),"confirm"==t.d&&(qr.YH.Wa(n,this.TE,Gr.names[t.Fa],this),this.TE=null,this.or=null,qr.YH.DL(e,this.tO)),n.G(),n.hu=!0},qr.DZ.prototype.AP=function(t,e){var n;t.jy?(n=e.g[t.jy.i],t.Zi&&e.V1(t.Zi),n.add.SoLd=JSON.parse(JSON.stringify(t.ame)),n.UG()?n.S6(e):(n.jM(e),n.rq=0)):qr.YH.IY(e,t),e.G(),e.hu=!0},qr.DZ.prototype.PS=function(t,e){var n;t.jy?(n=e.g[t.jy.i],t.Zi&&e.lQ(t.Zi),n.add.SoLd=JSON.parse(JSON.stringify(t.ae5)),n.UG()?n.S6(e):n.jM(e),n.W3()||(n.OW+=32)):qr.YH.IY(e,t),e.G(),e.hu=!0};var Bi={MB:"0",Gx:"1",kv:"2",K0:"3",q2:"4",QM:"5",at:"6",nj:"7",u:"8",Fg:"8.5",Uk:"8.8",Cp:"9",eE:"10",qq:"11",bj:"12",c9:"13",qX:"14",aR:"15",Cf:"16",UB:"21",wh:"22",ph:"23",TL:"23.0",CL:"23.1",NU:"23.2",Im:"23.3",sD:"23.4",Zf:"23.5",v$:"23.6",Mo:"30",VP:"31",yj:"40",So:"41",Gi:"42"};function Ri(t,e,n){null==n&&(n=!1),this.name=t,this.b=e,this.nt=n,this.data=null,this.ala=Date.now()}Bi.bU={},Bi.bU[Bi.Gx]=["abr","brushes",je,[9,3]],Bi.bU[Bi.kv]=["grd","gradients",Ke,[12,37]],Bi.bU[Bi.K0]=["shc","contours",Xe,[12,21]],Bi.bU[Bi.q2]=["asl","styles",Ge,[12,22]],Bi.bU[Bi.QM]=["pat","patterns",Ye,[12,62]],Bi.bU[Bi.at]=["csh","shapes",ze,[12,77]],Bi.bU[Bi.nj]=["aco","swatches",Ve,[9,8]],Bi.bU[Bi.u]=["atn","actions",We,[9,9]],Bi.bU[Bi.Fg]=["tpl","tpresets",Qe,[9,12]],Bi.bU[Bi.Uk]=["icc","profiles",$e,"ICCs"];var Ui={S3:function(t,e){return{t:"obj ",v:[e?{t:"Enmr",v:{classID:t,typeID:"Ordn",enum:"Trgt"}}:{t:"Clss",v:{classID:t}}]}},Ia:function(t,e){var n={classID:"Lyr"};return n[t]=e,{YY:"set",l5:{classID:"null",null:Ui.S3("Lyr",!0),T:{t:"Objc",v:n}}}},auw:function(t,e,n,i,r){var a=new yr(mr.E.n$,!0),s=[],o=0;for(Ui._N(e,n,i,s);0!=s.length;){var l=s.pop();if(o++,l.K)if(console.log(o-1),"conditional"==l.YY){var h=t.g[t.w[0]],u=l.l5.null.v.Cndt,f=!1;"Bckg"==u?f=!1:"Pxel"==u&&t._W(!1)||"Adjs"==u&&ji.get(h.add)||"Shp"==u&&h.add.vogk||"Grup"==u&&h.dH()||"Opn"==u&&null!=t?f=!0:"32Bt"==u?f=!1:"RGB"==u&&(f=!0);var h=l.l5.then,u=l.l5.else;f&&h&&Ui._N(e,h.v[0].v.val,h.v[1].v.val,s),!f&&u&&Ui._N(e,u.v[0].v.val,u.v[1].v.val,s)}else if("stop"==l.YY){if(!l.l5.Cntn||1!=l.l5.Cntn.v){alert(l.l5.Msge.v);break}window.confirm(l.l5.Msge.v)}else"play"==l.YY?(f=l.l5.null.v,(u=new yr(mr.E.W,!0)).data={d:mr.J.$u,Nn:[f[0].v.val,f[1].v.val]},r.c(u)):(a.data={YY:l.YY,l5:l.l5},r.c(a))}},_N:function(t,e,n,i){for(var r,a=0;a<t.length;a++)if(t[a].rD==n)for(var s=t[a].ct,o=0;o<s.length;o++)s[o].rD==e&&(r=s[o].ct);for(var l=r.length,a=0;a<l;a++)i.push(r[l-1-a])},at4:function(t){var e,n,i,r,a,s=t.YY,o=t.l5;o&&o.null&&(e=o.null.v[0]);var l=(e=(e=o&&null==e&&o.At?o.At.v[0]:e)&&"obj "==e.t?e.v[0]:e)?e.v.classID:null;if(-1!=["purge"].indexOf(s))return s[0].toUpperCase()+s.slice(1);if("GEfc"==s)return Zr.names[o.GEfk.v.GEft][1];for(n in a=ji.Qf)a[n]==s&&(i=n);for(n in a=Gr.Qf)a[n]==s&&(r=n);if(i){var h=ji.CZ(i,o);return-1!=h?[4,16,h]:ji.names[i]}if(r)return Gr.names[r];t=Ui.wm;if("make"==s){if(e){if("AdjL"==l)return[6,1];if("layerSection"==l)return o.From?[6,9]:[6,20];if("Lyr"==l)return[6,13];if("Chnl"==l&&"Msk"==e.v.enum)return[6,2];if("contentLayer"==l)return[6,48,1];if("BckL"==l)return"Make Background Layer";if("Path"==l)return"Make Path";if("TxLr"==l)return"Make Text Layer";if("slice"==l)return"Make Slices"}if(o.Nw){if("Dcmn"==(l=o.Nw.v.classID))return[11,7];if("Chnl"==l||"SCch"==l)return"New Channel"}}else{if("deselect"==s){if("Path"==l)return"Deselect current path";throw l}if("select"==s){if("Chnl"==l)return"Select "+("Msk"==e.v.enum?"Mask ":"")+"Channel";if("Mn"==l)return'Select Panel "'+e.v.enum+'"';if("Lyr"==l)return"Enmr"==e.t?"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[e.v.enum]+" Layer":'Select Layer "'+e.v.val+'"';if("Path"==l)return"Select Path";if("Brsh"==l)return"Select Brush";if("Dcmn"==l)return"Select Document"}else{if(t[s]&&"Chnl"==l){h="fsel"==e.v.keyID;return t[s]+" "+(h?"Selection":"Channel")}if("set"==s){if("Lyr"==l)return"Set Current Layer";if("AdjL"==l)return[6,39];if("contentLayer"==l)return[6,48,2];if("Prpr"==l)return[11,6];if("Clr"==l)return"Set "+("FrgC"==e.v.keyID?"Foreground":"Background")+" color";if("Brsh"==l)return"Set Brush";console.log(l)}else if("move"==s){if("Lyr"==l)return"Move Layer"}else{if("show"==s||"hide"==s)return("show"==s?"Show":"Hide")+" ";if("reset"==s){if("Clr"==l)return"Reset Colors"}else if("exchange"==s){if("Clr"==l)return[22,7,0]}else{if("rotateEventEnum"==s)return[2,5];if("flip"==s)return[[2,6],[22,4,"Hrzn"==o.Axis.v.Ornt?2:3]]}}}}if("Chnl"==l){if("duplicate"==s)return"fsel"==e.v.keyID?"Selection to Channel":"Duplicate Channel";if("delete"==s)return"Delete Channel"}if("transform"==s)return e&&"fsel"==e.v.keyID?[7,10]:[10,16];l={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],delete:o?"Lyr"==l?[6,31]:"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",convertMode:"Convert Mode",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"}[s];return(l=null==l?Ui.Jj[s]:l)?l:s},Jj:{border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]},wm:{set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"},a5A:function(t,e,n,i){var r,a,s,o=t.YY,l=t.l5,h=!1,u=new yr(mr.E.u,!0);u.b=qr.ZD;var f=new yr(mr.E.W,!0);if(-1==["purge","updatePlacedLayer","convertMode","convertToProfile"].indexOf(o)){for(r in a=ji.Qf)a[r]==o&&(J=r);for(r in a=Gr.Qf)a[r]==o&&(I=r);"fade"==o&&(J=o),"matchColor"==o&&(J="matc"),(J="applyImageEvent"==o?"aply":J)?(u.b=qr.qH,u.data={d:"start",ac:J,JL:l}):I?(u.b=qr.Hu,u.data={d:"start",Fa:I,JL:l}):"GEfc"==o?(u.b=qr.Hu,u.data={d:"start",Fa:"GEfc",JL:l}):"imageSize"==o||"canvasSize"==o||"revealAll"==o||"trim"==o||"crop"==o?(u.b=qr.Nc,u.data={d:"fromAction",__:t}):"fill"==o||"stroke"==o||"delete"==o&&null==l?(u.b=qr.Gx,u.data={d:"fromAction",__:t}):("colorRange"==o||Ui.Jj[o]||Ui.wm[o]&&(l.With&&"fsel"==l.With.v[0].v.keyID||l.From&&"fsel"==l.From.v[0].v.keyID||l.null&&"fsel"==l.null.v[0].v.keyID||l.T.v[0]&&"fsel"==l.T.v[0].v.keyID))&&(u.b=qr.rZ,u.data={d:"fromAction",__:t});var c={copyToLayer:qi.rb,cutToLayer:qi.mn,mergeLayersNew:qi.Gm,rasterizeLayer:qi.afP,mergeVisible:qi.y$,flattenImage:qi.a2o,newPlacedLayer:qi.G_};if(c[o]&&(u.data={d:c[o],l5:l}),u.data)e.c(u);else if("collapseAllGroupsEvent"!=o){if("desaturate"==o)return u.b=qr.qH,u.data={d:"auto",qF:3},void(i&&null==i.g[i.w[0]].add.SoLd&&e.c(u));if("close"==o)return"Ys"==l.Svng.v.YsN&&(f.data={d:mr.J.B4},e.c(f)),f.data={d:mr.J.ir,cm:i},void e.c(f);if("save"==o)return f.data={d:mr.J.B4},void e.c(f);if("copyMerged"==o)return f.data={d:mr.J.xH,l0:!0,u1:!0},void e.c(f);if((c={placedLayerEditContents:mr.J.agX,copyEvent:mr.J.xH,paste:mr.J.cf})[o]&&(f.data={d:c[o],u1:!0}),f.data)e.c(f);else{if("obj "==(s=l.null||l.At?(l.null||l.At).v:[{t:"----",v:l}])[0].t){if(1!=s.length)throw"e";s=s[0].v}for(var p=0;p<s.length;p++){var d,v,g,y=(H=s[p]).v.classID;if(u.data=null,"make"==o)if("AdjL"==(y=null==l.null&&l.Nw?l.Nw.v.classID:y))u.data={d:qi.P$,l5:l};else if("layerSection"==y)u.data=l.From?{d:qi.t8}:{d:qi.rk},l.Usng&&((d=l.Usng.v).Nm&&(u.data.uD=d.Nm.v),d.Clr&&(u.data.AF=Ui.ej(d)));else if("Lyr"==y)l.Usng&&2==l.Usng.v.length?u.data={d:qi.a3a}:(u.data={d:qi.cD},l.Usng&&(u.data.uD=l.Usng.v.Nm.v),l.below&&l.below.v&&(u.data.aae=!0));else if("Chnl"==y&&"Msk"==H.v.enum)u.data={d:qi.xo,Zx:l.Usng.v.UsrM};else if("Chnl"==y||"SCch"==y)u.data={d:qi.lB,wp:"fromAction",k:t};else if("contentLayer"==y)u.data={d:qi.$Z,l5:l};else{if("BckL"==y){i.g[i.w[0]].a6T();continue}if("Dcmn"==y){var m=l.Nw.v;f.data={d:mr.J.Ro,Jt:zi.agG(m,n)}}else if("Ptrn"==y)f.data={d:mr.J.Aw,jm:0};else if("Path"==y)u.b=qr.es,u.data={d:"pathedit",wp:"fromsel"};else if("TxLr"==y)u.b=qr.iL,u.data={d:"fromAction",__:t};else{if("slice"!=y){if("SnpS"==y)continue;throw console.log(o,y,l),"e"}u.b=qr.bp,u.data={d:"fromAction",__:t}}}else{if("deselect"==o){if("Path"!=y)throw y;i.B0=[],i.iM=i.Lj=!0;continue}if("selectNoLayers"==o)i.w=[],h=i.hu=!0;else if("select"==o){var w={PcTl:qr.xr,PbTl:qr.Gx,magicWandTool:qr.Xn};if("Lyr"==y){m=l.selectionModifier,m=m?m.v.selectionModifierType:null;if(-1==(L=Ui.FO(i,H)))throw alert("Layer "+H.v.val+" does not exist."),"e";u.data={d:qi.vW,i:L,ah7:m?["addToSelection","addToSelectionContinuous"].indexOf(m):null,nn:0,a3k:!0}}else{if("Path"==y){if("WrPt"!=H.v.keyID)throw H;i.B0=[0],i.iM=i.Lj=!0;continue}if("Chnl"==y)u.data={d:qi.vW,i:L,nn:1};else if("Dcmn"==y){if(e.$c.length<2)return;f.data={d:mr.J.a49,dir:l.null.v[0].v.val}}else if("Brsh"==y){for(var b=n.S9.list,M=0;M<b.length;M++)b[M].v.Nm.v==H.v.val&&(P=b[M].v);f.data={d:mr.J.ot,jm:Bi.qX,Mt:P}}else if("Mn"==y)"Scl"==H.v.enum&&(f.data={d:mr.J.ms,b:qr.gc,VU:{Zx:3}}),"Plce"==H.v.enum&&(f.data={d:mr.J.Rw,ats:!0}),"ZmIn"==H.v.enum&&(u.b=qr.fz,u.data={d:"zoom",qo:!0}),"ZmOt"==H.v.enum&&(u.b=qr.fz,u.data={d:"zoom",qo:!1}),"FtOn"==H.v.enum&&(u.b=qr.fz,u.data={d:"adapt",k:"fitscr"});else{if(!w[y])throw y;f.data={d:mr.J.ms,b:w[y]}}}}else if("set"!=o&&"reset"!=o&&"exchange"!=o||"Clr"!=y){if("set"==o)if("AdjL"==y){var S=l.T.v.classID,S=ji.kc[S];u.b=qr.qH,S&&(u.data={d:"edit_layer",k:l.T.v})}else if("Lyr"==y){var C,x=l.T.v,L=Ui.FO(i,H);for(C in x)if("classID"!=C){if(u.b=qr.ZD,"Nm"==C)u.data={d:qi.Rq,name:x.Nm.v};else if("Opct"==C)u.data={d:qi.t$,NL:Math.round(255*x.Opct.v.val/100)};else if("fillOpacity"==C)u.data={d:qi.qn,NL:Math.round(255*x.fillOpacity.v.val/100)};else if("Md"==C)u.data={d:qi.Lu,NL:Ji.q6.indexOf(x.Md.v.BlnM)+(i.g[L].dH()?1:0)};else if("Usrs"==C)u.data={d:qi.sC,i:L};else if("Blnd"==C)u.b=qr.em,u.data={d:"setstl",i:L,k:{blendOptions:{t:"objc",v:x}}},e.c(u),u.data={d:"confirm",i:L};else if("userMaskFeather"==C||"userMaskDensity"==C){var D=x.userMaskFeather,k=x.userMaskDensity;u.b=qr.ZD;var L=i.w[0],T=i.g[L].Cd(0);D&&(T.Ac=D.v.val),k&&(T.vn=k.v.val),u.data={d:qi.Bj,Nh:L,Xd:T}}else if("Clr"==C){T=Ui.ej(x);u.data={d:qi.Pj,arX:T}}else if("Lefx"==C)u.data={d:"setstl",i:L,k:{Lefx:{t:"objc",v:x.Lefx.v}}};else{if("prop"!=s[0].t)throw console.log(l),C;h=!0}u.data&&(e.c(u),h=!(u.data=null))}(Z=i.g[L]).amV()}else if("Prpr"==y){var x=JSON.parse(JSON.stringify(l.T.v));if("TxtS"==H.v.keyID){var L=Ui.FO(i,l.null.v[1]),w=(Z=i.g[L]).add.TySh,A=JSON.parse(JSON.stringify(w.nx)),S=ir.CP(A),w=ir.vK(A,0,S.length-2);x.Undl&&"underlineOnLeftInVertical"==x.Undl.v.Undl&&(w.hy.Underline=!0),ir.xB(A,0,S.length-1,w),u.b=qr.iL,u.data={d:"newED",Ru:L,M7:A},p=1e9}else{for(var E in x)x[E].v&&("Scl"==E&&(x[E].v.val=100),x[E].v.TrnS&&null==x[E].v.TrnS.v.Crv&&(x[E].v.TrnS=JSON.parse(Wi.xs[9]).TrnS));en.zo(x),null==x.masterFXSwitch&&(x.masterFXSwitch={t:"bool",v:!0});L=Ui.FO(i,l.null.v[1]);u.b=qr.em,u.data={d:"setstl",i:L,k:{Lefx:{t:"objc",v:x}}},e.c(u),u.data={d:"confirm",i:L}}}else if("contentLayer"==y){var L=Ui.FO(i,H),O={solidColorLayer:0,gradientLayer:1,patternLayer:2}[(x="shapeStyle"==(x=l.T.v).classID?x.FlCn.v:x).classID],N=qr.iT.Tr(i,L),I=N.SB==O+1?N.k4:Wi.iP[O];I=JSON.parse(JSON.stringify(I)),qr.Ap.pY(x,I,O),u.data={d:qi.cU,wy:[L],At:!0,k:{SB:O+1,k4:I}}}else{if("Brsh"!=y)throw console.log(H,l),y;var P=JSON.parse(JSON.stringify(n.S9.Ej)),F=l.T.v;F.masterDiameter?P.Brsh.v.Dmtr.v.val=F.masterDiameter.v.val:console.log("unknown brush parameters"),f.data={d:mr.J.ot,jm:Bi.qX,Mt:P}}else if("move"==o){if("Lyr"==y)if("Ofst"==(x=l.T.v).classID)u.data={d:"trsl",Bc:x.Hrzn.v.val,fJ:x.Vrtc.v.val},u.b=qr.AZ;else{if("Enmr"==x[0].t)if("Frnt"==x[0].v.enum)g=0;else if("Nxt"==x[0].v.enum)g=1;else if("Prvs"==x[0].v.enum)g=2;else{if("Back"!=x[0].v.enum)throw"e";g=3}else v=x[0].v.val;u.data={d:qi.eF,target:v,wp:g,akL:!!l.Dplc&&l.Dplc.v}}}else if("groupEvent"==o||"ungroup"==o)u.data={d:qi.io};else if("show"==o||"hide"==o)if("Lyr"==y){if(-1==(L=Ui.FO(i,H)))continue;var _=i.g[L].SH();if("show"==o&&_||"hide"==o&&!_)continue;u.data={d:qi.hP,i:L}}else"Chnl"==y?u.data={d:qi.lB,wp:"fromAction",k:t}:"filterFX"==y&&(null!=H.v.val&&(u.data={d:qi.Rj,index:H.v.val-1}),u.data={d:qi.g2},s=[s[0]]);else if("rotateEventEnum"==o){u.b=qr.Nc;var B=l.Angl.v.val;u.data={d:"rot",rD:[2,5],k:-B*Math.PI/180}}else if("flip"==o){u.b=qr.Nc;var R="Hrzn"==l.Axis.v.Ornt,U=R?new Pr(-1,1):new Pr(1,-1);u.data={d:"scl",rD:[[2,6],[22,4,R?2:3]],k:U}}else if("transform"==o){A=1,N=1,O=0,F=0,_=0,B=0,R=0;l.Wdth&&(A=l.Wdth.v.val/100),l.Hght&&(N=l.Hght.v.val/100),l.Skew&&(O=(U=l.Skew.v).Hrzn.v.val,F=U.Vrtc.v.val),l.Ofst&&(B=(j=l.Ofst.v).Hrzn.v.val,R=j.Vrtc.v.val),l.Angl&&(_=l.Angl.v.val);var j=new _r;j.concat(new _r(A,A*Math.tan(F*Math.PI/180),N*Math.tan(O*Math.PI/180),N,0,0)),j.rotate(-_*Math.PI/180),j.translate(B,R);var H,R={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[l.FTcs.v.QCSt];if(null==R)throw l.FTcs.v.QCSt;-1==(L=(H=(H=l.null)&&H.v instanceof Array?H.v[0]:H)?Ui.FO(i,H):null)&&(L=null),u.b=H&&"fsel"==H.v.keyID?qr.bS:qr.gc,u.data={d:"mat",cv:R,k:j}}else if("Chnl"==y)u.data={d:qi.lB,wp:"fromAction",k:t};else if("duplicate"==o)u.data={d:qi.PR,uD:l.Nm?l.Nm.v:null};else if("delete"==o)"filterFX"==y?null!=H.v.val?u.data={d:qi.Go,cW:H.v.val-1}:u.data={d:qi.WW}:"Path"==y?(u.b=qr.es,u.data={d:"pathedit",wp:"del"}):u.data={d:qi.hL},s=[s[0]];else if("align"==o)if(l.Aply&&"Auto"==l.Aply.v.projection)u.b=qr.Nc,u.data={d:"auto-align"};else{u.b=qr.AZ;var J,y=l.Usng.v.ADSt;if(null==(J={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[y]))throw y;u.data={d:"algn",k:J}}else if("applyLocking"==o){var q,G=l.layerLocking.v;if(G.protectTransparency)q=[[G.protectTransparency.v],[0]];else{if(!G.protectNone)throw console.log(G),"e";q=[[!1,!1,!1,!1],[0,1,2,31]]}u.data={d:qi.N1,NL:q}}}else f.data={d:mr.J.ot,jm:Bi.UB,wp:"reset"==o?3:2},"set"==o&&(f.data.wp="FrgC"==H.v.keyID?0:1,G=Rr.I.Na(l.T.v),f.data.k=G.p<<16|G.z<<8|G.S)}if(!h)if(u.data)e.c(u);else{if(!f.data)throw console.log(t),alert('Unknown action "'+o+'"'),"e";e.c(f)}}}}else{for(var Z,M=0;M<i.g.length;M++)(Z=i.g[M]).dH()&&(Z.add.lsct=Gi.jT);i.iM=!0}}},ej:function(t){var e={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[t.Clr.v.Clr];if(null==e)throw t.Clr.v.Clr;return e},FO:function(t,e){for(var n=1e6,i=0,r=t.g.length,a=0;a<t.w.length;a++)n=Math.min(n,t.w[a]),i=Math.max(i,t.w[a]);var s=e.t,o=-1;if("name"==s){for(var l=e.v.val,o=-1,a=0;a<r;a++)if(t.g[a].getName()==l){o=a;break}}else"Enmr"==s?(0!=t.w.length&&(o=t.w[0]),"Frwr"==e.v.enum&&(o=i+1),"Bckw"==e.v.enum&&(o=n-1),"Back"==e.v.enum&&(o=0),o=((o="Frnt"==e.v.enum?r-1:o)+r)%r):"prop"==s&&"Bckg"==e.v.keyID&&(o=0);return o}},ji={names:{brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]},lY:["expA","clrL","selc"],TW:[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]],apn:[[13,1,11],[13,1,12],[13,1,3],[13,1,10]],fW:[[13,1,1],[13,1,4],[13,1,5]],Hv:{BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"}},Hi;ji.kc=(Hi=JSON.parse(JSON.stringify(ji.Hv)),delete Hi.GrMp,Hi.GdMp="grdm",Hi),ji.Qf={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"},ji.keys={levl:[ii.NT,ii.HH],curv:[ii.NT,ii.Hm],hue2:[ii.NT,ii.GR],nvrt:[ii.NT,ii.uZ],blnc:[ii.NT,ii.tr]},ji.X1=function(t){var e=Gr.PD("mixr");function n(t,e){var n,i={classID:"ChMx"},r={Rd:0,Grn:1,Bl:2,Cnst:4};for(n in r)i[n]={t:"UntF",v:{type:"#Prc",val:t[e+r[n]]}};return{t:"Objc",v:i}}return e.Mnch={t:"bool",v:t.hb},t.hb?e.Gry=n(t.k,0):(e.Rd=n(t.k,0),e.Grn=n(t.k,5),e.Bl=n(t.k,10)),e},ji.hZ=function(t){function e(t,e,n){var i,r={Rd:0,Grn:1,Bl:2,Cnst:4};for(i in r)t[i]&&(e[n+r[i]]=t[i].v.val)}var n={hb:!1,k:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};return t.Mnch&&t.Mnch.v&&(n.hb=!0),n.hb?e(t.Gry.v,n.k,0):(e(t.Rd.v,n.k,0),e(t.Grn.v,n.k,5),e(t.Bl.v,n.k,10)),n},ji.get=function(t){for(var e in ji.names)if(null!=t[e])return e;return null},ji.PJ=function(t,e){var n,i=ji.ry;if("brit"==t){var r=e.Brgh?e.Brgh.v:0,a=e.Cntr?e.Cntr.v:0;if(!!e.useLegacy&&e.useLegacy.v){for(var s=r/255,o=(1-(nt=1<(nt=1+a/100)?1+Math.tan(Math.PI/2*a/101):nt))/2,l=Rr.i8.Uu(s,s,s),h=Rr.i8.multiply(l,[nt,0,0,o,0,nt,0,o,0,0,nt,o,0,0,0,1]),u=new Rr.vs(256),f=0;f<256;f++)u.p[f]=f;Rr.i8.transform(u,u,h),bt={type:i.Fk,KW:u.p,zR:u.p,pW:u.p,fl:!1,j$:!1}}else{for(var c=1024,p=60*(a+100)/200-30,d=[],f=0;f<4;f++)d.push(Rr.Cj.sG(f/3*255,f/3*255,!0));d[1].v.Hrzn.v=64,d[1].v.Vrtc.v=64-p,d[2].v.Hrzn.v=192,d[2].v.Vrtc.v=192+p,d.sort(function(t,e){return t.v.Hrzn.v-e.v.Hrzn.v});var v=Rr.Cj.D7(d,c);var g=function(t,e){for(var n=[],i=0;i<4;i++)n.push(Rr.Cj.sG(i/3*255,i/3*255,!0));return n[1].v.Hrzn.v=130-26*t,n[1].v.Vrtc.v=130+51*t,n[2].v.Hrzn.v=233-48*t,n[2].v.Vrtc.v=233+10*t,Rr.Cj.D7(n,e)}(Math.abs(r)/100,c);if(r<0){for(var y=[],m=1/c,f=0;f<c;f++){for(var w=f*m,b=f;g[b]>w&&1<b;)b--;y[f]=b*m}g=y}for(var M=new Uint8Array(c),f=0;f<c;f++){var S=Math.round((c-1)*g[f]);M[f]=Math.round(255*v[S])}bt={type:i.Fk,KW:M,zR:M,pW:M,fl:!1,j$:!1}}}if("levl"==t){for(var C=[],f=0;f<4;f++)C.push(qe.OD(e,f));s=-C[0][0]/255,o=1/(C[0][1]/255-C[0][0]/255),l=Rr.i8.multiply(Rr.i8.GQ(o,o,o),Rr.i8.Uu(s,s,s));for(var a=Rr.i8.GQ(1/(C[1][1]/255-C[1][0]/255),1/(C[2][1]/255-C[2][0]/255),1/(C[3][1]/255-C[3][0]/255)),r=Rr.i8.Uu(-C[1][0]/255,-C[2][0]/255,-C[3][0]/255),x=Rr.i8.multiply(a,r),M=new Rr.vs(256),f=0;f<256;f++)M.p[f]=M.z[f]=M.S[f]=f;var L=1/(C[0][4]/100),D=1/(C[1][4]/100),k=1/(C[2][4]/100),T=1/(C[3][4]/100);Rr.i8.transform(M,M,x);for(f=0;f<256;f++)M.p[f]=Math.round(Math.max(0,Math.min(255,255*Math.pow(M.p[f]/255,D)))),M.z[f]=Math.round(Math.max(0,Math.min(255,255*Math.pow(M.z[f]/255,k)))),M.S[f]=Math.round(Math.max(0,Math.min(255,255*Math.pow(M.S[f]/255,T))));Rr.i8.transform(M,M,l);for(f=0;f<256;f++)M.p[f]=Math.round(Math.max(0,Math.min(255,255*Math.pow(M.p[f]/255,L)))),M.z[f]=Math.round(Math.max(0,Math.min(255,255*Math.pow(M.z[f]/255,L)))),M.S[f]=Math.round(Math.max(0,Math.min(255,255*Math.pow(M.S[f]/255,L))));s=C[0][2]/255,o=C[0][3]/255-C[0][2]/255,l=Rr.i8.multiply(Rr.i8.Uu(s,s,s),Rr.i8.GQ(o,o,o)),a=Rr.i8.GQ(C[1][3]/255-C[1][2]/255,C[2][3]/255-C[2][2]/255,C[3][3]/255-C[3][2]/255),r=Rr.i8.Uu(C[1][2]/255,C[2][2]/255,C[3][2]/255),x=Rr.i8.multiply(r,a),Rr.i8.transform(M,M,Rr.i8.multiply(l,x)),bt={type:i.Fk,KW:M.p,zR:M.z,pW:M.S,fl:!1,j$:!1}}if("curv"==t){var A=[];if(0==(256==He.OD(e,0).length?1:0))for(var E=Rr.Cj.wZ(He.OD(e,0),256),f=1;f<4;f++){var O=Rr.Cj.wZ(He.OD(e,f),256);A.push(Rr.Cj.bC(O,E))}else{for(var N=[],f=0;f<4;f++){var I=new Uint8Array(256);N.push(I);for(var P=He.OD(e,f),b=0;b<256;b++)I[b]=P[b]}for(f=1;f<4;f++)A.push(Rr.Cj.bC(N[f],N[0]))}bt={type:i.Fk,KW:A[0],zR:A[1],pW:A[2],fl:!1,j$:!1}}if("expA"==t){for(var x=e.Exps,F=e.Ofst,_=e.gammaCorrection,B=x?x.v:0,R=F?F.v:0,U=_?_.v:1,M=new Uint8Array(256),f=0;f<256;f++){var e=f/255,j=Math.pow(Math.abs(R),1/(Math.PI/2));0<R?(e=Math.max(R/Math.E,e),e=(1-j)*(e*=Math.exp(R/1.75+B/Math.PI))+ +j):(e*=Math.exp(1.75*-R+B/Math.PI),e+=1.14*-j),e=Math.pow(e,1/U),e=Math.max(0,Math.min(1,e)),M[f]=Math.round(255*e)}bt={type:i.Fk,KW:M,zR:M,pW:M,fl:!1,j$:!1}}if("vibA"==t&&(ht=(e.vibrance?e.vibrance.v:0)/100,ot=(e.Strt?e.Strt.v:0)/100,bt={type:i.uM,jm:[ht,ot,.8+.2/(j=1+ht*(0<ht?.25:.5)),j]}),"hue2"==t){for(var H=[],J=[],q=[],F=!!e.Clrz&&e.Clrz.v,f=0;f<256;f++)H[f]=f/255,J[f]=0,q[f]=0;var G=Je.OD(e,0),Z=ji.Zj(G[1]/100);if(F)for(var z=G[0]/360,f=0;f<256;f++)H[f]=z,J[f]=Z;else{for(f=0;f<256;f++){var V=H[f];J[f];H[f]+=G[0]/360;for(b=0;b<6;b++){for(var W=Je.OD(e,b+1),X=W.VR,Y=W.tc,j=0,K=1;K<4;K++)Y[K]<Y[0]&&(Y[K]+=360);var Q=Y[0],$=Y[1],tt=Y[2],et=Y[3],W=360*V;W<Y[0]&&(W+=360);Q=(W-Q)/($-Q),tt=(W-tt)/(et-tt);j=Q<0?0:Q<1?Q:tt<0?1:tt<1?1-tt:0;var nt=ji.Zj(X[1]/100);H[f]+=j*X[0]/360,J[f]+=j*nt,q[f]+=j*X[2]/100}}for(f=0;f<256;f++)J[f]=(1+J[f])*(1+Z)-1,q[f]=Math.max(-1,Math.min(1,q[f]))}for(var it=new Uint8Array(256),rt=new Uint8Array(256),at=new Uint8Array(256),f=0;f<256;f++){var st=H[f],ot=J[f],lt=q[f];1<st&&st--,st<0&&st++,ot=.5*(1+(ot=ji.apI(ot))),lt=.5*(1+lt),it[f]=Math.round(255*st),rt[f]=Math.round(255*ot),at[f]=Math.round(255*lt)}var _=G[2]/100,ht=_<0?-_:_;bt={type:i.dU,aaP:it,li:rt,auV:at,as7:ht*(_<0?0:1),WV:1-ht,aut:G[2]/100,apl:F?1:0}}if("nvrt"==t){for(M=new Uint8Array(256),f=0;f<256;f++)M[f]=255-f;bt={type:i.Fk,KW:M,zR:M,pW:M,fl:!1,j$:!1}}if("post"==t){for(var ut=e.Lvls.v,M=new Uint8Array(256),j=ut/255.001,ft=255/(ut-1),f=0;f<256;f++)M[f]=Math.floor(f*j)*ft;bt={type:i.Fk,KW:M,zR:M,pW:M,fl:!1,j$:!1}}if("grdm"==t&&(xt=e.Grad.v,Lt=e.Rvrs,c=1024,Mt=xt.Clrs?(St=Rr.I.vG(xt.Clrs.v,0,0),Rr.I.Ju(xt,St,c,!!Lt&&Lt.v)):Rr.I.hc(xt,c,!!Lt&&Lt.v),St=Rr.t(c),xt=Rr.t(c),Lt=Rr.t(c),Rr.VW(Mt,St,0),Rr.VW(Mt,xt,1),Rr.VW(Mt,Lt,2),bt={type:i.Fk,KW:St,zR:xt,pW:Lt,fl:!0,j$:!1}),"selc"==t){for(var ct=new Float32Array(54),pt=(e.S5,!!e.Mthd&&"Absl"==e.Mthd.v.CrcM),b=0;b<9;b++){var dt=6*b,vt=Ze.OD(e,b),gt=vt[0]/100,yt=vt[1]/100,mt=vt[2]/100,vt=vt[3]/100;pt?(ct[dt]=ct[1+dt]=ct[2+dt]=1,ct[3+dt]=gt*(1+vt)+vt,ct[4+dt]=yt*(1+vt)+vt,ct[5+dt]=mt*(1+vt)+vt):(ct[0+dt]=(1+gt)*(1+vt),ct[1+dt]=(1+yt)*(1+vt),ct[2+dt]=(1+mt)*(1+vt))}bt={type:i.nb,afx:ct}}if("blwh"==t){for(var wt="Rd Yllw Grn Cyn Bl Mgnt".split(" "),bt=[],Mt=0,St=0,f=0;f<6;f++)bt.push(e[wt[f]].v);bt.push(e.useTint.v,e.tintColor.v);for(var Ct=[],f=0;f<6;f++)Ct.push((bt[f]-50)/50);var xt=Rr.I.Na(bt[7]);xt.p/=255,xt.z/=255,xt.S/=255;var Lt=Rr.IA(xt.p,xt.z,xt.S),lt=Rr.Zr(Rr.AX(Lt.kY,1,.5)),xt=Lt.gB*Lt.JL;.5==lt?Mt=St=.5:(Mt=xt*(.5-lt)/(.5/lt-1),St=1-xt*(.5-lt)-1/(2*(1-lt)),St/=1-1/(2*(1-lt))),bt={type:i.Wj,atD:Ct,mr:bt[6]?1:0,a1k:Lt.kY,Zr:lt,agb:xt,DE:Mt,ajT:St}}if("blnc"==t){for(var Dt,kt,Tt,At,C=[],Et=["ShdL","MdtL","HghL"],f=0;f<3;f++)null!=e[Et[f]]?(Dt=(ut=e[Et[f]].v)[0].v/100,kt=ut[1].v/100,Tt=ut[2].v/100,At=null==e.PrsL||e.PrsL.v?(Math.min(Dt,kt,Tt)+Math.max(Dt,kt,Tt))/2:0,C[f]=[Dt-At,kt-At,Tt-At]):C[f]=[0,0,0];for(A=[Rr.t(256),Rr.t(256),Rr.t(256)],b=0;b<3;b++)for(f=0;f<256;f++){var Ot,w=f*(1/255),p=0;p=C[2][b],w=(Ot=Math.abs(p))*(p<0?Math.pow(w,Math.SQRT2):1.63*(Math.pow(w+.04,.5)-.2))+(1-Ot)*w,p=C[1][b],w=(Ot=Math.abs(p))*(p<0?Math.pow(w,2):Math.min(2.35*(Math.pow(w+.09,.5)-.3),Math.pow(w,.5)))+(1-Ot)*w,p=C[0][b],w=(Ot=Math.abs(p))*(p<0?w<.4?0:Math.pow((w-.4)/.6,Math.SQRT2):Math.pow(w,Math.SQRT2/2))+(1-Ot)*w,w=Math.max(0,Math.min(1,w)),A[b][f]=Math.round(255*w)}bt={type:i.Fk,KW:A[0],zR:A[1],pW:A[2],fl:!1,j$:!1}}if("phfl"==t){for(var Nt=Rr.I.Na(e.Clr.v),It=[Nt.p/255,Nt.z/255,Nt.S/255],Pt=e.Dnst.v/100,A=[Rr.t(256),Rr.t(256),Rr.t(256)],b=0;b<3;b++)for(f=0;f<256;f++){var Ft=(w=f*(1/255))*It[b];w=Pt*(Ft=Math.max(0,Math.min(1,Ft)))+(1-Pt)*w,A[b][f]=Math.round(255*w)}bt={type:i.Fk,KW:A[0],zR:A[1],pW:A[2],fl:!1,j$:e.PrsL.v}}if("thrs"==t){for(M=Rr.t(256),f=e.Lvl.v;f<256;f++)M[f]=255;bt={type:i.Fk,KW:M,zR:M,pW:M,fl:!0,j$:!1}}if("mixr"==t){for(var _t=ji.hZ(e),h=[],f=0;f<_t.k.length;f++)f%5!=3&&h.push(_t.k[f]/100);if(_t.hb)for(var Bt=1;Bt<3;Bt++)for(w=0;w<4;w++)h[4*Bt+w]=h[w];bt={type:i.bP,Cq:h}}return"rplc"==t&&(Nt=e.Mnm.v,n=e.Mxm.v,bt={type:i.xu,Ox:[Nt.Lmnc.v,Nt.A.v,Nt.B.v],e7:[n.Lmnc.v,n.A.v,n.B.v],shift:[e.H.v/360,e.Strt.v/100,e.Lght.v/100],KO:e.Fzns.v/150}),"clrL"==t&&e.profile&&(n=new Uint8Array(e.profile.v),t=ICC.R(n.buffer),n=[],n=ICC.U.sampleLUT(t,17),bt={type:i._U,lJ:ICC.U.rgba8LUT(n,17),av4:n,bo:17}),bt},ji.CZ=function(t,e){var n=-1;return"levl"!=t||null==e?n=-1:e.Auto?n=0:e.AuCo?n=1:e.autoBlackWhite&&(n=2),n},ji.ry={Fk:0,dU:1,uM:2,nb:3,Wj:4,bP:5,xu:6,_U:7},ji.Zj=function(t){return t<0?t:Math.pow(Math.tan(Math.PI/2*t),1.3)},ji.apI=function(t){return t<0?t:(t=Math.pow(t,1/1.3),Math.atan2(t,1)/(Math.PI/2))},ji.O9=function(t,e,n,i){var r,a,s,o=ji.ry;Date.now();if(Br.jR&&9e4<i.Z()&&t.type!=o.Fk&&t.type!=o._U){(i=i.clone()).x=i.y=0;var l=Br.KU(0,i.m,i.n);return l.set(e),Br._9(l,i),l.Qg(i),ji.uY(t,l.Zo,i),void l.get(n)}if(t.type==o._U){var l=t.av4,h=t.bo;ICC.U.applyLUT(l,h,e,n);for(var u=e.length,f=0;f<u;f+=4)n[f+3]=e[f+3]}if(t.type==o.bP&&Rr.i8.To(e,n,t.Cq),t.type==o.Wj)for(var c=t.agb,p=t.Zr,d=t.DE,v=t.ajT,u=e.length,f=0;f<u;f+=4){for(var i=e[f]*(1/255),g=e[f+1]*(1/255),y=e[f+2]*(1/255),m=Rr.Ld(i,g,y),w=0,b=0;b<6;b++)w+=Math.min(1,1.7*(1-m.Z5))*m.gB*t.atD[b]*ji.uv(m.kY,b*(1/6));var M,S=Math.max(0,Math.min(1,m.Z5*(1+w)));1==t.mr?(M=0,M=S<d?S*(.5/p):S<v?S+c*(.5-p):1-.5*(1-S)/(1-p),m.kY=t.a1k,m.gB=Math.min(1,c+3*c*Math.abs(S-.5*(d+v))),m.Z5=M):(m.kY=0,m.gB=0,m.Z5=S);var C=Rr.AX(m.kY,m.gB,m.Z5);n[f]=Math.round(255*C.p),n[f+1]=Math.round(255*C.z),n[f+2]=Math.round(255*C.S)}if(t.type==o.nb)for(var x=t.afx,u=e.length,f=0;f<u;f+=4){for(var i=e[f]*(1/255),g=e[f+1]*(1/255),y=e[f+2]*(1/255),m=Rr.Ld(i,g,y),L=Math.max(i,Math.max(g,y)),D=Math.min(i,Math.min(g,y)),k=1-i,T=1-g,A=1-y,E=0,O=0,N=0,b=0;b<9;b++){var I,P,F=6*b,_=0;1==x[F]&&1==x[1+F]&&1==x[2+F]&&0==x[3+F]&&0==x[4+F]&&0==x[5+F]||(I=k*x[F]+x[3+F],P=T*x[1+F]+x[4+F],F=A*x[2+F]+x[5+F],_=b<6?ji.uv(m.kY,b*(1/6))*m.gB*2*Math.min(m.Z5,1-m.Z5):6==b?2*Math.max(0,D-.5):7==b?1-(Math.abs(L-.5)+Math.abs(D-.5)):2*Math.max(0,.5-L),E+=(Math.max(0,Math.min(1,I))-k)*_,O+=(Math.max(0,Math.min(1,P))-T)*_,N+=(Math.max(0,Math.min(1,F))-A)*_)}i=1-(k=Math.max(0,Math.min(1,k+E))),g=1-(T=Math.max(0,Math.min(1,T+O))),y=1-(A=Math.max(0,Math.min(1,A+N))),n[f]=Math.round(255*i),n[f+1]=Math.round(255*g),n[f+2]=Math.round(255*y)}if(t.type==o.Fk&&Rr.af7(e,n,t.KW,t.zR,t.pW,t.fl,t.j$),t.type==o.dU){var B=new Uint32Array(e.buffer),R=new Uint32Array(n.buffer),u=B.length;if(null==ji.$G){ji.$G=new Float64Array(256);for(f=0;f<256;f++)ji.$G[f]=ji.Zj(2*f/255-1)}for(var U=ji.$G,f=0;f<u;f++){var j,i=1/255*(255&(ht=B[f])),g=1/255*(ht>>>8&255),y=1/255*(ht>>>16&255),H=ht>>>24,J=Math.min(i,g,y),q=Math.max(i,g,y),G=0,Z=~~(255*Rr.Ld(i,g,y).kY+.5),z=t.aaP[Z]*(1/255),V=t.li[Z]*(1/255)*2-1,W=t.auV[Z]*(1/255)*2-1,w=-W,Z=J;0<W&&(w=W,Z=q);W=t.as7+t.WV*w*Z,Z=t.WV*(1-w);i=W+Z*i,g=W+Z*g,y=W+Z*y,j=.5*((q=Math.max(i,g,y))+(J=Math.min(i,g,y))),q!=J&&(Z=q-J,G=.5<j?Z/(2-(q+J)):Z/(q+J));J=V;0==t.apl&&(V=U[Math.floor(127.5*(1+V))],J=Math.min(G*(1+V),1)),i=(C=Rr.AX(z,J,j)).p,g=C.z,y=C.S,R[f]=H<<24|255*y<<16|255*g<<8|255*i}}if(t.type==o.xu){Rr.VO(e,n);for(var B=new Uint32Array(e.buffer),R=new Uint32Array(n.buffer),u=B.length,X=t.KO,Y=1/X,K={HH:t.Ox[0],q4:t.Ox[1],S:t.Ox[2]},Q={HH:t.e7[0],q4:t.e7[1],S:t.e7[2]},f=0;f<u;f++){var $=255&(ht=B[f]),tt=ht>>>8&255,et=ht>>>16&255,i=1/255*$,g=1/255*tt,y=1/255*et,H=ht>>>24,et=Rr.rB($,tt,et),et=Rr.b9(et,K,Q,X,Y);0!=et&&(z=2+(m=Rr.Ld(i,g,y)).kY+t.shift[0],m.kY=z-~~z,m.gB=Math.max(0,Math.min(1,m.gB+t.shift[1])),m.Z5=Math.max(0,Math.min(1,m.Z5+t.shift[2])),i=(1-et)*i+et*(C=Rr.AX(m.kY,m.gB,m.Z5)).p,g=(1-et)*g+et*C.z,y=(1-et)*y+et*C.S,R[f]=H<<24|255*y<<16|255*g<<8|255*i)}}if(t.type==o.uM){var B=new Uint32Array(e.buffer),R=new Uint32Array(n.buffer),u=B.length,nt=(t.jm[0],t.jm[1]),it=t.jm[2],w=t.jm[3],rt=Rr.i8.O3([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),at=Rr.i8.tU(rt),st=2.4;function h(t){return Math.max(0,Math.min(1,t))}function ot(t){return Math.pow(t,st)}function lt(t){return Math.pow(t,1/st)}console.log(at);for(f=0;f<u;f++){var ht,H=(ht=B[f])>>>24;i=(C=(r=i=1/255*(255&ht),a=g=1/255*(ht>>>8&255),s=y=1/255*(ht>>>16&255),r=ot(i),a=ot(a),s=ot(s),(s=Rr.i8.vA(rt,[r,a,s,1]))[0]*=it,s[1]*=w,s[2]*=w,(s=Rr.i8.vA(at,s))[0]=lt(h(s[0])),s[1]=lt(h(s[1])),s[2]=lt(h(s[2])),s))[0],g=C[1],y=C[2];var ut=Rr.Ld(i,g,y);ut.gB=Math.max(0,Math.min(1,ut.gB*(1+nt))),i=(C=Rr.AX(ut.kY,ut.gB,ut.Z5)).p,g=C.z,y=C.S,R[f]=H<<24|255*y<<16|255*g<<8|255*i}}},ji.uY=function(t,e,n){Br.ac.uY(t,e)},ji.uv=function(t,e){t=6*Rr.YB(e,t);return Math.max(0,Math.min(1,t<0?1+t:1-t))};var Gr={vO:function(t){var e=t.filterID.v;return 16777215<e?ln.aiT(e):t.Fltr.v.classID}};Gr.KF=[{k4:"GEfc"},{k4:"LnCr"},{k4:"LqFy",jp:!0},{_l:"3D",IF:["lightFilterGradient"]},{_l:[24,2],IF:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{_l:[24,4],IF:"Dspl,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{_l:[24,6],IF:["AdNs","Dspc","DstS","Mdn ","denoise"]},{_l:[24,8],IF:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{_l:[24,10],IF:["Flam","Clds","DfrC","Fbrs","LnsF"]},{_l:[24,12],IF:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{_l:[24,14],IF:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{_l:[24,16],IF:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr".split(",")},{_l:"Fourier",IF:["dDFT","iDFT"]}],Gr.Qf={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"",Frgm:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Flam:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask",FndE:"findEdges",oilPaint:"oilPaint",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"},Gr.XY={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM"},Gr.P={rigidTransform:qr.Du},Gr.names={lightFilterGradient:"Normal Map",rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:"ZigZag",AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:"Reduce Noise",ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Flam:"Flame",Clds:[24,11,0],DfrC:[24,11,1],Fbrs:"Fibers",LnsF:[24,11,2],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:"Solarize",TrcC:"Trace Contour","Wnd ":"Wind",HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:"Color to Alpha",Dthr:[12,23,3],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:"Defringe",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]]},Gr.PD=function(t){var e=null;if("GEfc"==t&&(e={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:Zr.PD("GlwE")}]}}),"LqFy"==t){for(var n={r2:5,kY:5,map:new Float32Array(50)},i=new Uint8Array(Jr.ij(n)),r=[],a=0;a<i.length;a++)r.push(i[a]);e={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:r}}}return"rigidTransform"==t&&(e={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}),"LnCr"==t&&(e={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}}),"adaptCorrect"==t&&(e={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}}),"Dfs "==t&&(e={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}}),"Fbrs"==t&&(e={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}}),"Embs"==t&&(e={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}}),"oilPaint"==t&&(e={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}}),"TrcC"==t&&(e={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}}),"Wnd "==t&&(e={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}}),"lightFilterGradient"==t&&(e={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}}),"boxblur"==t&&(e={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}}),"GsnB"==t&&(e={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}}),"Bokh"==t&&(e={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}}),"MtnB"==t&&(e={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}}),"RdlB"==t&&(e={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}}),"surfaceBlur"==t&&(e={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}}),"denoise"==t&&(e={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}}),"Dspl"==t&&(e={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}}),"Pnch"==t&&(e={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}}),"Plr "==t&&(e={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}}),"Rple"==t&&(e={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}}),"Shr "==t&&(e={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}}),"Sphr"==t&&(e={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}}),"Twrl"==t&&(e={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}}),"Wave"==t&&(e={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}}),"ZgZg"==t&&(e={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}}),"AdNs"==t&&(e={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}}),"DstS"==t&&(e={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}}),"Mdn "==t&&(e={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}}),"ClrH"==t&&(e={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}}),"Crst"==t&&(e={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}}),"Mztn"==t&&(e={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}}),"Msc "==t&&(e={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}}),"Pntl"==t&&(e={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}}),"LnsF"==t&&(e={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}}),"Dthr"==t&&(e={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0}}),"Adobe Camera Raw Filter"==t&&(e={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}}),"smartSharpen"==t&&(e={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}}),"UnsM"==t&&(e={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}}),"HghP"==t&&(e={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}}),"HsbP"==t&&(e={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}}),"Mxm "==t&&(e={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}}),"Mnm "==t&&(e={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}}),"Ofst"==t&&(e={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}}),"Rept"==t&&(e={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}}),"Flam"==t&&(e={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}}),"Ctoa"==t&&(e={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}}),"brit"==t&&(e={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}}),"levl"==t&&(e={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}}),"curv"==t&&(e={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}}),"expA"==t&&(e={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}}),"vibA"==t&&(e={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}}),"hue2"==t&&(e={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}}),"blnc"==t&&(e={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}}),"blwh"==t&&(e={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}}),"phfl"==t&&(e={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}}),"grdm"==t&&(e={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(Wi.xs[6]).Grad}),"selc"==t&&(e={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}}),"thrs"==t&&(e={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}}),"mixr"==t&&(e={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}}),"clrL"==t&&(e={__name:"Color Lookup",classID:"colorLookup"}),"post"==t&&(e={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}}),"rplc"==t&&(e={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}}),"fade"==t&&(e={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}),"aply"==t&&(e={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}}),"matc"==t&&(e={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}),e="blendOptions"==t?{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}:e},Gr.GV={sFlam:function(t,e){e[0]=t.Type.v,e[1]=t.Leng.v,e[2]=t.RndL.v,e[3]=t.Widt.v,e[4]=t.Angl.v,e[5]=t.Intr.v,e[6]=t.Adpt.v,e[7]=t.Clr.v,e[8]=t.Qual.v,e[9]=t.Turb.v,e[10]=t.Jag.v,e[11]=t.Opct.v.val,e[12]=t.Lins.v,e[13]=t.Botm.v,e[14]=t.Styl.v,e[15]=t.Shap.v,e[16]=t.RnSh.v,e[17]=t.Arng.v},gFlam:function(t,e){t.Type.v=e[0],t.Leng.v=e[1],t.RndL.v=e[2],t.Widt.v=e[3],t.Angl.v=e[4],t.Intr.v=e[5],t.Adpt.v=e[6],t.Clr.v=e[7],t.Qual.v=e[8],t.Turb.v=e[9],t.Jag.v=e[10],t.Opct.v.val=e[11],t.Lins.v=e[12],t.Botm.v=e[13],t.Styl.v=e[14],t.Shap.v=e[15],t.RnSh.v=e[16],t.Arng.v=e[17]},sAdNs:function(t,e){e[0]=t.Nose.v.val,e[1]=["Gsn","Unfr"].indexOf(t.Dstr.v.Dstr),e[2]=t.Mnch.v},gAdNs:function(t,e){t.Nose.v.val=e[0],t.Dstr.v.Dstr=["Gsn","Unfr"][e[1]],t.Mnch.v=e[2]},sDstS:function(t,e){e[0]=t.Rds.v,e[1]=t.Thsh.v},gDstS:function(t,e){t.Rds.v=e[0],t.Thsh.v=e[1]},sGsnB:function(t,e){e[0]=t.Rds.v.val},gGsnB:function(t,e){t.Rds.v.val=e[0]},sHghP:function(t,e){e[0]=t.Rds.v.val},gHghP:function(t,e){t.Rds.v.val=e[0]},sHsbP:function(t,e){var n=["RGBC","HSBl","HSLC"];e[0]=n.indexOf(t.Inpt.v.ClrS),e[1]=n.indexOf(t.Otpt.v.ClrS)},gHsbP:function(t,e){var n=["RGBC","HSBl","HSLC"];t.Inpt.v.ClrS=n[e[0]],t.Otpt.v.ClrS=n[e[1]]},"sMxm ":function(t,e){var n="preserveShape";e[0]=t.Rds.v.val,e[1]=t[n]?["squareness","Rndn"].indexOf(t[n].v[n]):0},"gMxm ":function(t,e){t.Rds.v.val=e[0],t.preserveShape={t:"enum",v:{preserveShape:["squareness","Rndn"][e[1]]}}},"sMnm ":function(t,e){var n="preserveShape";e[0]=t.Rds.v.val,e[1]=t[n]?["squareness","Rndn"].indexOf(t[n].v[n]):0},"gMnm ":function(t,e){t.Rds.v.val=e[0],t.preserveShape={t:"enum",v:{preserveShape:["squareness","Rndn"][e[1]]}}},sMtnB:function(t,e){e[0]=[t.Angl.v],e[1]=t.Dstn.v.val,console.log(e)},gMtnB:function(t,e){t.Angl.v=("number"==typeof e[0]?e:e[0])[0],t.Dstn.v.val=e[1]},sOfst:function(t,e){e[0]=t.Hrzn.v,e[1]=t.Vrtc.v,e[2]=["Rpt","Bckg","Wrp"].indexOf(t.Fl.v.FlMd)},gOfst:function(t,e){t.Hrzn.v=e[0],t.Vrtc.v=e[1],t.Fl.v.FlMd=["Rpt","Bckg","Wrp"][e[2]]},sPnch:function(t,e){e[0]=t.Amnt.v},gPnch:function(t,e){t.Amnt.v=e[0]},"sPlr ":function(t,e){e[0]=["RctP","PlrR"].indexOf(t.Cnvr.v.Cnvr)},"gPlr ":function(t,e){t.Cnvr.v.Cnvr=["RctP","PlrR"][e[0]]},sRple:function(t,e){e[0]=t.Amnt.v,e[1]=["Sml","Mdm","Lrg"].indexOf(t.RplS.v.RplS)},gRple:function(t,e){t.Amnt.v=e[0],t.RplS.v.RplS=["Sml","Mdm","Lrg"][e[1]]},sTwrl:function(t,e){e[0]=t.Angl.v},gTwrl:function(t,e){t.Angl.v=e[0]},sZgZg:function(t,e){e[0]=t.Amnt.v,e[1]=t.NmbR.v,e[2]=["ArnC","OtFr","PndR"].indexOf(t.ZZTy.v.ZZTy)},gZgZg:function(t,e){t.Amnt.v=e[0],t.NmbR.v=e[1],t.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][e[2]]},sUnsM:function(t,e){e[0]=t.Amnt.v.val,e[1]=t.Rds.v.val,e[2]=t.Thsh.v},gUnsM:function(t,e){t.Amnt.v.val=e[0],t.Rds.v.val=e[1],t.Thsh.v=e[2]}},Gr.adf=function(t){var e=new Pr(0,0);if(0==t.enab.v)return e;for(var n=t.filterFXList.v,i=0;i<n.length;i++){var r,a=n[i].v;0!=a.enab.v&&(r=Gr.vO(a),(a=Gr.Qp(r,a.Fltr?a.Fltr.v:null)).x>e.x&&(e.x=a.x),a.y>e.y&&(e.y=a.y))}return e},Gr.Qp=function(t,e){var n=0,i=0;return-1!=["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(t)&&(n=i=2.57*e.Rds.v.val),"MtnB"==t&&(n=i=e.Dstn.v.val),-1!="Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(t)&&(n=i=1e4),"GEfc"==t?Zr.Qp(e):new Pr(Math.ceil(n),Math.ceil(i))},Gr.lI=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}},Gr.Ci=function(t,e){var n={p:e.k$>>16,z:e.k$>>8&255,S:255&e.k$},i={p:e.JH>>16,z:e.JH>>8&255,S:255&e.JH},e=Gr.names[t];null==e&&(e=ji.names[t]);var r,a=t;for(r in ji.Hv)ji.Hv[r]==t&&(a=r);n={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:ri.get(e)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:Rr.I.wg(n)},BckC:{t:"Objc",v:Rr.I.wg(i)},filterID:{t:"long",v:4==a.length?ln.acb(a):777}}},i=Gr.PD(t);return i&&(n.v.Fltr={t:"Objc",v:i}),n},Gr.t3=function(t,e,n,i){Date.now();var r=Br.jR&&Math.max(i.m,i.n)<=Br.XN.getParameter(Br.XN.MAX_TEXTURE_SIZE);if(t<1){var a=Math.round(5*t),s=Rr.dh.EP(s=[1,2,1,2,[40,26,13,6,4,2][a],2,1,2,1]);r?(f=i.m,c=i.n,(u=Br.KU(0,f,c)).set(n),p=Br.KU(1,f,c),d=new Float32Array([1/f,1/c]),Br._9(p),Br.filter.uY({type:Br.filter.adC,Ho:d,a5U:new Float32Array(s)},u.I8),p.get(n)):(Rr.V4(n),a=n.slice(0),Rr.dh.ah(a,n,i.m,i.n,s,255),Rr.hY(n))}else{for(var o=e==Rr.VF.Jb?0:e==Rr.VF.qr?1:2,l=[];2!=o&&20<t*[1,2.4][o]&&l.length<4;){var h=Rr.U4(n,i);l.push(n,i),n=h.L0,i=h.rect,t/=2}var u,f=i.m,c=i.n;if(!r||2==o&&15<t)Rr.V4(n),e(n,i,t),Rr.hY(n);else{(u=Br.KU(0,f,c)).set(n);var p=Br.KU(1,f,c),d=new Float32Array([1/f,1/c]);if(0==o){for(var v=1;v<t;)v<<=1;Br._9(p),Br.filter.uY({type:Br.filter.eC,Ho:d,d7:t,VU:[0,0,v]},u.I8),Br._9(u),Br.filter.uY({type:Br.filter.eC,Ho:d,d7:t,VU:[0,1,v]},p.I8),u.get(n)}else if(1==o){for(var g=Rr.VF.yz(t,3),y=0;y<3;y++){for(var m=g[y]>>>1,w=1;w<m;)w<<=1;0!=m&&(Br._9(p),Br.filter.uY({type:Br.filter.eC,Ho:d,d7:m,VU:[0,0,w]},u.I8),Br._9(u),Br.filter.uY({type:Br.filter.eC,Ho:d,d7:m,VU:[0,1,w]},p.I8))}u.get(n)}else{for(v=1;v<t;)v<<=1;Br._9(p),Br.filter.uY({type:Br.filter.eC,Ho:d,d7:t,VU:[0,0,v]},u.I8),p.get(n)}}for(Date.now();0!=l.length;){var b=l.pop(),M=l.pop();Rr.scale.aa8(n,i.m,i.n,M,b.m,b.n),n=M,i=b}}},Gr.a4o=function(t,e,n,i){for(var r=0;r<t.length;r++)n[r]=t[r]*(1/255),i[r]=0;FFT.fft2d(n,i);for(var a=e>>>1,s=16384,o=128;o<e;)o<<=1,s<<=2;for(var l=255/Math.log(s),h=0;h<e;h++)for(var u=0;u<a;u++){var f=e+a+h&e-1,c=n[f*e+u],p=i[f*e+u],f=Math.sqrt(c*c+p*p),c=Math.atan2(p,c);t[h*e+u]=Math.round(l*Math.log(f+1)),t[h*e+a+u]=Math.round((Math.PI+c)*(127.5/Math.PI))}},Gr.a5H=function(t,e,n,i){n.fill(0),i.fill(0);for(var r=e>>>1,a=16384,s=128;s<e;)s<<=1,a<<=2;for(var o=255/Math.log(a),l=[],h=[],u=[],f=0;f<256;f++){l[f]=Math.exp(f/o)-1;var c=f*(2*Math.PI/255)-Math.PI;h[f]=Math.sin(c),u[f]=Math.cos(c)}for(var p=0;p<e;p++)for(var d=0;d<r;d++){var v=e+r+p&e-1,g=l[t[p*e+d]],y=g*u[c=t[p*e+r+d]],g=g*h[c];n[v*e+d]=y,i[v*e+d]=g,0!=d&&(n[v=0==v?v*e+e-d:(e-v)*e+(e-d)]=y,i[v]=-g)}FFT.ifft2d(n,i);for(f=0;f<t.length;f++)t[f]=Math.max(0,Math.min(255,~~(.5+255*n[f])))},Gr.cH=new ArrayBuffer(512),Gr.a6i=function(t){var e=Gr.cH,n=t.length;e.byteLength<n&&(Gr.cH=e=new ArrayBuffer(n));for(var i=new Uint8Array(e),r=0;r<n;r+=4)i[r]=t[r],i[r+1]=t[r+1],i[r+2]=t[r+2],i[r+3]=t[r+3];return e},Gr.O9=function(t,e,n,i,r,a,s){null==a&&(a={buffer:Rr.t(e.buffer.length),rect:e.rect.clone()}),Rr.VO(e.buffer,a.buffer);var o,l,h,u,f,c,p=n&&n.RndS?n.RndS.v>>>1:0;if("GEfc"==t){var d=[];if(n.GEfs)for(var v=n.GEfs.v,g=0;g<v.length;g++){var y=v[g].v;y.GELv&&0==y.GELv.v||d.push(y)}else d=[n];for(g=0;g<d.length;g++)0==g?Zr.O9(t,e,d[g],i,r,a,s):(null==on&&(on={buffer:Rr.t(e.buffer.length),rect:e.rect.clone()}),Rr.VO(a.buffer,on.buffer),Zr.O9(t,on,d[g],i,r,a,s))}if("Adobe Camera Raw Filter"==t){for(var m=4*(D=(I=(Rn=e.rect).m)*(P=Rn.n)),w=new Float32Array(I*P*3),b=e.buffer,g=0;g<D;g++){var M=4*g;w[C=3*g]=b[M]*(1/255),w[C+1]=b[M+1]*(1/255),w[C+2]=b[M+2]*(1/255)}var S=JSON.parse(JSON.stringify(n));delete S.Upri,delete S.GuUr;for(w=wt=w.slice(0),b=a.buffer,g=0;g<D;g++){var C=3*g;b[M=4*g]=255*Math.max(0,Math.min(1,w[C])),b[M+1]=255*Math.max(0,Math.min(1,w[C+1])),b[M+2]=255*Math.max(0,Math.min(1,w[C+2]))}}if("adaptCorrect"==t&&(m=4*(D=(I=(Rn=e.rect).m)*(P=Rn.n)),o=(u=n.sdwM.v).Amnt.v.val/100,l=u.Wdth.v.val/100,h=u.Rds.v,S=(f=n.hglM.v).Amnt.v.val/100,u=f.Wdth.v.val/100,f=f.Rds.v,Rr.sP.agh(e.buffer,a.buffer,I,P,o,l,h,S,u,f,n.ClrC.v/100,n.Cntr.v/100)),"denoise"==t&&(I=(Rn=e.rect).m,P=Rn.n,f=n.channelDenoise.v[0].v,Rr.ys.aju(e.buffer,I,P,a.buffer,f.Amnt.v/10,f.EdgF.v/100)),"HsbP"==t)for(var x=n.Inpt.v.ClrS,L=n.Otpt.v.ClrS,D=(I=(Rn=e.rect).m)*(P=Rn.n),g=0;g<D;g++){var M=4*g,k=e.buffer[M]*(1/255),T=e.buffer[M+1]*(1/255),A=e.buffer[M+2]*(1/255);"RGBC"==x||("HSLC"==x?(k=(wt=Rr.AX(k,T,A)).p,T=wt.z,A=wt.S):"HSBl"==x&&(k=(wt=Rr.a5z(k,T,A)).p,T=wt.z,A=wt.S));var E=k,O=T,N=A;"RGBC"==L||("HSLC"==L?(E=(wt=Rr.Ld(k,T,A)).kY,O=wt.gB,N=wt.Z5):"HSBl"==L&&(E=(wt=Rr.aaI(k,T,A)).kY,O=wt.gB,N=wt.S)),a.buffer[M]=~~(255*E),a.buffer[M+1]=~~(255*O),a.buffer[M+2]=~~(255*N)}if("Fbrs"==t&&(I=(Rn=e.rect).m,P=Rn.n,Rr.X.Mn(e.buffer,I,P,a.buffer,[n.Vrnc.v,n.Strg.v,p]),p=Rr.t(I*P),Rr.VW(a.buffer,p,0),Rr.tU(p),Zr.PK(p,a.buffer,i,r)),"Frgm"==t&&(I=(Rn=e.rect).m,P=Rn.n,_=e.buffer.slice(0),Rr.V4(_),Rr.X.a46(_,I,P,a.buffer),Rr.hY(a.buffer)),"Flam"==t){var I=(Rn=e.rect).m,P=Rn.n,F=n.Clr.v,_={type:n.Type.v+1,length:n.Leng.v,abo:n.RndL.v,oD:n.Widt.v,aiD:n.Angl.v,ars:n.Intr.v,a6v:n.Adpt.v,color:{p:F.Rd.v,z:F.Grn.v,S:F.Bl.v},rH:n.Qual.v+1,AR:n.Turb.v,oT:n.Jag.v,opacity:n.Opct.v.val,lZ:n.Lins.v,a7X:n.Botm.v,style:n.Styl.v+1,shape:n.Shap.v+1,a6y:n.RnSh.v,a0i:n.Arng.v,aaY:!1},B=s[3],F=B[0],B=B[1],F=F[0!=B.length?B[0]:0];if(null==F)return void alert("Make a path first");for(var R=F.add.vmsk.Y,U=Rr.$.M$(R),j=[],H=0;H<U;H++){var J=Rr.$.PX(R,H),q=R[J];if(!(q.length<2)){var G=[];j.push(G);for(var Z=q.length-(3==q.type?1:0),z=0;z<Z;z++)for(var V=R[J+1+z],W=z==q.length-1?R[J+1]:R[J+1+z+1],X=V.B,Y=V.Pv,K=W.Sm,Q=W.B,$=Math.round(Pr.Tn(X,Q)/5),tt=0;tt<$;tt++){var et=1-(rr=tt/$),nt=et*et*et*X.x+3*et*et*rr*Y.x+3*et*rr*rr*K.x+rr*rr*rr*Q.x,it=et*et*et*X.y+3*et*et*rr*Y.y+3*et*rr*rr*K.y+rr*rr*rr*Q.y;G.push(nt,it)}}}B=[j,_],F=Date.now(),_=Ur(B);jr(e.buffer,I,P,a.buffer,_,B)}if("Dfs "==t&&(I=(Rn=e.rect).m,P=Rn.n,(Dt=["Nrml","DrkO","LghO","anisotropic"].indexOf(n.Md.v.DfsM))<3?Rr.X.adP(e.buffer,I,P,a.buffer,[Dt]):(B=[1.4,1.6,1,4,!1,2,[0,0,.001]],(Rn=e.rect.clone()).x=Rn.y=0,Rr.fE.filter(e.buffer,Rn,a.buffer,B))),"TrcC"==t){var rt=(I=(Rn=e.rect).m)<<2,P=Rn.n,at=n.Lvl.v,st="Lwr"==n.Edg.v.CntE,ot=e.buffer,lt=a.buffer;function ht(t,e){ft(t,e),ft(t+1,e+1),ft(t+2,e+2)}function ut(t,e){ct(t,e),ct(t+1,e+1),ct(t+2,e+2)}function ft(t,e){var n=ot[t],i=ot[e];at<=n&&i<at&&(lt[t]=0),n<at&&at<=i&&(lt[e]=0)}function ct(t,e){var n=ot[t],i=ot[e];at<n&&i<=at&&(lt[e]=0),n<=at&&at<i&&(lt[t]=0)}if(Rr.Bg(lt,16777215,4278190080),st)for(it=1;it<P;it++)for(nt=1;nt<I;nt++)ht(M=it*I+nt<<2,M-4),ht(M,M-rt);else for(it=1;it<P;it++)for(nt=1;nt<I;nt++)ut(M=it*I+nt<<2,M-4),ut(M,M-rt)}if("Embs"==t){var I=(Rn=e.rect).m,P=Rn.n,pt=-n.Angl.v*Math.PI/180,dt=n.Hght.v,vt=n.Amnt.v/100;dt/=2;var gt=Math.cos(pt)*dt,yt=Math.sin(pt)*dt,ot=e.buffer;(lt=a.buffer).fill(0);for(var mt=new Uint32Array(ot.buffer),wt=new Uint8Array(4),bt=new Uint32Array(wt.buffer),it=0;it<P;it++)for(nt=0;nt<I;nt++){var Mt=0,St=0,Ct=0;0<=nt+gt&&nt+gt<I&&0<=it+yt&&it+yt<P&&(Rr.N.te(nt+gt+.5,it+yt+.5,mt,I,P,bt,0,0),Mt+=wt[0]-128,St+=wt[1]-128,Ct+=wt[2]-128),0<=nt-gt&&nt-gt<I&&0<=it-yt&&it-yt<P&&(Rr.N.te(nt-gt+.5,it-yt+.5,mt,I,P,bt,0,0),Mt-=wt[0]-128,St-=wt[1]-128,Ct-=wt[2]-128),lt[M=it*I+nt<<2]=Math.max(0,Math.min(255,Mt*vt+128)),lt[M+1]=Math.max(0,Math.min(255,St*vt+128)),lt[M+2]=Math.max(0,Math.min(255,Ct*vt+128)),lt[M+3]=ot[M+3]}}if("ShrE"==t&&(I=(Rn=e.rect).m,P=Rn.n,Rr.X.a8L(e.buffer,I,P,a.buffer)),"Dspc"==t&&(I=(Rn=e.rect).m,P=Rn.n,Rr.X.a4X(e.buffer,I,P,a.buffer)),"Slrz"==t)for(var xt=a.buffer,g=0;g<xt.length;g+=4)128<xt[g]&&(xt[g]=255-xt[g]),128<xt[g+1]&&(xt[g+1]=255-xt[g+1]),128<xt[g+2]&&(xt[g+2]=255-xt[g+2]);if("Wnd "==t&&(I=(Rn=e.rect).m,P=Rn.n,vr=n.WndM.v.WndM,Rr.X.RB(e.buffer,I,P,a.buffer,[["Wnd","Blst","Stgr"].indexOf(vr),"Left"!=n.Drct.v.Drct])),"Bokh"==t){var m=4*(D=(I=(Rn=e.rect).m)*(P=Rn.n)),Lt=e.buffer.slice(0),Dt=n.BkDi.v.BtDi,st=n.BkDc,dt=n.BkDs.v,kt=n.BkDp.v/255;"BeIn"==Dt&&(kt=0);for(var Tt,At=57*(.3+(I+P)/2*.7/1750)*(n.BkIb.v/100)*(1+.2*Math.pow(kt,.1)),Et=parseInt(n.BkIs.v.BtIs.slice(3)),Ot=-n.BkIr.v*Math.PI/180,Nt=[],g=0;g<8;g++){var It=Ot+g*(2*Math.PI/Et),Pt=Ot+(g+1)*(2*Math.PI/Et),Ft=Math.cos(It),_t=Math.sin(It),Bt=Math.cos(Pt),Rt=Math.sin(Pt),It=[0,0,0];Rr.Cq.Tp([[Ft,_t,1,0],[Bt,Rt,1,0],[1,1,1,1]],It),0<It[2]&&(It[0]*=-1,It[1]*=-1,It[2]*=-1),Nt.push(It[0],It[1],It[2],0)}if("BeIn"==Dt?(Rr.Bg(Lt,0,16777215),kt=1):"BeIt"==Dt&&"BeCt"==st.v.BtDc||("BeIt"==Dt&&"BeCm"==st.v.BtDc?Tt=s[1]:"BeIa"==Dt&&(Tt=s[2][st.v]),null==Tt?Rr.Bg(Lt,0,16777215):(Be=Tt.rect.iy(Rn)?Tt.channel:Tt.PZ(Rn),Rr.al(Be,Lt,3))),dt)for(g=0;g<m;g+=4)Lt[g+3]=255-Lt[g+3];if(Br.jR){var Ut=I,jt=P,Ht=1,Jt=(0==n.BkSb.v||255==n.BkSt.v)&&"BeIn"==Dt;if(!Jt){for(var qt=0,g=0;g<m;g+=4)qt+=Math.abs(kt-Lt[g+3]*(1/255));if(2e3<3.14*(qt=qt/D*At)*qt*I*P/3e6)return void alert("too large radius")}for(;Jt&&2e9<At/Ht*3*(At/Ht)*I*P;){var Gt=Rr.cG(Lt,new Fr(0,0,Ut,jt)),Lt=Gt.L0,Ut=Gt.rect.m,jt=Gt.rect.n;Ht*=2}F=Date.now();(Vt=Br.KU(0,Ut,jt)).set(Lt);Dt=Br.KU(1,I,P);Br._9(Dt),Br.filter.uY({type:Br.filter.acM,Ho:new Float32Array([1/Ut,1/jt]),aka:kt,xT:At/Ht,a9v:new Float32Array([n.BkSb.v/100,n.BkSt.v/255]),a2Y:new Float32Array([n.BkNa.v/100,"BeNu"==n.BkNt.v.BtNt?0:1,n.BkNm.v?1:0]),ab5:new Float32Array(Nt.slice(0,16)),acq:new Float32Array(Nt.slice(16))},Vt.I8),Dt.get(a.buffer);for(var Zt=a.buffer,g=0;g<m;g+=4)Zt[g+3]=e.buffer[g+3]}}if("rigidTransform"==t){var F=Date.now(),zt=Gr.a6i,Vt=e.buffer.slice(0),Wt=0,Xt=0;Rr.V4(Vt),Rr.Bg(a.buffer,0);for(var I=e.rect.m,P=e.rect.n,Yt=n.puppetShapeList.v,Kt=[],Qt=[],$t=[],te=[],z=0;z<Yt.length;z++){for(var ee=2*Wt,C=3*Xt,ne=(an=Yt[z].v).originalVertexArray.v.length>>>2,ie=an.indexArray.v.length>>>2,re=new Float32Array(zt(an.originalVertexArray.v)),g=0;g<ne;g++)Kt[ee+g]=re[g];for(var ae=new Float32Array(zt(an.deformedVertexArray.v)),g=0;g<ne;g++)Qt[ee+g]=ae[g];for(var se=new Uint32Array(zt(an.indexArray.v)),g=0;g<ie;g++)$t[C+g]=Wt+se[g];for(var oe=[],le=[],he=an.PnDp.v,g=0;g<he.length;g++)oe.push(an.pinVertexIndices.v[g].v),le.push(he[g].v);for(var ue=Rr.Zg.ajx(re,se,oe,le),g=0;g<ue.length;g++)te[Wt+g]=ue[g];Wt+=ne>>>1,Xt+=~~(ie/3)}I=(k=e.rect).m,P=k.n;Rr.Zg.xm(Vt,I,P,a.buffer,I,P,Kt,Qt,te,$t),Rr.hY(a.buffer)}if("lightFilterGradient"==t){function fe(t){var e=1/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]*=e,t[1]*=e,t[2]*=e}var D=(I=e.rect.m)*(P=e.rect.n),F=Date.now(),ce=Rr.t(D),O=.3,N=.7;Rr.JT(a.buffer,ce);var pe=Rr.t(D);Rr.VF.uc(ce,pe,a.rect,16);var de=Rr.t(D);Rr.VF.uc(ce,de,a.rect,8);var ve=ce,ge=new Float32Array(D),ce=n.Dtl.v,ye=ce[2].v,me=ce[1].v,we=ce[0].v,ce=40*n.Scl.v*n.textureScale.v/(ye+me+we);ye*=ce,me*=ce,we*=ce;for(g=0;g<D;g++){var be=pe[g]*(1/255),Me=de[g]*(1/255),Se=ve[g]*(1/255);Se*=Se,ge[g]=ye*be+me*Me+we*Se}ce=n.blur.v;0!=ce&&(sn=ge.slice(0),Rr.VF.OT(sn,ge,a.rect,ce));for(var Ce=I-1,xe=P-1,it=1;it<xe;it++)for(nt=1;nt<Ce;nt++){var M=4*(g=it*I+nt),Le=ge[g],gt=O*(ge[g+1]-Le)+N*(Le-ge[g-1]),Y=[0,1,yt=O*(ge[g+I]-Le)+N*(Le-ge[g-I])];fe(X=[1,0,gt]),fe(Y);var Pt=X[0],De=X[2],ke=Y[1],Te=-Pt*Y[2],Le=Pt*ke;a.buffer[M]=~~(127.5+127.5*(-De*ke)),a.buffer[M+1]=~~(127.5+127.5*Te),a.buffer[M+2]=~~(127.5+127.5*Le)}}if("defr"==t&&(I=e.rect.m,P=e.rect.n,Hr(e.buffer,I,P,a.buffer)),"dDFT"==t||"iDFT"==t){var I=e.rect.m,P=e.rect.n,Ae=0==(c=Math.max(I,P))?1:(c--,c|=c>>1,c|=c>>2,c|=c>>4,c|=c>>8,(c|=c>>16)+1),Ee=Ae>>>1,Oe=new Fr(0,0,Ae,Ae);(un=new Fr(0,0,I,P)).y=Ae-P>>>1;var Ne=I>>>1,Ie=new Fr(0,un.y,Ne,P),Pe=new Rr.vs(I*P);Rr.Sk(e.buffer,Pe);var Fe=new Float64Array(Ae*Ae),_e=new Float64Array(Ae*Ae),Be=Rr.t(Ae*Ae);FFT.init(Ae);for(var Re=[Pe.p,Pe.z,Pe.S],g=0;g<3;g++){var Ue=Re[g];Be.fill(0),"dDFT"==t?(Rr.rR(Ue,un,Be,Oe),Gr.a4o(Be,Ae,Fe,_e),Rr.rR(Be,Oe,Ue,un,Ie),Ie.x+=Ne,Oe.x-=Ee-Ne,Rr.rR(Be,Oe,Ue,un,Ie),Ie.x-=Ne,Oe.x+=Ee-Ne):(Rr.rR(Ue,un,Be,Oe,Ie),Ie.x+=Ee,un.x+=Ee-Ne,Rr.rR(Ue,un,Be,Oe,Ie),Ie.x-=Ee,un.x-=Ee-Ne,Gr.a5H(Be,Ae,Fe,_e),Rr.rR(Be,Oe,Ue,un))}Rr.M1(Pe,a.buffer)}if("Avrg"==t){for(var je=0,He=0,Je=0,qe=0,g=0;g<e.buffer.length;g+=4){var Ge=e.buffer[g+3];Je+=e.buffer[g]*Ge,He+=e.buffer[g+1]*Ge,je+=e.buffer[g+2]*Ge,qe+=Ge}var Ze=1/qe,je=Math.round(je*Ze*1+0),He=Math.round(He*Ze*1+0),Je=Math.round(Je*Ze*1+0);Rr.Bg(a.buffer,je<<16|He<<8|Je,4278190080)}if(-1!=["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(t)){var ze=n.Rds.v.val,Ve="boxblur"==t?Rr.VF.Jb:Rr.VF.qr;if(Gr.t3(ze,Ve,a.buffer,a.rect),"UnsM"==t||"smartSharpen"==t){var vt=n.Amnt.v.val/100,We=0;"UnsM"==t?We=n.Thsh.v:vt*=.75;for(var Xe,Ye,Ke,g=0;g<e.buffer.length;g++)3!=(3&g)?(Ke=0<(Ke=vt*((Xe=e.buffer[g])-(Ye=a.buffer[g])))?Math.max(0,Ke-We):Math.min(0,Ke+We),a.buffer[g]=Math.max(0,Math.min(255,Xe+Ke))):a.buffer[g]=e.buffer[g]}if("HghP"==t)for(g=0;g<e.buffer.length;g++)3!=(3&g)?(Xe=e.buffer[g],Ye=a.buffer[g],a.buffer[g]=Math.max(0,Math.min(255,128+Xe-Ye))):a.buffer[g]=e.buffer[g]}if("AdNs"==t)for(var Qe=new Uint8ClampedArray(a.buffer.buffer),$e=255*n.Nose.v.val/100,tn="Gsn"==n.Dstr.v.Dstr?function(){return 2*(Math.random()+Math.random()+Math.random()+Math.random()-2)}:function(){return 2*Math.random()-1},g=0;g<Qe.length;g+=4){var en,nn,rn,k=Qe[g],T=Qe[g+1],A=Qe[g+2];n.Mnch.v?en=nn=rn=tn():(en=tn(),nn=tn(),rn=tn()),k+=$e*en,T+=$e*nn,A+=$e*rn,Qe[g]=k,Qe[g+1]=T,Qe[g+2]=A}F=Date.now();if("Mdn "==t||"DstS"==t||"Mxm "==t||"Mnm "==t||"surfaceBlur"==t){var k=0,an=0;fi=(fi=n.Thsh)?fi.v:0,k="Mdn "==t||"Mxm "==t||"Mnm "==t||"surfaceBlur"==t?n.Rds.v.val:n.Rds.v;var sn=n.preserveShape;sn&&"Rndn"==sn.v.preserveShape&&(an=1);I=e.rect.m,P=e.rect.n,ce=["Mnm ","Mxm ","surfaceBlur"].indexOf(t),Ze=(0==an?1:.75)*[.73,.73,1][ce]*(I*P*k*k)/1722387,sn=[.73,.9,1.4][ce]*(I*P*Math.sqrt(k))/6500;if(Br.jR&&-1!=ce&&(Ze<sn||1==an)&&Ze<1500){(Vt=Br.KU(0,I,P)).set(e.buffer);var on=Br.KU(1,I,P);Br._9(on),Br.filter.uY({type:Br.filter.ahS,Ho:new Float32Array([1/I,1/P]),xT:k,adv:fi/255,VU:[an,ce,10*Math.ceil(k/10)]},Vt.I8),on.get(a.buffer)}else{k=Math.round(k),Rr.Hf.PY=.5;var Ve=Rr.Hf.ix;if("Mxm "==t&&(Ve=Rr.Hf.Jm),"Mnm "==t&&(Ve=Rr.Hf.gF),"surfaceBlur"==t&&(Ve=Rr.Hf.GK),Rr.Hf.jh(e.buffer,a.buffer,I,P,k,Ve,[fi]),"DstS"==t)for(g=0;g<I*P*4;g++)(Wi=Math.abs(e.buffer[g]-a.buffer[g]))<=fi&&(a.buffer[g]=e.buffer[g])}}if("ClrH"==t){(Ie=e.rect.clone()).x=Ie.y=0;k=n.Rds.v;k=Math.round(k*Math.sqrt(2));I=Ie.m,P=Ie.n,Pe=new Rr.vs(I*P);Rr.Sk(e.buffer,Pe),Rr.tU(Pe.p),Rr.tU(Pe.z),Rr.tU(Pe.S);for(var ln=Rr.XQ(I,P),Zt=Rr.t(I*P*4),hn=0;hn<3;hn++){Be=0==hn?Pe.p:1==hn?Pe.z:Pe.S,pt=Math.PI*n["Ang"+(hn+1)].v/180;(Qn=new _r(1/k,0,0,1/k,0,0)).rotate(pt),Rr.al(Be,Zt,3);var un=(wt=qr.Q.xX([Zt,Ie],Qn,!0)).rect;ln.clearRect(0,0,I,P);for(var fn=Math.sin(pt),cn=Math.cos(pt),g=0;g<un.n;g++)for(tt=0;tt<un.m;tt++){nt=cn*(Xn=nt=(tt+un.x+.5)*k)-fn*(Yn=it=(g+un.y+.5)*k),it=fn*Xn+cn*Yn;D=wt.buffer[3+(g*un.m+tt<<2)]*(1/255),ze=k*Math.sqrt(D*(1/Math.PI));ln.beginPath(),ln.arc(nt,it,ze,0,2*Math.PI),ln.fill()}var pn=ln.getImageData(0,0,I,P);Rr.VW(pn.data,Be,3)}Rr.tU(Pe.p),Rr.tU(Pe.z),Rr.tU(Pe.S),Rr.M1(Pe,a.buffer)}if("Crst"!=t&&"Pntl"!=t||(I=e.rect.m,P=e.rect.n,(Ve="Crst"==t?Rr.et.a7U:Rr.et.auE)(e.buffer,I,P,a.buffer,n.ClSz.v,[Math.round(r.p),Math.round(r.z),Math.round(r.S)])),"Mztn"==t){var D=(I=e.rect.m)*(P=e.rect.n),dn=[(Pe=new Rr.vs(D)).p,Pe.z,Pe.S];Rr.Sk(e.buffer,Pe);for(var vn={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[vr=n.MztT.v.MztT],F=Date.now(),gn=[],g=0;g<D;g++)gn[g]=Math.random();for(var D=I*P,yn=Math.round(D*vn[0]),mn=D-I-1,g=0;g<yn;g++){var wn=1;(Sn=Math.random())<.5?(wn=I,Sn*=2):Sn=2*(Sn-.5),gn[Mn=Math.floor(Sn*mn)]=gn[Mn+wn]}for(var bn=Math.round(I*vn[1]),it=0;it<P;it++)for(g=0;g<bn;g++){var Mn,Sn=Rr.a.k0(it*D+g);gn[Mn=it*I+Math.floor(Sn*(I-1))]=gn[Mn+1]}for(var Cn=new Float64Array(256),g=0;g<256;g++){var xn=2*((Dn=g/255)<.5?Dn:1-Dn),xn=vn[2]+Math.pow(xn,vn[3])*(1-vn[2]);Cn[g]=Dn=Dn<.5?.5*xn:1-.5*xn}for(var Ln=0;Ln<3;Ln++)for(Be=dn[Ln],it=0;it<P;it++)for(nt=0;nt<I;nt++){var Dn=Cn[Be[g=it*I+nt]],Sn=gn[g];Be[g]=Dn<Sn?0:255}Rr.M1(Pe,a.buffer)}if("Msc "==t&&(U=n.ClSz.v.val,I=e.rect.m,P=e.rect.n,tr=Math.ceil(I/U),er=Math.ceil(P/U),zn=Rr.t(tr*er*4),Rr.scale.t4(e.buffer,I,P,zn,tr,er,1/U),Rr.scale.t4(zn,tr,er,a.buffer,I,P,U)),"Clds"==t||"DfrC"==t){var D=(I=a.rect.m)*(P=a.rect.n),kn=Rr.t(D);"Clds"==t&&Rr.Bg(a.buffer,4278190080);for(var Tn=Rr.t(1024),g=0;g<256;g++){var An=g/255,se=1-An;Tn[M=g<<2]=Math.round(An*i.p+se*r.p),Tn[M+1]=Math.round(An*i.z+se*r.z),Tn[M+2]=Math.round(An*i.S+se*r.S)}Rr.X.a1N(e.buffer,I,P,kn);for(var En=a.buffer,g=0;g<D;g++){M=g<<2,k=Tn[Ln=kn[g]<<2],T=Tn[Ln+1],A=Tn[Ln+2];"Clds"==t?(En[M]=k,En[M+1]=T,En[M+2]=A):(En[M]=Math.abs(En[4*g]-k),En[M+1]=Math.abs(En[4*g+1]-T),En[M+2]=Math.abs(En[4*g+2]-A))}}"LnsF"==t&&(I=e.rect.m,P=e.rect.n,vr=["Zm","Nkn","Nkn1","PnVs"].indexOf(n.Lns.v.Lns),On=n.FlrC.v,Nn=[Math.min(vr,2),n.Brgh.v/100,On.Hrzn.v,On.Vrtc.v],F=Date.now(),Rr.atq(e.buffer,I,P,a.buffer,Nn));var On,Nn,In,Pn,Fn,_n,Bn,Rn,Un,jn,Hn,Jn,qn,Gn,Zn,zn=["Blr ","BlrM","Shrp","ShrM"].indexOf(t);if(-1!=zn&&(On=1<zn,I=e.rect.m,P=e.rect.n,Nn=Rr.dh.Ab[zn],zn=e.buffer.slice(0),On||Rr.V4(zn),Rr.dh.ah(zn,a.buffer,I,P,Nn,255,!1,On),On||Rr.hY(a.buffer)),"MtnB"==t&&(Xi=-n.Angl.v*Math.PI/180,_n=n.Dstn.v.val/2,F=Date.now(),I=e.rect.m,P=e.rect.n,(Rn=e.rect.clone()).x=Rn.y=0,Br.jR?(F=Date.now(),(Pn=a.buffer).set(e.buffer),Rr.V4(Pn),(In=Br.KU(0,I,P)).set(Pn),(ot=Rr.t(4))[0]=Math.round(128+127*Math.cos(Xi)),ot[1]=Math.round(128+127*Math.sin(Xi)),new Uint32Array(Pn.buffer).fill(new Uint32Array(ot.buffer)[0]),(Fn=Br.KU(1,I,P)).set(Pn),Br._9(In,Rn),In.Qg(Rn),Br.filter.uY({type:Br.filter.Y9,O1:Fn.I8,Ho:new Float32Array([1/I,1/P]),aq7:_n/2,apP:1},In.Zo),In.get(Pn),Rr.hY(Pn)):((Qn=new _r).rotate(Xi),wt=qr.Q.xX([e.buffer,e.rect],Qn,!1,null,!0),Gr.t3(_n,Rr.VF.Bs,wt.buffer,wt.rect),Qn.tU(),wt=qr.Q.xX([wt.buffer,wt.rect],Qn,!1,a.buffer.buffer,!0,a.rect)),console.log(Date.now()-F)),"RdlB"==t&&(I=e.rect.m,P=e.rect.n,vt=n.Amnt.v,Fi="Zm"==n.BlrM.v.BlrM,Ni=(hn=n.Cntr.v).Hrzn.v,Ii=hn.Vrtc.v,gt=Math.max(Ni,1-Ni)*I,yt=Math.max(Ii,1-Ii)*P,ze=Math.sqrt(gt*gt+yt*yt),Fn=2*Math.PI*ze*1.5,Ie=new Fr(0,0,In=Math.round(Fn),Pn=Math.round(ze)),_n=Rr.t(In*Pn*4),F=Fi?.6:(I+P)/2*8/1400,Rr.N.bB(e.buffer,I,P,_n,In,Pn,Ni,Ii,Bn=Fi?4:1,.1,Ht=1,ji=1),Fn=Fi?Rr.t(In*Pn*4):null,Fi&&(Rr.N.$Y(_n,Fn,In,Pn),rr=Fn,Fn=_n,_n=rr,Ie.m=Pn,Ie.n=In),Gr.t3(F*vt,Rr.VF.Bs,_n,Ie),Fi&&(Rr.N.$Y(_n,Fn,Pn,In),rr=Fn,Fn=_n,_n=rr,Ie.m=In,Ie.n=Pn),Rr.N.R3(_n,In,Pn,a.buffer,I,P,Ni,Ii,Bn,.1,Ht,ji)),"Plr "==t&&(I=e.rect.m,P=e.rect.n,"RctP"==n.Cnvr.v.Cnvr?Rr.N.R3(e.buffer,I,P,a.buffer,I,P,.5,.5,1,0,2,I/P):Rr.N.bB(e.buffer,I,P,a.buffer,I,P,.5,.5,1,0,2,I/P)),"FndE"==t&&(I=e.rect.m,P=e.rect.n,Rr.dh.Dn(e.buffer,a.buffer,I,P)),"oilPaint"==t&&(pt=n.LghD.v*Math.PI/180,Bn=[Math.cos(pt),Math.sin(pt),.001],B=[n.stylization.v,n.cleanliness.v,n.brushScale.v,n.microBrush.v,n.lightingOn.v,n.specularity.v,Bn],(Rn=e.rect.clone()).x=Rn.y=0,Rr.fE.filter(e.buffer,Rn,a.buffer,B)),"Ofst"==t){var I=e.rect.m,P=e.rect.n,Vn=new Uint32Array(e.buffer.buffer),Wn=new Uint32Array(a.buffer.buffer),Xn=n.Hrzn.v,Yn=n.Vrtc.v,Kn=n.Fl.v.FlMd;if(Rr.Bg(Wn,0),"Bckg"!=Kn&&"Rpt"!=Kn||((Ie=e.rect.clone()).offset(Xn,Yn),Rr.Ik(Vn,Ie,Wn,a.rect)),"Rpt"==Kn){Ft=0<(Xn=Math.max(-I,Math.min(I,Xn)))?Xn:0,Bt=0<Xn?I:I+Xn,Rt=0<(Yn=Math.max(-P,Math.min(P,Yn)))?Yn:P,gi=0<Yn?0:I*(P-1);for(it=_t=0<Yn?0:Yn+P;it<Rt;it++)for(nt=Ft;nt<Bt;nt++)Wn[it*I+nt]=Vn[gi+nt-Xn];Ft=0<Xn?0:I+Xn,Bt=0<Xn?Xn:I,Rt=0<Yn?P:P+Yn,gi=0<Xn?0:I-1;for(it=_t=0<Yn?Yn:0;it<Rt;it++)for(nt=Ft;nt<Bt;nt++)Wn[it*I+nt]=Vn[gi+I*(it-Yn)];0<=Xn&&0<=Yn&&(Bt=Xn,Rt=Yn,gi=_t=Ft=0),0<=Xn&&Yn<0&&(Ft=0,Bt=Xn,_t=P+Yn,gi=I*((Rt=P)-1)),Xn<0&&0<=Yn&&(Ft=I+Xn,_t=0,Rt=Yn,gi=(Bt=I)-1),Xn<0&&Yn<0&&(Ft=I+Xn,_t=P+Yn,gi=(Bt=I)*(Rt=P)-1);for(it=_t;it<Rt;it++)for(nt=Ft;nt<Bt;nt++)Wn[it*I+nt]=Vn[gi]}"Wrp"==Kn&&(Ie=new Fr((Xn=(Xn+100*I)%I)-I,(Yn=(Yn+100*P)%P)-P,I,P),Rr.Ik(Vn,Ie,Wn,a.rect),Ie.offset(I,0),Rr.Ik(Vn,Ie,Wn,a.rect),Ie.offset(0,P),Rr.Ik(Vn,Ie,Wn,a.rect),Ie.offset(-I,0),Rr.Ik(Vn,Ie,Wn,a.rect))}if("Rept"==t){var Qn,$n=n.Rsft.v.val/100,ti=n.SpcX.v.val/100,ti=Math.max(ti,-.99),ei=n.SpcY.v.val/100,ei=Math.max(ei,-.99),Ht=n.Scl.v.val/100;(Qn=new _r).rotate(n.Angl.v*Math.PI/180),Qn.scale(Ht,Ht);B={buffer:e.buffer,rect:e.rect};Rr.Kl(B),B.rect.mN()&&(B.buffer=e.buffer,B.rect=e.rect);var En=B.buffer,Ie=B.rect,Kn=Rr.zZ(En,Ie,0),ni=new Uint32Array(En.buffer)[0];function ii(t){return t<0?Math.ceil(t):Math.floor(t)}Kn.mN()||Kn.iy(Ie)||(B=Rr.t(4*Kn.Z()),Rr.Ik(En,Ie,B,Kn),En=B,Ie=Kn);var ni=(Ie.x=Ie.y=0)==ti&&0==ei||n.SpcC.v?ni:0,ri=Qn.iX(new Pr(Ie.m,0));ri.x=ii(ri.x),ri.y=ii(ri.y);var ai=Qn.iX(new Pr(0,Ie.n));ai.x=ii(ai.x),ai.y=ii(ai.y);var un=(wt=qr.Q.xX([En,Ie],Qn,!1)).rect,lt=wt.buffer,si=Math.round(un.x),oi=Math.round(un.y),li=Math.max(a.rect.m,a.rect.n)/Math.min(Ie.m*Ht*(1+ti),Ie.n*Ht*(1+ei)),li=Math.ceil(1.7*li);Rr.Bg(a.buffer,ni);for(it=-li;it<li;it++)for(nt=-li;nt<li;nt++){var hi=(nt+it*$n)*(1+ti),ui=it*(1+ei);un.x=si+Math.round(hi*ri.x+ui*ai.x),un.y=oi+Math.round(hi*ri.y+ui*ai.y),un.$B(a.rect)&&Rr.a.bW("norm",lt,un,a.buffer,a.rect,un,1)}}if("Ctoa"==t){var r=Rr.I.Na(n.Clr.v),fi=n.Trsp.v.val/100,ci=n.Opct.v.val/100;fi=0==ci?0:fi/ci;for(var I=e.rect.m,P=e.rect.n,pi=~~r.p,di=~~r.z,vi=~~r.S,gi=e.buffer,yi=a.buffer,it=0;it<P;it++)for(nt=0;nt<I;nt++){var Ie=gi[M=(g=it*I+nt)<<2],mi=gi[M+1],En=gi[M+2],wi=Math.abs(pi-Ie),bi=Math.abs(di-mi),Mi=Math.abs(vi-En),Si=Math.max(wi,bi,Mi)*(1/255),bi=0==(Si=Math.max(0,Math.min(1,Si/ci)))?0:1/Si,Mi=1==fi?1:Math.max(0,Math.min(1,(Si-fi)/(1-fi)));yi[M]=Math.max(0,Math.min(255,(Ie-pi*(1-Si))*bi)),yi[M+1]=Math.max(0,Math.min(255,(mi-di*(1-Si))*bi)),yi[M+2]=Math.max(0,Math.min(255,(En-vi*(1-Si))*bi)),yi[M+3]=~~(.5+255*Mi)}}if("Dthr"==t){function Ci(t){return~~(.5+255*Rr.wo(t/255))}if(0==(z=n.Plte.v))ki=[4278190080,4294967295];else for(var xi=[[1,1,1],[2,2,2],[3,3,2]][z-1],Li=[1<<xi[0],1<<xi[1],1<<xi[2]],Di=[~~(255/(Li[0]-1)),~~(255/(Li[1]-1)),~~(255/(Li[2]-1))],ki=[],k=0;k<Li[0];k++)for(T=0;T<Li[1];T++)for(A=0;A<Li[2];A++)ki.push(255<<24|Ci(A*Di[2])<<16|Ci(T*Di[1])<<8|Ci(k*Di[0]));for(var Ti=4*(D=(I=e.rect.m)*(P=e.rect.n)),Ct=e.buffer.slice(0),Ai=a.buffer,g=0;g<Ti;g++)Ct[g]=~~(.5+255*Rr.wo(Ct[g]/255));var Ei=Rr.t(I*P);UPNG.encode.dither(Ct,I,P,ki,Ai,Ei);for(g=0;g<Ti;g++)Ai[g]=~~(.5+255*Rr.I$(Ai[g]/255))}if(-1!="LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg".split(",").indexOf(t)){var Oi=s[0],I=e.rect.m,P=e.rect.n,ni=0;if("LqFy"==t)Cn=Jr.M9(new Uint8Array(n.LqMe.v).buffer);else if((Cn={r2:Math.floor(I/3),kY:Math.floor(P/3)}).map=new Float32Array(Cn.r2*Cn.kY*2),"LnCr"==t)for(var Ni=.5*(Cn.r2-1),Ii=.5*(Cn.kY-1),xi=Math.max(Math.abs(0-Ni),Math.abs(1-Ni)),Ei=Math.max(Math.abs(0-Ii),Math.abs(1-Ii)),Pi=Math.sqrt(xi*xi+Ei*Ei),Fi=1/(Ht=n.LnSi.v/100),_i=n.LnIa.v/100,Bi=0==_i?1e-6:4.6*_i,Ri=Fi/Pi,it=0;it<Cn.kY;it++)for(nt=0;nt<Cn.r2;nt++){var gt=(nt-Ni)*Ri,yt=(it-Ii)*Ri,k=Math.sqrt(gt*gt+yt*yt)*Bi,Ui=Math.atan(k),ji=Ni+Pi*($i=0<_i?Ui/k:k/Ui)*gt,Ui=Ii+Pi*$i*yt,g=it*Cn.r2+nt<<1;Cn.map[g]=ji-nt,Cn.map[g+1]=Ui-it}else if("Dspl"==t&&0!=Oi.length){for(var Hi,ni="WrpA"==n.UndA.v.UndA?2:1,Ji=n.DspF.v.pth,g=0;g<Oi.length;g++)Oi[g].n4==Ji&&(Hi=Oi[g]);(Hi=null==Hi?Oi[0]:Hi).y5();var wi=Hi.y9[1],qi=Rr.t(wi.Z());Rr.JT(Hi.y9[0],qi);var Gi=wi.m,Zi=wi.n;(Cn={r2:Gi,kY:Zi}).map=new Float32Array(Cn.r2*Cn.kY*2);for(var zi=2.54*n.HrzS.v*Gi/I,Vi=2.54*n.VrtS.v*Zi/P,it=0;it<Cn.kY;it++)for(nt=0;nt<Cn.r2;nt++){var Wi=qi[it*Gi+nt]*(1/255)-.5,g=it*Cn.r2+nt<<1;Cn.map[g]=Wi*zi,Cn.map[g+1]=Wi*Vi}}else if("Pnch"==t||"Twrl"==t||"Sphr"==t||"ZgZg"==t){var vt=1,Xi=Math.PI,Yi=0,Ki=1,Qi=0,hn=3,U=1.53,$i=1;function Ve(t){return t=Math.pow(t,1-.3*t-t*t*(t*t)*.5),-.225*Math.sin(t*Math.PI)}"Pnch"!=t&&"Sphr"!=t&&"ZgZg"!=t||(vt=n.Amnt.v/100),"ZgZg"==t&&(Ki=n.NmbR.v,Qi=["ArnC","OtFr","PndR"].indexOf(n.ZZTy.v.ZZTy)),"Twrl"==t&&(Xi=n.Angl.v*Math.PI/180),"Sphr"==t&&(Yi=["Nrml","HrzO","VrtO"].indexOf(n.SphM.v.SphM));var tr=Cn.r2,er=Cn.kY,nr=Cn.r2/2,xe=Cn.kY/2,ir=1/nr,k=Math.sqrt(hn*hn+1)/hn,Ue=hn+Math.sqrt(1/(hn*hn));vt<0&&(Ue=hn=1.72,$i=U=-(k=1));for(it=0;it<er;it++)for(yt=(it-xe)/xe,nt=0;nt<tr;nt++){gt=(nt-nr)*ir;1==Yi?yt=0:2==Yi&&(gt=0);var rr,ar,sr=Math.sqrt(gt*gt+yt*yt);sr<1&&0!=sr&&(g=it*Cn.r2+nt<<1,"Pnch"==t?(ar=-vt*Ve(sr)/sr,Cn.map[g]=gt*ar*nr,Cn.map[g+1]=yt*ar*xe):"Sphr"==t?(ar=U*vt*((rr=(Hn=k,qn=sr,Gn=hn,Zn=$i,Gn-=Jn=Un=0,Jn-=jn=Ue,jn=(qn-=Un)*qn+Gn*Gn,Gn=2*(qn*(Un=Un-Un)+Gn*Jn),Hn=Math.sqrt(Gn*Gn-4*jn*(Un*Un+Jn*Jn-Hn*Hn)),jn=Zn/(2*jn),Zn*Math.min((-Gn+Hn)*jn,(-Gn-Hn)*jn)))-1),Cn.map[g]=gt*ar*nr,Cn.map[g+1]=yt*ar*xe):"Twrl"==t?(pt=Math.atan2(yt,gt)-Xi*(1-sr)*(1-sr),Nr=Math.cos(pt),Or=Math.sin(pt),Cn.map[g]=(sr*Nr-gt)*nr,Cn.map[g+1]=(sr*Or-yt)*xe):"ZgZg"==t&&(Or=Nr=0,gr=vt*(.5-.5*Math.cos(sr*Ki*2*Math.PI))*(1-sr),0==Qi&&(pt=Math.atan2(yt,gt)-3.5*gr,Nr=sr*Math.cos(pt),Or=sr*Math.sin(pt)),1==Qi&&(Nr=(1-(gr=100/I*gr/sr))*gt,Or=(1-gr)*yt),2==Qi&&(Nr=(sr=512/I*gr*Math.PI/4)+gt,Or=sr+yt),Cn.map[g]=(Nr-gt)*nr,Cn.map[g+1]=(Or-yt)*xe))}}else if("Shr "==t){R=JSON.parse(JSON.stringify(n.ShrP.v));Rr.Cj.A(R,new _r(0,255/127,255/127,0,-2,0));var or=Rr.Cj.D7(R,Cn.kY,!0);ni="WrpA"==n.UndA.v.UndA?2:1;for(it=0;it<Cn.kY;it++)for(gt=-or[it]*Cn.r2,nt=0;nt<Cn.r2;nt++){g=it*Cn.r2+nt<<1;Cn.map[g]=gt}}else if("Wave"==t){var lr=n.NmbG.v,hr=n.WLMn.v,ur=n.WLMx.v,fr=n.AmMn.v*(Math.PI/4),cr=n.AmMx.v*(Math.PI/4),pr=n.SclH.v/100,dr=n.SclV.v/100,vr=n.Wvtp.v.Wvtp,gr=Math.sin;"WvTr"==vr&&(gr=function(t){return t*=2/Math.PI,-.5+Math.abs(t%2-1)}),"WvSq"==vr&&(gr=function(t){return t*=2/Math.PI,1+2*Math.floor(t%2-1)});for(var yr=[],mr=new Rr.a.ol(n.RndS.v),g=0;g<lr;g++)yr.push(10*mr.get()),yr.push(3*Math.PI/(hr+mr.get()*(ur-hr))),yr.push(pr*(fr+mr.get()*(cr-fr))/3),yr.push(10*mr.get()),yr.push(3*Math.PI/(hr+mr.get()*(ur-hr))),yr.push(dr*(fr+mr.get()*(cr-fr))/3);for(var wr=[],br=[],Mr=Math.max(Cn.r2,Cn.kY),g=0;g<Mr;g++){for(gt=0,yt=0,tt=0;tt<lr;tt++){var Sr=6*tt;gt+=yr[2+Sr]*gr(yr[Sr]+g*yr[1+Sr]),yt+=yr[5+Sr]*gr(yr[3+Sr]+g*yr[4+Sr])}wr[g]=yt,br[g]=gt}for(it=0;it<Cn.kY;it++)for(nt=0;nt<Cn.r2;nt++){g=it*Cn.r2+nt<<1;Cn.map[g]=br[it],Cn.map[g+1]=wr[nt]}ni="WrpA"==n.UndA.v.UndA?2:1}else if("Rple"==t){var vt=n.Amnt.v/100,Cr=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],xr=ni=1,Zi=1,Lr=0,vr=["Sml","Mdm","Lrg"].indexOf(n.RplS.v.RplS);0==vr&&(xr=1,Zi=.2,Lr=3),2==vr&&(Zi=2,Lr=-(xr=1),Cr=Cr.reverse());function Dr(t,e){for(var n=Math.cos,i=0,r=0;r<4;r++)for(var a=0;a<4;a++)i+=Cr[4*r+a]*n(t*(r+Lr)-e*(a+Lr));return i}for(var kr=Math.floor(50/3),Tr=new Float32Array(kr*kr*2),Ar=Zi*vt*.5/3,it=0;it<kr;it++)for(nt=0;nt<kr;nt++){var Er=Dr(Ni=xr*nt*2*Math.PI/kr,Ii=xr*it*2*Math.PI/kr),gt=100*(Dr(Ni+.01,Ii)-Er),yt=100*(Dr(Ni,Ii+.01)-Er);Tr[g=2*(it*kr+nt)]=gt*Ar,Tr[g+1]=yt*Ar}for(it=0;it<Cn.kY;it++)for(nt=0;nt<Cn.r2;nt++){var Or=it%kr,Nr=nt%kr,g=it*Cn.r2+nt<<1,Ir=Or*kr+Nr<<1;Cn.map[g]=Tr[Ir],Cn.map[g+1]=Tr[1+Ir]}}Rr.zi.fX(e.buffer,a.buffer,I,P,null,Cn.map,Cn.r2,Cn.kY,ni)}return a};var Zr={};function Ji(){}function qi(){this.rect=null,this.buffer=null,this.SD="norm",this.opacity=255,this.jF=!1,this.OW=0,this.au=0,this.KN=!0,this.i$=[];for(var t=0;t<10;t++)this.i$.push(0,0,255,255);this.name=null,this.add={},this.jN=null,this.Xf=null,this.q=null,this._n=null,this.a5x=30,this.f1=qi.J2(),this.acA=qi.J2(),this.a2e=qi.J2(),this.ast=qi.J2(),this.rq=0,this.Vj=!1,this.jS=null,this.St=new qi.We}Zr.WK="BrSm BrsL BrDR BrsW BrbW BrSp".split(" "),Zr.gS="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" "),Zr.jg=["ScrC","ScrD","ScrL"],Zr.gg=["SDRD","SDHz","SDLD","SDVt"],Zr.Ys="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" "),Zr.yV="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" "),Zr.QS="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" "),Zr.KF=["Artistic","Brush Strokes",[24,4],"Sketch",[24,14],[12,67]],Zr.names={ClrP:[0,"Colored Pencil"],Ct:[0,"Cutout"],DryB:[0,"Dry Brush"],FlmG:[0,"Film Grain"],Frsc:[0,"Fresco"],NGlw:[0,"Neon Glow"],PntD:[0,"Paint Daubs"],PltK:[0,"Palette Knife"],PlsW:[0,"Plastic Wrap"],PstE:[0,"Poster Edges"],RghP:[0,"Rough Pastels"],SmdS:[0,"Smudge Stick"],Spng:[0,"Sponge"],Undr:[0,"Underpainting"],Wtrc:[0,"Watercolor"],AccE:[1,"Accented Edges"],AngS:[1,"Angled Strokes"],Crsh:[1,"Crosshatch"],DrkS:[1,"Dark Strokes"],InkO:[1,"Ink Outlines"],Spt:[1,"Spatter"],SprS:[1,"Sprayed Strokes"],Smie:[1,"Sumi-e"],DfsG:[2,"Diffuse Glow"],Gls:[2,"Glass"],OcnR:[2,"Ocean Ripple"],BsRl:[3,"Bas Relief"],ChlC:[3,"Chalk & Charcoal"],Chrc:[3,"Charcoal"],Chrm:[3,"Chrome"],CntC:[3,"Conté Crayon"],GraP:[3,"Graphic Pen"],HlfS:[3,"Halftone Pattern"],NtPr:[3,"Note Paper"],Phtc:[3,"Photocopy"],Plst:[3,"Plaster"],Rtcl:[3,"Reticulation"],Stmp:[3,"Stamp"],TrnE:[3,"Torn Edges"],WtrP:[3,"Water Paper"],GlwE:[4,"Glowing Edges"],Crql:[5,"Craquelure"],Grn:[5,"Grain"],MscT:[5,"Mosaic Tiles"],Ptch:[5,"Patchwork"],StnG:[5,"Stained Glass"],Txtz:[5,"Texturizer"]},Zr.PD=function(t){var e;return"ClrP"==t&&(e={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}}),"Ct"==t&&(e={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}}),"DryB"==t&&(e={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}}),"FlmG"==t&&(e={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}}),"Frsc"==t&&(e={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}}),"NGlw"==t&&(e={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}}),"PntD"==t&&(e={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}}),"PltK"==t&&(e={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}}),"PlsW"==t&&(e={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}}),"PstE"==t&&(e={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}}),"RghP"==t&&(e={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}}),"SmdS"==t&&(e={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}}),"Spng"==t&&(e={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}}),"Undr"==t&&(e={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}}),"Wtrc"==t&&(e={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}}),"AccE"==t&&(e={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}}),"AngS"==t&&(e={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}}),"Crsh"==t&&(e={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}}),"DrkS"==t&&(e={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}}),"InkO"==t&&(e={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}}),"Smie"==t&&(e={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}}),"Spt"==t&&(e={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}}),"SprS"==t&&(e={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}}),"DfsG"==t&&(e={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}}),"Gls"==t&&(e={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}}),"OcnR"==t&&(e={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}}),"BsRl"==t&&(e={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}}),"ChlC"==t&&(e={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}}),"Chrc"==t&&(e={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}}),"Chrm"==t&&(e={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}}),"CntC"==t&&(e={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}}),"GraP"==t&&(e={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}}),"HlfS"==t&&(e={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}}),"NtPr"==t&&(e={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}}),"Phtc"==t&&(e={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}}),"Plst"==t&&(e={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}}),"Rtcl"==t&&(e={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}}),"Stmp"==t&&(e={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}}),"TrnE"==t&&(e={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}}),"WtrP"==t&&(e={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}}),"GlwE"==t&&(e={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}}),"Crql"==t&&(e={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}}),"Grn"==t&&(e={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}}),"MscT"==t&&(e={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}}),"Ptch"==t&&(e={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}}),"StnG"==t&&(e={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}}),(e="Txtz"==t?{TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}}:e).__name="Filter Gallery",e.classID="GEfc",e.GEfk={t:"enum",v:{GEft:t}},e.GELv={t:"bool",v:!0},e},Zr.fl=function(t,e){for(var n=0;n<e.length;n++)e[n]=(t[4*n]+t[4*n+1]+t[4*n+2])*(1/3)},Zr.Gl=function(t,e,n,i){t={EJ:(t=UPNG.quantize(t,e)).inds,fS:t.plte},e=Math.floor(.015*(n+i));return 0!=e&&Rr.$P.ai5(t.EJ,n,i,e),t},Zr.O9=function(t,e,n,i,r,a,s){t=n.GEfk.v.GEft;var o=e.rect,l=o.m,h=o.n,u=l*h,f=n.FlRs?n.FlRs.v>>>1:0;function c(t){return t.p<<24|t.z<<16|t.S<<8|255}if("ClrP"==t&&Rr.X.ag4(e.buffer,l,h,a.buffer,[n.Pncl.v,n.StrP.v,n.PprB.v]),"Ct"==t){for(var p=n.NmbL.v,d=n.EdgS.v,v=Zr.Gl(e.buffer.buffer,2*p,l,h),g=0;g<v.EJ.length;g++)v.EJ[g]++;p=new Uint8Array((l+2)*(h+2));Rr.rR(v.EJ,new Fr(1,1,l,h),p,new Fr(0,0,l+2,h+2));for(var y=Rr.H.s9(p,l+2,h+2,d,!1),m=new _r(1,0,0,1,-1,-1),g=0;g<y.length;g++)Rr.H.A(y[g].path.U,m,y[g].path.U);for(var w=[],b=v.fS,g=0;g<b.length;g++){var M=b[g].est.q;w.push({p:Math.round(255*M[0]),z:Math.round(255*M[1]),S:Math.round(255*M[2]),q4:Math.round(255*M[3])})}for(var S,C=Rr.XQ(l,h),g=0;g<y.length;g++){var x=y[g];0!=(M=w[x.color-1]).q4&&(C.fillStyle="rgba("+M.p+","+M.z+","+M.S+","+M.q4/255+")",C.beginPath(),Typr.U.pathToContext({crds:x.path.U,cmds:x.path.C},C),C.fill())}o.mN()||(S=C.getImageData(0,0,l,h),Rr.VO(S.data,a.buffer))}if("DryB"==t&&Rr.X.aoz(e.buffer,l,h,a.buffer,[n.BrsS.v,n.BrsD.v,n.Txtr.v]),"FlmG"==t&&Rr.X.a4R(e.buffer,l,h,a.buffer,[n.Grn.v,n.HghA.v,n.Intn.v,f]),"Frsc"==t&&Rr.X.a3B(e.buffer,l,h,a.buffer,[n.BrsS.v,n.BrsD.v,n.Txtr.v]),"NGlw"==t&&Rr.X.adq(e.buffer,l,h,a.buffer,[n.Sz.v,n.Brgh.v,c(Rr.I.Na(n.Clr.v)),c(i),c(r)]),"PltK"==t&&Rr.X.atg(e.buffer,l,h,a.buffer,[n.StrS.v,n.StDt.v,n.Sftn.v]),"PstE"==t&&Rr.X.alb(e.buffer,l,h,a.buffer,[n.EdgT.v,n.EdgI.v,n.Pstr.v]),"RghP"==t&&Rr.X.akX(e.buffer,l,h,a.buffer,[n.StrL.v,n.StDt.v,Zr.Ys.indexOf(n.TxtT.v.TxtT),n.Scln.v,n.Rlf.v,Zr.gS.indexOf(n.LghD.v.LghD),n.InvT.v]),"SmdS"==t&&Rr.X.a2T(e.buffer,l,h,a.buffer,[n.StrL.v,n.HghA.v,n.Intn.v,n.FlRs.v,f]),"Spng"==t&&Rr.X.ac7(e.buffer,l,h,a.buffer,[n.BrsS.v,n.Dfnt.v,n.Smth.v,n.FlRs.v,f]),"Undr"==t&&Rr.X.a1H(e.buffer,l,h,a.buffer,[n.BrsS.v,n.TxtC.v,Zr.Ys.indexOf(n.TxtT.v.TxtT),n.Scln.v,n.Rlf.v,Zr.gS.indexOf(n.LghD.v.LghD),n.InvT.v]),"Wtrc"==t&&Rr.X.aap(e.buffer,l,h,a.buffer,[n.BrsD.v,n.ShdI.v,n.Txtr.v]),"AccE"==t&&Rr.X.amw(e.buffer,l,h,a.buffer,[n.EdgW.v,n.EdgB.v,n.Smth.v]),"AngS"==t&&Rr.X.amy(e.buffer,l,h,a.buffer,[n.DrcB.v,n.StrL.v,n.Shrp.v]),"Crsh"==t&&Rr.X.auU(e.buffer,l,h,a.buffer,[n.StrL.v,n.Shrp.v,n.Strg.v]),"DrkS"==t&&Rr.X.aur(e.buffer,l,h,a.buffer,[n.Blnc.v,n.BlcI.v,n.WhtI.v]),"InkO"==t&&Rr.X.ar9(e.buffer,l,h,a.buffer,[n.StrL.v,n.DrkI.v,n.LghI.v]),"Smie"==t&&Rr.X.a3t(e.buffer,l,h,a.buffer,[n.StrW.v,n.StrP.v,n.Cntr.v]),"DfsG"==t&&Rr.X.auj(e.buffer,l,h,a.buffer,[n.Grns.v,n.GlwA.v,n.ClrA.v,c(r),f]),"CntC"==t&&Rr.X.aes(e.buffer,l,h,a.buffer,[n.FrgL.v,n.BckL.v,Zr.Ys.indexOf(n.TxtT.v.TxtT),n.Scln.v,n.Rlf.v,Zr.gS.indexOf(n.LghD.v.LghD),n.InvT.v,c(r),c(i)]),"ChlC"==t&&Rr.X.ai8(e.buffer,l,h,a.buffer,[n.ChrA.v,n.ChlA.v,n.StrP.v,f,c(r),c(i)]),("GraP"==t||"Chrc"==t||"Plst"==t||"Rtcl"==t||"Stmp"==t||"TrnE"==t)&&(S=Rr.t(l*h),"GraP"==t&&Rr.X.a0$(e.buffer,l,h,a.buffer,[n.StrL.v,n.LgDr.v,Zr.gg.indexOf(n.SDir.v.StrD),f]),"Chrc"==t&&Rr.X.auP(e.buffer,l,h,a.buffer,[n.ChAm.v,n.Dtl.v,n.LgDr.v]),"Plst"==t&&Rr.X.al1(e.buffer,l,h,a.buffer,[n.ImgB.v,Zr.yV.indexOf(n.LghP.v.LghP),n.Smth.v]),"Rtcl"==t&&Rr.X.arj(e.buffer,l,h,a.buffer,[n.Dnst.v,n.BlcL.v,n.WhtL.v,f]),"Stmp"==t&&Rr.X.abk(e.buffer,l,h,a.buffer,[n.LgDr.v,n.Smth.v]),"TrnE"==t&&Rr.X.arv(e.buffer,l,h,a.buffer,[n.ImgB.v,n.Smth.v,n.Cntr.v,f]),Rr.VW(a.buffer,S,0),Zr.PK(S,a.buffer,i,r)),"NtPr"==t&&Rr.X.abK(e.buffer,l,h,a.buffer,[n.ImgB.v,n.Grns.v,n.Rlf.v,c(i),c(r),f]),"WtrP"==t&&Rr.X.afn(e.buffer,l,h,a.buffer,[n.FbrL.v,n.Brgh.v,n.Cntr.v,f>>>1]),"Crql"==t&&Rr.X.ado(e.buffer,l,h,a.buffer,[n.CrcS.v,n.CrcD.v,n.CrcB.v,f]),"Grn"==t&&Rr.X.au7(e.buffer,l,h,a.buffer,[n.Intn.v,Zr.QS.indexOf(n.Grnt.v.Grnt),n.Cntr.v,c(i),c(r),f]),"MscT"==t&&Rr.X.a8g(e.buffer,l,h,a.buffer,[n.TlSz.v,n.GrtW.v,n.LghG.v,f]),"Ptch"==t&&Rr.X.apK(e.buffer,l,h,a.buffer,[n.SqrS.v,n.Rlf.v,f]),"Phtc"==t){function L(t,e,n,i){Rr.VF.IS(t,e,n,i);for(var r=0;r<u;r++)e[r]=Math.max(0,Math.min(255,128+t[r]-e[r]))}var D=n.Dtl.v,k=n.Drkn.v,T=Rr.t(u);Rr.JT(e.buffer,T);var A=Rr.t(u);L(T,A,o,1),1==D&&(D=2,k=Math.round(k/4));var E=Rr.t(u);L(T,E,o,D);for(g=0;g<u;g++)T[g]=Math.max(0,Math.min(255,255-(A[g]-E[g])*k));Zr.PK(T,a.buffer,i,r)}if("Spt"==t||"SprS"==t){var O={r2:Math.floor(+l),kY:Math.floor(+h)};O.map=new Float32Array(O.r2*O.kY*2);var N=new Rr.a.ol(n.FlRs.v),I=new Float32Array(8192),f=n.SprR.v,P=f<20?.018*f:.36+.128*(f-20);"SprS"==t&&(P=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][f]);for(g=0;g<8192;g++)I[g]=(2*N.get()-1)*P*70;for(var F=0;F<h;F++)for(var _=0;_<l;_++){var B=F*l+_<<1;O.map[B]=I[B%7919],O.map[B+1]=I[(B+1)%7919]}var R=O.map.slice(0),f="Spt"==t?n.Smth.v-1:1;if("Spt"==t&&0!=f&&(Zr.Vn(O.map,R,l,h,f),Zr.o2(R,O.map,l,h,f)),"SprS"==t){var U=n.StrL.v>>>1,f=0==U?2:1;if(Zr.Vn(O.map,R,l,h,f),Zr.o2(R,O.map,l,h,f),0!=U){for(var j=Zr.gg.indexOf(n.SDir.v.StrD),H=[1,1,1,0][j],J=[-1,0,1,1][j],q=1/(bt=2*U+1),F=0;F<h;F++)for(_=0;_<l;_++){for(var B=F*l+_<<1,G=0,Z=0,g=0;g<bt;g++){var z=Math.max(0,Math.min(l-1,_-(U+g)*H)),V=(Lt=Math.max(0,Math.min(h-1,F-(U+g)*J)))*l+z<<1;G+=O.map[V],Z+=O.map[1+V]}R[B]=G*q,R[B+1]=Z*q}O.map=R}}Rr.zi.fX(e.buffer,a.buffer,l,h,null,O.map,O.r2,O.kY,1)}if("BsRl"==t||"PlsW"==t||"Chrm"==t){Date.now();var W=(mt=Rr.t(u)).slice(0);Rr.JT(e.buffer,mt);var D=n.Dtl.v,X=n.Smth.v;15!=D&&(Rr.VF.uc(mt,W,o,Math.round(.5*(15-D))),Rr.VO(W,mt));for(var Y=1.4/l,K=1.4/h,Q=new Float32Array(u),$=new Float32Array(u),tt=new Float32Array(a.buffer.buffer),F=0;F<h;F++)for(_=0;_<l;_++){var g=F*l+_,H=_==l-1?mt[g]-mt[g-1]:mt[g+1]-mt[g],J=F==h-1?mt[g]-mt[g-l]:mt[g+l]-mt[g],et=F*K-.7;Q[g]=0==H?_*Y-.7:.4*H,$[g]=0==J?et:.4*J}if("BsRl"==t){var nt=(2+Zr.gS.indexOf(n.LghD.v.LghD))*Math.PI*.25,G=Math.cos(nt);Math.abs(G)<.1&&(G=0),G=Math.sign(G);Z=Math.sin(nt);Math.abs(Z)<.1&&(Z=0);for(var it=1/(G*G+(Z=Math.sign(Z))*Z),F=0;F<h;F++)for(_=0;_<l;_++){var g=F*l+_,rt=Math.max(-1,Math.min(1,G*Q[g])),at=Math.max(-1,Math.min(1,Z*$[g]));W[g]=128+127*(rt+at)*it}1!=X&&(Rr.VF.uc(W,mt,o,Math.round(.5*(X-1))),Rr.VO(mt,W)),Zr.PK(W,a.buffer,i,r)}else if(1<(X="Chrm"==t?5+X:X)&&Zr.t3(Q,$,tt,o,X-1),"PlsW"==t){for(var st=new Uint8Array(Q.buffer),g=0;g<u;g++){var ot=g<<2,H=Q[g],J=$[g],lt=1/(Math.sqrt(1+H*H)*Math.sqrt(1+J*J)),ht=lt*lt,lt=ht*ht,M=~~(lt*lt*ht*255);st[ot+0]=M,st[ot+1]=M,st[ot+2]=M,st[ot+3]=M}a.buffer.set(e.buffer),Rr.a.bW("norm",st,o,a.buffer,o,o,n.HghS.v/20)}else if("Chrm"==t)for(var ut=a.buffer,ft=l>>>1,ct=h>>>1,g=0;g<u;g++){var ot=g<<2,H=Q[g],J=$[g],pt={x:1,y:0,yI:H};Xi.JX(pt);var dt={x:0,y:1,yI:J};Xi.JX(dt);var vt=1/(Nt=Xi.a6E(pt,dt)).yI,gt=~~Math.max(0,Math.min(l-1,ft-Nt.x*vt*ft)),M=mt[~~Math.max(0,Math.min(h-1,ct-Nt.y*vt*ct))*l+gt];ut[ot+0]=M,ut[ot+1]=M,ut[ot+2]=M}}if("Gls"==t||"OcnR"==t||"Txtz"==t){var yt,j="OcnR"==t?2:Zr.Ys.indexOf(n.TxtT.v.TxtT),D=Zr.ay(j),X=D[0],mt=D[1],wt=X.m,bt=(X.n,24),Mt=0;function St(t,e){return 127&~~(Ct*(t+e)+8192)}var Q=new Float32Array(u),$=new Float32Array(u),tt=new Float32Array(a.buffer.buffer),Ct="OcnR"==t?1/(1+.1*(n.RplS.v-1)):100/n.Scln.v;3==j&&(Ct*=32/22.2);Date.now();var xt=Ct,Y=1.4/l,K=1.4/h;"Txtz"==t&&(xt*=1/255,bt=256);for(F=0;F<h;F++)for(var Lt=(Kt=St(F,o.y))+1&127,_=0;_<l;_++){var g=F*l+_,z=(Yt=St(_,o.x))+1&127,Dt=0,kt=0,Tt=0,Tt="Txtz"==t?(Dt=Rr.N.f_(Ct*_,Ct*F,mt,128,128),kt=Rr.N.f_(Ct*_,Ct*F+1,mt,128,128),Rr.N.f_(Ct*_+1,Ct*F,mt,128,128)):(Dt=mt[Kt*wt+Yt],kt=mt[Lt*wt+Yt],mt[Kt*wt+z]);Q[g]=Math.max(-bt,Math.min((Tt-Dt)*xt,bt)),$[g]=Math.max(-bt,Math.min((kt-Dt)*xt,bt))}"Txtz"==t?Zr.fi(Q,$,tt,o,6):Zr.t3(Q,$,tt,o,"Txtz"==t?1:"OcnR"==t?3.5/Ct:n.Smth.v),"Txtz"==t?Mt=n.InvT.v?-1:1:"Gls"==t?(Mt=[1,.4,.5,.5][j]*(Math.exp(.155*n.Dstr.v)-1),n.InvT.v&&(Mt=-Mt)):Mt=.5*(Math.exp(.155*n.RplM.v)-1);var At,ut=a.buffer;function Et(t,e,n){return 255*((1-n)*t+n*(n*e+(1-n)*Rr.a.overF(e,t,1)))}"Txtz"==t&&(nt=(2+Zr.gS.indexOf(n.LghD.v.LghD))*Math.PI*.25,At={x:G=Math.cos(nt),y:Z=Math.sin(nt),yI:0},Xi.JX(At),yt=(yt=n.Rlf.v)/4+Math.max(0,2*(yt-35)));for(F=0;F<h;F++)for(_=0;_<l;_++){ot=(g=F*l+_)<<2,H=Q[g],J=$[g],pt={x:1,y:0,yI:H};Xi.JX(pt);dt={x:0,y:1,yI:J};Xi.JX(dt);var Ot,Nt=Xi.a6E(pt,dt);"Txtz"==t?(M=te=1,(Ot=Xi.a8t(Nt,At)*Mt)<0&&(M=0,Ot=-Ot),te=Math.min(1,Ot*yt),ut[ot+0]=~~Et(e.buffer[ot]*(1/255),M,te),ut[ot+1]=~~Et(e.buffer[ot+1]*(1/255),M,te),ut[ot+2]=~~Et(e.buffer[ot+2]*(1/255),M,te)):(vt=Mt/Nt.yI,gt=~~Math.max(0,Math.min(l-1,_-Nt.x*vt)),Ot=~~Math.max(0,Math.min(h-1,F-Nt.y*vt))*l+gt<<2,ut[ot+0]=e.buffer[Ot],ut[ot+1]=e.buffer[1+Ot],ut[ot+2]=e.buffer[2+Ot])}}if("PntD"==t){var It=.4*n.Shrp.v,Pt={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[n.BrsT.v.BrsT],Ft=Math.round(.5*n.Sz.v);Rr.Hf.PY=Pt[0];var _t=Rr.Hf.ix;Rr.Hf.jh(e.buffer,a.buffer,l,h,Ft,_t,[]);var Pt=Rr.dh.EP(Pt=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),Bt=a.buffer.slice(0);Rr.dh.ah(Bt,a.buffer,l,h,Pt,0);for(g=0;g<e.buffer.length;g++){var Rt=a.buffer[g]-Bt[g];a.buffer[g]=Math.max(0,Math.min(255,Bt[g]+It*Rt))}}if("GlwE"==t){var Ut=a.buffer.slice(0);Rr.Hf.PY=.5;_t=Rr.Hf.ix;Rr.Hf.jh(e.buffer,Ut,l,h,n.Smth.v>>>1,_t,[]),Rr.dh.Dn(Ut,a.buffer,l,h),Rr.VO(a.buffer,Ut),Rr.tU(Ut),Rr.Bg(Ut,4278190080,16777215),Rr.Hf.jh(Ut,a.buffer,l,h,n.EdgW.v>>>1,Rr.Hf.Jm,[]);for(var jt,Ht=n.EdgB.v/10,g=0;g<Ut.length;g++)3!=(3&g)&&(jt=a.buffer[g],a.buffer[g]=Math.max(0,Math.min(255,jt*Ht)))}if("StnG"==t&&Rr.et.aiU(e.buffer,l,h,a.buffer,n.ClSz.v,[Math.round(i.p),Math.round(i.z),Math.round(i.S)],n.BrdT.v),"HlfS"==t){var Ft=n.HlSz.v,Pt=2*Ft+1,_t=n.Cntr.v,Jt=Zr.jg.indexOf(n.ScrT.v.ScrT),qt=(u=l*h,Rr.t(u)),Gt=e.buffer,Zt=0,zt=0;Zr.fl(Gt,qt);n=qt.slice(0);Rr.VF.TX(n,qt,o,Ft);for(var Vt=Math.PI/Pt,Wt=new Float64Array(l),G=new Float64Array(l),Xt=new Float64Array(2*l),_=0;_<l;_++){var Yt=(_-(l>>>1))*Vt;Wt[_]=Yt*Yt,G[_]=Math.cos(Yt),Xt[H=_<<1]=Math.sin(H*(1/4.5)),Xt[H+1]=Math.sin((H+1)*(1/4.5))}for(F=0;F<h;F++)for(var Kt=(F-(h>>>1))*Vt,Z=Math.cos(Kt),Qt=Kt*Kt,_=0;_<l;_++){M=Z;0==Jt?M=Xt[~~(.5+4.5*Math.sqrt(Wt[_]+Qt))]:1==Jt&&(M=G[_]*Z);var $t=qt[g=F*l+_]*(.75+.25*M),te=Gt[3+(g<<2)]*(1/255),ee=Math.max(0,Math.min(255,~~$t));Zt+=ee*te,zt+=te,qt[g]=ee}for(var ne=128+1.26*((Zt/=zt)-128),ie=1+(Ht=.08+.25*Math.abs((128-Zt)/128))*_t,g=0;g<u;g++){$t=ne+(qt[g]-ne)*ie;qt[g]=Math.max(0,Math.min(255,~~$t))}46<_t&&Rr.round(qt),Zr.PK(qt,a.buffer,i,r)}for(g=0;g<e.buffer.length;g+=4)a.buffer[g+3]=e.buffer[g+3]},Zr.PK=function(t,e,n,i){for(var r=t.length,a=n.p,s=n.z,o=n.S,l=i.p,h=i.z,u=i.S,f=0;f<r;f++){var c=t[f]*(1/255),p=1-c,d=f<<2;e[d]=~~(a*p+l*c),e[1+d]=~~(s*p+h*c),e[2+d]=~~(o*p+u*c)}},Zr.ay=function(t){6==t&&(t=2);var e,n,i,r,a,s="blocks canvas frosted tinylens brick burlap".split(" ")[t];return null==Zr.KJ&&(Zr.KJ=[]),null==Zr.KJ[t]&&(2==t?(e=new Fr(0,0,128,128),(n=Gr.PD("AdNs")).Mnch.v=!0,n.Dstr.v.Dstr="Gsn",n.Nose.v.val=50,r=(i=Rr.t(4*e.Z())).slice(0),new Uint32Array(r.buffer).fill(4286611584),Gr.O9("AdNs",{buffer:r,rect:e},n,0,0,{buffer:i,rect:e})):(e=(a=ai.Kn.get("tex/"+s,!0)[0]).Tl,i=new Uint8Array(a.data)),a=Rr.t(e.Z()),Rr.VW(i,a,0),Zr.KJ[t]=[e,a]),Zr.KJ[t]},Zr.t3=function(t,e,n,i,r){if(r<=1)return r=Math.round(r),void Zr.fi(t,e,n,i,[1,16,4][r]);r*=.42;t&&(Rr.VF.OT(t,n,i,r,3),t.set(n)),e&&(Rr.VF.OT(e,n,i,r,3),e.set(n))},Zr.fi=function(t,e,n,i,r){r=Rr.dh.EP([1,2,1,2,r,2,1,2,1]);t&&(n.set(t),Rr.dh.cA(t,n,i.m,i.n,r),t.set(n)),e&&(n.set(e),Rr.dh.cA(e,n,i.m,i.n,r),e.set(n))},Zr.Qp=function(t){if(null==t)return new Pr(0,0);for(var e=0,n=t.GEfs?t.GEfs.v:[{v:t}],i=0;i<n.length;i++){var r=n[i].v,a=1e4;r.GELv&&!r.GELv.v||("GlwE"!=(r=r.GEfk.v.GEft)&&"Phtc"!=r&&"BsRl"!=r&&"PlsW"!=r&&"Chrm"!=r&&"Gls"!=r&&"OcnR"!=r||(a=0),e=Math.max(e,a))}return new Pr(e,e)},Zr.c$=function(t){for(var e=[0,0,0,0,0,0,0,0,0,0,0,0,0],n=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][t],i=0;i<13;i++){var r=i-6;e[i]=1/(n*Math.sqrt(2*Math.PI))*Math.exp(r/n*-.5*(r/n))}return e},Zr.Vn=function(t,e,n,i,r){for(var a=Zr.c$(r),s=0;s<i;s++)for(var o=0;o<n;o++){for(var l=s*n+o<<1,h=0,u=0,f=0;f<13;f++){var c=o+f-6,p=2*(s*n+(c<0?0:n<=c?n-1:c)),c=a[f];h+=c*t[p],u+=c*t[1+p]}e[l]=h,e[1+l]=u}},Zr.o2=function(t,e,n,i,r){for(var a=Zr.c$(r),s=0;s<i;s++)for(var o=0;o<n;o++){for(var l=s*n+o<<1,h=0,u=0,f=0;f<13;f++){var c=s+f-6,p=2*((c<0?0:i<=c?i-1:c)*n+o),c=a[f];h+=c*t[p],u+=c*t[1+p]}e[l]=h,e[1+l]=u}},Ji.Kc=[2,5,5,7,4,4],Ji.sp="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(","),Ji.q6="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" "),Ji.f$=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]],Ji.GF=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"],Ji.zK=function(t){return"passThrough"==t?"pass":Ji.sp[Ji.q6.indexOf(t)]},Ji.S8=function(t){return"pass"==t?"passThrough":Ji.q6[Ji.sp.indexOf(t)]},Ji.getName=function(t){return Ji.f$[Ji.sp.indexOf(t)]},qi.J2=function(){var t=document.createElement("canvas");return t.width=t.height=30,t.getContext("2d")},qi.We=function(){this.i1=!0,this.JC=!0,this.K2=Rr.t(0),this.a9z=Rr.t(0),this.aH=null,this.It={},this.a8C=null,this.Zb=null,this.yW=null,this.Yr=null,this.HF=null,this.Uq=null,this.HA=null,this.V7=null,this.di=null,this.E7=null,this.Hr=null,this.Hs=null,this.sk=!1},qi.We.prototype.oY=function(){this.i1=!1,this.JC=!1,this.aH=null,this.sk=Br.jR},qi.We.prototype.aro=function(){Xi.a4N(this.It),this.K2=Rr.t(0),this.a9z=Rr.t(0),this.Yr&&this.Yr.delete(),this.HF&&this.HF.delete(),this.Yr=null,this.HF=null;for(var t=[this.Uq,this.HA,this.V7,this.di,this.E7,this.Hr],e=0;e<6;e++)null!=t[e]&&t[e]instanceof Br.vs&&t[e].delete();this.Uq=null,this.HA=null,this.V7=null,this.di=null,this.E7=null,this.Hr=null},qi.prototype.G=function(t){null==t&&(t=this.rect.clone()),null==this.St.aH?this.St.aH=t:this.St.aH=this.St.aH.hq(t)},qi.prototype.dH=function(){return this.add.lsct==Gi.pb||this.add.lsct==Gi.jT},qi.prototype.D5=function(){var t=this.add;return null!=t.SoCo||null!=t.GdFl||null!=t.PtFl},qi.prototype.bD=function(){var t=this.add.lmfx;if(null!=t)for(var e=["GrFl","patternFill"],n=0;n<e.length;n++){var i=t[Wi.Th[Wi.order.indexOf(e[n])]].v;if(0!=i.length)for(var r=0;r<i.length;r++){var a=i[r].v;!a.enab.v||null!=a.Algn&&a.Algn.v||(this.St.JC=!0)}}},qi.prototype.uj=function(){var t=this.q;return this.D5()&&(t=this.sL()),Br.jR?(null!=this.St.HF&&!this.St.i1&&Br.jR==this.St.sk||(this.St.HF&&this.St.HF.delete(),this.St.HF=new Br.bi(t.bZ().m,t.bZ().n),this.St.HF.set(t.rz())),this.St.HF):t.rz()},qi.prototype._e=function(t){var e,n,i=this.rect,r=this.buffer;return Br.jR?(null==this.St.aH&&Br.jR==this.St.sk||((e=this.WN(t,r,i))&&(r=e.L0,i=e.rect),n=i,Br.jR!=this.St.sk||null==this.St.Yr||this.St.Yr.m!=n.m||this.St.Yr.n!=n.n?(this.St.Yr&&this.St.Yr.delete(),this.St.Yr=new Br.vs(n.m,n.n),this.St.Yr.set(r)):((n=this.St.aH.clone()).offset(-i.x,-i.y),this.St.Yr.set(r,n))),this.St.Yr):((e=this.WN(t,r,i))&&(r=e.L0,i=e.rect),r)},qi.prototype.Fl=function(){var t=this.q;return null!=(t=this.D5()?this.sL():t)&&t.isEnabled&&(!t.rect.mN()||255!=t.Na())},qi.prototype.WN=function(t,e,n){if(this.UG()){var i=this.ez(t);if(i.q&&i.q.isEnabled&&(!i.q.rect.mN()||0==i.q.color)){var r=this.add.SoLd.filterFX.v;i.q.Py=r.filterMaskDensity?r.filterMaskDensity.v:255,i.q.Df=r.filterMaskFeather?r.filterMaskFeather.v:0;t=i.buffer,r=i.rect;r.Z()<n.Z()&&(t=Rr.t(4*(r=n).Z()),Rr.Ik(i.buffer,i.rect,t,r));i=i.q.PZ(n);return Rr.tU(i),e=e.slice(0),Rr.a.hM(t,r,e,n,i,n,0,n,1),{L0:e,rect:n}}}},qi.prototype.ae8=function(){var t={y1:!1,V2:!1,VA:0,kX:0};return this.add.vmsk&&this.add.vmsk.isEnabled&&(t.V2=!0),this.sL()&&this.sL().isEnabled&&(t.y1=!0),t.y1&&t.V2&&(t.VA=this.sL().rect.x-this.add.vmsk.sL().rect.x,t.kX=this.sL().rect.y-this.add.vmsk.sL().rect.y),t},qi.prototype.fF=function(t){var e,n,i,r;this.add.lsct!=Gi.A0&&(e=null!=this.sL()&&this.sL().X$,i=null!=this.add.vmsk&&this.add.vmsk.X$,n=this.ae8(),JSON.stringify(n)!=this.St.a8C||n.y1&&e||n.V2&&i?(n.V2&&(i=this.add.vmsk.sL(),n.y1?(this.q=this.sL().bR(i),this.St.Zb=new Pr(this.q.rect.x-this.sL().rect.x,this.q.rect.y-this.sL().rect.y)):this.q=i),this.q&&(this.St.i1=!0),this.q&&(this.St.yW=new Pr(this.rect.x-this.q.rect.x,this.rect.y-this.q.rect.y)),n.y1&&(this.sL().X$=!1),n.V2&&(this.add.vmsk.X$=!1),this.G()):n.y1&&n.V2&&(this.q.rect.x=this.sL().rect.x+this.St.Zb.x,this.q.rect.y=this.sL().rect.y+this.St.Zb.y),this.D5()&&this.gq(t),this.Z1()&&(this.q&&(r=new Pr(this.rect.x-this.q.rect.x,this.rect.y-this.q.rect.y)),!this.q||!this.q.isEnabled||null!=this.St.yW&&r.iy(this.St.yW)||(this.St.yW=r,this.G(),this.St.i1=!0)),null!=ji.get(this.add)&&(this.St.i1=!0),this.St.a8C=JSON.stringify(n))},qi.prototype.gq=function(t){var e,n=this,i=n.add.vstk,r=new Fr(0,0,t.m,t.n),a=n.add.vmsk?this.add.vmsk.sL():null,s=!0,o=a&&a.isEnabled&&0==a.Na()?a.bZ().clone():r,l=n.sL();l&&l.isEnabled&&0==l.Na()&&(o=o.BS(n.q.bZ()));var h=a&&i;!i||i.strokeEnabled.v&&0!=i.strokeStyleLineWidth.v.val||(h=!1),i&&!i.fillEnabled.v&&h&&(s=!1);var u,f,c,p,l=Rr.t(4*o.Z());s&&(n.add.SoCo&&Xi.PL(l,n.add.SoCo.Clr.v),n.add.GdFl&&(f=a&&0==a.color?Rr.$.b3(n.add.vmsk.Y,null,!0):null,Xi.hX(n.add.GdFl,l,o,t,null,f)),n.add.PtFl&&Xi.mm(n.add.PtFl,l,o,t.add.Patt,n.add.fxrp)),h&&(e=Wi.XF.Qb.indexOf(i.strokeStyleLineAlignment.v.strokeStyleLineAlignment)),a&&(p=a.Py,h&&(a.Py=255),u=Rr.t(o.Z()),0!=a.Na()&&u.fill(Math.round(a.Na())),a&&a.isEnabled&&(c=a.bZ(),f=a.rz(),c.iy(o)?Rr.VO(f,u):Rr.rR(f,c,u,o)),h&&2==e||(n.add.SoCo&&s?Rr.al(u,l,3):Rr.WE(u,o,l,o)),h&&(a.Py=p)),n.buffer=l,n.rect=o,h&&(c=i.strokeStyleContent.v,s=Wi.XF.xP.indexOf(c.classID),l=this.add.vmsk.sL(i),0==e||n.rect.iy(r)||n.extend(n.rect.hq(l.bZ())),p=l.Py,l.Py=255,h=l.PZ(n.rect),l.Py=p,255==l.color&&Rr.tU(h),r=Rr.t(4*n.rect.Z()),0==s&&Xi.PL(r,c.Clr.v),1==s&&Xi.hX(c,r,n.rect,t,null,0==a.color?a.rect:null),2==s&&Xi.mm(c,r,n.rect,t.add.Patt,n.add.fxrp),1!=(i=i.strokeStyleOpacity.v.val/100)&&Rr.A_(h,i),(e=255==l.color?2-e:e)<2&&(Rr.a.hM(r,n.rect,n.buffer,n.rect,h,n.rect,255,n.rect,1,!1),0==e&&Rr.Lx(u,n.buffer)),2==e&&(Rr.Lx(h,r),Rr.tU(u),Rr.a.hM(r,n.rect,n.buffer,n.rect,u,o,255,n.rect,1,!1),Rr.tU(u)),255!=l.Py&&(r=r.slice(0),Rr.Bg(r,4278190080,16777215),Rr.a.bW("norm",r,n.rect,n.buffer,n.rect,n.rect,1-l.Py/255)),p=a.Py,a.Py=255,this.a9z=a.PZ(n.rect),a.Py=p),this.G()},qi.prototype.jM=function(t,e){var n,i,r,a,s=this,o=s.add.SoLd.Idnt.v,l=s.add.SoLd,h=Rr.H.UP(qr.Q.Je(l.nonAffineTransform)),u=t.n1(o,l.Crop?l.Crop.v:null,[h.m,h.n],l.Impr.v.classID);null!=u&&(n=u.y9,l.Sz.v.Wdth.v=n[1].m,l.Sz.v.Hght.v=n[1].n,null==u.Mg?l.Rslt.v.val:u.Mg,a=l.warp.v,i=qr.Q.Je(l.nonAffineTransform),(r=n[1].clone()).m*=1,r.n*=1,r.x=(n[1].m-r.m)/2,r.y=(n[1].n-r.n)/2,o=Rr.N.zw(i,r),a&&!Rr.oH.pz(a)&&(u=(h=Rr.H.UP(Rr.oH.Av(a))).x,l=h.y,r=1/h.m,h=1/h.n,o=Rr.N.zw(i),o=Rr.N.bR(o,[r,0,-u*r,0,h,-l*h,0,0])),null==(o=qr.Q.vS(n,e?0:1,o,a,null,null,null,e))?(s.buffer=Rr.t(),s.rect=new Fr):s.UG()?((a=s.ez(t)).buffer=o.buffer,a.rect=o.rect.clone(),this.S6(t,e)):(s.buffer=o.buffer,s.rect=o.rect),s.fF(t),s.G(),t.G())},qi.prototype.S6=function(t,e){null==e&&(e=!1);var n=this.ez(t),i=this.add.SoLd.filterFX.v,r=Gr.adf(i),a=new Fr(0,0,t.m,t.n),s=n.rect.hq(a),a=n.rect.clone();a.bA(r.x,r.y);var o={buffer:null,rect:s.BS(a)};if(o.buffer=Rr.t(4*o.rect.Z()),Rr.Ik(n.buffer,n.rect,o.buffer,o.rect),i.enab.v&&0==e)for(var l=i.filterFXList.v,h=0;h<l.length;h++){var u,f,c,p,d,v,g,y=l[h].v;0!=y.enab.v&&(g=y.blendOptions.v,u=Ji.zK(g.Md.v.BlnM),f=g.Opct.v.val/100,c=Rr.I.Na(y.FrgC.v),p=Rr.I.Na(y.BckC.v),d=Gr.vO(y),v={buffer:Rr.t(o.buffer.length),rect:o.rect.clone()},g=y.Fltr?y.Fltr.v:null,null!=ji.Hv[d]?(y=ji.Hv[d],(y=ji.PJ(y,g))&&ji.O9(y,o.buffer,v.buffer,o.rect)):Gr.O9(d,o,g,c,p,v,[t.add.lnk2||[],this.sL(),t.En]),"norm"==u&&1==f?o=v:"norm"==u?Rr.a.hM(v.buffer,v.rect,o.buffer,o.rect,null,null,null,o.rect,f):Rr.a.bW(u,v.buffer,v.rect,o.buffer,o.rect,o.rect,f))}this.rect=o.rect,this.buffer=o.buffer,this.Er(),this.G(),t.G()},qi.prototype.tk=function(t,e,n){this.jS=this._z(t,e,n)},qi.prototype.II=function(t,e){var n=this._z(t,e,!0);if(null==n)return null;var i={nn:n.rq,lJ:n.Hq,rect:n.LH};return 1!=i.nn&&3!=i.nn||(e=i.rect,n=Rr.t(e.m*e.n*4),Rr.al(i.lJ,n,0),Rr.al(i.lJ,n,1),Rr.al(i.lJ,n,2),Rr.jL(t.v.channel,t.v.rect,n,e),i.lJ=n),i},qi.prototype._z=function(t,e,n){var i;if(this.rq<=0){var r=Rr.t(this.rect.Z());if(Rr.VW(this.buffer,r,3),null==(i=Rr.sx.NJ(e,{channel:r,rect:this.rect},3)))return null;Rr._1(i.channel,i.rect);var a,s=i.rect.clone(),o=this.rect.clone(),l=Rr.t(4*s.Z());Rr.Ik(this.buffer,o,l,s),Rr.al(i.channel,l,3),r=this.buffer.slice(0),n||(a=e.channel.slice(0),Rr.tU(a),Rr.WE(a,e.rect,r,o)),i=this.buffer.slice(0),a=this.rect.clone()}return 1!=this.rq&&3!=this.rq||(t=1==this.rq?this.sL():this.ez(t).q,s=e.rect.clone(),o=t.rect.clone(),l=t.a9S(s),r=t.channel.slice(0),n||Rr.a.U8(255==t.color?Rr.UU(s.Z()):Rr.lk(s.Z()),s,r,o,e.channel,s,1),i=t.channel.slice(0),a=t.rect.clone()),{rq:this.rq,Hq:l,LH:s,sz:r,xi:o,dJ:i,gk:a}},qi.prototype.RH=function(t,e){var n,i=this.jS;0==i.rq&&(this.rect=i.gk,this.buffer=i.dJ,this.G()),1!=i.rq&&3!=i.rq||((n=1==i.rq?this.sL():this.ez(t).q).channel=i.dJ,n.rect=i.gk,1==this.rq&&(n.X$=!0,this.fF(t)),3==this.rq&&this.G()),this.jS=e},qi.prototype.Ga=function(t,e){if(this.rq<=0&&e.rect.iy(this.rect)){var n=Rr.t(this.rect.Z());if(Rr.VW(this.buffer,n,3),Rr.iy(t.v.channel,n)){var i=this.rect,r=this.buffer;return this.jS={rq:this.rq,Hq:r.slice(0),LH:i.clone(),sz:Rr.t(0),xi:new Fr,dJ:Rr.t(0),gk:new Fr},!0}}r=this.jS;if(null==r)return!1;if(r.rq!=this.rq)return!1;if(!e.rect.iy(r.LH))return!1;i=r.xi.hq(r.LH);if(r.rq<=0){if(!i.iy(this.rect))return!1;var a=Rr.t(r.Hq.length>>2);if(Rr.VW(r.Hq,a,3),!Rr.iy(e.channel,a))return!1;a=Rr.t(i.m*i.n*4);return Rr.Ik(r.sz,r.xi,a,i),Rr.a.bW("norm",r.Hq,r.LH,a,i,i,1),Rr.iy(a,this.buffer)}if(1==r.rq||3==r.rq){a=1==r.rq?this.sL():this.ez(t).q;if(!i.iy(a.rect))return!1;t=Rr.t(i.Z());return t.fill(a.color),Rr.rR(r.sz,r.xi,t,i),Rr.a.U8(r.Hq,r.LH,t,i,e.channel,i,1),Rr.iy(t,a.channel)}},qi.prototype.J6=function(t,e,n,i){var r=this.jS;r.LH.offset(e,n);var a,e=r.xi.hq(r.LH);r.rq<=0?(a=Rr.t(4*e.Z()),Rr.Ik(r.sz,r.xi,a,e),Rr.a.bW("norm",r.Hq,r.LH,a,e,e,1),this.buffer=a,this.rect=e,this.G()):(n=1==this.rq?this.sL():this.ez(t).q,(a=Rr.t(e.Z())).fill(n.color),Rr.rR(r.sz,r.xi,a,e),Rr.a.U8(r.Hq,r.LH,a,e,i.channel,e,1),n.channel=a,n.rect=e.clone(),1==this.rq&&(n.X$=!0,this.fF(t)),3==this.rq&&this.G())},qi.prototype.Q9=function(){var t=[-1,0,1,2];return this.q&&t.push(-2),this._n&&t.push(-3),t},qi.prototype.getName=function(){return this.add.luni||this.name},qi.prototype.Zu=function(t){this.add.luni=this.name=t},qi.prototype.Kr=function(t){var e=this.add.lnsr,n=this.add.TySh;"rend"==e&&n&&(n=ir.CP(n.nx),this.Zu(n.slice(0,n.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32)))},qi.prototype.SH=function(){return 0==(2&this.OW)},qi.prototype.Z1=function(){return 0==(16&this.OW)},qi.prototype.W3=function(){return 0!=(32&this.OW)},qi.prototype.a6T=function(){"bgnd"!=this.add.lnsr&&(this.add.lnsr="bgnd",this.Zu("Background"),this.add.lspf=4)},qi.prototype.amV=function(){"bgnd"==this.add.lnsr&&(delete this.add.lnsr,this.Zu("Layer 0"),this.add.lspf=0)},qi.prototype.zC=function(t){var e=this.add.lspf;return null!=e&&0!=(e>>t&1)},qi.prototype.I9=function(t){t&&!this.SH()&&(this.OW-=2),!t&&this.SH()&&(this.OW+=2)},qi.prototype.dI=function(){var t,e=this.add.lmfx;if(null==e)return!1;for(t in e)if("masterFXSwitch"!=t&&"Scl"!=t&&"classID"!=t&&0<e[t].v.length)return!0;return!1},qi.prototype.UG=function(){return null!=this.add.SoLd&&null!=this.add.SoLd.filterFX},qi.prototype.Fi=function(){var t,e=this.add.lmfx;if(null==e)return!1;if(!e.masterFXSwitch.v)return!1;for(t in e)if("masterFXSwitch"!=t&&"Scl"!=t&&"classID"!=t)for(var n=e[t].v,i=0;i<n.length;i++)if(n[i].v.enab.v)return!0;return!1},qi.prototype.w8=function(t,e,n,i){var r,a,s=new Fr,o=this.Ne(t,n,i);return-1!=o.indexOf(0)&&(s=s.hq(this.rect)),-1!=o.indexOf(1)&&(a=(r=this.sL()).bZ(),s=n&&0==r.Na()?s.mN()?a:s.BS(a):s.hq(a)),-1!=o.indexOf(2)&&(n=this.add.vmsk,r=this.add.vstk,a=e?Rr.$.b3(n.Y,0!=n.w.length?n.w:null):Rr.$.b3(n.Y),!i&&r&&r.strokeEnabled.v&&(e=r.strokeStyleLineAlignment.v.strokeStyleLineAlignment,n=r.strokeStyleLineJoinType.v.strokeStyleLineJoinType,"strokeStyleAlignInside"!=e&&(r=r.strokeStyleLineWidth.v.val,"strokeStyleMiterJoin"==n?a=new Fr(0,0,t.m,t.n):a.bA(r,r))),s=s.hq(a)),-1!=o.indexOf(3)&&(s=s.hq(this.ez(t).q.bZ())),s=0==o.length&&this.D5()?i?new Fr(0,0,0,0):new Fr(0,0,t.m,t.n):s},qi.prototype.Ha=function(){var t=this.add.artb,e=t.artboardBackgroundType.v,n=0;if(1==e)n=4294967295;else if(2==e)n=4278190080;else if(3==e)n=0;else{if(4!=e)throw e;n=255<<24|(n=t.Clr.v).Bl.v<<16|n.Grn.v<<8|n.Rd.v}return n},qi.prototype.Gn=function(){var t=this.add.artb.artboardRect.v,e=t.Btom.v,n=t.Left.v,i=t.Rght.v,t=t.Top.v;return new Fr(n,t,i-n,e-t)},qi.prototype.fx=function(t){t=qi.Qx(t);null==this.add.artb&&(this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}}),this.add.artb.artboardRect.v=t},qi.Qx=function(t){var e={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};return e.Btom.v=t.y+t.n,e.Left.v=t.x,e.Rght.v=t.x+t.m,e.Top.v=t.y,e},qi.prototype.Ne=function(t,e,n){var i=[],r=this;return!e&&r.Vj&&n?i.push(2):r.rq<=0||e?(r.Z1()&&(this.rect.mN()||i.push(0)),r.sL()&&!r.sL().rect.mN()&&(r.sL().$j||e)&&i.push(1),r.add.vmsk&&(r.add.vmsk.$j||e)&&i.push(2),r.UG()&&r.ez(t).q&&!r.ez(t).q.rect.mN()&&i.push(3)):1==r.rq?(i.push(1),r.sL().$j&&!r.sL().rect.mN()&&(r.Z1()&&(this.rect.mN()||i.push(0)),r.add.vmsk&&r.add.vmsk.$j&&i.push(2))):3!=r.rq||r.ez(t).q.rect.mN()||i.push(3),r.add.artb&&-1==i.indexOf(0)&&i.push(0),i.sort(),i},qi.prototype.sL=function(){return this._n||(this.add.vmsk&&this.add.vmsk.isEnabled?null:this.q)},qi.prototype.ez=function(t){var e=this.add.SoLd.placed.v,n=t.add.FEid;if(null==n)return null;for(var i=0;i<n.length;i++)if(n[i].id==e)return n[i];return null},qi.prototype.extend=function(t){Rr.a7Q(this,t)},qi.prototype.V9=function(t,e,n){var i=t.clone();if(this.Fi()){for(var r=this.add.lmfx,t=e.root.eu(e.g.indexOf(this)),a=r.gradientFillMulti.v,s=!1,o=0;o<a.length;o++)a[o].v.enab.v&&a[o].v.Algn.v&&(s=!0);s&&(i=i.hq(t.bZ(e,!1)));n=Xi.a6k(this.add.lmfx,e,n);i.offset(n.x,n.y),i.m+=n.m,i.n+=n.n}return i},qi.prototype.Er=function(){this.Z1()&&Rr.Kl(this);var t=this.sL();t&&t.Er()},qi.prototype.clone=function(){var t,e=new qi;for(t in e.rect=this.rect.clone(),e.buffer=this.buffer.slice(0),e.SD=this.SD,e.opacity=this.opacity,e.jF=this.jF,e.OW=this.OW,e.name=this.name,e.i$=this.i$.slice(0),this.q&&(e.q=this.q.clone()),this._n&&(e._n=this._n.clone()),this.add)e.add[t]=en.clone(t,this.add[t]);return e},qi.prototype.mx=function(t){var e=this;e.add.TySh&&delete e.add.TySh,e.add.SoLd&&((t=this.WN(t,this.buffer,this.rect))&&(this.buffer=t.L0,this.rect=t.rect,this.G()),delete e.add.SoLd),(e.add.SoCo||e.add.GdFl||e.add.PtFl)&&(e.add.vogk&&delete e.add.vogk,e.add.SoCo&&delete e.add.SoCo,e.add.GdFl&&delete e.add.GdFl,e.add.PtFl&&delete e.add.PtFl,e.add.vmsk&&(console.log(e._n,e.q),delete e.add.vmsk,null==e._n&&e.q?delete e.q:null!=e._n&&null!=e.q&&(e.q=e._n,delete e._n))),e.dH()||null!=ji.get(e.add)||this.Z1()||(this.OW-=16)},qi.prototype.Cd=function(t){var e,n=255,i=0;return 2==t?((e=this.add.SoLd.filterFX.v).filterMaskDensity&&(n=e.filterMaskDensity.v),e.filterMaskFeather&&(i=e.filterMaskFeather.v)):(n=(e=0==t?this.sL():this.add.vmsk).Py,i=e.Df),{E6:t,vn:n,Ac:i}},qi.prototype.B$=function(t){var e;2==t.E6?(e=this.add.SoLd.filterFX.v,255==t.vn?delete e.filterMaskDensity:e.filterMaskDensity={t:"long",v:t.vn},0==t.Ac?delete e.filterMaskFeather:e.filterMaskFeather={t:"doub",v:t.Ac},this.G()):((e=0==t.E6?this.sL():this.add.vmsk).Py=t.vn,e.Df=t.Ac,e.X$=!0)},qi.prototype.Ky=function(){var t=this.add.vmsk;null!=t&&(this.add.vogk=qi.Ky(t.Y))},qi.Ky=function(t){for(var e=[],n=Rr.$.M$(t),i=0;i<n;i++)e.push(Rr.UY.lk());return e};var Gi={Tv:0,pb:1,jT:2,A0:3};function Zi(){this.depth=0,this.index=-1,this.i=null,this.a4c=null,this.vQ=-1,this.children=null,this.parent=null,this.yO=null}function zi(t){this.El="psd",this.o5=!1,this.name=t,this.RJ=-1,this.tX=null,this.Eo=null,this.vZ=null,this.cB=null,this.m=0,this.n=0,this.buffer=null,this.g=[],this.Nm={},this.add={},this.Hg=4,this.eb=null,this.Mg=72,this._E={},this.w=[],this.p6=[],this.lU=!1,this.EQ=[],this.jU=[],this.Y3=[zi.hd("Work Path")],this.B0=[],this.Ae=null,this.HE={classID:"CompList",list:{t:"VlLs",v:[]}},this.root=null,this.aU=null,this.O2=!1,this.a4v=!1,this.arV=!1,this.Cr=!1,this.RD=!1,this.Lj=!1,this.iM=!1,this.hu=!1,this.pB=!1,this.b6=!1,this.aH=null,this.cM=null,this.v=null,this.En=[],this.kx=[],this.D={ca:{},us:[],auB:[],SF:[],x2:[],h7:null,jb:null,LA:null,mW:null,xp:[],po:[],_f:null},this.history=[new Ri([1,0],null)],this.i_=0,this.vJ=0,this.oS=0,this.s=new Vi(this),this.FY=null,this.dV=null}function Vi(t){this.Jt=t,this.V=0,this.Pd=1,this.r=new Pr(0,0),this.ob=new Pr(0,0),this.Zw=0,this.DF=[1,1,1],this.LB=0,this.ct=new Fr(0,0,1,1),this.aud=new Fr(0,0,t.m,t.n),this.Ht=null,this.Mq=null,this.ZK=new Uint32Array(0),this.IK=null,this.uG=null,this.vw=Rr.t(0),this.wY=null,this._o=null}function Wi(){}qi.vi=function(){this.name="Mask",this.KT=!1,this.ZB={p:255,z:0,S:0},this.i9=50,this.A2=0,this.color=255,this.$j=!0,this.isEnabled=!0,this.dQ=!1,this.Py=255,this.Df=0,this.rect=new Fr,this.channel=Rr.t(0),this.U7=null,this.arT=null,this.X$=!0},qi.vi.prototype.bR=function(t){if(!this.isEnabled)return t;var e=new qi.vi;e.color=Math.round(this.Na()*t.Na()/255),0==this.Na()&&0==t.Na()?e.rect=this.bZ().BS(t.bZ()):0==t.Na()?e.rect=t.bZ().clone():0==this.Na()?e.rect=this.bZ().clone():e.rect=this.bZ().hq(t.bZ()),e.channel=this.PZ(e.rect),e.Py=255,e.Df=0;t=t.PZ(e.rect);return Rr.acc(t,e.rect,e.channel,e.rect),e},qi.vi.prototype.bZ=function(){if(0==this.Df)return this.rect;var t=Math.ceil(2.2*this.Df),e=this.rect.clone();return 0==e.y?(0==e.x?e.m+=t:e.bA(t,0),e.n+=t):e.bA(t,t),e},qi.vi.prototype.rz=function(){if(0==this.Df&&255==this.Py)return this.channel;if(0==this.Df){var t=this.channel.slice(0);return Rr.tU(t),Rr.A_(t,this.Py/255),Rr.tU(t),t}var e=this.bZ(),n=this.a9S(e),t=Rr.t(e.Z());return Rr.VF.uc(n,t,e,this.Df),255!=this.Py&&(Rr.tU(t),Rr.A_(t,this.Py/255),Rr.tU(t)),t},qi.vi.prototype.Na=function(){return Math.round(255-(255-this.color)*(this.Py/255))},qi.vi.prototype.extend=function(t){Rr.extend(this,t,this.color)},qi.vi.prototype.Er=function(){255==this.color&&Rr.tU(this.channel),Rr.Er(this),255==this.color&&Rr.tU(this.channel)},qi.vi.prototype.clone=function(){var t=new qi.vi;return t.name=this.name,t.KT=this.KT,t.ZB=this.ZB,t.i9=this.i9,t.A2=this.A2,t.color=this.color,t.$j=this.$j,t.isEnabled=this.isEnabled,t.dQ=this.dQ,t.Py=this.Py,t.Df=this.Df,t.rect=this.rect.clone(),t.channel=this.channel.slice(0),t},qi.vi.prototype.a9S=function(t,e){return(e=null==e?Rr.t(t.Z()):e).fill(this.color),Rr.rR(this.channel,this.rect,e,t),e},qi.vi.prototype.PZ=function(t,e){var n=this.bZ(),i=this.rz();return(e=null==e?Rr.t(t.Z()):e).fill(this.Na()),Rr.rR(i,n,e,t),e},qi.g6=function(){this.$j=!0,this.isEnabled=!0,this.Py=255,this.Df=0,this.Y=[{type:6},{type:8,all:0}],this.Xo=[-3,-3],this.Iy=!1,this._n=null,this.X$=!0,this.w=[],this.nZ=[]},qi.g6.prototype.offset=function(t,e){this._n=this.sL(),Rr.$.yl(this.Y,new _r(1,0,0,1,t,e)),this._n.rect.offset(t,e)},qi.g6.prototype.sL=function(t){if(!this.X$&&this._n&&null==t)return this._n.isEnabled=this.isEnabled,this._n;var e,n="strokeStyleLineAlignment",i="strokeStyleLineJoinType";9e8<(r=Rr.$.b3(this.Y)).Z()&&(r=new Fr(0,0,100,100)),t&&"strokeStyleAlignInside"!=t[n].v[n]&&(a=1,"strokeStyleMiterJoin"==t[i].v[i]&&(e=Rr.$.aci(this.Y)/2,i=Math.sin(e),e=Math.cos(e),e/=i,i=1,a=Math.sqrt(e*e+1),(isNaN(a)||a<1)&&(a=1)),a*="strokeStyleAlignOutside"==t[n].v[n]?1:.5,a=Math.ceil(t.strokeStyleLineWidth.v.val*a),a=Math.min(a,600),r.bA(a,a));var r=Rr.H.dP(r),a=new qi.vi;return a.color=Rr.$.k1(this.Y)?0:255,a.$j=this.$j,a.isEnabled=this.isEnabled,a.dQ=!0,a.rect=r,a.Py=this.Py,a.Df=this.Df,a.channel=Rr.t(a.rect.Z()),r.mN()||Rr.$.aeP(this.Y,a.channel,a.rect,t),null==t&&(this._n=a,this.X$=!1),a},qi.g6.prototype.clone=function(){var t=new qi.g6;return t.$j=this.$j,t.isEnabled=this.isEnabled,t.Py=this.Py,t.Df=this.Df,t.Y=qi.g6.nk(this.Y),t.Xo=this.Xo.slice(0),t.Iy=this.Iy,t.w=this.w.slice(0),t.nZ=this.nZ.slice(0),t},qi.g6.prototype.concat=function(t){t=t.Y.slice(2);0!=t.length&&(t[0].Gw=3,this.Y=this.Y.concat(t))},qi.g6.nk=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];5<i.type||0==i.type||3==i.type?e.push(JSON.parse(JSON.stringify(i))):e.push({type:i.type,Sm:i.Sm.clone(),B:i.B.clone(),Pv:i.Pv.clone()})}return e},qi.g6.avf=function(t,e,n){if(t.length!=e.length)return!1;for(var i=2;i<t.length;i++){var r=t[i],a=e[i];if(r.type!=a.type)return!1;if(0==r.type||3==r.type){if(r.length!=a.length||!n&&r.Gw!=a.Gw)return!1}else if(!r.Sm.iy(a.Sm)||!r.B.iy(a.B)||!r.Pv.iy(a.Pv))return!1}return!0},qi.g6.prototype.a8p=function(){for(var t=this.Y,e=3;e<t.length;e++)0!=t[e].type&&3!=t[e].type||(t[e].Gw=-1)},qi.fm=function(){this.type=null,this.pH=2,this.n4=null,this.s3="",this.SB="",this.cZ="",this.open=0,this.raw=null,this.y9=null,this.a0J=""},qi.fm.prototype.clone=function(){var t=new qi.fm;return t.type=this.type,t.pH=this.pH,t.n4=this.n4,t.s3=this.s3,t.SB=this.SB,t.cZ=this.cZ,t.open=this.open,t.raw=new Uint8Array(this.raw.buffer.slice(0)),t},qi.fm.prototype.y5=function(t,e,n){null==n&&(n="none");var i=this,r=ai.Am(i.raw.buffer),a="svg"==r||"pdf"==r;if(i.y9&&(!(e&&a&&Math.max(i.y9[1].m,i.y9[1].n)<Math.max(e[0],e[1]))&&n==this.a0J))return;if(this.a0J=n,a||(t=0),null==r)return alert("Unsupported format: "+ln.fb(i.raw,0,4)),null;var s,a=ai.TN(r);if(a.r1){var o,l=new zi(name+("psd"==r?"":"-"+r)+".psd");a.Ou(i.raw.buffer,l,e);var h=new Fr(0,0,l.m,l.n);if(-1!="avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(n)){for(var u=[],f=0;f<l.g.length;f++){var c=l.g[f],p=c.buffer;c.rect.iy(h)||(p=Rr.t(4*h.Z()),Rr.Ik(c.buffer,c.rect,p,h),console.log("resizing")),u.push(p)}o=Rr.t(4*h.Z()),Rr.stack.stack(u,o,n)}else{for(f=0;f<l.g.length;f++)l.g[f].D5()&&l.g[f].fF(l);l.Lg(),l.G(),l.Bv(),o=l.y5()}i.y9=[o,h],i.Mg=null!=l.Mg&&0!=l.Mg?l.Mg:72}else a&&(s=a.Ou(i.raw.buffer)[0],i.y9=[new Uint8Array(s.data),s.Tl],i.Mg=null!=s.Mg&&0!=s.Mg?s.Mg:72);i.y9&&(1==t&&(p=i.y9[0],a=i.y9[1],s=Rr.t(a.Z()),Rr.VW(p,s,3),t=Rr._1(s,a),s=Rr.t(4*t.Z()),Rr.Ik(p,a,s,t),i.y9=[s,t]),Rr.bb(i.y9))},qi.PR="0",qi.hL="2",qi.jI="2.5",qi.EU="2.6",qi.G_="3",qi.Q0="4",qi.v2="4.5",qi.ab4="4.6",qi.akJ="5",qi.RZ="5.5",qi.afP="6",qi.DM="7",qi.a3a="8",qi.Gm="9",qi.y$="9.3",qi.a2o="9.5",qi.YN="9.6",qi._v="10",qi.ds="11",qi.MG="12",qi.xo="13",qi.BY="13.1",qi.al6="13.2",qi.PN="13.3",qi.ff="13.4",qi.gA="14",qi.m0="14.1",qi.kD="14.2",qi.e8="14.3",qi.sC="17",qi.dq="18",qi.ak1="19",qi.a_="19.5",qi.lB="19.6",qi.VL="19.7",qi.Lu="20",qi.t$="21",qi.N1="21.5",qi.qn="22",qi.Hi="22.5",qi.hP="23",qi.a6w="24",qi.vW="25",qi.a55="26",qi.anR="27",qi.kS="28",qi.Ug="29",qi.gn="30",qi.io="31",qi.cD="32",qi.rk="33",qi.P$="34",qi.hO="35",qi.Mp="36",qi.Nt="36.5",qi.t8="37",qi.eF="37.5",qi.a1Z="37.6",qi.Rq="38",qi.dY="38.5",qi.iB="38.6",qi.xC="39",qi.Pj="40",qi.a2k="41",qi.au5="42",qi.g2="50",qi.Rj="51",qi.lz="52",qi.fs="53",qi.WW="54",qi.asP="54.5",qi.Go="54.6",qi.a94="54.7",qi.H7="54.8",qi.cU="55",qi.$Z="56",qi.rb="57",qi.mn="58",qi.Bj="59",qi.Nl="60",Zi.prototype.afs=function(t,e){if(0!=this.depth&&t.push(this.i.getName()),this.children)for(var n=0;n<this.children.length;n++)this.children[n].afs(t,e);t.length>e.JL.length&&(e.JL=t.slice(0)),0!=this.depth&&t.pop()},Zi.prototype.apX=function(){var t=0;if(this.i.dH())for(var e=0;e<this.children.length;e++)t+=this.children[e].apX();else this.i.buffer&&(t+=this.i.buffer.length);return t},Zi.prototype.eu=function(t){this.yO[t];return this.yO[t]},Zi.prototype.apk=function(t,e){var n=this.i;if(!n.SH()||n.zC(2)||n.zC(31))return null;if(n.Fl()&&(!n.q.rect.$B(t)&&0==n.q.color))return;if(n.dH())for(var i=0;i<this.children.length;i++)this.children[i].apk(t,e);else n.rect.$B(t)&&e.push(this.index)},Zi.prototype.LP=function(t,e){var n=this.i;if(!n.SH()||n.zC(2)||n.zC(31))return null;if(n.Fl())if(n.q.rect.tl(t)){if(!Rr.LP(t,n.q.channel,n.q.rect))return null}else if(0==n.q.color)return null;if(n.dH()){if(n.add.artb&&!n.Gn().tl(t))return null;for(var i=this.children.length-1;0<=i;i--){var r=this.children[i].LP(t,e);if(r&&null==e)return r}return null}if(n.add.TySh&&n.rect.tl(t)||Rr.atm(t,n.buffer,n.rect)){if(null==e)return this;e.push(this.index)}return null},Zi.prototype.acK=function(t){var e=this.i;if(!e.SH()||e.zC(2)||e.zC(31))return null;var n=e.add.vmsk;if(n&&n.isEnabled){n=Rr.$.LP(n.Y,t).BT;if(-1!=n)return{a9W:this,akG:n}}if(e.dH()){if(e.add.artb&&!e.Gn().tl(t))return null;for(var i=this.children.length-1;0<=i;i--){var r=this.children[i].acK(t);if(r)return r}return null}return null},Zi.prototype.asT=function(t,e){if(t.push(this.index),this.i.dH()&&(t.push(this.vQ),!e||1!=this.i.rq||0!=this.i.sL().$j))for(var n=0;n<this.children.length;n++)this.children[n].asT(t)},Zi.prototype.sW=function(t,e,n){var i,r=this.i,a=(e=r.dH()&&null!=r.add.artb?r.Gn():e).m>e.n?(i=n,Math.floor(n*(e.n/e.m))):(i=Math.floor(n*(e.m/e.n)),n);r.D5()&&null==r.add.vmsk||r.add.TySh?i=a=Math.max(a,16):(i=Math.max(i,6),a=Math.max(a,6));var s,o,l=a,h=r.D5()&&r.add.vmsk;h?(o=(s=(s=r.rect.clone()).mN()?new Fr(0,0,20,20):s).m,u=(u=s.n)<o?(f=n,Math.floor(n*(u/o))):(f=Math.floor(n*(o/u)),n),f*u==0&&(f=u=16),Rr.qm.BJ(r.f1,f,u,s,r.buffer,r.rect,!1),Rr.qm.amF(r.f1,f,u),l=u):r.add.TySh?Rr.qm.agq(r.f1,l,l,r.add.TySh):r.add.SoCo?(l=Math.max(16,Math.min(i,a)),Rr.qm.ao4(r.f1,l,l,r.add.SoCo)):r.add.GdFl?Rr.qm.apE(r.f1,l,l,r.add.GdFl):r.add.PtFl?Rr.qm.a3Z(r.f1,l,l,r.add.PtFl,t):null!=ji.get(r.add)?Rr.qm.ap1(r.f1,l,l,r.add):r.add.SoLd?(Rr.qm.BJ(r.f1,i,a,e,r.buffer,r.rect,!1),Rr.qm.apF(r.f1,i,a,r.add.SoLd)):r.dH()?l=16:r.Z1()?Rr.qm.BJ(r.f1,i,a,e,r.buffer,r.rect,!1):Rr.qm.ac6(r.f1,l,l);var u,f=r.sL();if(f&&Rr.qm.Ti(r.acA,i,a,e,f),r.UG()&&r.ez(t)&&r.ez(t).q&&(u=r.ez(t).q,Rr.qm.Ti(r.ast,i,a,e,u)),!h&&r.add.vmsk&&Rr.qm.Ti(r.a2e,i,a,e,r.add.vmsk.sL(),!0),(r.add.vmsk||f)&&(l=Math.max(l,a)),r.a5x=Math.max(l,16),r.dH()&&(r.add.lsct==Gi.pb||t.g.length<4e3))for(var c=0;c<this.children.length;c++)this.children[c].sW(t,e,n)},Zi.prototype.aeL=function(t,e,n,i){this.depth=n;var r=t[e];if(this.yO=i=null==i?[]:i,r.add.lsct!=Gi.A0)return this.i=r,this.index=e-1,i[this.index]=this,e+1;this.a4c=r,this.vQ=e-1,this.children=[];for(var a=e+1;;){var s=t[a];if(null==s&&console.log(a,t.length),s.add.lsct==Gi.pb||s.add.lsct==Gi.jT){r.add.lyid==s.add.lyid&&(r.add.lyid+=16777215),this.i=s,this.index=a-1,i[this.index]=this,i[e-1]=this;break}s=new Zi;s.parent=this,a=s.aeL(t,a,n+1,i),this.children.push(s)}return a+1},Zi.prototype.W4=function(t,e,n,i){for(var r=this.eu(n),a=t;null!=r.parent;)a=r.i.V9(a,e,i),r=r.parent;return a},Zi.prototype.bZ=function(t,e){var n=this.i,i=new Fr;if(!n.SH())return i;var r=n.sL();if(n.dH())for(var a=0;a<this.children.length;a++)var s=this.children[a].bZ(t,!0),i=i.hq(s);else null!=ji.get(n.add)?i=n.Fl()&&0==n.q.color?n.q.bZ().clone():new Fr(0,0,t.m,t.n):n.D5()&&n.add.vmsk&&n.add.vmsk.isEnabled&&n.add.vstk?i=n.rect.clone():n.D5()&&r&&r.isEnabled&&0!=r.Na()?i=new Fr(0,0,t.m,t.n):(i=n.w8(t,!1,!0),n.add.vmsk&&(i=Rr.H.dP(i)));return e?n.V9(i,t):i},Zi.GR={delete:function(t){t&&t.m&&t.delete()},t:function(t,e){return Br.jR?new Br.vs(t,e):Rr.t(t*e*4)},Sv:function(t,e,n){if(Br.jR){if(null==t||t.m!=e||t.n!=n)return Zi.GR.delete(t),new Br.vs(e,n)}else if(null==t||!(t instanceof Uint8Array)||t.length!=e*n*4)return Zi.GR.delete(t),Rr.t(e*n*4);return t},rR:function(t,e,n,i,r){(Br.jR?Br.qP:Rr.Ik)(t,e,n,i,r)},hM:function(t,e,n,i,r,a,s,o,l,h,u){(Br.jR?Br.a.Rk:Rr.a.hM)(t,e,n,i,r,a,s,o,l,h,u)},bW:function(t,e,n,i,r,a,s,o){Br.jR?Br.a.fy(t,e,n,i,r,a,s,o):Rr.a.bW(t,e,n,i,r,a,s,o)},Bg:function(t,e,n){Br.jR?(Br._9(t),Br.k3(e,n)):Rr.Bg(t,e,n)},afJ:function(t,e,n,i,r){Br.jR?Br.a.Rk(null,null,i,r,t,e,n,r,1,!1):255==n?Rr.WE(t,e,i,r):(n=Rr.t(e.Z()),Rr.px(i,r,n,e),Rr.k2(t,n),Rr.Bg(i,0,16777215),Rr.jL(n,e,i,r))},SZ:function(t,e,n,i){Br.jR?Br.a.Rk(null,null,n,i,t,e,0,i,1,!1):Rr.SZ(t,e,n,i)}},Zi.prototype._B=function(t,e,n,i,r,a){var s,o,l,h,u="number"==typeof a;!this.i.dH()&&(u&&this.index>a||!u&&-1==a.indexOf(this.index))||(s=this.i,o=Xi.FC(s),l=Zi.GR,h=s.D5()?s.sL():s.q,s.SH()&&(s.Fl()&&h.rect.mN()&&0==h.Na()||null==s.add.vstk&&this.bZ(i,!1).mN()||(u=this.bZ(i,!0).BS(n),(e.iy(n)||n.$B(u))&&(s.dH()&&s.add.artb&&(h=s.Gn(),n=n.BS(h)),Zi.a65(s,r,o)?(s.St.Uq=l.Sv(s.St.Uq,u.m,u.n),l.rR(t,e,s.St.Uq,u,n),this.a8D(s.St.Uq,u,n,i,r,a),l.hM(s.St.Uq,u,t,e,null,null,0,n,s.opacity/255,"diss"==s.SD,o.kg)):this.a8D(t,e,n,i,r,a)))))},Zi.a65=function(t,e,n){return n.kg[0]*n.kg[1]*n.kg[2]==0||255!=t.opacity&&(0!=e.length||t.dH()||t.Fi())},Zi.a70={St:{}},Zi.prototype.a8D=function(t,e,n,i,r,a){var s,o=this.i,l=Xi.FC(o),h=null!=ji.get(o.add),u=Zi.GR,f=Zi.a65(o,r,l)?1:o.opacity/255,c=o.D5()?o.sL():o.q,p=o.dH()&&("pass"==o.SD||o.add.artb)&&!(0<r.length||1!=l.fill||o.Fi()),d=!o.dH()&&!h&&!o.Fi()&&0==r.length,v=h&&!o.Fi()&&0==r.length,g=null,y=null,m=null;if(p||d||v){var w=t,b=e;return o.Fl()&&(b=this.bZ(i,!1),w=o.St.di=u.Sv(o.St.di,b.m,b.n),u.rR(t,e,o.St.di,b)),p&&this.Wu(w,b,n,i,a),d&&u.bW(o.SD,o._e(i),o.rect,w,b,n,f,l),v&&(S=(o.Fl()&&0==c.Na()?c.bZ():b).clone(),v=o.St,(v=S.iy(new Fr(0,0,i.m,i.n))?Zi.a70:v).V7=this.a09(w,b,v.V7,S,o.add),l.fT=!0,u.bW(o.SD,v.V7,S,w,b,n,f,l)),o.Fl()&&u.hM(w,b,t,e,o.uj(),c.bZ(),c.Na(),n,1,"diss"==o.SD),void o.St.oY()}var M,w=o.dH()&&"pass"==o.SD&&(0<r.length||1!=l.fill||o.Fi()),S=o.rect;o.dH()?(S=this.bZ(i,!1),m=o.St.V7=u.Sv(o.St.V7,S.m,S.n),u.Bg(m,0),this.Wu(m,S,S,i,a),y=u.Sv(o.St.HA,S.m,S.n),u.rR(m,S,y,S)):h?(S=(o.Fl()&&0==c.Na()?c.bZ():e).clone(),y=u.Sv(o.St.HA,S.m,S.n),u.Bg(y,4294967295)):(S=o.rect,g=o._e(i),y=u.Sv(o.St.HA,S.m,S.n),u.rR(g,S,y,S)),o.St.HA=y,o.Fl()&&u.afJ(o.uj(),c.bZ(),c.Na(),y,S),o.Fi()&&(o.St.aH||o.St.JC||o.St.sk!=Br.jR||o.St.i1||o.dH())&&(b=o.add.vmsk,c=Rr.t(S.Z()),Xi.av9(o.add.lmfx)&&(Br.jR?!o.dH()&&null==o.sL()&&o.rect.iy(S)&&null==b?Rr.VW(o.buffer,c,3):(M=Rr.t(4*S.Z()),y.get(M),Rr.VW(M,c,3)):Rr.VW(y,c,3)),!o.St.JC&&o.St.sk==Br.jR&&Rr.iy(c,o.St.K2)||(M=null,o.D5()&&b&&b.isEnabled&&0==b.sL().color&&(M=b.sL().rect),Xi.a4N(o.St.It),o.St.It=Xi.aaV(c,S,o.add.lmfx,o.add.fxrp,i,M),o.St.K2=c,o.St.acd=S)),o.Fi()&&Xi.acU(o.add.lmfx,o.St.It,S,t,e,n),o.dH()&&(g=u.Sv(o.St.di,S.m,S.n),u.Bg(g,0),"pass"==o.SD&&u.rR(t,e,g,S),w&&u.SZ(m,S,g,S),this.Wu(g,S,n,i,a),o.St.di=g),h&&(g=o.St.di=this.a09(t,e,o.St.di,S,o.add)),o.dH()||h?s=g:(s=u.Sv(o.St.di,S.m,S.n),u.rR(g,S,s,S,n),o.St.di=s),u.Bg(s,4278190080,16777215);for(var C=0;C<r.length;C++)r[C]._B(s,S,n,i,[],a);g=o.St.E7=u.Sv(o.St.E7,S.m,S.n);if(u.rR(t,e,g,S,n),h&&(l.fT=!0),u.bW("pass"==o.SD?"norm":o.SD,s,S,g,S,n,1,l),o.Fi()){var x=o.St.It.type.FrFX,L=null;if(0!=x.length){for(L=x[0],C=0;C<x.length;C++)x[C].Yc.m>L.Yc.m&&(L=x[C]);o.St.Hr=u.Sv(o.St.Hr,L.Yc.m,L.Yc.n),u.rR(t,e,o.St.Hr,L.Yc,n),o.St.Hs=u.Sv(o.St.Hs,L.Yc.m,L.Yc.n)}Xi.abw(o.add.lmfx,o.St.It,S,t,e,n,g,o.St.Hr,o.St.Hs,L?L.Yc:null)}Br.jR||(l=Rr.t(S.Z()),Rr.VW(y,l,3),y=l),u.hM(g,S,t,e,y,S,0,n,1,"diss"==o.SD),o.St.oY()},Zi.prototype.a09=function(t,e,n,i,r){var a,s=ji.get(r);s&&(a=ji.PJ(s,r[s]));s=Zi.GR;return n=s.Sv(n,i.m,i.n),Br.jR&&e.iy(i)||s.rR(t,e,n,i),a&&(Br.jR?((s=i.clone()).x=s.y=0,e.iy(i)?(Br._9(n,s),ji.uY(a,t.I8,s)):(Br._9(n,i),n.Qg(i),ji.uY(a,n.Zo,s))):ji.O9(a,n,n,i)),n},Zi.prototype.Wu=function(t,e,n,i,r){for(var a=this.children,s=0;s<a.length;s++){for(var o=[],l=s+1;l<a.length&&a[l].i.jF;l++)o.push(a[l]);a[s]._B(t,e,n,i,o,r),s+=o.length}},zi.Dv=[8,$e.FL(8,[0,0,0,.145,.051,.051,.263,.071,.067,.416,.051,.055,.573,.102,.11,.71,.122,.141,.851,.122,.149,.929,.122,.141,.075,.149,.078,.153,.153,.078,.275,.153,.055,.424,.157,.071,.569,.153,.114,.706,.165,.141,.855,.161,.153,.933,.196,.141,.118,.282,.133,.18,.29,.129,.286,.29,.122,.427,.294,.114,.573,.298,.129,.71,.294,.149,.855,.298,.153,.941,.306,.133,.035,.431,.224,.157,.427,.212,.294,.431,.204,.427,.435,.18,.569,.431,.165,.71,.435,.161,.851,.431,.153,.953,.435,.133,.012,.576,.278,.145,.569,.271,.29,.576,.259,.427,.576,.239,.569,.576,.212,.706,.573,.184,.855,.576,.157,.969,.569,.118,.114,.698,.294,.165,.702,.29,.29,.714,.286,.424,.714,.271,.573,.718,.243,.71,.714,.204,.855,.714,.153,.988,.714,.078,.314,.722,.282,.329,.722,.278,.392,.737,.275,.478,.757,.259,.584,.788,.239,.714,.827,.2,.859,.859,.125,.996,.855,0,.412,.741,.271,.427,.745,.267,.471,.753,.259,.533,.773,.251,.624,.8,.227,.725,.835,.2,.843,.875,.137,.973,.925,.075,.055,.059,.137,.141,.059,.141,.271,.059,.149,.424,.043,.149,.576,.098,.157,.714,.122,.153,.859,.122,.153,.929,.114,.176,.02,.145,.141,.137,.137,.137,.282,.141,.137,.431,.141,.145,.576,.145,.141,.714,.149,.145,.859,.141,.153,.933,.192,.184,.012,.286,.145,.145,.286,.141,.286,.286,.141,.431,.29,.141,.576,.286,.141,.714,.286,.149,.855,.286,.153,.941,.302,.176,.027,.427,.22,.153,.431,.216,.29,.427,.2,.427,.431,.18,.576,.431,.165,.714,.427,.161,.859,.431,.153,.949,.427,.165,.039,.576,.278,.153,.573,.271,.282,.573,.259,.431,.576,.239,.569,.573,.212,.71,.573,.184,.859,.576,.153,.969,.569,.165,.114,.698,.294,.165,.702,.29,.286,.718,.286,.424,.714,.267,.576,.722,.243,.714,.714,.204,.855,.714,.153,.988,.71,.137,.314,.722,.282,.341,.725,.278,.396,.737,.275,.486,.761,.259,.588,.788,.239,.714,.831,.2,.859,.855,.145,.996,.859,.129,.416,.741,.271,.439,.749,.271,.482,.757,.263,.537,.776,.251,.631,.804,.231,.725,.831,.196,.851,.878,.133,.969,.925,.18,.075,.075,.278,.145,.063,.29,.282,.067,.286,.424,.082,.294,.573,.102,.298,.714,.118,.298,.855,.11,.298,.933,.11,.306,.063,.141,.278,.137,.141,.286,.286,.137,.282,.427,.145,.286,.573,.141,.286,.714,.141,.29,.863,.149,.294,.937,.188,.302,0,.29,.29,.141,.286,.286,.29,.286,.286,.427,.29,.29,.573,.29,.29,.718,.29,.286,.859,.282,.286,.941,.302,.302,0,.427,.286,.145,.431,.29,.286,.427,.29,.424,.427,.286,.573,.427,.29,.718,.427,.286,.859,.427,.282,.953,.431,.302,0,.573,.282,.145,.576,.282,.286,.573,.282,.427,.573,.282,.576,.573,.282,.71,.569,.282,.859,.573,.278,.969,.569,.306,.114,.698,.294,.176,.702,.29,.286,.718,.286,.427,.718,.282,.576,.714,.278,.718,.722,.294,.855,.71,.278,.988,.71,.286,.329,.725,.282,.349,.729,.278,.4,.737,.278,.486,.761,.29,.592,.792,.298,.714,.835,.306,.859,.859,.278,1,.855,.286,.431,.745,.267,.451,.749,.267,.482,.757,.259,.549,.776,.247,.639,.804,.224,.733,.839,.224,.855,.882,.275,.973,.929,.306,.141,.133,.392,.165,.133,.408,.29,.141,.42,.416,.141,.424,.561,.133,.431,.71,.122,.439,.859,.082,.435,.929,.098,.431,.137,.184,.408,.176,.169,.424,.282,.157,.431,.424,.145,.424,.573,.141,.427,.714,.145,.427,.859,.137,.427,.929,.173,.427,0,.286,.427,.141,.29,.431,.29,.29,.431,.427,.29,.427,.576,.286,.427,.718,.29,.431,.859,.286,.427,.941,.298,.431,0,.427,.424,.145,.427,.427,.286,.427,.427,.427,.427,.427,.569,.427,.424,.718,.431,.431,.863,.427,.427,.949,.424,.431,0,.573,.427,.125,.573,.427,.282,.573,.427,.431,.576,.431,.569,.573,.427,.714,.573,.424,.851,.569,.424,.965,.569,.431,.082,.706,.427,.133,.71,.427,.282,.71,.424,.424,.714,.424,.576,.718,.427,.714,.714,.424,.863,.718,.427,.984,.71,.427,.322,.729,.404,.345,.733,.408,.404,.745,.412,.478,.765,.42,.588,.796,.424,.718,.843,.431,.863,.863,.435,1,.863,.435,.439,.749,.341,.455,.753,.341,.494,.765,.345,.557,.784,.349,.643,.812,.373,.733,.843,.388,.851,.89,.424,.976,.941,.451,.169,.184,.51,.176,.176,.522,.298,.176,.537,.416,.169,.541,.553,.153,.557,.698,.118,.553,.847,.094,.557,.929,.133,.565,.161,.212,.529,.18,.184,.541,.294,.184,.553,.427,.173,.561,.565,.153,.561,.718,.157,.565,.851,.157,.565,.933,.196,.565,.075,.29,.561,.141,.286,.573,.286,.29,.576,.424,.286,.573,.576,.29,.576,.718,.29,.576,.859,.286,.573,.933,.298,.569,0,.427,.573,.141,.427,.573,.286,.427,.573,.427,.427,.569,.573,.427,.573,.718,.431,.576,.859,.427,.573,.945,.424,.569,0,.573,.573,.149,.576,.576,.286,.573,.576,.427,.573,.573,.573,.573,.573,.718,.576,.576,.859,.573,.573,.961,.565,.573,0,.714,.573,.133,.714,.573,.278,.71,.573,.427,.714,.576,.573,.718,.573,.718,.714,.573,.859,.714,.576,.98,.71,.576,.325,.741,.537,.345,.745,.537,.404,.757,.545,.482,.78,.553,.588,.808,.565,.718,.851,.573,.859,.859,.569,1,.863,.573,.439,.761,.49,.451,.761,.486,.49,.776,.498,.557,.796,.51,.635,.82,.518,.737,.855,.537,.863,.906,.561,.976,.953,.588,.165,.231,.588,.227,.231,.592,.31,.235,.592,.408,.227,.588,.525,.227,.588,.635,.227,.584,.761,.239,.588,.878,.243,.588,.173,.255,.608,.216,.255,.604,.314,.255,.604,.408,.255,.6,.525,.255,.6,.643,.255,.596,.761,.267,.6,.882,.267,.596,.141,.314,.639,.208,.318,.639,.306,.318,.639,.42,.314,.631,.541,.318,.631,.659,.318,.624,.784,.325,.62,.91,.337,.624,.012,.431,.718,.149,.431,.714,.294,.431,.71,.431,.431,.702,.573,.427,.69,.71,.431,.678,.835,.435,.671,.945,.435,.667,0,.573,.714,.145,.573,.718,.29,.576,.718,.427,.573,.714,.576,.573,.714,.71,.569,.71,.859,.573,.714,.957,.569,.71,0,.71,.71,.129,.714,.714,.278,.714,.71,.427,.714,.714,.576,.718,.718,.714,.714,.714,.859,.718,.714,.973,.706,.714,.322,.753,.667,.337,.757,.667,.4,.769,.671,.482,.792,.686,.588,.824,.698,.714,.867,.718,.859,.863,.714,.996,.855,.714,.435,.773,.62,.459,.78,.627,.49,.788,.631,.557,.808,.643,.647,.835,.659,.749,.875,.675,.867,.918,.702,.988,.969,.725,.212,.29,.624,.243,.29,.62,.318,.29,.62,.396,.286,.62,.486,.286,.616,.58,.282,.608,.686,.282,.608,.788,.29,.608,.216,.306,.631,.251,.306,.631,.314,.306,.627,.392,.306,.627,.49,.302,.624,.58,.302,.62,.686,.302,.616,.796,.314,.616,.224,.345,.655,.255,.345,.659,.318,.345,.651,.396,.345,.651,.494,.345,.643,.592,.345,.639,.702,.353,.635,.816,.373,.643,.212,.424,.71,.247,.424,.706,.318,.424,.702,.412,.42,.694,.525,.431,.694,.635,.447,.698,.749,.459,.69,.859,.467,.69,.133,.569,.816,.2,.565,.812,.31,.569,.808,.443,.569,.792,.576,.569,.78,.694,.569,.765,.812,.58,.761,.914,.584,.753,0,.714,.855,.133,.714,.859,.286,.714,.863,.431,.714,.859,.573,.714,.859,.718,.714,.863,.859,.714,.839,.969,.706,.82,.302,.765,.796,.329,.769,.796,.392,.784,.808,.471,.804,.82,.588,.839,.847,.718,.859,.859,.859,.859,.859,.988,.855,.855,.439,.788,.749,.451,.792,.749,.498,.804,.757,.553,.82,.769,.647,.851,.784,.753,.886,.812,.871,.933,.839,.996,.984,.863,.224,.325,.643,.251,.325,.643,.306,.322,.639,.38,.322,.635,.459,.318,.631,.545,.318,.631,.631,.314,.624,.725,.322,.624,.235,.333,.647,.263,.337,.651,.31,.333,.647,.38,.333,.643,.463,.333,.639,.545,.333,.635,.631,.325,.627,.737,.337,.627,.251,.365,.671,.275,.365,.667,.318,.365,.667,.384,.361,.659,.467,.361,.655,.549,.361,.651,.651,.376,.651,.757,.4,.659,.255,.427,.71,.275,.42,.702,.329,.42,.702,.4,.42,.694,.486,.431,.698,.58,.447,.698,.686,.467,.702,.8,.494,.71,.278,.529,.78,.306,.533,.78,.373,.541,.78,.455,.545,.776,.553,.557,.776,.643,.569,.773,.749,.592,.776,.843,.604,.773,.275,.694,.898,.302,.694,.894,.384,.69,.886,.49,.698,.878,.604,.706,.871,.718,.706,.855,.812,.714,.847,.898,.722,.839,.31,.784,.925,.333,.788,.925,.388,.8,.941,.471,.824,.961,.592,.855,.973,.725,.851,.949,.859,.851,.929,.957,.855,.914,.435,.8,.867,.443,.804,.867,.494,.816,.875,.557,.835,.886,.651,.867,.91,.757,.906,.933,.878,.953,.969,1,1,1])],zi.prototype.Z9=function(t){if(t){this.Nm.r1039=t;var e,n,i=ICC.R(t.buffer),r=i.header.spaceIn.toLowerCase(),a=JSON.stringify(i.tags.desc).toLowerCase(),s=null;try{s=ICC.U.profileName(i)}catch(t){}if("rgb "==r&&null!=s&&-1==a.indexOf("srgb")){console.log("We got an ICC profile!",i,s);for(var o=ICC.U.sampleLUT(i,17),l=o.slice(0),h=Rr.t(4),u=zi.Dv[0],f=zi.Dv[1],c=0;c<o.length;c+=3)h[0]=255*o[c],h[1]=255*o[c+1],h[2]=255*o[c+2],ICC.U.applyLUT(f,u,h,h),l[c]=h[0]/255,l[c+1]=h[1]/255,l[c+2]=h[2]/255;Br.jR&&((e=new Br.vs(17,289)).set(ICC.U.rgba8LUT(o,17)),(n=new Br.vs(17,289)).set(ICC.U.rgba8LUT(l,17))),this.FY=[t,i,17,o,e,l,n]}else this.Z9(null)}else delete this.Nm.r1039,this.FY=null},zi.prototype.SP=function(){return this.FY},zi.prototype.a5K=function(){return this.FY||(1==this.add.fcmy?(null==this.dV&&(t=zi.Dv[0],e=zi.Dv[1],Br.jR&&(n=new Br.vs(t,t*t)).set(ICC.U.rgba8LUT(e,t)),this.dV=[null,null,t,null,null,e,n]),this.dV):void 0);var t,e,n},zi.prototype.pt=function(){for(var t=this.p6,e=[],n=0;n<t.length;n++)e[n]=-1;for(var i=this.root.children,n=0;n<i.length;n++){var r=i[n],a=r.i.add.artb;if(null!=a)for(var s=(s=a.guideIndeces)?s.v:[],o=0;o<s.length;o++)e[s[o].v]=r.index}return[JSON.parse(JSON.stringify(t)),e]},zi.prototype.Eq=function(t){this.p6=JSON.parse(JSON.stringify(t[0]));for(var e=t[1],n=this.root.children,i=0;i<n.length;i++){var r=n[i].i.add.artb;null!=r&&(r.guideIndeces={t:"VlLs",v:[]})}for(i=0;i<e.length;i++)-1!=e[i]&&this.g[e[i]].add.artb.guideIndeces.v.push({t:"long",v:i})},zi.prototype.asl=function(t){t[0]?this.add.lnk2=t[0]:delete this.add.lnk2,t[1]?this.add.FEid=t[1]:delete this.add.FEid,t[2]?this.add.Patt=t[2]:delete this.add.Patt},zi.prototype.ajp=function(t){for(var e=[],n=[],i=[],r=null,a=null,s=null,o=0;o<t.length;o++){var l=t[o];if(l.add.SoLd&&(e.push(l.add.SoLd.Idnt.v),n.push(l.add.SoLd.placed.v)),l.add.PtFl&&i.push(l.add.PtFl.Ptrn.v.Idnt.v),l.add.lmfx)for(var h=0;h<Wi.Th.length;h++)for(var u=l.add.lmfx[Wi.Th[h]].v,f=0;f<u.length;f++)if(u[f].v.Ptrn){var c=u[f].v;if("FrFX"==c.classID&&"Ptrn"!=c.PntT.v.FrFl)continue;i.push(c.Ptrn.v.Idnt.v)}var p=l.add.vstk;p&&"patternLayer"==p.strokeStyleContent.v.classID&&i.push(p.strokeStyleContent.v.Ptrn.v.Idnt.v)}var d=this.add.lnk2,v=this.add.FEid,g=this.add.Patt;if(d){for(r=[],o=0;o<d.length;o++)-1!=e.indexOf(d[o].n4)&&r.push(d[o]);0==r.length&&(r=null)}if(v){for(a=[],o=0;o<v.length;o++)-1!=n.indexOf(v[o].id)&&a.push(v[o]);0==a.length&&(a=null)}if(g){for(s=[],o=0;o<g.length;o++)-1!=i.indexOf(g[o].id)&&s.push(g[o]);0==s.length&&(s=null)}return[r,a,s]},zi.prototype.y7=function(){var t=this.En,e=this.En.length;if(0!=e&&"Quick Mask"==t[e-1].name)return t[e-1]},zi.prototype.Ev=function(){return this.El==O.kF("% |/!)")||this.El==O.qU("gP")},zi.prototype.BD=function(t){this.add.artd;0!=t?this.add.artd={classID:"null",Cnt:{t:"long",v:t},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}}:delete this.add.artd},zi.prototype.lQ=function(t){null==this.add.FEid&&(this.add.FEid=[]),-1==this.add.FEid.indexOf(t)&&this.add.FEid.push(t)},zi.prototype.V1=function(t){t=this.add.FEid.indexOf(t);this.add.FEid.splice(t,1),0==this.add.FEid.length&&delete this.add.FEid},zi.prototype.G=function(t){null==t&&(t=new Fr(0,0,this.m,this.n)),null==this.aH?this.aH=t:this.aH=this.aH.hq(t)},zi.prototype.aof=function(t){return null!=this.aH},zi.prototype.gt=function(t){var e=this.g[t],t=this.root.eu(t);return null!=t&&(!e.dH()&&0!=t.parent.children.indexOf(t))},zi.an4=function(t){if(t.add.lnk2)for(var e=0;e<t.add.lnk2.length;e++){var n=t.add.lnk2[e].n4;t.add.lnk2[e].n4=zi.Gs()+n.slice(8);for(var i=0;i<t.g.length;i++){var r=t.g[i].add.SoLd;r&&r.Idnt.v==n&&(r.Idnt.v=t.add.lnk2[e].n4)}}},zi.prototype.v5=function(t,e,n){t.sort(function(t,e){return t-e});for(var i=t[t.length-1],r=this.g.slice(0),a=this.w.slice(0),s=[],o=[],l=0;l<this.g.length;l++)(-1!=t.indexOf(l)?o:s).push(this.g[l]);this.Gk(o),this.w=[];var h=this.root.bZ(this,!0);e&&(h=h.BS(e)),(h=n?h.hq(n):h).mN()&&(h=new Fr(0,0,100,100));new Fr(-h.x,-h.y,this.m,this.n);n=new Uint8Array(ai.TN("PSD").D6(this,0,0,[!0,!1]));this.Gk(r),this.w=a;a=new zi(this.g[i].getName());return ai.TN("PSD").Ou(n.buffer,a),delete a.add.artd,a.EQ=[],a.Gk(a.g),a.Eq([[],[]]),zi.an4(a),qr.B_.RA(a,h),a.G(),a.Bv(),a.y5(),[a,h,s,i]},zi.prototype.aiN=function(t,e,n){var i=this.v5(t),r=i[0],a=i[1],s=i[2],i=i[3],n="jpg"==n?new Uint8Array(ai.TN("JPG").D6([[r.y5().buffer]],r.m,r.n,[80])):new Uint8Array(ai.TN("PSD").D6(r,null,null,[!0,!1]));e&&(s=this.g.slice(0));a=this.Rp(n,r.name,a.x,a.y);i==this.g.length-1?s.push(a):s.splice(e?i+1:i-t.length+1,0,a),this.Gk(s),this.w=[s.indexOf(a)]},zi.Gs=function(t){null==t&&(t="");for(var e="";""==e||e==t;)for(var e="",n=0;n<8;n++)e+=Math.floor(16*Math.random()).toString(16);return e},zi.prototype.uo=function(t){if(null!=t){null==this.add.Patt&&(this.add.Patt=[]);for(var e=this.add.Patt,n=0;n<e.length;n++)if(e[n].id==t.id)return;e.push(t)}},zi.prototype.Rp=function(t,e,n,i,r){null==this.add.lnk2&&(this.add.lnk2=[]);for(var a=null,s=!1,o=0;o<this.add.lnk2.length;o++)if(Rr.iy(t,this.add.lnk2[o].raw)){a=this.add.lnk2[o].n4;break}null==a&&(u=ai.Am(t.buffer),a=zi.Gs()+"-d71c-11e5-b1ae-a548a96e5f9f",(f=new qi.fm).n4=a,f.cZ="psd"==u?"8BIM":"    ",f.s3=e+"."+u,f.SB="psd"==u?"8BPB":"    ",f.open=0,f.raw=t,f.type="liFD",f.pH=2,this.add.lnk2.push(f));var l,h,u,f,c=this.n1(a),p=zi.Gs()+"-d71c-11e5-b1ae-a548a96e5f9f",d=this.rL();d.Zu(e),null!=c&&(h=l=0,u=this.m,f=this.n,r&&(l=r.x,h=r.y,u=r.m,f=r.n),(e=d.rect=c.y9[1].clone()).offset(l+n,h+i),i=Math.max(e.m/u,e.n/f),(s=null!=r&&1.0001<i)?(e.m=Math.round(e.m/i),e.n=Math.round(e.n/i),e.x=Math.round(l+(u-e.m)/2),e.y=Math.round(h+(f-e.n)/2)):null!=r&&"pdf"==ai.Am(t.buffer)&&144!=this.Mg&&(i=144/this.Mg,e.m=Math.round(e.m/i),e.n=Math.round(e.n/i),s=!0),d.buffer=Rr.t(4*e.Z()),s||Rr.VO(c.y9[0],d.buffer)),d.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:a},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:p},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:Rr.oH.t(c?c.y9[1]:d.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:d.rect.m},Hght:{t:"doub",v:d.rect.n}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:c?c.Mg:72}}};c=Rr.H.UQ(d.rect).U;return d.add.SoLd.Trnf=qr.Q.mk(c),d.add.SoLd.nonAffineTransform=qr.Q.mk(c),s&&d.jM(this,!1),d},zi.prototype.y5=function(t){if(null==t)return this.aH&&(this.Bv(),this.aH=null),Br.jR&&this.cM&&(this.aU.get(this.buffer),this.cM=null,this.iM=!0),this.buffer;this.G(),this.Bv(t);t=this.buffer;return Br.jR?this.aU.get(t):t=t.slice(0),this.G(),this.Bv(),t},zi.prototype.af$=function(){for(var t=0;t<this.g.length;t++)this.g[t].bD();this.G()},zi.prototype.a1A=function(){for(var t=0;t<this.g.length;t++)this.g[t].add.lmfx&&(this.g[t].St.JC=!0)},zi.prototype.zJ=function(){if(null==(t=this.Nm.r1044)){for(var t=this.Nm.r1044=new Uint8Array(4),e=0,n=0;n<this.g.length;n++)e=Math.max(e,this.g[n].add.lyid);ln.Kp(t,0,e)}var i=ln.l(t,0);return ln.Kp(t,0,i+1),i+1},zi.prototype._W=function(t,e,n){null==t&&(t=!0);return 0!=this.kx.length||(1!=this.w.length?(t&&alert(0==this.w.length?"Select a layer first.":"More than one layer selected."),!1):this.JA(t,e,n))},zi.prototype.JA=function(t,e,n){null==t&&(t=!0),null==e&&(e=!1);if(0!=this.kx.length)return!0;for(var i=0;i<this.w.length;i++){var r=this.g[this.w[i]],a=e||r.rq<=0;if(null!=r.add.lsct&&r.add.lsct!=Gi.Tv&&1!=r.rq)return t&&alert(ri.get([15,7,2])),!1;if(a&&!r.Z1())return t&&alert(ri.get([15,7,2])),!1;if(a&&r.add.TySh)return this.a8Q(t,[15,7,3],n);if(a&&r.add.SoLd)return this.a8Q(t,[15,7,4],n);if(r.zC(1)||r.zC(31))return t&&alert(ri.get([6,57,0])),!1}return!0},zi.prototype.a8Q=function(t,e,n){if(t&&"object"==typeof t){var i,r=window.confirm(ri.get(e)+". "+ri.get([6,8])+"?");return r&&((i=new yr(mr.E.n$,!0)).data={YY:"rasterizeLayer",l5:{classID:"rasterizeLayer",null:Ui.S3("Lyr",!0)}},t.c(i)),!!n&&r}return t&&alert(ri.get(e)),!1},zi.prototype.asC=function(t){t=this.root.eu(t);return t.parent?t.i.SH()&&this.asC(t.parent.index):t.i.SH()},zi.prototype.ak=function(){if(this.add.artd&&0!=this.w.length){for(var t=this.root.eu(this.w[0]);t.parent.parent;)t=t.parent;if(t.i.add.artb)return t.index}return-1},zi.prototype.a5i=function(){var t=this.g[this.w[0]];if(t.rq<=0&&!t.rect.$B(this.v.rect))return alert("Selected area is empty."),!1;if(1==this.w.length&&this.v){var e=Rr.t(this.v.channel.length);if(Rr.px(t.buffer,t.rect,e,this.v.rect),Rr.k2(this.v.channel,e),Rr.a8(e,0))return alert("Selected area is empty."),!1}return!0},zi.prototype.GT=function(){return null==this.Nm.r1037&&this.vu(30),ln.Xu(this.Nm.r1037,0)},zi.prototype.vu=function(t){null==this.Nm.r1037&&(this.Nm.r1037=new Uint8Array(4)),ln.Xu(this.Nm.r1037,0)!=t&&(ln.xG(this.Nm.r1037,0,t),this.a1A())},zi.prototype.e5=function(){return null==this.Nm.r1049&&this.JR(30),ln.Xu(this.Nm.r1049,0)},zi.prototype.JR=function(t){null==this.Nm.r1049&&(this.Nm.r1049=new Uint8Array(4)),ln.Xu(this.Nm.r1049,0)!=t&&(ln.xG(this.Nm.r1049,0,t),this.a1A())},zi.prototype.Qw=function(t){if(null==this.add.lnk2)return null;for(var e=0;e<this.add.lnk2.length;e++)if(this.add.lnk2[e].n4==t)return this.add.lnk2[e];return null},zi.prototype.a6P=function(t){t=this.Qw(t);if(null==t)return!1;t=ai.Am(t.raw.buffer);return null!=t&&(null!=ai.TN(t)||"psd"==t)},zi.prototype.n1=function(t,e,n,i){t=this.Qw(t);return null==t?null:(t.y5(e,n,i),t.y9?t:void 0)},zi.prototype.arn=function(){var t=this.m,e=this.n;Br.jR&&null==this.aU&&(this.aU=new Br.vs(t,e,!0)),null!=this.buffer&&this.buffer.length==t*e*4&&(!Br.jR||this.aU.m==t&&this.aU.n==e)||(this.buffer=Rr.t(t*e*4),this.aU&&this.aU.delete(),Br.jR&&(this.aU=new Br.vs(t,e,!0)))},zi.prototype.apo=function(){this.arn(),Br.jR&&this.aU.set(this.buffer)},zi.prototype.Bv=function(t){var e,n=new Fr(0,0,this.m,this.n),i=n.BS(this.aH);if(this.arn(),!i.mN()){i.iy(n)?Br.jR?this.aU.set(null):this.buffer.fill(0):(Br.jR||(e=Rr.lk(4*i.Z()),Rr.Ik(e,i,this.buffer,n)),Br.jR&&(Br._9(this.aU,i),Br.k3(0)));Date.now();var r=Br.jR?this.aU:this.buffer;null==t&&(t=1e9);for(var a=this.root.children,s=0;s<a.length;s++){var o,l=a[s].i;l.SH()&&l.add.artb&&(o=l.Gn(),o=i.BS(o),0!=(l=l.Ha())&&(Br.jR?(Br._9(r,o),Br.k3(l),Br.k3(l)):Rr.aoW(r,n,o,l)))}this.root._B(r,n,i,this,[],t),this.cM=this.aH.clone()}},zi.prototype.rL=function(t){var e=new qi;return e.rect=new Fr(0,0,0,0),e.buffer=Rr.t(1),e.add.luni=new Pr(0,0),1!=t&&(e.add.lyid=this.zJ()),e.add.lsct=Gi.Tv,e.add.lclr=0,e.add.fxrp=new Pr(0,0),e},zi.prototype.ne=function(t){t=this.rL(t);return t.Zu("</Layer group>"),t.add.lsct=Gi.A0,t.OW=24,t},zi.prototype.iD=function(){return this.i_!=this.vJ},zi.prototype.Sy=function(t){for(;this.history.length>this.i_+1;)this.history.pop();this.vJ>this.i_&&(this.vJ=-1),t.b.id!=qr.z2&&(this.Cr=!0,this.HE.lastAppliedComp&&(delete this.HE.lastAppliedComp,this.iM=!0)),this.history.push(t),this.i_++,this.iM=!0;for(var e=$.T8()?60:30,n=0,i=this.history.length-1;0<=i;i--){var r=this.history[i];if(!r.nt&&++n==e){this.i_-=i,this.history=this.history.slice(i);break}}},zi.prototype.Ki=function(){return this.i_!=this.history.length-1?null:this.history[this.history.length-1]},zi.prototype.ZI=function(t,e,n,i){null==t&&(t=!1);var r=null!=e?[e]:this.w.slice(0);if(i){for(var a=[],s=0;s<r.length;s++){var o=(l=this.g[r[s]]).au;l.KN&&0!=o&&-1==a.indexOf(o)&&a.push(o)}if(0!=a.length)for(s=0;s<this.g.length;s++){var l,o=(l=this.g[s]).au;l.KN&&0!=o&&-1!=a.indexOf(o)&&-1==r.indexOf(s)&&r.push(s)}}for(var h=[],s=0;s<r.length;s++){for(var u=this.h5(r[s],t),f=0;f<u.length;f++)-1==h.indexOf(u[f])&&h.push(u[f]);if(n)for(var c=this.root.eu(r[s]);null!=c.parent&&null!=c.parent.parent;)c=c.parent,-1==h.indexOf(c.index)&&h.push(c.index,c.vQ)}return h},zi.prototype.sE=function(t,e,n){var i=this.ZI(!1,t,null,n);i.sort(function(t,e){return t-e});for(var r={},a=0;a<this.g.length;a++)r[this.g[a].getName()]=!0;for(var s=[],o=0;o<i.length;o++){var l,h,u=this.g[i[o]].clone();u.add.lyid=this.zJ(),u.add.lspf=0,u.UG()?(h=u.ez(this),h=zi.at6(h),this.lQ(h),u.add.SoLd.placed.v=h.id):u.add.SoLd&&(v=u.add.SoLd.placed.v,u.add.SoLd.placed.v=zi.Gs(v.slice(0,8))+v.slice(8)),u.fF(this);for(var f=u.getName(),c=f.length;48<=f.charCodeAt(c-1)&&f.charCodeAt(c-1)<=57;)c--;var p=parseInt(f.slice(c)),d=isNaN(p)?f.endsWith(" copy")?(p=1,f.slice(0,f.length-5)):(p=0,f):f.slice(0,c).endsWith(" copy ")?f.slice(0,c-6):(p=0,f);for(p++;;){if(null==r[l=d+" copy"+(1==p?"":" "+p)])break;p++}var v=-1!=i.indexOf(this.root.eu(i[o]).parent.index);"Background"==f&&1==this.g.length&&(l="Layer 1"),1==e||v||u.Zu(l),r[l]=!0,s.push(u)}return s},zi.at6=function(t){return{id:zi.Gs(t.id.slice(0,8))+t.id.slice(8),buffer:t.buffer.slice(0),rect:t.rect.clone(),q:t.q?t.q.clone():null}},zi.a3J=function(t){return{id:t,rect:new Fr,buffer:Rr.t(1),q:new qi.vi}},zi.hd=function(t,e){if(null==(e=null==e?{vmsk:new qi.g6}:e).vogk){e.vogk=[];for(var n=Rr.$.M$(e.vmsk.Y),i=0;i<n;i++)e.vogk.push(Rr.UY.lk())}return{name:t,BT:0,add:e}},zi.prototype.l7=function(t){for(var e=[],n=[],i=this,r=0,a=1;a<i.Y3.length;a++)(o=i.Y3[a]).BT=-1-a,e.push(o),-1!=i.B0.indexOf(a)&&n.push(e.length-1);2<i.Y3[0].add.vmsk.Y.length&&((o=i.Y3[0]).BT=-1,e.push(o),-1!=i.B0.indexOf(0)&&n.push(e.length-1));var s=null==i.Ae;s&&(i.Ae=[]);for(a=i.w.length-1;0<=a;a--){var o,l=i.g[i.w[a]],h=l.add.TySh;null!=l.add.vmsk&&(l.Vj||l.D5())&&((o=zi.hd('"'+l.getName()+'" Shape Path',l.add)).BT=i.w[a],e.push(o),s&&i.Ae.push(r),-1!=i.Ae.indexOf(r)&&n.push(e.length-1),r++),1!=t&&h&&h.add&&Rr.oH.pz(h.pZ)&&((o=zi.hd('"'+l.getName().slice(0,10)+'.." Text Path',h.add)).BT=1e6+i.w[a],e.push(o),n.push(e.length-1),r++)}return 0==n.length&&t&&(i.Y3[0].BT=-1,i.B0=[0],n.push(e.length),e.push(i.Y3[0])),[e,n]},zi.prototype.h5=function(t,e){var n=[],t=this.root.eu(t);return t&&t.asT(n,e),n},zi.prototype.he=function(){this.root.sW(this,new Fr(0,0,this.m,this.n),32*qr.F())},zi.prototype.Gk=function(t){for(var e=0;e<this.g.length;e++){var n=this.g[e];-1==t.indexOf(n)&&(n.St.aro(),n.G())}for(var i=0,e=0;e<t.length;e++)t[e].add.artb&&i++;this.BD(i),this.g=t.slice(0),this.Lg()},zi.prototype.Lg=function(){var t=this.g,e=t.length;this.root=new Zi;var n=this.rL(!0);n.SD="pass",n.add.lsct=Gi.pb,n.Zu("");for(var i=[this.ne(!0)],r=0;r<e;r++)i.push(t[r]);i.push(n),this.root.aeL(i,0,0),0==this.w.length&&(this.w=[e-1])},zi.prototype.aA=function(){if(1==this.w.length){for(var t=this.root.eu(this.w[0]);null!=t.parent;)t.parent.i.add.lsct=Gi.pb,t=t.parent;this.Lj=this.a84=!0}},zi.prototype.a6p=function(){this.Lg();for(var t=[this.root],e=0;0!=t.length;){var n=t.pop();if(e++,n.i.add.lsct==Gi.pb)for(var i=0;i<n.children.length;i++)t.push(n.children[i])}if(1e3<e)for(var r=this.root.children,i=0;i<r.length;i++)r[i].i.add.lsct==Gi.pb&&(r[i].i.add.lsct=Gi.jT)},zi.sN=function(t,e,n,i,r,a,s,o){o={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:i},artboard:{t:"bool",v:a},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:t}},Hght:{t:"UntF",v:{type:"#Rlt",val:e}},Rslt:{t:"UntF",v:{type:"#Rsl",val:n}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:r}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:o=null==o?"sRGB IEC61966-2.1":o}}}};return"Clr"==r&&(o.Nw.v.FlCl={t:"Objc",v:s}),{YY:"make",l5:o}},zi.agG=function(t,e){var n=0,i=0,r=72,a=e.a9Q;t.preset&&"Clipboard"==t.preset.v?(n=a.m,i=a.n):(n=t.Wdth.v.val,i=t.Hght.v.val,r=t.Rslt.v.val);a=new zi((t.Nm?t.Nm.v:ri.get([11,7]))+".psd");a.m=n,a.n=i,a.Mg=r;var s,o,r=t.Fl?t.Fl.v.Fl:"Wht";t.artboard&&t.artboard.v?((s=a.rL()).Zu("Artboard 1"),s.add.lsct=Gi.pb,s.fx(new Fr(0,0,n,i)),s.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[r]},"Clr"==r&&(s.add.artb.Clr={t:"Objc",v:Rr.I.wg(Rr.I.Na(t.FlCl.v))}),s.SD="pass",s.OW=24,(o=a.rL()).Zu("Layer 1"),a.Gk([a.ne(),o,s]),a.BD(1),a.w=[1]):(o=0,(s=a.rL()).Zu("Background"),a.Gk([s]),s.add.lspf=4,o="Clr"==r?(o=Rr.I.Na(t.FlCl.v),255<<24|Math.round(o.S)<<16|Math.round(o.z)<<8|Math.round(o.p)):{Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|(e=(255&(e=e.JH))<<16|(e>>>8&255)<<8|e>>>16)}[r],s.rect=new Fr(0,0,n,i),s.buffer=Rr.t(n*i*4),Rr.Bg(s.buffer,o)),a.buffer=Rr.t(n*i*4);t=t.profile;return!t||(t={"Adobe RGB (1998)":"icc/adobe","ProPhoto RGB":"icc/prophoto","image P3":"icc/displayp3"}[t.v])&&a.Z9(ai.Kn.get(t)),a},Vi.prototype.Us=function(t){var e=new _r,n=this.ct,i=this.Jt,r=t?this.Pd:this.V,a=t?this.ob:this.r,t=Math.round((n.m-i.m*r)/2+a.x),a=Math.round((n.n-i.n*r)/2+a.y);e.translate(-t,-a),e.scale(1/r,1/r);r=i.m/2,i=i.n/2;return e.translate(-r,-i),e.rotate(this.Zw),e.translate(r,i),e},Vi.prototype.aqO=function(t){var e=this.ct,n=this.Jt,i=Math.atan2(-t.S,t.q4),r=n.m/2,a=n.n/2;t.translate(-r,-a),t.rotate(-i),t.translate(r,a);r=1/t.eZ();t.scale(r,r);a=-t.E_,t=-t.Qq,a=Math.round(a-(e.m-n.m*r)/2),n=Math.round(t-(e.n-n.n*r)/2);Math.abs(r-Math.round(r))<1e-6&&(r=Math.round(r)),this.Zw=i,this.V=r,this.r=new Pr(a,n)},Vi.prototype.Qi=function(t,e){return this.Us().iX(new Pr(t,e))},Vi.prototype.d$=function(t,e){var n=this.Us();return n.tU(),n.iX(new Pr(t,e))},Wi.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" "),Wi.Th="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" "),Wi.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]],Wi.arL=["DrSh","IrSh","SoFi","GrFl","FrFX"],Wi.Di=["Clr"],Wi.lK="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" "),Wi.Gt=["Ptrn","Angl","Scl","Algn","phase"],Wi.I6={kL:'{"t":"Objc","v":{"classID":"RGBC","Rd":{"v":255,"t":"doub"},"Grn":{"v":0,"t":"doub"},"Bl":{"v":0,"t":"doub"}}}',afV:'{"t":"Objc","v":{"classID":"Grdn","Nm":{"t":"TEXT","v":"Two Color"               },"GrdF":{"t":"enum","v":{"GrdF":"CstS"}},"Intr":{"t":"doub","v":4096},"Clrs":{"t":"VlLs","v":[{"t":"Objc","v":{"classID":"Clrt","Type":{"t":"enum","v":{"Clry":"UsrS"}},"Lctn":{"t":"long","v":0},"Mdpn":{"t":"long","v":50},"Clr":{"t":"Objc","v":{"classID":"RGBC","Rd":{"t":"doub","v":0},"Grn":{"t":"doub","v":0},"Bl":{"t":"doub","v":0}}}},"t":"Objc"},{"v":{"classID":"Clrt","Clr":{"v":{"classID":"RGBC","Rd":{"v":255,"t":"doub"},"Grn":{"v":255,"t":"doub"},"Bl":{"v":255,"t":"doub"}},"t":"Objc"},"Type":{"v":{"Clry":"UsrS"},"t":"enum"},"Lctn":{"v":4096,"t":"long"},"Mdpn":{"v":50,"t":"long"}},"t":"Objc"}]},"Trns":{"v":[{"v":{"classID":"TrnS","Opct":{"v":{"type":"#Prc","val":100},"t":"UntF"},"Lctn":{"v":0,"t":"long"},"Mdpn":{"v":50,"t":"long"}},"t":"Objc"},{"v":{"classID":"TrnS","Opct":{"v":{"type":"#Prc","val":100},"t":"UntF"},"Lctn":{"v":4096,"t":"long"},"Mdpn":{"v":50,"t":"long"}},"t":"Objc"}],"t":"VlLs"}}}',a76:'{"t":"Objc","v":{"classID":"Grdn","Nm":{"t":"TEXT","v":"Foreground to Background"},"GrdF":{"t":"enum","v":{"GrdF":"CstS"}},"Intr":{"t":"doub","v":4096},"Clrs":{"t":"VlLs","v":[{"t":"Objc","v":{"classID":"Clrt","Type":{"t":"enum","v":{"Clry":"FrgC"}},"Lctn":{"t":"long","v":0},"Mdpn":{"t":"long","v":50}}},{"t":"Objc","v":{"classID":"Clrt","Type":{"t":"enum","v":{"Clry":"BckC"}},"Lctn":{"t":"long","v":4096},"Mdpn":{"t":"long","v":50}}}]},"Trns":{"t":"VlLs","v":[{"t":"Objc","v":{"classID":"TrnS","Opct":{"t":"UntF","v":{"type":"#Prc","val":100}},"Lctn":{"t":"long","v":0},"Mdpn":{"t":"long","v":50}}},{"t":"Objc","v":{"classID":"TrnS","Opct":{"t":"UntF","v":{"type":"#Prc","val":100}},"Lctn":{"t":"long","v":4096},"Mdpn":{"t":"long","v":50}}}]}}}',a88:'{"t":"Objc","v":{"classID":"Grdn","Nm":{"t":"TEXT","v":"Custom"                  },"GrdF":{"t":"enum","v":{"GrdF":"ClNs"}},"ShTr":{"t":"bool","v":false},"VctC":{"t":"bool","v":false},"ClrS":{"t":"enum","v":{"ClrS":"RGBC"}},"RndS":{"t":"long","v":1466092501},"Smth":{"t":"long","v":2048},"Mnm":{"t":"VlLs","v":[{"t":"long","v":0},{"t":"long","v":0},{"t":"long","v":0},{"t":"long","v":0}]},"Mxm":{"t":"VlLs","v":[{"t":"long","v":100},{"t":"long","v":100},{"t":"long","v":100},{"t":"long","v":100}]}}}',n2:'{"t":"Objc","v":{"classID":"Ptrn","Nm":{"v":"orangeslices","t":"TEXT"},"Idnt":{"v":"c7acb22a-47a6-11de-919a-bf574370eaaf","t":"TEXT"}}}'},Wi.I6.kL='"Clr": '+Wi.I6.kL,Wi.I6.I='"Grad":'+Wi.I6.afV+',"Scl":{"v":{"type":"#Prc","val":100},"t":"UntF"},"Algn":{"v":true,"t":"bool"},"Angl":{"v":{"type":"#Ang","val":90},"t":"UntF"},"Rvrs":{"v":false,"t":"bool"},"Type":{"v":{"GrdT":"Lnr"},"t":"enum"},"Ofst":{"v":{"classID":"Pnt","Hrzn":{"v":{"type":"#Prc","val":0},"t":"UntF"},"Vrtc":{"v":{"type":"#Prc","val":0},"t":"UntF"}},"t":"Objc"},"Dthr":{"v":false,"t":"bool"}',Wi.I6.n2='"Ptrn":'+Wi.I6.n2+',"Scl":{"v":{"type":"#Prc","val":100},"t":"UntF"},"Algn":{"v":true,"t":"bool"},"Angl":{"v":{"type":"#Ang","val": 0},"t":"UntF"},"phase":{"v":{"classID":"Pnt","Hrzn":{"v":0,"t":"doub"},"Vrtc":{"v":0,"t":"doub"}},"t":"Objc"}',Wi.default='{ "classID": "null", "Scl": {"t": "UntF", "v": { "type": "#Prc","val": 100} }, "masterFXSwitch": {"t": "bool","v": true} }',Wi.xs=['{"classID":"ebbl",       "enab":{"v":true,"t":"bool"},  "hglM":{"t":"enum","v":{"BlnM":"Scrn"}},"hglC":{"t":"Objc","v":{"classID":"RGBC","Rd":{"t":"doub","v":255},"Grn":{"t":"doub","v":255},"Bl":{"t":"doub","v":255}}},"hglO":{"t":"UntF","v":{"type":"#Prc","val":75}},"sdwM":{"t":"enum","v":{"BlnM":"Mltp"}},"sdwC":{"t":"Objc","v":{"classID":"RGBC","Rd":{"t":"doub","v":0},"Grn":{"t":"doub","v":0},"Bl":{"t":"doub","v":0}}},"sdwO":{"t":"UntF","v":{"type":"#Prc","val":75}},"bvlT":{"t":"enum","v":{"bvlT":"SfBL"}},"bvlS":{"t":"enum","v":{"BESl":"InrB"}},"uglg":{"t":"bool","v":true},"lagl":{"t":"UntF","v":{"type":"#Ang","val":120}},"Lald":{"t":"UntF","v":{"type":"#Ang","val":30}},"srgR":{"t":"UntF","v":{"type":"#Prc","val":100}},"blur":{"t":"UntF","v":{"type":"#Pxl","val":5}},"bvlD":{"t":"enum","v":{"BESs":"In"}},"TrnS":{"t":"Objc","v":{"classID":"ShpC","Nm":{"t":"TEXT","v":"Linear"},"Crv":{"t":"VlLs","v":[{"t":"Objc","v":{"classID":"CrPt","Hrzn":{"t":"doub","v":0},"Vrtc":{"t":"doub","v":0}}},{"t":"Objc","v":{"classID":"CrPt","Hrzn":{"t":"doub","v":255},"Vrtc":{"t":"doub","v":255}}}]}}},"antialiasGloss":{"t":"bool","v":false},"Sftn":{"t":"UntF","v":{"type":"#Pxl","val":0}},"useShape":{"t":"bool","v":false},"MpgS":{"t":"Objc","v":{"classID":"ShpC","Nm":{"t":"TEXT","v":"Linear"},"Crv":{"t":"VlLs","v":[{"t":"Objc","v":{"classID":"CrPt","Hrzn":{"t":"doub","v":0},"Vrtc":{"t":"doub","v":0}}},{"t":"Objc","v":{"classID":"CrPt","Hrzn":{"t":"doub","v":255},"Vrtc":{"t":"doub","v":255}}}]}}},"AntA":{"t":"bool","v":false},"Inpr":{"t":"UntF","v":{"type":"#Prc","val":28}},"useTexture":{"t":"bool","v":false},"InvT":{"t":"bool","v":false},"Algn":{"t":"bool","v":true},"Scl":{"t":"UntF","v":{"type":"#Prc","val":100}},"textureDepth":{"t":"UntF","v":{"type":"#Prc","val":100}},"Ptrn":{"t":"Objc","v":{"classID":"Ptrn","Nm":{"t":"TEXT","v":"orangeslices"},"Idnt":{"t":"TEXT","v":"c7acb22a-47a6-11de-919a-bf574370eaaf"}}},"phase":{"t":"Objc","v":{"classID":"Pnt","Hrzn":{"t":"doub","v":0},"Vrtc":{"t":"doub","v":0}}}}','{"classID":"FrFX",       "enab":{"v":true,"t":"bool"},  "Md":{"v":{"BlnM":"Nrml"},"t":"enum"},"Opct":{"v":{"type":"#Prc","val":100},"t":"UntF"},"Styl":{"v":{"FStl":"OutF"},"t":"enum"},"PntT":{"v":{"FrFl":"SClr"},"t":"enum"},"Sz":{"v":{"type":"#Pxl","val":3},"t":"UntF"},'+Wi.I6.kL+","+Wi.I6.I+","+Wi.I6.n2+"}",'{"classID":"IrSh",       "enab":{"v":true,"t":"bool"},  "Md":{"v":{"BlnM":"Mltp"},"t":"enum"},"Opct":{"v":{"type":"#Prc","val": 75},"t":"UntF"},"Clr":{"v":{"classID":"RGBC","Rd":{"v":0,"t":"doub"},"Grn":{"v":0,"t":"doub"},"Bl":{"v":0,"t":"doub"}},"t":"Objc"},"uglg":{"v":true,"t":"bool"},"lagl":{"v":{"type":"#Ang","val":120},"t":"UntF"},"Dstn":{"v":{"type":"#Pxl","val":5},"t":"UntF"},"Ckmt":{"v":{"type":"#Pxl","val":0},"t":"UntF"},"blur":{"v":{"type":"#Pxl","val":5},"t":"UntF"},"Nose":{"v":{"type":"#Prc","val":0},"t":"UntF"},"AntA":{"v":false,"t":"bool"},"TrnS":{"v":{"classID":"ShpC","Nm":{"v":"Linear","t":"TEXT"},"Crv":{"v":[{"v":{"classID":"CrPt","Hrzn":{"v":0,"t":"doub"},"Vrtc":{"v":0,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":255,"t":"doub"},"Vrtc":{"v":255,"t":"doub"}},"t":"Objc"}],"t":"VlLs"}},"t":"Objc"}}','{"classID":"IrGl",       "enab":{"v":true,"t":"bool"},  "Md":{"v":{"BlnM":"Scrn"},"t":"enum"},"Opct":{"v":{"type":"#Prc","val": 75},"t":"UntF"},"Clr":{"v":{"classID":"RGBC","Rd":{"v":255,"t":"doub"},"Grn":{"v":255,"t":"doub"},"Bl":{"v":189.99710083007812,"t":"doub"}},"t":"Objc"},"GlwT":{"v":{"BETE":"SfBL"},"t":"enum"},"Ckmt":{"v":{"type":"#Pxl","val":0},"t":"UntF"},"blur":{"v":{"type":"#Pxl","val":5},"t":"UntF"},"ShdN":{"v":{"type":"#Prc","val":0},"t":"UntF"},"Nose":{"v":{"type":"#Prc","val":0},"t":"UntF"},"AntA":{"v":false,"t":"bool"},"glwS":{"v":{"IGSr":"SrcE"},"t":"enum"},"TrnS":{"v":{"classID":"ShpC","Nm":{"v":"Linear","t":"TEXT"},"Crv":{"v":[{"v":{"classID":"CrPt","Hrzn":{"v":0,"t":"doub"},"Vrtc":{"v":0,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":255,"t":"doub"},"Vrtc":{"v":255,"t":"doub"}},"t":"Objc"}],"t":"VlLs"}},"t":"Objc"},"Inpr":{"v":{"type":"#Prc","val":50},"t":"UntF"}}','{"classID":"ChFX",       "enab":{"v":true,"t":"bool"},  "Md":{"v":{"BlnM":"Mltp"},"t":"enum"},"Opct":{"v":{"type":"#Prc","val": 50},"t":"UntF"},"Clr":{"v":{"classID":"RGBC","Rd":{"v":0,"t":"doub"},"Grn":{"v":0,"t":"doub"},"Bl":{"v":0,"t":"doub"}},"t":"Objc"},"AntA":{"v":false,"t":"bool"},"Invr":{"v":true,"t":"bool"},"lagl":{"v":{"type":"#Ang","val":19},"t":"UntF"},"Dstn":{"v":{"type":"#Pxl","val":11},"t":"UntF"},"blur":{"v":{"type":"#Pxl","val":14},"t":"UntF"},"MpgS":{"v":{"classID":"ShpC","Nm":{"v":"Gaussian","t":"TEXT"},"Crv":{"v":[{"v":{"classID":"CrPt","Hrzn":{"v":0,"t":"doub"},"Vrtc":{"v":0,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":32,"t":"doub"},"Vrtc":{"v":7,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":64,"t":"doub"},"Vrtc":{"v":38,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":96,"t":"doub"},"Vrtc":{"v":101,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":128,"t":"doub"},"Vrtc":{"v":166,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":159,"t":"doub"},"Vrtc":{"v":209,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":191,"t":"doub"},"Vrtc":{"v":235,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":223,"t":"doub"},"Vrtc":{"v":248,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":255,"t":"doub"},"Vrtc":{"v":255,"t":"doub"}},"t":"Objc"}],"t":"VlLs"}},"t":"Objc"}}','{"classID":"SoFi",       "enab":{"v":true,"t":"bool"},  "Md":{"v":{"BlnM":"Nrml"},"t":"enum"},"Opct":{"v":{"type":"#Prc","val":100},"t":"UntF"},'+Wi.I6.kL+"}",'{"classID":"GrFl",       "enab":{"v":true,"t":"bool"},  "Md":{"v":{"BlnM":"Nrml"},"t":"enum"},"Opct":{"v":{"type":"#Prc","val":100},"t":"UntF"},'+Wi.I6.I+"}",'{"classID":"patternFill","enab":{"v":true,"t":"bool"},  "Md":{"v":{"BlnM":"Nrml"},"t":"enum"},"Opct":{"v":{"type":"#Prc","val":100},"t":"UntF"},'+Wi.I6.n2+"}",'{"classID":"OrGl",       "enab":{"v":true,"t":"bool"},  "Md":{"v":{"BlnM":"Scrn"},"t":"enum"},"Opct":{"v":{"type":"#Prc","val": 75},"t":"UntF"},"Clr":{"v":{"classID":"RGBC","Rd":{"v":255,"t":"doub"},"Grn":{"v":255,"t":"doub"},"Bl":{"v":189.99710083007812,"t":"doub"}},"t":"Objc"},"GlwT":{"v":{"BETE":"SfBL"},"t":"enum"},"Ckmt":{"v":{"type":"#Pxl","val":0},"t":"UntF"},"blur":{"v":{"type":"#Pxl","val":5},"t":"UntF"},"Nose":{"v":{"type":"#Prc","val":0},"t":"UntF"},"ShdN":{"v":{"type":"#Prc","val":0},"t":"UntF"},"AntA":{"v":false,"t":"bool"},"TrnS":{"v":{"classID":"ShpC","Nm":{"v":"Linear","t":"TEXT"},"Crv":{"v":[{"v":{"classID":"CrPt","Hrzn":{"v":0,"t":"doub"},"Vrtc":{"v":0,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":255,"t":"doub"},"Vrtc":{"v":255,"t":"doub"}},"t":"Objc"}],"t":"VlLs"}},"t":"Objc"},"Inpr":{"v":{"type":"#Prc","val":50},"t":"UntF"}}','{"classID":"DrSh",       "enab":{"v":true,"t":"bool"},  "Md":{"v":{"BlnM":"Mltp"},"t":"enum"},"Opct":{"v":{"type":"#Prc","val": 57},"t":"UntF"},"Clr":{"v":{"classID":"RGBC","Rd":{"v":0,"t":"doub"},"Grn":{"v":0,"t":"doub"},"Bl":{"v":0,"t":"doub"}},"t":"Objc"},"uglg":{"v":true,"t":"bool"},"lagl":{"v":{"type":"#Ang","val":120},"t":"UntF"},"Dstn":{"v":{"type":"#Pxl","val":27},"t":"UntF"},"Ckmt":{"v":{"type":"#Pxl","val":0},"t":"UntF"},"blur":{"v":{"type":"#Pxl","val":13},"t":"UntF"},"Nose":{"v":{"type":"#Prc","val":0},"t":"UntF"},"AntA":{"v":false,"t":"bool"},"TrnS":{"v":{"classID":"ShpC","Nm":{"v":"Lineární","t":"TEXT"},"Crv":{"v":[{"v":{"classID":"CrPt","Hrzn":{"v":0,"t":"doub"},"Vrtc":{"v":0,"t":"doub"}},"t":"Objc"},{"v":{"classID":"CrPt","Hrzn":{"v":255,"t":"doub"},"Vrtc":{"v":255,"t":"doub"}},"t":"Objc"}],"t":"VlLs"}},"t":"Objc"},"layerConceals":{"v":true,"t":"bool"}}'],Wi.I={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]},Wi.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],Hn:["SClr","GrFl","Ptrn"],a0O:[[13,0],[12,37],[12,62]]},Wi.Ay={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],asM:["SrcC","SrcE"],a9k:[[19,5,1],[12,69]]},Wi.QK={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],acj:["SfBL","PrBL","Slmt"],aoU:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]},Wi.XF={Sl:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],Qb:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],xP:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:4.38}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse('{"classID":"solidColorLayer",'+Wi.I6.kL+"}")},strokeStyleResolution:{t:"doub",v:72}}},Wi.iP=[{classID:"null",Clr:JSON.parse(Wi.xs[5]).Clr},{classID:"null",Grad:JSON.parse(Wi.xs[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(Wi.xs[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];var Xi={};function Yi(){}function Ki(t,e){this.aq8=t,this.Zw=null==e?0:e,this.dir=0}Xi.Xb=function(t,e){function n(t,e){if(null==t)return null;var n,e=t[e].v;return 0!=e.length&&((n=e[0].v).enab.v||(n=null)),n}var i=e.SoCo,e=e.GdFl,r=n(t,"solidFillMulti"),a=n(t,"gradientFillMulti");if(null==r&&null==a)return[i,e];var s=Xi.ahi;if(i&&r&&null==a){t=JSON.parse(JSON.stringify(i));return t.Clr.v=s(r.Clr.v,i.Clr.v,r),[t,null]}if(e&&r&&null==a){for(var o=(h=JSON.parse(JSON.stringify(e))).Grad.v.Clrs.v,l=0;l<o.length;l++)(u=o[l].v.Clr).v=s(r.Clr.v,u.v,r);return[null,h]}if(i&&a){for(var h,u,o=(h=JSON.parse(JSON.stringify(a))).Grad.v.Clrs.v,l=0;l<o.length;l++)(u=o[l].v.Clr).v=s(u.v,i.Clr.v,a);return[null,h]}return[r,a]},Xi.aa3={GM:Rr.t(4),cl:Rr.t(4),p:new Fr(0,0,1,1)},Xi.ahi=function(t,e,n){var i=Ji.zK(n.Md.v.BlnM),r=n.Opct.v.val/100,n=Xi.aa3;return t=Rr.I.Na(t),e=Rr.I.Na(e),n.GM[0]=t.p,n.GM[1]=t.z,n.GM[2]=t.S,n.GM[3]=255,n.cl[0]=e.p,n.cl[1]=e.z,n.cl[2]=e.S,n.cl[3]=255,Rr.a.bW(i,n.GM,n.p,n.cl,n.p,n.p,r),{classID:"RGBC",Rd:{t:"doub",v:n.cl[0]},Grn:{t:"doub",v:n.cl[1]},Bl:{t:"doub",v:n.cl[2]}}},Xi.ach=function(t,e,n){var i=t;t=t.slice(0);var r=Ji.sp[Ji.q6.indexOf(e.Md.v.BlnM)],a=Rr.I.Na(e.Clr.v),s=4278190080|Math.round(a.S)<<16|Math.round(a.z)<<8|Math.round(a.p),a=Rr.t(4*n.Z());Rr.Bg(a,s),Rr.a.bW(r,a,n,t,n,n,e.Opct.v.val/100);for(var o=0;o<t.length;o+=4)t[o+3]=i[o+3];return t},Xi.oI=function(t,e){for(var n=["Sz","blur","Sftn","Dstn"],i=0;i<Wi.order.length;i++)for(var r=Wi.order[i],a=t[Wi.Th[i]].v,s=0;s<a.length;s++){for(var o=a[s].v,l=0;l<n.length;l++){var h,u,f=o[n[l]];f&&(u=h=f.v.val,u=Math.max(0==h?0:1,u*e),"ChFX"==r&&(u=Math.min(u,250)),"ebbl"==r&&("blur"==n[l]&&(u=Math.min(u,250)),"Sftn"==n[l]&&(u=Math.min(u,16))),f.v.val=Math.round(u))}"ebbl"!=r&&"patternFill"!=r&&"FrFX"!=r||o.Ptrn&&o.Scl&&(o.Scl.v.val=Math.max(1,Math.min(1e3,o.Scl.v.val*e)))}},Xi.a6k=function(t,e,n){for(var i=new Fr(-.5,-.5,1,1),r=0;r<Wi.order.length;r++)for(var a=Wi.order[r],s=t[Wi.Th[r]].v,o=0;o<s.length;o++){var l,h,u,f,c=s[o].v;c.enab.v&&(f=c.blur?c.blur.v.val+1:0,l=c.Ckmt?c.Ckmt.v.val/100:0,Math.round(f*l),("DrSh"==a||"IrSh"==a&&n)&&((u=new Fr(-.5,-.5,1,1)).bA(f,f),Xi.FI(u,c,e,0)),("OrGl"==a||"IrGl"==a&&n)&&(u=new Fr(-.5,-.5,1,1)).bA(f,f),"FrFX"==a&&(h=(l=Xi.Zp(c))[1],n&&(h=Math.max(l[0],h)),(u=new Fr(-.5,-.5,1,1)).bA(Math.ceil(h),Math.ceil(h))),"ebbl"==a&&(f=c.blur.v.val,"Embs"!=(h=c.bvlS.v.BESl)&&"PlEb"!=h||(f/=2),c.bvlT.v.bvlT,u=new Fr(-(h=Math.round(f))-1,-h-1,2*h+2,2*h+2)),n&&"ChFX"==a&&((u=new Fr(-.5,-.5,1,1)).bA(f,f),f=u.clone(),Xi.FI(u,c,e,0),Xi.FI(f,c,e,Math.PI),u=u.hq(f)),u&&(i=i.hq(u)))}return i.x!=Math.ceil(i.x)&&(i.x=Math.ceil(i.x),--i.m),i.y!=Math.ceil(i.y)&&(i.y=Math.ceil(i.y),--i.n),i.m=Math.floor(i.m),i.n=Math.floor(i.n),i},Xi.Zp=function(t){var e=0,n=0,i=t.Styl.v.FStl,t=t.Sz.v.val;return"OutF"==i&&(n=t),"InsF"==i&&(e=t),[e="CtrF"==i?n=t/2:e,n]},Xi.aou=function(t){Br.jR&&null==t.rP&&(t.rP=new Br.vs(t.HI.m,t.HI.n),t.rP.set(t.L0),delete t.L0,t.Qd&&(t.ru=new Br.bi(t.HI.m,t.HI.n),t.ru.set(t.Qd),delete t.Qd),t.jj&&(t.$m=new Br.bi(t.HI.m,t.HI.n),t.$m.set(t.jj),delete t.jj))},Xi.aj_=function(t){t.rP&&t.rP.delete(),t.ru&&t.ru.delete(),t.$m&&t.$m.delete()},Xi.a4N=function(t){if(null!=t.all)for(var e=0;e<t.all.length;e++)Xi.aj_(t.all[e])},Xi.aaV=function(t,e,n,i,r,a){for(var s=Xi.Ux(n,i,t,e,r,a),o=0;o<s.all.length;o++)Xi.aou(s.all[o]);return s},Xi.av9=function(t){for(var e=0;e<Wi.order.length;e++)for(var n=Wi.order[e],i=t[Wi.Th[e]].v,r=0;r<i.length;r++)if(i[r].v.enab.v&&-1==["patternFill","GrFl","SoFi"].indexOf(n))return!0;return!1},Xi.Ux=function(t,e,n,i,r,a){null==a&&(a=i);for(var s=0,o=0,l=0;l<Wi.order.length;l++)for(var h=Wi.order[l],u=t[m=Wi.Th[l]].v,f=0;f<u.length;f++){var c=u[f].v;"DrSh"==h&&c.enab.v&&0<c.Ckmt.v.val&&0<c.blur.v.val&&(s=Math.max(s,Math.ceil(c.Ckmt.v.val*c.blur.v.val/100))),"OrGl"==h&&c.enab.v&&0<c.Ckmt.v.val&&0<c.blur.v.val&&"SfBL"==c.GlwT.v.BETE&&(s=Math.max(s,Math.ceil(c.Ckmt.v.val*c.blur.v.val/100))),"OrGl"==h&&c.enab.v&&0<c.blur.v.val&&"PrBL"==c.GlwT.v.BETE&&(s=Math.max(s,c.blur.v.val)),"FrFX"==h&&c.enab.v&&0<c.Sz.v.val&&("OutF"==c.Styl.v.FStl&&(s=Math.max(s,c.Sz.v.val)),"CtrF"==c.Styl.v.FStl&&(s=Math.max(s,Math.ceil(c.Sz.v.val/2))),o=Math.max(o,Xi.Zp(c)[1]))}for(var p=new Xi.UA(n,i,s,Xi.av9(t)),d=-i.x,v=-i.y,g={type:{},all:[]},y=0;y<Wi.order.length;y++){var h=Wi.order[y],m=Wi.Th[y];g.type[h]=[];for(var w=t[m].v.length-1;0<=w;w--){var b=t[m].v[w].v;if(b.enab.v){var M=b.blur?b.blur.v.val:0,S=b.Ckmt?b.Ckmt.v.val/100:0,C=M*S;if("DrSh"==h){var x=(D=p.Cw(C,M-C,!0)).wk;(k=D.Ni).offset(d,v),Xi.fj(x,b,!1),Xi.FI(k,b,r,0);var L=Rr.t(4*k.Z());Xi.PL(L,b.Clr.v),Rr.al(x,L,3),kt={L0:L,HI:k,a8d:b.layerConceals.v}}else if("IrSh"==h){var D=p.Cw(C,M-C,!1);Xi.FI(D.Ni,b,r,0);var k=p.rect().clone();(x=Rr.t(k.Z())).fill(255),Rr.rR(D.wk,D.Ni,x,k),Xi.fj(x,b,!0);var L=Rr.t(4*k.Z());Xi.PL(L,b.Clr.v),Rr.al(x,L,3),k.offset(d,v),kt={L0:L,HI:k}}else if("GrFl"==h){var L=Rr.t(4*p.rect().Z());Xi.hX(b,L,p.rect(),r,null,a),(k=p.rect().clone()).offset(d,v),kt={L0:L,HI:k}}else if("SoFi"==h){L=Rr.t(4*p.wk().length);Xi.PL(L,b.Clr.v),(k=p.rect().clone()).offset(d,v),kt={L0:L,HI:k}}else if("ebbl"==h){0;Date.now();var T=b.bvlS.v.BESl;if("strokeEmboss"==T){var A=t.frameFXMulti.v;if(0==A.length)continue;if(!(A=A[0].v).enab.v)continue;var E=A.Styl.v.FStl;"OutF"==E&&(T="OtrB"),"CtrF"==E&&(T="Embs"),"InsF"==E&&(T="InrB")}0==(M=b.blur.v.val)&&(M=.7),"Embs"!=T&&"PlEb"!=T||(M/=2);var O="SfBL"!=b.bvlT.v.bvlT?M:.45*M,N=Math.round(M),I=p.rect().clone(),A=I.clone();A.bA(N,N);var P=(ct=A.m)*(pt=A.n),E=Rr.t(P);Rr.rR(p.wk(),I,E,A);var F=new Float64Array(P),_=new Float64Array(P);Rr.style.In(E,F,ct,pt),Rr.tU(E),Rr.style.In(E,_,ct,pt);for(l=0;l<P;l++)_[l]=_[l]-F[l];for(l=0;l<P;l++){var B=_[l];B<-O?_[l]=-O:O<B&&(_[l]=O)}0,"SfBL"==b.bvlT.v.bvlT&&(j=Math.pow(.21*M,1.22),j=Math.max(j,2),j=Rr.VF.yz(j,2),Rr.VF.$K(_,F,A,j[0]>>>1),Rr.VF.$K(F,_,A,j[1]>>>1));var R=_,U=R.slice(0);if(b.useShape.v){var j=Math.min(100,b.Inpr.v.val+1)/100;"OtrB"!=T&&"InrB"!=T&&(j=1);var H=Rr.Cj.D7(b.MpgS.v.Crv.v,2e3),J=Math.round(2e3/j);H=Rr.Cj.aeD(H,J,"InrB"==T);for(var q=.5/O,l=0;l<P;l++){var G=R[l];R[l]=-O+2*O*H[~~(.99999*(G+O)*q*(J-1))]}0}if(b.useTexture.v){var Z=Rr.t(ct*pt*4);Xi.mm(b,Z,A,r.add.Patt,e);var z=Rr.t(ct*pt);Rr.JT(Z,z);var V=Rr.t(ct*pt);Rr.VF.TX(z,V,A,1);var z=V,W=M*b.textureDepth.v.val*.01*(1/255);b.InvT.v&&(W=-W);for(l=0;l<P;l++)R[l]+=-W*z[l];0}for(var X=("SfBL"==b.bvlT.v.bvlT?1:.5)*("In"==b.bvlD.v.BESs?1:-1)*b.srgR.v.val/100,l=0;l<P;l++)R[l]*=X;0;Z=b.uglg&&b.uglg.v?r.GT():b.lagl.v.val;Z*=Math.PI/180;V=b.uglg&&b.uglg.v?r.e5():b.Lald.v.val;V*=Math.PI/180;for(var Y=Math.cos(Z)*Math.cos(V),K=-Math.sin(Z)*Math.cos(V),Q=Math.sin(V),$=new Float64Array(P),tt=new Float64Array(P),et="PlEb"==T,nt=0;nt<pt;nt++)for(var it=0;it<ct;it++){var rt,at,st,ot,l=nt*ct+it,lt=0,ht=0,ut=1;0!=nt&&nt!=pt-1&&0!=it&&it!=ct-1?(rt=R[l-ct-1],at=R[l-ct+1],st=R[l+ct-1],ot=R[l+ct+1],lt=-.125*(at+2*R[l+1]+ot-(rt+2*R[l-1]+st)),ht=-.125*(st+2*R[l+ct]+ot-(rt+2*R[l-ct]+at))):(ft=R[l],ht=-(0==nt?R[l+ct]-ft:nt==pt-1?ft-R[l-ct]:.5*(R[l+ct]-R[l-ct])),lt=-(0==it?R[l+1]-ft:it==ct-1?ft-R[l-1]:.5*(R[l+1]-R[l-1])));var ft=1/Math.sqrt(lt*lt+ht*ht+1),ft=(lt*=ft)*Y+(ht*=ft)*K+(ut*=ft)*Q,ut=et?-lt*Y-ht*K+ut*Q:ft;0<ft&&($[l]=ft),0<ut&&(tt[l]=ut)}0,0!=b.Sftn.v.val&&(Rr.VF.OT($,F,A,.43*b.Sftn.v.val),Tt=F,F=$,$=Tt,et?(Rr.VF.OT(tt,F,A,.43*b.Sftn.v.val),Tt=F,F=tt,tt=Tt):Rr.VO($,tt));for(H=Rr.Cj.D7(b.TrnS.v.Crv.v,1024),l=0;l<P;l++)$[l]=H[~~(1024*$[l])],tt[l]=H[~~(1024*tt[l])];0;var ct=Math.round(ct),pt=Math.round(pt),dt=Rr.t(ct*pt*4);Xi.PL(dt,b.hglC.v);var vt=Rr.t(ct*pt*4);Xi.PL(vt,b.sdwC.v);var gt=Rr.t(ct*pt*4);Xi.PL(gt,b.hglC.v);var yt=Rr.t(ct*pt*4);Xi.PL(yt,b.sdwC.v);for(var mt=1/Q,wt=1/(1-Q),q=1/O,bt=new Float64Array(1e3),l=0;l<1e3;l++)bt[l]=Math.pow(.001*l,.2);for(nt=0;nt<pt;nt++)for(it=0;it<ct;it++){var Mt=4*(l=nt*ct+it)+3,St=$[l],Ct=tt[l],xt=Math.max(0,Math.min(.9999,(U[l]+.993*O)*q)),Lt=(xt=bt[Math.floor(1e3*xt)])*(1-Math.min(1,St*mt)),Dt=xt*(1-Math.min(1,(1-St)*wt)),St=xt*(1-Math.min(1,Ct*mt)),Ct=xt*(1-Math.min(1,(1-Ct)*wt));vt[Mt]=Math.round(255*Lt),dt[Mt]=Math.round(255*Dt),yt[Mt]=Math.round(255*St),gt[Mt]=Math.round(255*Ct)}0,(A=p.rect().clone()).bA(N,N),A.offset(d,v);var kt={a2p:"strokeEmboss"==b.bvlS.v.BESl},Z=Ji.zK(b.hglM.v.BlnM),V=b.hglO.v.val/100,Tt=Ji.zK(b.sdwM.v.BlnM),N=b.sdwO.v.val/100;-1!=["InrB","Embs","PlEb"].indexOf(T)&&(kt.Nu={L0:dt,HI:A,pW:Z,WS:V},kt.rg={L0:vt,HI:A,pW:Tt,WS:N}),-1!=["OtrB","Embs","PlEb"].indexOf(T)&&(kt.HL={L0:gt,HI:A,pW:Z,WS:V},kt.JU={L0:yt,HI:A,pW:Tt,WS:N})}else if("patternFill"==h){var At=p.rect(),L=Rr.t(4*At.Z());Xi.mm(b,L,At,r.add.Patt,e),(k=At.clone()).offset(d,v),kt={L0:L,HI:k}}else if("ChFX"==h){L=Rr.t(4*p.wk().length);Xi.PL(L,b.Clr.v);var M=b.blur.v.val,Et=p.rect().clone();Et.bA(M,M);var At=Rr.t(Et.Z()),Ot=Rr.t(Et.Z());Rr.rR(p.wk(),p.rect(),Ot,Et),Rr.VF.uc(Ot,At,Et,.43*M);var Ot=Rr.Cj.wZ(b.MpgS.v.Crv.v,256,!0);Rr.Gz(At,Ot);var Nt=Rr.t(p.wk().length),It=Rr.t(p.wk().length),Ot=p.rect().clone();Xi.FI(Ot,b,r,0),Rr.rR(At,Et,Nt,Ot),Ot=p.rect().clone(),Xi.FI(Ot,b,r,Math.PI),Rr.rR(At,Et,It,Ot);for(var Pt=Nt.length,l=0;l<Pt;l++)L[4*l+3]=Math.abs(Nt[l]-It[l]);if(b.Invr.v)for(l=0;l<Pt;l++)L[4*l+3]=255-L[4*l+3];(k=p.rect().clone()).offset(d,v),kt={L0:L,HI:k}}else if("OrGl"==h){var x=(D="SfBL"==b.GlwT.v.BETE?p.Cw(C,M-C,!0):p.afN(M,S,!0)).wk,k=D.Ni,Ft=x.slice(0);Xi.a5G(x,b);L=Rr.t(4*k.Z());if(null==b.Grad)Xi.PL(L,b.Clr.v),Xi.fj(x,b,!1);else{Xi.fj(x,b,null);var _t={fV:x,Rb:255,Il:0,Ix:k};Xi.hX(b,L,k,r,_t);b.Nose.v.val;for(var Bt=k.m,l=0;l<Ft.length;l++){var Rt=255,Ut=Ft[l];Ut<32&&(Ut=.2*(Ut+Ft[l-1]+Ft[l+1]+Ft[l-Bt]+Ft[l+Bt])-1,Rt=Math.min(255,Math.round(8*Math.max(0,Ut)))),x[l]=Rt}Xi.aaG(x,b)}Rr.al(x,L,3),k.offset(d,v),kt={L0:L,HI:k}}else"IrGl"==h?(x=(D="SfBL"==b.GlwT.v.BETE?p.Cw(C,M-C,!1):p.afN(M,S,!1)).wk,k=D.Ni,Xi.a5G(x,b),"SrcC"==b.glwS.v.IGSr&&Rr.tU(x),L=Rr.t(4*k.Z()),null==b.Grad?(Xi.PL(L,b.Clr.v),Xi.fj(x,b,!0)):(Xi.fj(x,b,null),Xi.hX(b,L,k,r,_t={fV:x,Rb:255,Il:0,Ix:k}),x.fill(255),Xi.aaG(x,b)),Rr.al(x,L,3),k.offset(d,v),kt={L0:L,HI:k}):"FrFX"==h&&(Ot=(Et=Xi.Zp(b))[0],C=Et[1],S=M=null,(k=p.rect().clone()).bA(Math.ceil(o),Math.ceil(o)),0<C&&(S=(D=p.Cw(C,0,!0)).wk).length<k.Z()&&(S=Rr.t(k.Z()),Rr.rR(D.wk,D.Ni,S,k)),0<Ot&&(D=p.Cw(Ot,0,!1),(M=Rr.t(k.Z())).fill(255),Rr.rR(D.wk,D.Ni,M,k)),k.offset(d,v),L=Rr.t(4*k.Z()),"SClr"==(Et=b.PntT.v.FrFl)&&Xi.PL(L,b.Clr.v),"GrFl"==Et&&Xi.hX(b,L,k,r,p.alY(Ot,C)),"Ptrn"==Et&&Xi.mm(b,L,k,r.add.Patt,e),kt={L0:L,HI:k,jj:S,Qd:M});g.type[h].push(kt),"ebbl"==h?(kt.Nu&&g.all.push(kt.Nu,kt.rg),kt.HL&&g.all.push(kt.HL,kt.JU)):(kt.pW=Ji.zK(b.Md.v.BlnM),kt.WS=b.Opct.v.val/100,g.all.push(kt))}}}return g},Xi.JX=function(t){var e=1/Math.sqrt(t.x*t.x+t.y*t.y+t.yI*t.yI);t.x*=e,t.y*=e,t.yI*=e},Xi.a6E=function(t,e){return{x:t.y*e.yI-t.yI*e.y,y:t.yI*e.x-t.x*e.yI,yI:t.x*e.y-t.y*e.x}},Xi.a8t=function(t,e){return t.x*e.x+t.y*e.y+t.yI*e.yI},Xi.aaG=function(t,e){var n=e.Nose.v.val/100;if(0<n)for(var i=0;i<t.length;i++){var r=t[i],r=Math.min(510-(1+n)*Rr.style.k0(i),r);t[i]=r}},Xi.FC=function(t){for(var e=Xi.jQ(),n=t.i$,i=!1,r=0;r<32;r+=8)n[r]+n[r+1]+n[r+4]+n[r+5]==0&&n[r+2]+n[r+3]+n[r+6]+n[r+7]==1020||(i=!0);if(i)for(n=n.slice(0),r=0;r<40;r+=4){var a=n[r]/255,s=n[r+1]/255,o=n[r+2]/255,l=n[r+3]/255;n[r]=a-.001,n[r+1]=a==s?1e6:1/(s-a),n[r+2]=o==l?-1e6:1/(o-l),n[r+3]=.001+l}var h=null!=t.add.iOpa?t.add.iOpa/255:e.fill,u=t.add.vstk;return{fill:h=!(!u||u.fillEnabled.v||u.strokeEnabled.v&&0!=u.strokeStyleLineWidth.v.val)?0:h,J_:i?n:null,kg:null!=t.add.brst?t.add.brst:e.kg,a3o:null!=t.add.knko?t.add.knko:e.a3o,style:!1,fT:!1}},Xi.jQ=function(){return{fill:1,J_:null,kg:[1,1,1],a3o:0,style:!1,fT:!1}},Xi.B8=function(t,e){if(null==e)return null;for(var n=t.Idnt.v,i=t.Nm.v,r=0;r<e.length;r++)if(e[r].id==n)return e[r];for(r=0;r<e.length;r++)if(e[r].name==i)return e[r];return null},Xi.apO=function(t,e,n){for(var i=["patternFillMulti","ebblMulti","frameFXMulti"],r=0;r<i.length;r++)for(var a=t.v[i[r]].v,s=0;s<a.length;s++)a[s].v.Ptrn&&e.uo(Xi.B8(a[s].v.Ptrn.v,n))},Xi.aam=function(t,e,n){for(var i=["patternFillMulti","ebblMulti","frameFXMulti"],r=0;r<i.length;r++)for(var a,s,o=t.v[i[r]].v,l=0;l<o.length;l++)o[l].v.Ptrn&&(s=o[l].v.Ptrn.v,a=Xi.B8(s,n),s=Xi.B8(s,e.add.Patt),null==a&&s&&n.push(s))},Xi.mm=function(t,e,n,i,r){var a=Xi.B8(t.Ptrn.v,i);if(null!=a&&!n.mN()){var s=a.ax,o=s[0],l=s[1],h=0;Rr.bb(s);for(var u=(t.Scl?t.Scl.v.val:100)/100;(u<.3||.5==u)&&s[h+2];)u*=l.m/s[h+3].m,o=s[h+=2],l=s[h+1];var f=Rr.scale.mm(o,l.m,l.n),c=t.phase?t.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},i=t.Angl?t.Angl.v.val:0,a=-n.x+c.Hrzn.v-1,c=-n.y+c.Vrtc.v-1;null!=t.Algn&&!t.Algn.v||(a+=r.x,c+=r.y),Rr.scale.v0(f,e,n.m,n.n,u,u,a+1,c+1,i*Math.PI/180)}},Xi.hX=function(t,e,n,i,r,a){null==a&&(a=n);var s=t.Type?t.Type.v.GrdT:"shapeburst",o=t.Algn&&t.Algn.v?a:new Fr(0,0,i.m,i.n),l=t.Angl?Rr.I.mu(t,o):[new Pr(0,0),new Pr(100,0)],h=l[0].x,u=l[0].y,f=l[1].x-h,a=l[1].y-u,i=Math.sqrt(f*f+a*a),o=!!t.Rvrs&&t.Rvrs.v,l=!!t.Dthr&&t.Dthr.v;Rr.I.Sq(t.Grad.v,e,n,[f*(i=1/(2*i*i)),a*i,-a*i,f*i],h,u,o,Wi.I.types.indexOf(s),0,0,r,l)},Xi.a2O=function(t,e,n){for(var i=0;i<t.all.length;i++){var r=t.all[i];r.Yc=r.HI.clone(),r.Yc.offset(e,n)}},Xi.acU=function(t,e,n,i,r,a){var s=Br.jR?Xi.atK:Xi.a0_;Xi.a2O(e,n.x,n.y);for(var o=e.type.DrSh,l=0;l<o.length;l++)o[l].a8d||s(o[l],i,r,a)},Xi.abw=function(t,e,n,i,r,a,s,o,l,h){var u=n,f=Br.jR?Xi.atK:Xi.a0_,c=Br.jR?Br.a.Rk:Rr.a.hM;g=e.type.DrSh;for(var p=0;p<g.length;p++)g[p].a8d&&f(g[p],i,r,a);g=e.type.OrGl;for(p=0;p<g.length;p++)f(g[p],i,r,a);for(var d="patternFill GrFl SoFi ChFX IrGl IrSh".split(" "),v=0;v<d.length;v++)for(var g=e.type[d[v]],p=0;p<g.length;p++)f(g[p],s,u,a);var y=e.type.ebbl[0],m=null!=y&&y.a2p;g=e.type.FrFX;for(p=0;p<g.length;p++){var w=g[p];Zi.GR.rR(o,h,l,h,a),f(w,l,h,a),m&&p==g.length-1&&(y.JU&&f(y.JU,l,h,a),y.HL&&f(y.HL,l,h,a),y.rg&&f(y.rg,l,h,a),y.Nu&&f(y.Nu,l,h,a)),(w.Qd||w.ru)&&c(l,h,s,u,Br.jR?w.ru:w.Qd,w.Yc,0,a,1),(w.jj||w.$m)&&c(l,h,i,r,Br.jR?w.$m:w.jj,w.Yc,0,a,1)}m||null==y||(y.JU&&f(y.JU,i,r,a),y.HL&&f(y.HL,i,r,a),y.rg&&f(y.rg,s,u,a),y.Nu&&f(y.Nu,s,u,a))},Xi.a0_=function(t,e,n,i){var r=Xi.jQ();r.fill=t.WS,r.style=!0,Rr.a.bW(t.pW,t.L0,t.Yc,e,n,i,1,r)},Xi.atK=function(t,e,n,i){var r=Xi.jQ();r.fill=t.WS,r.style=!0,Br.a.fy(t.pW,t.rP,t.Yc,e,n,i,1,r)},Xi.a5G=function(t,e){for(var e=1-e.Inpr.v.val/100,n=1+Math.tan(e*(Math.PI/2)),i=t.length,r=0;r<i;r++)t[r]=Math.min(255,Math.round(t[r]*n))},Xi.fj=function(t,e,n){var i=e.blur.v.val;Math.round(i*(e.Ckmt.v.val/100))<i&&(i=Rr.Cj.wZ(e.TrnS.v.Crv.v,256,!0),Rr.Gz(t,i)),null!=n&&0<e.Nose.v.val&&Rr.style.E8(t,e.Nose.v.val/100,n)},Xi.PL=function(t,e,n){null==n&&(n=255);e=Rr.I.Na(e),e=n<<24|e.S<<16|e.z<<8|e.p;new Uint32Array(t.buffer).fill(e)},Xi.FI=function(t,e,n,i){n=(n=e.uglg&&e.uglg.v?n.GT():e.lagl.v.val)*Math.PI/180+i,i=Math.cos(n)*e.Dstn.v.val,e=Math.sin(n)*e.Dstn.v.val;t.x-=Math.round(i),t.y+=Math.round(e)},Xi.n8=function(t){if(null==t)return null;if(0==(e=t.frameFXMulti.v).length)return null;var e=e[0].v,t=JSON.parse(JSON.stringify(Wi.XF.default));return Xi.akh(e,t),t},Xi.akh=function(t,e){for(var n=Wi.stroke.Hn.indexOf(t.PntT.v.FrFl),i=[Wi.Di,Wi.lK,Wi.Gt][n],r=e.strokeStyleContent.v={classID:Wi.XF.xP[n]},a=0;a<i.length;a++)r[i[a]]=t[i[a]];e.strokeEnabled=t.enab,e.strokeStyleLineWidth=t.Sz,e.strokeStyleLineAlignment.v.strokeStyleLineAlignment=Wi.XF.Qb[Wi.stroke.types.indexOf(t.Styl.v.FStl)],e.strokeStyleOpacity=t.Opct,e.strokeStyleBlendMode=t.Md},Xi.iO=function(t,e){for(var n=[],i=0;i<t.length;i++)n.push({t:"UntF",v:{type:"#Nne",val:Math.round(t[i]*e)}});return n},Xi.UA=function(t,e,n,i){this.Un=e.clone(),this.alK=e.clone(),this.alK.bA(n,n),i?(this.Un.bA(1,1),this.gE=Rr.t(this.Un.Z()),Rr.rR(t,e,this.gE,this.Un)):this.gE=t,this.z5=null,this.QY=null,this.Jy=null},Xi.UA.prototype.wk=function(){return this.gE},Xi.UA.prototype.rect=function(){return this.Un},Xi.UA.prototype.fM=function(){return this.alK},Xi.UA.prototype.lr=function(){return this.z5||(this.z5=this.wk().slice(0),Rr.tU(this.z5),this.z5)},Xi.UA.prototype.$I=function(){return this.QY||(this.QY=new Float64Array(this.rect().Z()),Rr.style.In(this.lr(),this.QY,this.rect().m,this.rect().n),this.QY)},Xi.UA.prototype.rj=function(){if(this.Jy)return this.Jy;var t=this.fM(),e=Rr.t(t.Z());return Rr.rR(this.wk(),this.rect(),e,t),this.Jy=new Float64Array(t.Z()),Rr.style.In(e,this.Jy,t.m,t.n),this.Jy},Xi.UA.prototype.alY=function(t,e){var n={Rb:-e,Il:t,Ix:null,fV:null};if(0==e)return n.Ix=this.rect(),n.fV=this.$I(),n;var i=this.rj().slice(0),r=this.fM();n.Ix=r,n.fV=i;for(var a=0;a<i.length;a++)i[a]=-i[a];if(0==t)return n;for(var s=this.$I(),o=this.rect(),l=0;l<o.n;l++)for(var h=0;h<o.m;h++){var u=l*o.m+h;i[(l+o.y-r.y)*r.m+h+o.x-r.x]+=s[u]}return n},Xi.UA.prototype.Cw=function(t,e,n){var i=Math.ceil(t+e),r={Ni:this.rect().clone(),wk:null};return r.Ni.bA(i,i),r.wk=Rr.t(r.Ni.Z()),0==t&&0==e?Rr.VO(n?this.wk():this.lr(),r.wk):(i=Rr.t(r.Ni.Z()),Rr.rR(this.wk(),this.rect(),i,r.Ni),n||Rr.tU(i),0!=t&&(n?Rr.style.Kz(i,r.Ni,this.rj(),this.fM(),t):Rr.style.Kz(i,r.Ni,this.$I(),this.rect(),t)),0!=e?Rr.VF.uc(i,r.wk,r.Ni,Math.max(1,.43*e)):r.wk=i),r},Xi.UA.prototype.afN=function(t,e,n){var i={Ni:this.rect().clone(),wk:null};n&&i.Ni.bA(t,t),i.wk=Rr.t(i.Ni.Z());i.Ni.m,i.Ni.n;for(var r=n?this.rj():this.$I(),a=n?this.fM():this.rect(),s=i.Ni,n=s.BS(a),o=n.m,l=n.n,h=n.x-s.x,u=n.y-s.y,f=n.x-a.x,c=n.y-a.y,p=1-2*e,d=0;d<l;d++)for(var v=0;v<o;v++){var g=r[(d+c)*a.m+v+f];i.wk[(d+u)*s.m+v+h]=Math.max(0,Math.min(255,255-(g/t+p)/(1+p)*255))}return i},Xi.akC=function(t,e,n){var i=t.Lefx,r=t.blendOptions;if(i?(t=e.add.lmfx,null==n&&(n=t?t.Scl.v.val:100),e.add.lmfx=JSON.parse(JSON.stringify(i.v)),null==e.add.lmfx.Scl&&(e.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}}),Xi.oI(e.add.lmfx,n/e.add.lmfx.Scl.v.val),t&&(e.add.lmfx.Scl.v.val=t.Scl.v.val)):delete e.add.lmfx,r&&((r=r.v).Md&&(e.SD=Ji.zK(r.Md.v.BlnM)),r.Opct&&(e.opacity=Math.round(255*r.Opct.v.val/100)),r.fillOpacity&&(e.add.iOpa=Math.round(255*r.fillOpacity.v.val/100)),r.Blnd)){for(var a=[],s=0;s<10;s++)a.push(0,0,255,255);for(var o=r.Blnd.v,l="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),s=0;s<o.length;s++)for(var h=o[s].v,u=8*["Gry","Rd","Grn","Bl"].indexOf(h.Chnl.v[0].v.enum),f=0;f<8;f++)a[u+f]=h[l[f]].v;e.i$=a}},Xi.akB=function(t){for(var e="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),n=[],i=t.i$,r=0;r<4;r++){var a=8*r;if(i[a]+i[1+a]+i[4+a]+i[5+a]!=0||i[2+a]+i[3+a]+i[6+a]+i[7+a]!=1020){var s={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][r]}}]}}};n.push(s);for(var o=0;o<8;o++)s.v[e[o]]={t:"long",v:i[8*r+o]}}}var l={classID:"blendOptions"};"norm"!=t.SD&&(l.Md={t:"enum",v:{BlnM:Ji.S8(t.SD)}}),255!=t.opacity&&(l.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(100*t.opacity/255)}}),null!=t.add.iOpa&&(l.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(100*t.add.iOpa/255)}}),0!=n.length&&(l.Blnd={t:"VlLs",v:n});l={Gf:{classID:"null",Idnt:{t:"TEXT",v:zi.Gs()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},yu:{classID:"Styl",blendOptions:{t:"Objc",v:l}}},t=t.add.lmfx;return t&&(l.yu.Lefx={t:"Objc",v:t}),l},Yi.rN=function(t){return JSON.parse(JSON.stringify(t))},Yi.wP=function(t){var e=Yi.rN(Yi.aeF),n=e.Brsh.v;return null!=t&&(delete n.Hrdn,n.classID="sampledBrush",n.Nm={t:"TEXT",v:"layer.png"},n.sampledData={t:"TEXT",v:t}),e},Yi.aeF={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}},Yi.JX={},Yi.JX.check=function(t){for(var e=Yi.JX.X9,n=0;n<e.length;n++)null==t[e[n]]&&(t[e[n]]=JSON.parse(Yi.JX.GH[e[n]]));for(var i=[],n=0;n<e.length;n++)i.push(e[n]);for(var r=Yi.JX.agJ,n=0;n<r.length;n++){for(var a=r[n][0],s=r[n][1],o=!0,l=0;l<a.length;l++)o=o&&1==t[a[l]].v;if(o)for(l=0;l<s.length;l++)null==t[s[l]]?console.log("Missing conditional parameter "+s[l]):i.push(s[l])}t=t.Brsh.v;for(e=Yi.JX.Mt.X9,n=0;n<e.length;n++)null==t[e[n]]&&(t[e[n]]=JSON.parse(Yi.JX.Mt.GH[e[n]]));for(i=[],n=0;n<e.length;n++)t[e[n]]?i.push(e[n]):console.log("Missing default parameter "+e[n]);for(var h,r=Yi.JX.Mt.aqX[t.classID],n=0;n<r.length;n++)null==t[r[n]]&&"dtipsGridSize"!=r[n]&&"dtipsErodibleTipHeightMap"!=r[n]&&1!=t.adA?console.log("Missing conditional parameter "+r[n]):i.push(r[n]);for(h in t)-1==i.indexOf(h)&&console.log("Extra parameter "+h)},Yi.JX.Ri=function(t){for(var e=Yi.JX.agJ,n=0;n<e.length;n++){for(var i=e[n][0],r=e[n][1],a=!0,s=0;s<i.length;s++)a=a&&t[i[s]]&&1==t[i[s]].v;if(a)for(s=0;s<r.length;s++)null==t[r[s]]&&(t[r[s]]=JSON.parse(Yi.JX.GH[r[s]]));else for(s=0;s<r.length;s++)null!=t[r[s]]&&delete t[r[s]]}},Yi.JX.Mt={},Yi.JX.Mt.X9="classID Dmtr Angl Spcn Intr flipX flipY".split(" "),Yi.JX.Mt.GH={flipX:'{"t":"bool","v":false}',flipY:'{"t":"bool","v":false}'},Yi.JX.Mt.aqX={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")},Yi.JX.agJ=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]],Yi.JX.X9="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" "),Yi.JX.GH={useBrushSize:'{"t":"bool","v":false}',useBrushPose:'{"t":"bool","v":false}',brushGroup:'{"t":"Objc","v":{"classID":"brushGroup","useBrushGroup":{"t":"bool","v":false}}}',flipX:'{"t":"bool","v":false}',flipY:'{"t":"bool","v":false}',brushProjection:'{"t":"bool","v":false}',minimumDiameter:'{"t":"UntF","v":{"type":"#Prc","val":0}}',minimumRoundness:'{"t":"UntF","v":{"type":"#Prc","val":25}}',tiltScale:'{"t":"UntF","v":{"type":"#Prc","val":200}}',szVr:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":2},"fStp":{"t":"long","v":1},"jitter":{"t":"UntF","v":{"type":"#Prc","val":0}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',angleDynamics:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":0},"fStp":{"t":"long","v":25},"jitter":{"t":"UntF","v":{"type":"#Prc","val":0}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',roundnessDynamics:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":0},"fStp":{"t":"long","v":25},"jitter":{"t":"UntF","v":{"type":"#Prc","val":0}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',prVr:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":2},"fStp":{"t":"long","v":25},"jitter":{"t":"UntF","v":{"type":"#Prc","val":0}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',opVr:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":0},"fStp":{"t":"long","v":25},"jitter":{"t":"UntF","v":{"type":"#Prc","val":0}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',wtVr:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":0},"fStp":{"t":"long","v":25},"jitter":{"t":"UntF","v":{"type":"#Prc","val":0}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',mxVr:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":0},"fStp":{"t":"long","v":25},"jitter":{"t":"UntF","v":{"type":"#Prc","val":0}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',overridePoseAngle:'{"t":"bool","v":false}',overridePoseTiltX:'{"t":"bool","v":true}',overridePoseTiltY:'{"t":"bool","v":true}',overridePosePressure:'{"t":"bool","v":true}',brushPosePressure:'{"t":"UntF","v":{"type":"#Prc","val":9}}',brushPoseTiltX:'{"t":"long","v":0}',brushPoseTiltY:'{"t":"long","v":0}',brushPoseAngle:'{"t":"long","v":0}',TxtC:'{"t":"bool","v":false}',interpretation:'{"t":"bool","v":true}',textureBlendMode:'{"t":"enum","v":{"BlnM":"CBrn"}}',textureDepth:'{"t":"UntF","v":{"type":"#Prc","val":37}}',minimumDepth:'{"t":"UntF","v":{"type":"#Prc","val":97}}',textureDepthDynamics:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":0},"fStp":{"t":"long","v":25},"jitter":{"t":"UntF","v":{"type":"#Prc","val":0}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',Txtr:'{"t":"Objc","v":{"classID":"Ptrn","Nm":{"t":"TEXT","v":"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal"},"Idnt":{"t":"TEXT","v":"52a93427-f5d6-1172-a989-8dc82a43aa51"}}}',textureScale:'{"t":"UntF","v":{"type":"#Prc","val":99}}',InvT:'{"t":"bool","v":false}',textureBrightness:'{"t":"long","v":14}',textureContrast:'{"t":"long","v":100}',Cnt:'{"t":"doub","v":4}',countDynamics:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":0},"fStp":{"t":"long","v":1},"jitter":{"t":"UntF","v":{"type":"#Prc","val":98}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',bothAxes:'{"t":"bool","v":false}',scatterDynamics:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":0},"fStp":{"t":"long","v":1},"jitter":{"t":"UntF","v":{"type":"#Prc","val":56}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',clVr:'{"t":"Objc","v":{"classID":"brVr","bVTy":{"t":"long","v":0},"fStp":{"t":"long","v":25},"jitter":{"t":"UntF","v":{"type":"#Prc","val":0}},"Mnm":{"t":"UntF","v":{"type":"#Prc","val":0}}}}',H:'{"t":"UntF","v":{"type":"#Prc","val":0}}',Strt:'{"t":"UntF","v":{"type":"#Prc","val":0}}',Brgh:'{"t":"UntF","v":{"type":"#Prc","val":36}}',purity:'{"t":"UntF","v":{"type":"#Prc","val":0}}',colorDynamicsPerTip:'{"t":"bool","v":false}'},Ki.prototype.Id=function(t,e){var n=this.aq8,i=new Pr(t.x-n.x,t.y-n.y),r=new _r;r.rotate(-this.Zw),i=r.iX(i),0!=this.dir||n.iy(t)||(this.dir=Math.abs(i.x)<Math.abs(i.y)?1:2),e.j(ii.Ml)&&(1==this.dir&&(i.x=0),2==this.dir&&(i.y=0)),r.tU();i=r.iX(i);return new Pr(n.x+i.x,n.y+i.y)};var Qi=($i.aec=function(t,e){var n=t.clone();n.E_-=Math.floor(n.E_),n.Qq-=Math.floor(n.Qq);t=new Pr(e,0),e=new Pr(0,e);return[n.iX(t),n.iX(e),new Pr(n.E_,n.Qq)]},$i.a0y=function(t,e){var n=Pr.Tn;return n(t[0],e[0])+n(t[1],e[1])+n(t[2],e[2])},$i.prototype.aan=function(t){var e=this.ajD,n=e[t];for((n=null==n?e[t]={F$:[],TT:0,Z:0,alv:0,aeq:0}:n).TT=Date.now();3<Object.keys(e).length;){var i,r="",a=Date.now();for(i in e){var s=e[i].TT;s<a&&(a=s,r=i)}delete e[r]}return n},$i.prototype.auK=function(t,e){for(var n,i=t.F$,r=1e6,a=0;a<i.length;a++){var s=i[a],o=$i.a0y(s.Df,e);o<r&&(n=s,r=o)}return n},$i.prototype.a9U=function(t,e){var n=t.F$;if(n.push(e),t.Z+=e.rect.Z(),1e3<n.length||16e6<t.Z)for(console.log("pruning",t.Z,n.length),n.sort(function(t,e){return e.TT-t.TT});500<n.length||8e6<t.Z;){var i=n.pop();t.Z-=i.rect.Z()}},$i);function $i(){this.ajD={}}function tr(t,e,n,i,r,a,s,o,l){this.x8=e,this.u_=n,this.JH=a,null==(this.Nn=i).Jv&&(i.Jv=[!1,!0]),this.OB=null,this.Co=null,this.QV=0,this.a7J=0,this.aj$=0,this.Hc=0,this.oA=null==l?Math.floor(16777215*Math.random()):l,this.a4D=null==l?Math.floor(16777215*Math.random()):l,this.Tl=new Fr,this.K4=new Fr,null!=o?this.L0=o:((o=tr.a7N).length!=4*s.Z()?o=Rr.t(4*s.Z()):o.fill(0),this.L0=tr.a7N=o),this.rect=s.clone(),this.uE=[],this.E4=[],this.t9=null,this.k$=0,this.S=null,this.adV="",this.ex=null,this.akw(t,r)}tr.a7N=Rr.t(16),tr.prototype.akw=function(t,e){this.k$=e,this.S=t,this.adV=JSON.stringify(t)+JSON.stringify(this.Nn.Wn),this.ex=tr.alM(this.S,this.x8,this.u_)},tr.prototype.moveTo=function(t,e,n){n=this.ajb(n),this.QV=n;var i=new Pr(t,e);this.S.Brsh.v.Dmtr.v.val;this.OB=i.clone(),this.Co=i.clone(),this.t9=i.clone(),this.uE=[t,e],this.E4=[n];t=this.Nn.Jv;this.Nn.cL!=tr.QR&&(e=!!(e=this.S.angleDynamics)&&6==e.v.bVTy.v,this.La(e?new Fr:this.amg(i,this.ama()*(t[1]?n:1),this.Nn.cj*(t[0]?.5*n:1),new Pr(0,0)))),this.Hc=i.clone()},tr.prototype.lineTo=function(t,e,n){n=this.ajb(n);var i=this.uE,r=i.length,a=i[r-2],s=i[r-1];t==a&&e==s||(i=this.S.Brsh.v.Dmtr.v.val,i=Math.ceil(i)+1,new Fr(Math.round(a),Math.round(s),0,0).bA(i,i),new Fr(Math.round(t),Math.round(e),0,0).bA(i,i),this.uE.push(t,e),this.E4.push(n),6<=(r+=2)&&this.La(this.aex(r)))},tr.prototype.ajb=function(t){if(null==t&&(t=1),t=Math.max(.05,Math.min(5,t)),isNaN(t))throw alert("Pressure is not a number"),"e";return t},tr.prototype.La=function(t){this.Tl=t,this.K4=this.K4.hq(t)},tr.prototype.finish=function(){var t,e=this.uE,n=e.length;4==n&&(t=this.a6N(e[n-2],e[n-1],this.E4[(n>>1)-1],!0)),(t=4<n?this.aex(n+2):t)&&this.La(t)},tr.prototype.bZ=function(){return this.rect.clone()},tr.prototype.aC=function(){return this.Tl.BS(this.rect)},tr.prototype.CY=function(){return this.K4.BS(this.rect)},tr.prototype.Fy=function(){return this.L0},tr.prototype.aex=function(t){var e=this.uE,n=this.E4,i=e[t-6],r=e[t-5],a=e[t-4],s=e[t-3],o=n[(t>>1)-3],l=n[(t>>1)-2],h=new Pr(0,0),n=new Pr(0,0);8<=t&&(h=tr.abJ(e[t-8],e[t-7],i,r,a,s)),t<=e.length&&(n=tr.abJ(e[t-2],e[t-1],a,s,i,r));for(var u=i+h.x,f=r+h.y,c=a+n.x,p=s+n.y,d=new Fr,v=0;v<10;v++)var g=.1*(v+1),y=1-g,g=this.a6N(y*y*y*i+3*g*y*y*u+3*g*g*y*c+g*g*g*a,y*y*y*r+3*g*y*y*f+3*g*g*y*p+g*g*g*s,o+g*(l-o)),d=d.hq(g);return d},tr.abJ=function(t,e,n,i,r,a){var s=t-n,o=e-i,l=r-n,h=a-i,n=Math.sqrt(s*s+o*o),i=Math.sqrt(l*l+h*h),t=r-t,e=a-e,i=(.1+Math.acos((s*l+o*h)/(n*i))/Math.PI*(.35-.1))*i/Math.sqrt(t*t+e*e);return new Pr(t*i,e*i)},tr.prototype.a6N=function(t,e,n,i){var r=new Fr,a=this.Nn.a6I;if(0==(a=null==a?0:a)||i)return r=this.ao$(t,e,n);var s=this.t9,i=t-s.x,t=e-s.y,e=Math.sqrt(i*i+t*t);return i/=e,t/=e,a<e&&(i=s.x+i*(e-a),a=s.y+t*(e-a),r=this.ao$(i,a,n),this.t9.R7(i,a)),r},tr.prototype.ao$=function(t,e,n){var i=new Fr,e=new Pr(t,e),r=(this.S.Brsh.v.Dmtr.v.val,this.Nn.cL),a=e.Pf(this.Co);a.normalize(1);for(var s=Pr.Tn(this.Co,e),o=-this.a7J,l=this.Co.clone(),h=this.Nn.Jv;;){var u=this.QV+(n-this.QV)*(Math.max(0,o)/s),f=this.ama()*(h[1]?u:1),c=this.ak_()*(f+this.aj$)/2*this.ex.ahZ;if(!(o+(c=r==tr.QR?1:c)<s))break;o+=c;var p,d=new Pr(this.Co.x+a.x*o,this.Co.y+a.y*o),v=1;r==tr.QR&&((c=l.clone()).x+=0<a.x?1:-1,(p=l.clone()).y+=0<a.y?1:-1,d=Pr.Tn(c,d)<Pr.Tn(p,d)?c:p,o=Pr.Tn(d,this.Co)),1==this.S.useScatter.v&&(v=this.S.Cnt.v,p=this.S.countDynamics.v.jitter.v.val/100*(2*this.WM()-1),v+=Math.round(v*p));for(var g=0;g<v;g++)var y=this.amg(d,f,this.Nn.cj*(h[0]?.5*u:1),a),i=i.hq(y);l=d}return this.a7J=s-o,this.Co=e,this.QV=n,i},tr.prototype.ak_=function(){var t=this.S.Brsh.v,e=t.Spcn.v.val;return Math.max(5,t.Rndn.v.val)/100*(e/100)},tr.prototype.ama=function(){var t,e=this.S,n=e.Brsh.v.Dmtr.v.val;return n=e.useTipDynamics.v?(t=n*(e.minimumDiameter.v.val/100))+(n-t)*(1-this.WM(this.a4D)*(e.szVr.v.jitter.v.val/100)):n},tr.prototype.amg=function(t,e,n,i){n=Math.min(1,n);var r=this.S,a=this.S.Brsh.v,s=a.Dmtr.v.val,o=this.Nn,l=o.cL,h=(o.aoc,this.ex.ax[1]),o=new _r;o.translate(-h.m/2,-h.n/2),o.scale(1/this.ex.a12,1/this.ex.a12),o.scale(e/s,e/s),o.scale(1,Math.max(5,a.Rndn.v.val)/100),r.useTipDynamics.v&&(h=r.angleDynamics.v,s=r.minimumRoundness.v.val/100,o.scale(1,s+(1-s)*Math.round(100-this.WM()*r.roundnessDynamics.v.jitter.v.val)/100),o.rotate(4*(-.5+this.WM())*Math.PI*(h.jitter.v.val/100)),6==h.bVTy.v&&o.rotate(Math.atan2(-i.y,i.x))),o.rotate(a.Angl.v.val*(Math.PI/180)),r.useScatter.v&&(a=(2*this.WM()-1)*r.scatterDynamics.v.jitter.v.val/100,o.translate(-a*e*i.y,a*e*i.x)),o.translate(t.x,t.y);var u,f,c,p,d,v,o=this.aiH(o,t,e),t=o.rect.clone();return null==l&&(f=this.ej(r),Rr.Bg(o.iv,Math.round(255*f.S)<<16|Math.round(255*f.z)<<8|Math.round(255*f.p)<<0,4278190080),this.K4.mN()&&this.rect.iy(o.rect)&&1==n?this.L0=o.iv.slice(0):Rr.a.a9r(o.iv,o.rect,this.L0,this.rect,o.rect,n)),l==tr.QR&&(u=new Pr(o.rect.x+o.rect.m/2,o.rect.y+o.rect.n/2),f=Math.round(u.x-this.Hc.x),c=Math.round(u.y-this.Hc.y),(d=o.rect.clone()).offset(-f,-c),d.BS(this.rect).offset(f,c),Rr.Ik(this.L0,this.rect,o.iv,d),Rr.a.uB(o.iv,o.rect,this.L0,this.rect,o.fB,o.rect,n)),l!=tr.eC&&l!=tr.SK&&l!=tr.WB||((c=o.rect.BS(this.rect)).iy(o.rect)?p=o.fB:(p=Rr.t(c.Z()),Rr.rR(o.fB,o.rect,p,c)),d=Rr.t(4*c.Z()),Rr.Ik(this.L0,this.rect,d,c),l==tr.SK?(v=d.slice(0),o=Rr.dh.EP([-1,-1,-1,-1,25,-1,-1,-1,-1]),Rr.dh.ah(d,v,c.m,c.n,o,0),Rr.VO(v,d)):l==tr.WB?((l=Gr.PD("UnsM")).Amnt.v.val=15,l.Thsh.v=0,l.Rds.v.val=5,v=Rr.t(d.length),Gr.O9("UnsM",{buffer:d,rect:c},l,0,0,{buffer:v,rect:c}),Rr.VO(v,d)):Gr.t3(1,Rr.VF.Jb,d,c),Rr.a.uB(d,c,this.L0,this.rect,p,c,n)),this.aj$=e,this.Hc=u,this.a4D++,t},tr.prototype.ej=function(t){var e,n,i,r=tr.ahV(this.k$);return t.useColorDynamics&&t.useColorDynamics.v&&(n=1-this.WM()*t.clVr.v.jitter.v.val/100,i=tr.ahV(this.JH),r.p=n*r.p+(1-n)*i.p,r.z=n*r.z+(1-n)*i.z,r.S=n*r.S+(1-n)*i.S,e=(-.5+this.WM())*t.H.v.val/100,n=(2*this.WM()-1)*t.Strt.v.val/100,i=(2*this.WM()-1)*t.Brgh.v.val/100,(t=Rr.IA(r.p,r.z,r.S)).kY=(t.kY+e+1)%1,t.gB=t.gB+n,t.gB<0&&(t.gB=-t.gB),1<t.gB&&(t.gB=1-(t.gB-1)),t.JL=t.JL+i,t.JL<0&&(t.JL=-t.JL),1<t.JL&&(t.JL=1-(t.JL-1)),r=Rr.ZW(t.kY,t.gB,t.JL)),r},tr.prototype.JX=function(t){return Math.max(0,Math.min(1,t))},tr.prototype.WM=function(t){return null==t&&(t=this.oA++),tr.hash(t)},tr.ahV=function(t){return{p:(t>>16&255)/255,z:(t>>8&255)/255,S:(t>>0&255)/255}},tr.hash=function(t){return t=61^t^t>>16,t+=t<<3,t^=t>>4,t*=668265261,(16777215&(t^=t>>15))/16777215},tr.a7c=new Qi,tr.prototype.aiH=function(t,e,n){var i=Math.sqrt(this.ex.ax[1].Z()),r=i*t.eZ(),a=r<10?1:r<50?1.5:r<200?3:8;r<30&&(a=0);var s=tr.a7c,o=s.aan(this.adV),l=this.Nn.Wn;l&&((t=t.clone()).E_=Math.floor(t.E_),t.Qq=Math.floor(t.Qq));r=Qi.aec(t,i),i=s.auK(o,r);if(i=i&&Qi.a0y(i.Df,r)>a?null:i)i.rect.x=Math.round(i.abC.x+t.E_),i.rect.y=Math.round(i.abC.y+t.Qq),l&&(i.rect.x=Math.round(e.x-i.rect.m/2),i.rect.y=Math.round(e.y-i.rect.n/2)),i.TT=Date.now();else{var h,a=Math.round(this.S.Brsh.v.Dmtr.v.val);if(l&&a<=3?(h={buffer:Rr.t(a*a*4),rect:new Fr(Math.round(e.x-a/2),Math.round(e.y-a/2),a,a)},Rr.Bg(h.buffer,4278190080)):1==t.q4&&0==t.S&&0==t.yH&&1==t.DR?((h={buffer:this.ex.ax[0],rect:this.ex.ax[1].clone()}).rect.x=Math.round(t.E_),h.rect.y=Math.round(t.Qq)):h=qr.Q.xX(this.ex.ax,t),l)for(var u=0;u<h.buffer.length;u++)h.buffer[u]=127<h.buffer[u]?255:0;i={iv:(h=null==h?{buffer:Rr.t(0),rect:new Fr}:h).buffer,fB:Rr.t(h.rect.Z()),rect:h.rect,abC:new Pr(h.rect.x-t.E_,h.rect.y-t.Qq),Df:r,TT:Date.now()},Rr.VW(i.iv,i.fB,3),o&&s.a9U(o,i)}return i},tr.alM=function(t,e,n){var i,r,a,s=t.Brsh.v.Dmtr.v.val;if("computedBrush"==t.Brsh.v.classID&&(h=t.Brsh.v.Hrdn.v.val/100,r=1,a=Rr.a2m.asn(s,h,i=s<100?1.4:1)),"sampledBrush"==t.Brsh.v.classID){for(var o,l=0;l<e.length;l++)e[l].id==t.Brsh.v.sampledData.v&&(o=e[l]);var h=(a=o.ax)[1];i=Math.max(h.m,h.n)/s,r=Math.min(h.m,h.n)/Math.max(h.m,h.n)}return{a12:i,ahZ:r,ax:a}},tr.O=null,tr.XN=null,tr.sW=function(t,e,n,i,r,a){var s=tr.O,o=tr.XN;null==s&&(tr.O=s=document.createElement("canvas"),tr.XN=o=s.getContext("2d")),s.width!=(a=null==a?i:a)||s.height!=r?(s.width=a,s.height=r):o.clearRect(0,0,a,r),o.fillStyle="#000000",o.font=Math.floor(10*qr.F())+"px sans-serif";var l=t.Brsh.v.Dmtr.v.val,h=""+l,a=o.measureText(h);o.fillText(h,(i-a.width)/2,r-2);var u=i,f=r-10*qr.F(),a=Math.min(u,f),i=t.Brsh.v.classID;if("computedBrush"==i){o.translate(u/2,f/2),o.rotate(-t.Brsh.v.Angl.v.val*Math.PI/180),o.scale(1,.1+.9*t.Brsh.v.Rndn.v.val/100);r=Math.min(.95*a/2,l/2)+.5,a=.9*t.Brsh.v.Hrdn.v.val/100,l=o.createRadialGradient(0,0,0,0,0,r);l.addColorStop(a,"rgba(0,0,0,1)"),l.addColorStop((.5+a)/1.5,"rgba(0,0,0,.5)"),l.addColorStop(1,"rgba(0,0,0,0)"),o.fillStyle=l,o.fillRect(-r,-r,2*r,2*r),o.setTransform(1,0,0,1,0,0)}else if("sampledBrush"==i){for(var c,p=0,d=0;d<e.length;d++)e[d].id==t.Brsh.v.sampledData.v&&(c=e[d]);var v=c.ax;Rr.bb(v);for(var g=v[0],y=v[1].m,m=v[1].n;(u<y||f<m)&&v[p+2];)g=v[p+=2],y=v[p+1].m,m=v[p+1].n;y*m!=0&&(i=new ImageData(new Uint8ClampedArray(g.buffer),y,m),o.putImageData(i,Math.round((u-y)/2),Math.round((f-m)/2)))}return s.toDataURL()},tr.cq=function(t,e,n,i){0==n&&(n=1);var r,a=t.Brsh.v,s=a.Dmtr.v.val,o=a.Dmtr.v.val=Math.min(null!=i?Math.round(2.6*i):3e3,s*n),n=a.Hrdn?a.Hrdn.v.val/100:1,n=null!=i?i:Math.round(o*(1+.55*(1-n)))+4,n=new Fr(0,0,n=Math.max(15,Math.min(n,3e3)),n),e=new tr(t,e,null,{cj:1},16711712,0,n);a.Dmtr.v.val=s,e.moveTo(n.m/2,n.n/2);s=e.Fy(),e=e.bZ();return n.iy(e)?r=s:(r=Rr.t(4*n.Z()),Rr.Ik(s,e,r,n)),[r,n,o]},tr.anz=function(t,e,n,i){for(var r=e.m,a=r>>>1,s=0;s<4;s++){var o=6-s;t[r*(a-o)+a-1]=i,t[r*(a-o)+a]=n,t[r*(a-o)+a+1]=i,t[r*(a+o)+a-1]=i,t[r*(a+o)+a]=n,t[r*(a+o)+a+1]=i,t[r*(a-1)+a-o]=i,t[r*a+a-o]=n,t[r*(1+a)+a-o]=i,t[r*(a-1)+a+o]=i,t[r*a+a+o]=n,t[r*(1+a)+a+o]=i}},tr.Jr=function(t,e,n,i){var t=tr.cq(t,e,n),r=t[0].slice(0),e=t[1],n=t[2],a=e.Z(),t=Rr.t(a);Rr.VW(r,t,3);var s=Rr.t(a);Rr.v.ail(t,s,e),(n<3||Rr.a8(s,0)||i&&12<n)&&tr.anz(s,e,255,0);n=Rr.dh.EP(n=[3,5,3,4,8,4,3,5,3]);Rr.dh.uX(s,t,e.m,e.n,n),Rr.Bg(r,4294967295),Rr.al(t,r,3);for(var o=0;o<a;o++)255==s[o]&&(r[o<<2]=r[1+(o<<2)]=r[2+(o<<2)]=0,r[3+(o<<2)]=255);return{vl:r,Ni:e,bM:new Pr(e.m/2,e.n/2)}},tr.QR="0",tr.eC="1",tr.SK="2",tr.WB="3";var er={};function nr(t,e){var n,i,r,a,s,o=ir.R_(t),l=ir.Ob(t),h=2==t._LineOrientation?new _r:null;t.Curve&&(n=nr.ag(t.Curve)),0!=o&&(s=new Fr(l[0],l[1],l[2],l[3]),h&&(a=s.m,s.m=s.n,s.n=a,h.translate(0,-l[2])),2==o&&(s.m=n[5]-n[4],s.n=9999)),this.eS=[],this.hy=[],this.A2=o,this.KW=h;for(var u=this.atM=ir.CP(t),f=-1,c=-1,p=0;p<u.length;p++){var d=i,v=ir.al8(t,p);v!=f&&(d=i=ir.atc(t,f=v));var g=r;(v=ir.agj(t,p))!=c&&(g=r=ir.ako(t,c=v));var y={yK:u.charAt(p),dT:d,jW:null,_A:-1,h$:ir.a2w(t,p),SM:0,scale:new Pr(0,0),Lq:0,lineHeight:0,tz:0},m=t.ResourceDict.FontSet[d.Font].Name,w=y.jW=e.Jf(m,u.charCodeAt(p));y.scale.x=null==d.HorizontalScale?1:d.HorizontalScale,y.scale.y=null==d.VerticalScale?1:d.VerticalScale;v=w["OS/2"],w.hhea;1==d.FontCaps&&y.yK!=y.yK.toUpperCase()&&(b=v.sxHeight?v.sxHeight/v.sTypoAscender:.76,y.scale.x*=b,y.scale.y*=b);var b;w.head.unitsPerEm,d.FontSize;1==d.FontBaseline&&(b=t.ResourceDict.SuperscriptSize,y.scale.x*=b,y.scale.y*=b,y.SM-=t.ResourceDict.SuperscriptPosition*d.FontSize),2==d.FontBaseline&&(b=t.ResourceDict.SubscriptSize,y.scale.x*=b,y.scale.y*=b,y.SM+=t.ResourceDict.SubscriptPosition*d.FontSize),y.Lq=nr.Lq(w,m,d);g=g.AutoLeading;y.lineHeight=d.FontSize*(null==g?1.2:g),0==d.AutoLeading&&(y.lineHeight=d.Leading),0==y.lineHeight&&(y.lineHeight=.01),this.hy.push(y)}for(var M=this.eS,S=[0],p=0;p<t.EngineDict.ParagraphRun.RunLengthArray.length;p++){var C=new nr.wQ(t,e,this.hy,p,s,S,1==o?n:null);M.push(C)}if(h&&(0==o&&h.translate(0,M[0].pw[0].Lq/2),h.rotate(-Math.PI/2)),2==o){t.Curve.Points;for(var x=n[0],L=(n[1],n[2],n[3]),D=n[4],p=(n[5],0);p<M.length;p++)for(var k=0;k<M[p].JY.length;k++)0==p&&0==k||(M[p].JY[k].JO=!1);var T=(C=M[0]).JY[0];C.yZ.R7(0,0),T.yZ.R7(0,0);for(k=T.start;k<T.end;k++){var A=C.pw[k],E=A.yZ.x;A.yZ.x=0;for(var O=A.N5;O<=A.tv;O++){var N=C.y8[O],I=N.Ni.m/2;N.yZ.x+=E;var P=nr.a8e(x,(D+N.yZ.x+I)%L);N.yZ.x=P[0]-I*P[2],N.yZ.y=P[1]-I*P[3],N.Zw=Math.atan2(P[3],P[2])}}}}function ir(){}er.xm=function(t,e){var n=t.bk(),i=0;if(n.x==1/0||n.mN())return{L0:Rr.t(0),Ni:new Fr,qK:new Fr};for(var r=t.bk(),a=er.cy(t,e),s=Rr.H.ws(a.U),o=0;o<t.hy.length;o++){var l=t.hy[o].dT;l.StrokeFlag&&l._LineWidth&&(i=Math.max(i,Math.ceil(l._LineWidth/2)))}if(s.bA(i,i),s.mN())return{L0:Rr.t(0),Ni:new Fr,qK:new Fr};n=Rr.XQ(s.m,s.n);if(n.translate(-s.x,-s.y),er.aa6(a,n),0!=t.hy.length){var a=ir._P(e),e=n.getImageData(0,0,s.m,s.n),h=new Uint8Array(e.data.buffer);if(0==a)for(o=0;o<h.length;o+=4)h[o+3]=80<h[o+3]?255:0;if(3==a)for(o=0;o<h.length;o+=4)h[o+3]=Math.min(255,1.5*h[o+3])}else h=Rr.t(4*s.Z());return n.resetTransform(),n.beginPath(),{L0:h,Ni:s,qK:r}},er.cy=function(t,e){var n=e.A,i=(e.nx,ir._P(e)),r=Math.max(n.S*n.S,n.yH*n.yH)<1e-9?n:null,n={C:[],U:[]};return er.aaq(t,n,r=3==i||4==i?null:r,!0),er.aaq(t,n,r,!1),er.cX(n,e,t)},er.cX=function(t,e,n){if(null==t)return t;var i;n&&n.KW&&Rr.H.A(t.U,n.KW,t.U),n&&!Rr.oH.pz(e.pZ)&&((n=ir.bZ(e,n)).mN()||(t.C&&(t=Rr.H.PE(t),i=Math.min(n.m,n.n)/8,t=Rr.H.Hh(t,i=i<1?1:i)),i=Rr.oH.Av(e.pZ,n),Rr.Cs.A(i,t.U,n)));e=e.A;return Rr.H.A(t.U,e,t.U),t},er.aa6=function(t,e){e.save(),e.miterLimit=2,Typr.U.pathToContext({crds:t.U,cmds:t.C},e),e.restore()},er.IP=function(t,e,n){if(nr.a2$(n)){for(var t=t.nx,i=t.ResourceDict.FontSet,r=t.ResourceDict.StyleSheetSet[0].StyleSheetData,a=t.EngineDict.StyleRun.RunLengthArray,s=t.EngineDict.StyleRun.RunArray,o=ir.CP(t),l=!0,h={},u=0,f=0;f<s.length;f++){var c=s[f].StyleSheet.StyleSheetData.Font;null==c&&(c=r.Font);for(var p=0;p<a[f];p++){var d=o.charCodeAt(u+p),v=c+","+(128<d?d:-1);null==h[v]&&(h[v]=1,null==e.Jf(i[c].Name,d)&&(l=!1))}u+=a[f]}return l}},er.aaq=function(t,e,n,i){for(var r=new _r,a=0;a<t.eS.length;a++)er.amr(t.hy,t.eS[a],e,r,n,i)},er.amr=function(t,e,n,i,r,a){i.translate(e.yZ.x,e.yZ.y);for(var s=0;s<e.JY.length;s++){var o={},l=e.JY[s];if(!l.JO)break;var h,u=i.clone();u.translate(l.yZ.x,l.yZ.y),r&&(h=r.Qq+u.Qq*r.DR,u.Qq=(Math.round(h)-r.Qq)/r.DR);for(var f=l.start;f<l.end;f++)er.aiW(t,e.pw[f],e,o,n,u,a)}i.translate(-e.yZ.x,-e.yZ.y)},er.a7z="()<>[]{}«»༺༻༼༽᚛᚜‹›⁅⁆⁽⁾₍₎∈∉∊∋∌∍∕∼∽≃≒≓≔≕≤≥≦≧≨≩≪≫≮≯≰≱≲≳≴≵≶≷≸≹≺≻≼≽≾≿⊀⊁⊂⊃⊄⊅⊆⊇⊈⊉⊊⊋⊏⊐⊑⊒⊘⊢⊣⊦⊨⊩⊫⊰⊱⊲⊳⊴⊵⊶⊷⋉⋊⋋⋌⋍⋐⋑⋖⋗⋘⋙⋚⋛⋜⋝⋞⋟⋠⋡⋢⋣⋤⋥⋦⋧⋨⋩⋪⋫⋬⋭⋰⋱⋲⋳⋴⋶⋷⋺⋻⋼⋽⋾⌈⌉⌊⌋〈〉❨❩❪❫❬❭❮❯❰❱❲❳❴❵⟃⟄⟅⟆⟈⟉⟋⟍⟕⟖⟝⟞⟢⟣⟤⟥⟦⟧⟨⟩⟪⟫⟬⟭⟮⟯⦃⦄⦅⦆⦇⦈⦉⦊⦋⦌⦍⦎⦏⦐⦑⦒⦓⦔⦕⦖⦗⦘⦸⧀⧁⧄⧅⧏⧐⧑⧒⧔⧕⧘⧙⧚⧛⧵⧸⧹⧼⧽⨫⨬⨭⨮⨴⨵⨼⨽⩤⩥⩹⩺⩽⩾⩿⪀⪁⪂⪃⪄⪋⪌⪑⪒⪓⪔⪕⪖⪗⪘⪙⪚⪛⪜⪡⪢⪦⪧⪨⪩⪪⪫⪬⪭⪯⪰⪳⪴⪻⪼⪽⪾⪿⫀⫁⫂⫃⫄⫅⫆⫍⫎⫏⫐⫑⫒⫓⫔⫕⫖⫞⫣⫤⫥⫬⫭⫷⫸⫹⫺⸂⸃⸄⸅⸉⸊⸌⸍⸜⸝⸠⸡⸢⸣⸤⸥⸦⸧⸨⸩〈〉《》「」『』【】〔〕〖〗〘〙〚〛﹙﹚﹛﹜﹝﹞﹤﹥（）＜＞［］｛｝｟｠｢｣",er.aiW=function(t,e,n,i,r,a,s){a.translate(e.yZ.x,e.yZ.y);for(var o=e.N5;o<=e.tv;o++){var l,h,u,f,c,p,d,v=n.y8[o],g=v.Ni.m,y=t[n.ar2+v.vj],m=y.dT._FillBackgroundFlag;"\n"==y.yK||s&&!m||(l=y.dT.FontSize/y.jW.head.unitsPerEm,(h=a.clone()).translate(v.yZ.x+v.VA*l,v.yZ.y-v.kX*l),(m=new _r).scale(l,-l),1==y.tz&&-1!=er.a7z.indexOf(y.yK)&&m.concat(new _r(-1,0,0,1,g,0)),y.dT.FauxItalic&&m.concat(new _r(1,0,-Math.tan(.18),1,0,0)),m.translate(0,y.SM),m.scale(y.scale.x,y.scale.y),null!=y.dT.BaselineShift&&m.translate(0,-y.dT.BaselineShift),0!=v.Zw&&m.rotate(-v.Zw),m.concat(h),g=y.dT._LineWidth||1,s?(r.C.push(er.ej(y.dT._FillBackgroundColor)),h=1.005*v.Ni.n/l,h=new Fr(-v.VA,.27*-h,1.03*v.Ni.m/l,h),y.dT.StrokeFlag&&h.bA(g/l,g/l),Rr.H.concat(r,Rr.H.UQ(h),m),r.C.push("X")):(y.dT.FillFlag&&r.C.push(er.ej(y.dT.FillColor)),y.dT.StrokeFlag&&r.C.push("O-"+er.ej(y.dT.StrokeColor)+"-"+g),0!=v.path.C.length&&"\t"!=y.yK&&(y.dT.FauxBold&&(u=y.dT.FontSize/2048*27*y.scale.x,m.E_+=u,Rr.H.concat(r,v.path,m),m.E_-=u+u),Rr.H.concat(r,v.path,m)),"\n"!=y.yK&&(y.dT.Underline&&(null==i.pI&&(i.pI=y.jW.post.underlineThickness),null==i.alu&&(i.alu=y.jW.post.underlinePosition),c=i.alu-i.pI/2,p=1.05*v.TR,d=-i.pI,Rr.H.concat(r,{C:["M","L","L","L","Z"],U:[f=0,c,f+p,c,f+p,c+d,f,c+d]},m)),y.dT.Strikethrough&&(u=y.jW["OS/2"].yStrikeoutSize,c=y.jW["OS/2"].yStrikeoutPosition+u/2,p=1.05*v.TR,Rr.H.concat(r,{C:["M","L","L","L","Z"],U:[f=0,c,f+p,c,f+p,c+(d=-u),f,c+d]},m))),y.dT.FillFlag&&r.C.push("X"),y.dT.StrokeFlag&&r.C.push("OX")))}a.translate(-e.yZ.x,-e.yZ.y)},er.ej=function(t){t=ir.Na(t),t=(Math.round(t.p)<<16)+(Math.round(t.z)<<8)+Math.round(t.S);return"#"+Rr.zI(t)},nr.Lq=function(t,e,n){var i=t["OS/2"],r=t.hhea,a=0,a=0,s=[];s.push(i&&i.sxHeight&&-1!=e.toLowerCase().indexOf("capitals")?i.sxHeight:0),s.push(i&&i.sCapHeight?i.sCapHeight:0),s.push(i&&i.sTypoAscender?i.sTypoAscender:0),s.push(r.ascender||0);for(var o=0;o<s.length;o++)if(0!=s[o]){a=s[o];break}return a=(a*=1/t.head.unitsPerEm*n.FontSize)<.6*n.FontSize?.75*n.FontSize:a},nr.prototype.alg=function(){return!this.ajQ(0)},nr.prototype.aiq=function(){return this.ajQ(1)},nr.prototype.ajQ=function(t){for(var e=this.eS,n=!0,i=0,r=0;r<e.length;r++){var a=e[r].JY,s=a.length;i+=s;for(var o=0;o<s;o++)n&=a[o].JO}return[n,i][t]},nr.ag=function(t,e){null==e&&(e=.25);var n=t.Points,i=n.length,r=i>>>3,a=t.TextOnPathTRange,s=0,o=0;if(t.Reversed){for(var l=n.slice(0),h=0;h<i;h+=2)l[h]=n[i-2-h],l[h+1]=n[i-1-h];n=l,a=[r-a[1]%r,r-a[0]%r]}for(var u=[],f=[0],c=[0],h=0;h<i;h+=8)for(var p=n[h+6]-n[h+0],d=n[h+7]-n[h+1],v=Math.round(1/e*Math.sqrt(p*p+d*d)),g=0;g<v;g++){var y=g/v,m=1-y,w=m*m*m*n[h+0]+3*m*m*y*n[h+2]+3*m*y*y*n[h+4]+y*y*y*n[h+6],m=m*m*m*n[h+1]+3*m*m*y*n[h+3]+3*m*y*y*n[h+5]+y*y*y*n[h+7];u.push(w,m),h+g!=0&&(p=w-s,d=m-o,c.push(c[c.length-1]+Math.sqrt(p*p+d*d)),f.push((h>>>3)+y)),s=w,o=m}var b=c[(e=c.length)-1],t=nr.kT(a[0]%r,f),r=nr.kT(a[1]%r,f),t=c[t%e],r=c[r%e];return r<=t&&(r+=b),[u,f,c,b,t,r]},nr.kT=function(t,e){for(var n=0;e[n]<t;)n++;return n},nr.a8e=function(t,e){for(var n,i,r,a=0,s=0;a<e;)n=t[s+2]-t[s],i=t[s+3]-t[s+1],a+=r=Math.sqrt(n*n+i*i),s+=2;return[t[s],t[s+1],n/r,i/r]},nr.prototype.a83=function(t){return this.hy[t]},nr.prototype.ada=function(t){for(var e=0;e<this.eS.length;e++)for(var n=this.eS[e],i=0;i<n.JY.length;i++){var r=n.JY[i],a=n.pw[r.start].start,r=n.pw[r.end-1].end;if(a<t&&t<r)return[a,r-1]}return[0,1]},nr.prototype.aqJ=function(t,e){var n=-1,i=this.eS;if(2==this.A2){for(var r=1e9,a=0,s=(d=(c=i[0]).JY[0]).start;s<d.end;s++)for(var o=(g=c.pw[s]).N5;o<=g.tv;o++){var l=(y=c.y8[o]).Ni.m,h=t.x-y.yZ.x,u=t.y-y.yZ.y,u=h*h+u*u;u<r&&(r=u,a=y.vj)}return 0!=a&&65535<this.atM.codePointAt(a-1)&&a--,a}for(var f=0;f<i.length;f++)for(var c=i[f],p=0;p<c.JY.length;p++){n++;var d=c.JY[p],v=c.JY[p+1];if(null==v&&f<i.length-1&&(v=i[f+1].JY[0]),null!=e){if(n!=e)continue}else if(null!=v&&c.yZ.y+d.yZ.y<t.y)continue;for(s=d.start;s<d.end;s++)for(var g,o=(g=c.pw[s]).N5;o<=g.tv;o++){var y,l=(y=c.y8[o]).Ni.m,m=c.yZ.x+d.yZ.x+g.yZ.x,w=m+y.yZ.x,b=m+(o<g.tv?c.y8[o+1].yZ.x:y.yZ.x+l);if(t.x<=b||s+1==d.end&&o==g.tv){var M=c.ar2+y.vj,m=this.hy[M],b=1&m.tz;return"\n"!=m.yK&&(0==b&&t.x>w+l/2||1==b&&t.x<w+l/2)&&(M+=65535<this.atM.codePointAt(M)?2:1),M}}}},nr.prototype.QJ=function(t){for(var e={Ni:new Fr,Pq:0},n=0,i=0;i<this.eS.length;i++)for(var r=this.eS[i],a=0;a<r.JY.length;a++){var s=r.JY[a];e.Pq=n,n++;for(var o=s.start;o<s.end;o++)for(var l=r.pw[o],h=l.start;h<l.end;h++)if(h==t){for(var u=this.hy[h],f=u._A,c=r.y8[f].vj;null!=r.y8[f]&&r.y8[f].vj==c;){var p=r.y8[f],d=r.yZ.x+s.yZ.x+l.yZ.x+p.yZ.x,v=r.yZ.y+s.yZ.y+l.yZ.y+p.yZ.y;e.Ni=e.Ni.hq(new Fr(d,v-u.lineHeight,p.Ni.m,u.lineHeight)),e.Zw=p.Zw,f+=1}return e}}},nr.prototype.bk=function(){for(var t=1/0,e=1/0,n=-1/0,i=-1/0,r=0;r<this.eS.length;r++)for(var a=this.eS[r],s=0;s<a.JY.length;s++){var o=a.JY[s];if(!o.JO)break;for(var l=o.start;l<o.end;l++)for(var h=a.pw[l],u=h.N5;u<=h.tv;u++)var f=a.y8[u],c=f.Ni,p=a.yZ.x+o.yZ.x+h.yZ.x+f.yZ.x,f=a.yZ.y+o.yZ.y+h.yZ.y+f.yZ.y,t=Math.min(t,p+c.x),e=Math.min(e,f+c.y),n=Math.max(n,p+c.x+c.m),i=Math.max(i,f+c.y+c.n)}return new Fr(t,e,n-t,i-e)},nr.xj=function(t){return 19968<=t&&t<=40959||12288<=t&&t<=12543},nr.aiF=function(t,e,n,i,r,a,s){for(var o=[a],l=0,h=a;h<s;h++){null==n[h]&&console.log(h,a,s,n);var u=n[h].yK.charCodeAt(0);32==u||9==u?(o.push(l,h,1,h+1),l=0):3851==u?(o.push(l+1,h+1),l=0):nr.xj(u)||h!=a&&n[h].tz!=n[h-1].tz?(o.push(l,h),l=1):l++}o.push(l);for(var f=[],h=0;h<o.length;h+=2){var c=o[h],p=o[h+1];0!=p&&f.push(new nr.akj(t,e,n,i,r,c,p))}return f},nr.asY=function(t,e,n,i,r,a,s){var o=[0,e?e.m:1e9],l=[];if(i){var h=t[a].Lq,r=r+(0==r?h:t[a].lineHeight),u=Rr.H.Kf(i[0],r-.9*h),f=u.length,c=Rr.H.Kf(i[0],r),p=c.length;if(0!=f&&0!=p)for(var d=0,v=0,o=[];d<f&&v<p;){var g=Math.max(u[d],c[v]),y=u[d+1],m=c[v+1],w=Math.min(y,m);g<w&&o.push(g,w),y<m?d+=2:v+=2}}for(var b=0;b<o.length;b+=2){for(var M=o[b+1]-o[b],S=0,C=a,x=e?M-n.StartIndent-n.EndIndent-(0==a?n.FirstLineIndent:0):1/0;a!=t.length;){var L=t[a];if(!(0==S||L.gY||L.no||S+L.Ni.m<x))break;S+=L.Ni.m,a++}l.push(a-C)}s[0]=l,s[1]=o,s[2]=a},nr.asd=function(t,e){for(var n=t.length,i=new Uint32Array(n),r=new Uint8Array(n),a=0,s=0;s<n;s++){r[s]=0;var o=t.charCodeAt(s);a<(i[s]=o)&&(a=o)}return r=1424<a?nr.aeJ(i,e):r},nr.ar_=function(t){return"ß"==t?t:t.toUpperCase()},nr.wQ=function(t,e,n,i,r,a,s){this.pw=[],this.JY=[],this.yZ=new Pr(0,0),this.y8=null,this.pw=null,this.dT=ir.ako(t,i);var o=this.dT,l=0,h="",u=0,f=1,c=0;0==i||null!=(d=o.SpaceBefore)&&(a[0]+=d);for(var p=t.EngineDict.ParagraphRun.RunLengthArray,d=p[i],v=0;v<i;v++)l+=p[v];var g=o._Direction||0;this.ar2=l;for(var y=ir.CP(t).slice(l,l+d),m=0;m<y.length;m++){var w=y.charAt(m);h+=0==n[l+m].dT.FontCaps?w:nr.ar_(w)}var y=h,b=nr.asd(y,g),M=[],S=1&b[v],C=n[l].jW;n[l].tz=b[0];for(v=1;v<y.length;v++){var w=n[l+v],x=b[v];(w.tz=x)!=S||w.jW!=C?(M.push(u,f),u=v,f=1,S=x,C=w.jW):f++}M.push(u,f);for(var L=this.y8=[],v=0;v<M.length;v+=2){for(var D=M[v],k=M[v+1],T=0==(1&n[l+D].tz),A=y.slice(D,D+k),E=Typr.U.shapeHB(n[l+D].jW,A,T),O=[],N=0,m=0;m<E.length;m++){var I=E[m];O.push({z:I.g,vj:I.cl,TR:I.ax,KY:I.ay,VA:I.dx,kX:I.dy})}var P=(E=O).slice(0);T||P.reverse();for(m=0;m<A.length;m++){for(;N+1<P.length&&P[N+1].vj<=m;)N++;for(;0<N&&P[N-1].vj==m;)N--;n[l+D+m]._A=L.length+(T?N:P.length-N-1)}for(var F,_,m=0;m<E.length;m++)L.push(E[m]),E[m].vj+=D,-1!=(w=n[l+E[m].vj]).h$&&(E[m].z=w.h$,(F=w.jW.hmtx)&&(_=Object.keys(F)[0],E[m].TR=F[_][w.h$])),"\n"==w.yK&&(E[m].TR=0),"\t"==w.yK&&(E[m].TR=36*w.jW.head.unitsPerEm/w.dT.FontSize)}for(var B=ir.ub(o),R=this.pw=nr.aiF(t,e,n,l,L,l,l+d),U=this.JY,j=-1,h=[null,null,0];c<R.length;){nr.asY(R,r,o,s,a[0],c,h),j++;var H={start:c,end:0,Ni:new Fr,yZ:new Pr(0,0),JO:!0},J=0,q=0;U.push(H),H.end=h[2];var G=H.end==R.length;function Z(t,e,n){for(var i=n-e>>>1,r=0;r<i;r++){var a=t[e+r];t[e+r]=t[n-1-r],t[n-1-r]=a}}for(var z=1;z<5;z++){for(var V=-1,v=H.start;v<H.end;v++){x=n[R[v].start].tz;-1==V&&z<=x?V=v:-1!=V&&x<z&&(Z(R,V,v),V=-1)}var W=H.end;0==g&&R[W-1].gY&&W--,-1!=V&&Z(R,V,W)}for(var X=h[0],Y=h[1],V=c,K=c,Q=0;Q<X.length;Q++){var $=Y[2*Q+1]-Y[2*Q],tt=0;V=K,K+=X[Q];var et=this.aj2(V,K,R,g,null!=r);if(r?((1==B||G&&4==B)&&(tt=et[1]+($-et[0])),(2==B||G&&5==B)&&(tt=et[1]+($-et[0])/2),0==j&&(tt+=o.FirstLineIndent),tt+=o.StartIndent):(0==B&&(tt=o.StartIndent+o.FirstLineIndent),1==B&&(tt=-et[0]-o.EndIndent),2==B&&(tt=-et[0]/2)),tt+=Y[2*Q],r&&2<B&&(6==B||!G))this.au8(V,K,R,$,g,tt);else for(var nt=tt,v=V;v<K;v++){var it=R[v],rt=it.Ni.m;it.yZ.x=nt,nt+=rt="\t"==it.w9?36*Math.ceil((nt+4)/36)-nt:rt}}for(c=H.end,v=H.start;v<H.end;v++){var at=R[v].Ni.clone();at.Uo(R[v].yZ),H.Ni=H.Ni.hq(at),J=Math.max(J,R[v].Lq),q=Math.max(q,R[v].lineHeight)}H.yZ.y=0==j?0:U[j-1].yZ.y+q,0==j?(0==i&&r&&(a[0]+=J),0!=i&&(a[0]+=q),this.yZ.y=a[0]):a[0]+=q,r&&(H.JO=this.yZ.y+H.yZ.y<r.y+r.n)}d=o.SpaceAfter;null!=d&&(a[0]+=d)},nr.wQ.prototype.aj2=function(t,e,n,i,r){for(var a=0,s=0,o=t;o<e;o++)a+=n[o].Ni.m;if(r){if(0==i)for(o=e-1;t<=o&&(n[o].gY||n[o].no);o--)a-=n[o].Ni.m;if(1==i)for(o=t;o<e&&(n[o].gY||n[o].no);o++){var l=n[o].Ni.m;a-=l,s-=l}}return[a,s]},nr.wQ.prototype.au8=function(t,e,n,i,r,a){for(var s=0,o=0,l=0,h=0,u=t;u<e;u++)n[u].gY?l++:(s+=n[u].Ni.m,o++);if(0==r)for(u=e-1;t<=u&&(n[u].gY||n[u].no);u--)n[u].gY&&l--;if(1==r)for(u=t;u<e&&(n[u].gY||n[u].no);u++)n[u].gY&&(l--,h++);if(o<=1||0==l)1==o&&(n[t].yZ.x=a);else for(var f=(i-s)/l,c=-h*f,u=t;u<e;u++)n[u].gY&&(this.y8[n[u].N5].Ni.m=n[u].Ni.m=f),n[u].yZ.x=a+c,c+=n[u].Ni.m},nr.akj=function(t,e,n,i,r,a,s){this.w9="";for(var o=0;o<s;o++)this.w9+=n[a+o].yK;this.gY=1==s&&(" "==n[a].yK||"\t"==n[a].yK),this.no=1==s&&"\n"==n[a].yK,this.start=a,this.end=a+s,this.Ni=new Fr,this.yZ=new Pr(0,0),this.Lq=0;var l=this.lineHeight=0;0==s&&(this.lineHeight=n[a].lineHeight,this.Lq=n[a].Lq,this.Ni=new Fr(0,-n[a].lineHeight,0,n[a].lineHeight));var h,u=n[a]._A,f=n[a+s-1]._A;for(f<u&&(h=u,u=f,f=h);f+1<r.length&&r[f].vj==r[f+1].vj;)f++;this.N5=u,this.tv=f;for(var c=u;c<=f;c++){var p=r[c],d=n[i+p.vj],v=2==t._LineOrientation&&(2!=d.dT.BaselineDirection||nr.xj(d.yK.charCodeAt(0))),g=Typr.U.glyphToPath(d.jW,p.z),y=0;p.path={C:g.cmds,U:g.crds};var m=d.dT.FontSize,g=1/d.jW.head.unitsPerEm*m;d.dT.AutoKerning||(l+=2*d.dT.Kerning*g*d.scale.x),p.yZ=new Pr(l,0),p.Zw=0,v&&0<p.path.U.length&&(p.Zw=-Math.PI/2,p.yZ.x+=.83*m,p.yZ.y=.3*-m+p.TR*g/2,p.TR=m/g);v=p.TR*g*d.scale.x;p.Ni=new Fr(0,-d.lineHeight,v,d.lineHeight);g=p.Ni.clone();g.Uo(p.yZ),null!=d.dT.Tracking&&(y=.001*d.dT.Tracking*m),1==d.dT.FauxBold&&(y+=.027*m),l+=v+y,1==s&&" "==d.yK?g.m+=2*y:1==s&&null!=d.yK&&nr.xj(d.yK.charCodeAt(0))&&(g.m+=y),this.Ni=this.Ni.hq(g),this.Lq=Math.max(this.Lq,d.Lq),this.lineHeight=Math.max(this.lineHeight,d.lineHeight)}},nr.tP=0,nr.a2$=function(e){return 2==nr.tP||(1==nr.tP||(nr.tP=1,Typr.U.initHB("code/ext/hb.wasm",function(){fetch("code/ext/fribidi.wasm").then(function(t){return t.arrayBuffer()}).then(function(t){return WebAssembly.instantiate(t)}).then(function(t){var u=t.instance.exports,f=u.memory;nr.aeJ=function(t,e){var n=t.length,i=4*n+4+4*n+4*n+n;ai.pm(u,i+n+1e7);var r=new Uint8Array(f.buffer),a=new Uint32Array(f.buffer),s=u.calloc(i,1),o=s+4*n,l=o+4,h=l+4*n,i=h+4*n;a.set(t,s>>>2),a[o>>>2]=0==e?272:273,u.fribidi_get_bidi_types(s,n,l),u.fribidi_get_bracket_types(s,n,l,h),u.fribidi_get_par_embedding_levels_ex(l,h,n,o,i);n=r.slice(i,i+n);return u.free(s),n},nr.tP=2;t=new yr(mr.E.W,!0);t.data={d:mr.J.ot,tX:"add",jm:Bi.eE,dN:null},e.c(t)})})),!1)},ir.rN=function(t){return JSON.parse(JSON.stringify(t))},ir.OE=function(t,e){for(var n in e)t[n]=e[n]},ir.mb=function(t,e,n){var i=ir.akp();n&&ir.xB(i,0,0,n);i={A:new _r(1,0,0,1,Math.round(t),Math.round(e)),nx:i};return i.wq=ir.arA(),i.pZ=Rr.oH.t(),i.qK=new Fr,i},ir.amc=function(t){for(var e=["CharacterDirection",0],n=0;n<e.length;n+=2)if(null!=t[e[n]]&&t[e[n]]!=e[n+1])throw"e";if(t instanceof Array)for(n=0;n<t.length;n++)ir.amc(t[n]);else if(t instanceof Object)for(var i in t)ir.amc(t[i])},ir.ub=function(t,e){return null==e&&(e=t.Justification),1==(t._Direction||0)&&(0==e||3==e?e++:1!=e&&4!=e||e--),e},ir.vb=function(t){if(null!=t.add){var e=t.nx,n=e.Curve,i=t.add.vmsk,r=i.Y,a=Rr.H.x4(r,!0).U,r=t.A.clone();r.tU(),Rr.H.A(a,r,a);for(var s=a.slice(0,8),o=8;o<a.length;o+=6)s.push(a[o-2],a[o-1],a[o],a[o+1],a[o+2],a[o+3],a[o+4],a[o+5]);if(n.Points=s,n.TextOnPathTRange=i.Xo.slice(0),n.Reversed=i.Iy,1==ir.R_(e)){var n=nr.ag(e.Curve),l=Rr.H.UP(n[0]);ir.NO(e,[0,0,l.m,l.n].map(Math.round));for(var h=0;h<s.length;h+=2)s[h]-=l.x,s[h+1]-=l.y;e=new _r(1,0,0,1,l.x,l.y);e.concat(t.A),t.A=e}}},ir.Sj=function(t){if(null!=t.add){for(var e=t.add.vmsk,n=t.nx.Curve,i=n.Points,r={C:["M"],U:[i[0],i[1]]},a=0;a<i.length;a+=8)r.C.push("C"),r.U.push(i[a+2],i[a+3],i[a+4],i[a+5],i[a+6],i[a+7]);Rr.H.A(r.U,t.A,r.U);var s=Rr.H.z8(r,!0);e.Y=s,e.Iy=n.Reversed,e.Xo=n.TextOnPathTRange.slice(0),t.add.vogk=qi.Ky(s)}},ir.Na=function(t){var e,n={p:0,z:0,S:0};return t&&(e=t.Values,1==t.Type?n={p:255*e[1],z:255*e[2],S:255*e[3]}:2==t.Type?(e={classID:"CMYC",Cyn:{t:"doub",v:100*e[1]},Mgnt:{t:"doub",v:100*e[2]},Ylw:{t:"doub",v:100*e[3]},Blck:{t:"doub",v:100*e[4]}},n=Rr.I.Na(e)):console.log("Unknown color type")),n},ir.afQ=function(t){for(var e=0;e<t.length;e++){var n,i=t[e].StyleSheet.StyleSheetData.FillColor;i&&2==i.Type&&(n=ir.Na(i),i.Type=1,i.Values=[1,n.p/255,n.z/255,n.S/255])}},ir.bZ=function(t,e){var n,i;return 1==ir.R_(t.nx)?n=new Fr(0,0,(i=ir.Ob(t.nx))[2]-i[0],i[3]-i[1]):(n=e.bk(),e.KW&&(i=e.KW.clone(),e=Rr.H.UQ(n),Rr.H.A(e.U,i,e.U),n=Rr.H.UP(e.U))),n},ir.bR=function(t){for(var e=t[0],n=0;n<t.length;n++)e=ir.ahm(e,t[n]);return e},ir.ahm=function(t,e){var n,i={};for(n in t)JSON.stringify(t[n])==JSON.stringify(e[n])&&(i[n]=t[n]);return i},ir.Ui=function(t,e){for(var n=t.CV,i=-1,r=0;r<n.length;r++)n[r].Name==e&&(i=r);-1==i&&(i=n.length,n.push({FontType:1,Name:e,Script:0,Synthetic:0})),t.hy.Font=i},ir.CP=function(t){return t.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")},ir.hN=function(t,e){t.EngineDict.Editor.Text=e.replace(/\n/g,"\r")},ir.R_=function(t){return t.Curve&&0<=t.Curve.TextOnPathTRange[0]?2:t.EngineDict.Rendered.Shapes.Children[0].ShapeType},ir.b8=function(t,e){t=t.EngineDict.Rendered.Shapes.Children[0];t.ShapeType=e;t=t.Cookie.Photoshop;t.ShapeType=e,0==(t.Base.ShapeType=e)&&(delete t.BoxBounds,t.PointBase=[0,0]),1==e&&(delete t.PointBase,t.BoxBounds=[0,0,1,1])},ir.Ob=function(t){return t.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds},ir.NO=function(t,e){t.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=e},ir.a2w=function(t,e){t=t.EngineDict.AlternateGlyphRun;if(null==t)return-1;e=ir.W9(t.RunLengthArray,e).cR,e=t.RunArray[e].Glyph;return null==e?-1:e},ir.afi=function(t,e,n){var i=t.EngineDict.AlternateGlyphRun;null==i&&((i=t.EngineDict.AlternateGlyphRun=ir.auy()).RunArray.push({}),i.RunLengthArray.push(ir.CP(t).length));var r=ir.W9(i.RunLengthArray,e),a=r.cR,s=e-r.wX,t=i.RunArray[a],e=JSON.stringify(t),r=i.RunLengthArray[a];0!=s&&(i.RunArray.splice(a,0,JSON.parse(e)),i.RunLengthArray.splice(a,0,s),i.RunLengthArray[a+1]-=s,a++,r-=s),1!=r&&(i.RunArray.splice(a+1,0,JSON.parse(e)),i.RunLengthArray.splice(a+1,0,r-1),r=i.RunLengthArray[a]=1),t.Glyph=n},ir.al8=function(t,e){t=t.EngineDict.StyleRun.RunLengthArray;return ir.W9(t,e).cR},ir.atc=function(t,e){var n,i=t.ResourceDict.StyleSheetSet[0].StyleSheetData,r={};for(n in i)r[n]=i[n];e=t.EngineDict.StyleRun.RunArray[e].StyleSheet.StyleSheetData;return ir.OE(r,e),r},ir.agj=function(t,e){t=t.EngineDict.ParagraphRun.RunLengthArray;return ir.W9(t,e).cR},ir.ako=function(t,e){var n,i=t.ResourceDict.ParagraphSheetSet[0].Properties,r={};for(n in i)r[n]=i[n];e=t.EngineDict.ParagraphRun.RunArray[e].ParagraphSheet.Properties;ir.OE(r,e);for(var a=["StartIndent","EndIndent","FirstLineIndent"],s=0;s<3;s++)null==r[a[s]]&&(r[a[s]]=0);return r},ir.RX=function(t,e,n){if(""!=n){var i=ir.CP(t);ir.hN(t,i.substring(0,e)+n+i.substring(e,i.length)),(a=t.EngineDict.StyleRun.RunLengthArray)[ir.W9(a,e-1).cR]+=n.length;i=t.EngineDict.AlternateGlyphRun;i&&((a=i.RunLengthArray)[ir.W9(a,e-1).cR]+=n.length);var r=t.EngineDict.ParagraphRun,a=r.RunLengthArray,s=ir.W9(a,e),o=n.split("\n");if(1!=o.length){a.splice(s.cR+1,0,a[s.cR]-(e-s.wX)),r.RunArray.splice(s.cR+1,0,ir.rN(r.RunArray[s.cR])),a[s.cR]-=a[s.cR+1],a[s.cR]+=o[0].length+1;for(var l=1;l<o.length-1;l++)r.RunArray.splice(s.cR+l,0,ir.rN(r.RunArray[s.cR+l-1])),r.RunLengthArray.splice(s.cR+l,0,o[l].length+1);a[s.cR+o.length-1]+=o[o.length-1].length}else a[s.cR]+=n.length}},ir.SI=function(t,e,n){var i=ir.CP(t);ir.hN(t,i.substring(0,e)+i.substring(n,i.length)),ir.W_(t.EngineDict.ParagraphRun,e,n,!0),ir.W_(t.EngineDict.StyleRun,e,n,!1);t=t.EngineDict.AlternateGlyphRun;t&&ir.W_(t,e,n,!1)},ir.W_=function(t,e,n,i){for(var r=t.RunLengthArray,a=ir.W9(r,e),s=ir.W9(r,n),o=[],l=0;l<r.length;l++)for(var h=0;h<r[l];h++)o.push(l);o.splice(e,n-e);for(var u=[],l=0;l<r.length;l++)u.push(0);for(l=0;l<o.length;l++)u[o[l]]++;for(l=0;l<r.length;l++)0==u[l]?(u.splice(l,1),r.splice(l,1),t.RunArray.splice(l,1),l--):u[l]<r[l]&&(r[l]=u[l]);i&&a.cR!=s.cR&&a.wX!=e&&(r[a.cR]+=r[a.cR+1],r.splice(a.cR+1,1),t.RunArray.splice(a.cR+1,1))},ir.xB=function(t,e,n,i){n==t.EngineDict.Editor.Text.length-2&&n++,null!=i.hy.Font&&(t.ResourceDict.FontSet=i.CV.slice(0)),e<=n&&ir.ahh(t.EngineDict.StyleRun,i.hy,e,n,!0),ir.ahh(t.EngineDict.ParagraphRun,i.eS,e,n,!1)},ir.vK=function(t,e,n){for(var i={CV:t.ResourceDict.FontSet.slice(0),hy:[],eS:[]},r=t.EngineDict.StyleRun.RunLengthArray,a=ir.W9(r,e).cR,s=ir.W9(r,n).cR,o=a;o<=s;o++){var l=ir.rN(t.ResourceDict.StyleSheetSet[0].StyleSheetData),h=t.EngineDict.StyleRun.RunArray;0!=h.length&&(h=h[o].StyleSheet.StyleSheetData,ir.OE(l,h),i.hy.push(l))}for(var a=t.EngineDict.ParagraphRun.RunLengthArray,e=ir.W9(a,e).cR,u=ir.W9(a,n).cR,o=e;o<=u;o++){var f=t.EngineDict.ParagraphRun.RunArray;0!=f.length&&i.eS.push(ir.rN(f[o].ParagraphSheet.Properties))}return i.hy=0==i.hy.length?{}:ir.bR(i.hy),i.eS=0==i.eS.length?{}:ir.bR(i.eS),i},ir.ahh=function(t,e,n,i,r){var a,s=t.RunLengthArray;r&&((o=ir.W9(s,n)).wX!=n&&(a=s[o.cR],s.splice(o.cR,0,n-o.wX),s[o.cR+1]=a-s[o.cR],t.RunArray.splice(o.cR+1,0,ir.rN(t.RunArray[o.cR]))),(l=ir.W9(s,i)).wX+s[l.cR]-1!=i&&(a=s[l.cR],s.splice(l.cR,0,i-l.wX+1),s[l.cR+1]=a-s[l.cR],t.RunArray.splice(l.cR+1,0,ir.rN(t.RunArray[l.cR]))));var o=ir.W9(s,n),l=ir.W9(s,i);if(r)for(var h=o.cR;h<=l.cR;h++)ir.OE(t.RunArray[h].StyleSheet.StyleSheetData,e);else for(h=o.cR;h<=l.cR;h++)ir.OE(t.RunArray[h].ParagraphSheet.Properties,e)},ir.aqb=function(t,e,n){for(var i=t.EngineDict.StyleRun.RunLengthArray,r=[],a=0,s=0;s<i.length;s++){for(var o=i[s],l=0;l<o;l++)e<=a+l&&a+l<n&&r.push(s);a+=o}for(var h=r[0],u=[],s=0;s<r.length;s++){var f=r[s]-h;f==u.length&&u.push(0),u[f]++}return u},ir.atX=function(t){for(var t=t.EngineDict.StyleRun,e=t.RunArray,n=t.RunLengthArray,i=0;i<n.length-1;i++){var r=e[i].StyleSheet.StyleSheetData,a=e[i+1].StyleSheet.StyleSheetData;JSON.stringify(r)==JSON.stringify(a)&&(e.splice(i+1,1),n[i]+=n[i+1],n.splice(i+1,1),i--)}},ir._P=function(t){t=t.wq.AntA.v.Annt;return t=-1==(t=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(t))?1:t},ir.jV=function(t,e){t.wq.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][e]},ir.xe=function(t,e){for(var n=["FontSize","Leading","BaselineShift"],i=t.hy,r=0;r<n.length;r++)null!=i[n[r]]&&(i[n[r]]*=e);n=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"],i=t.eS;for(r=0;r<n.length;r++)null!=i[n[r]]&&(i[n[r]]*=e)},ir.a4r=function(){return ir.vK(ir.aj8,0,0)},ir.arA=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}},ir.W9=function(t,e){for(var n=0,i=0;n+t[i]<=e;)n+=t[i],i++;return{cR:i,wX:n}},ir.akp=function(){return ir.rN(this.aj8)},ir.ahG={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1},ir.ac0={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,_LineWidth:1,_FillBackgroundFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2},ir.auy=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}},ir.aj8={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(ir.ahG))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"、。，．・：；？！ー―’”）〕］｝〉》」』】ヽヾゝゞ々ぁぃぅぇぉっゃゅょゎァィゥェォッャュョヮヵヶ゛゜?!)]},.:;℃℉¢％‰",NoEnd:"‘“（〔［｛〈《「『【([{￥＄£＠§〒＃",Keep:"―‥",Hanging:"、。.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"、。，．・：；？！’”）〕］｝〉》」』】ヽヾゝゞ々",NoEnd:"‘“（〔［｛〈《「『【",Keep:"―‥",Hanging:"、。.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(ir.ahG))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(ir.ac0))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};var rr={a7F:function(t){var e=rr.a0n(t._0,t._1);return rr.afI(e,t._0),e},afh:function(t,e,n){var i={_98:{_0:"i7"}};return i._0=rr.a7V(t,e,n?n._0:null),i._1=rr.a4H(t,e,i._0,n?n._1:null),i},a7V:function(t,e,n){var i={};return i._1=rr.ahv(t,n?n._1:null),i._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]},i._3=JSON.parse(JSON.stringify(rr.acV)),i._4=JSON.parse(JSON.stringify(rr.a7u)),i._5=rr.arz(t,i._1._0,n?n._5:null),i._6=rr.a69(t,n?n._6:null),i._8=rr.a7_(t,e,n?n._8:null),i._9=rr.abx,i},afI:function(t,e){rr.ajU(t,e._5,e._1._0)},ahv:function(t,e){for(var n=[],i=[],r=0;r<t.length;r++)for(var a=t[r].ResourceDict.FontSet,s=0;s<a.length;s++){var o=a[s];-1==i.indexOf(o.Name)&&(n.push(o),i.push(o.Name))}for(var l={_0:[]},r=0;r<n.length;r++){var h=n[r],u={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+h.Name,_1:"i"+h.Script,_2:"i"+h.FontType}}};0==h.Script&&delete u._0._0._1,l._0.push(u)}return l},arz:function(t,e,n){var i={_0:[],_1:[]},r={_0:JSON.parse(JSON.stringify(rr.ajY))};return rr.arb(r._0,t[0].ResourceDict.StyleSheetSet[0],e,t[0].ResourceDict.FontSet),i._0.push(r),i._1.push({_0:"i0"}),i._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}}),i._1.push({_0:"i1"}),i},ajU:function(t,e,n){for(var i=e._0[0],r=0;r<t.length;r++)rr.an$(i._0,t[r].ResourceDict.StyleSheetSet[0],n,t[r].ResourceDict.FontSet)},a69:function(t,e){var n={_0:[],_1:[]},i={_0:JSON.parse(JSON.stringify(rr.vV))};return rr.FB(i._0,t[0].ResourceDict.ParagraphSheetSet[0]),n._0.push(i),n._1.push({_0:"i0"}),i={_0:JSON.parse(JSON.stringify(rr.vV))},rr.FB(i._0,t[0].ResourceDict.ParagraphSheetSet[0]),i._0._0="sBasic Paragraph",i._0._6="i0",n._0.push(i),n._1.push({_0:"i1"}),n},a7_:function(t,e,n){for(var i={_0:[]},r=0;r<t.length;r++){var a=t[r].Curve,s={};i._0.push({_0:s});var o,l,h,u=ir.R_(t[r]);s._2={},s._2._0="i"+u,2==t[r]._LineOrientation&&(s._2._1="i2"),0==u?(s._2._6=["f-1","f-1"],s._2._11={_4:"i-1",_7:!1}):1==u&&null==a?(l=(o=ir.Ob(t[r]))[2],h=o[3],s._1={_0:rr.z6("f",[0,0,0,0,l,0,l,0,l,0,l,0,l,h,l,h,l,h,l,h,0,h,0,h,0,h,0,h,0,0,0,0])},s._2._6=["f-2","f-2"],s._2._11={_4:"i-2",_7:!1}):1==u?(l=(o=ir.Ob(t[r]))[2],h=o[3],s._1={_0:rr.z6("f",a.Points)},s._2._6=["f-3","f-3"],s._2._11={_4:"i-3",_7:!1}):2==u&&(s._1={_0:rr.z6("f",a.Points)},s._2._6=rr.z6("f",a.TextOnPathTRange),s._2._11={_0:a.Reversed,_3:"i0",_5:"f0",_7:!1})}return i},a4H:function(t,e,n,i){var r={};return r._0=JSON.parse(JSON.stringify(rr.apz)),r._1=rr.a0I(t,e,n,i?i._1:null),r._2=JSON.parse(JSON.stringify(rr.ajY._6)),r._3=JSON.parse(JSON.stringify(rr.vV._5)),r},a0n:function(t,e){return rr.at2(t,e._1)},a0I:function(t,e,n,i){for(var r=[],a=n._1._0,s=0;s<t.length;s++){var o=t[s],l={_0:{}};r.push(l),l._0._0="s"+o.EngineDict.Editor.Text,l._0._0=l._0._0;for(var h=l._0._5={_0:[]},u=o.EngineDict.ParagraphRun,f=0;f<u.RunArray.length;f++){var c={_0:{}};h._0.push(c),c._0._0={_0:"s",_5:{},_6:"i1"},rr.FB(c._0._0,u.RunArray[f].ParagraphSheet),c._1="i"+u.RunLengthArray[f]}for(var p=l._0._6={_0:[]},u=o.EngineDict.StyleRun,f=0;f<u.RunArray.length;f++){var d={_0:{}};p._0.push(d),d._0._0={_0:"s",_5:"i1",_6:{}},rr.arb(d._0._0,u.RunArray[f].StyleSheet,a,o.ResourceDict.FontSet),d._1="i"+u.RunLengthArray[f]}if(u=o.EngineDict.AlternateGlyphRun)for(var v=l._0._9={_0:[]},f=0;f<u.RunArray.length;f++){var g={_0:{}};v._0.push(g);var y=u.RunArray[f];null!=y.Glyph&&(g._0._0={_0:"i"+y.Glyph,_1:"e"}),g._1="i"+u.RunLengthArray[f]}l._0._10={_0:"i4",_2:!0},l._1=rr.view.a2b(o,null,s,null)}return r},at2:function(t,e){for(var n=[],i=t._1._0,r=0;r<e.length;r++){var a=ir.akp();n.push(a);var s=e[r];a.EngineDict.Editor.Text=s._0._0.slice(1);var o=a.EngineDict.ParagraphRun.RunArray[0],l=a.EngineDict.ParagraphRun,h=s._0._5;if(h)for(var u=0;u<h._0.length;u++){var f=h._0[u];l.RunLengthArray[u]=parseInt(f._1.slice(1)),l.RunArray[u]=JSON.parse(JSON.stringify(o)),rr.a8U(f._0._0,l.RunArray[u].ParagraphSheet)}else l.RunLengthArray[0]=ir.CP(a).length;var c=s._0._6,l=a.EngineDict.StyleRun;if(c)for(u=0;u<c._0.length;u++){var p=c._0[u];l.RunLengthArray[u]=parseInt(p._1.slice(1)),l.RunArray[u]={StyleSheet:{StyleSheetData:{}}},rr.an$(p._0._0,l.RunArray[u].StyleSheet,i,a.ResourceDict.FontSet)}else l.RunLengthArray[0]=ir.CP(a).length,l.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}return n},arb:function(t,e,n,i,r){t._0="s"+(e.Name||"");t=t._6,r&&r._6,e=e.StyleSheetData;if(null!=e.Font){for(var a=i[e.Font].Name,s=-1,o=0;o<n.length;o++)if("s"+a==n[o]._0._0._0){s=o;break}t._0="i"+s,null!=e.FontSize&&(t._1="f"+e.FontSize),null!=e.FauxBold&&(t._2=e.FauxBold),null!=e.FauxItalic&&(t._3=e.FauxItalic),null!=e.AutoLeading&&(t._4=e.AutoLeading),null!=e.Leading&&(t._5="f"+e.Leading),null!=e.HorizontalScale&&(t._6="f"+e.HorizontalScale),null!=e.VerticalScale&&(t._7="f"+e.VerticalScale),null!=e.Tracking&&(t._8="i"+e.Tracking),null!=e.BaselineShift&&(t._9="f"+e.BaselineShift),null!=e.AutoKerning&&(t._11="i"+(e.AutoKerning?1:0)),null!=e.FontCaps&&(t._12="i"+e.FontCaps),null!=e.FontBaseline&&(t._13="i"+e.FontBaseline),null!=e.Strikethrough&&(t._15="i"+(e.Strikethrough?1:0)),null!=e.Underline&&(t._16="i"+(e.Underline?2:0)),null!=e.Ligatures&&(t._18=e.Ligatures),null!=e.DLigatures&&(t._19=e.DLigatures),null!=e.BaselineDirection&&(t._35="i"+e.BaselineDirection),null!=e.Language&&(t._38="i"+e.Language),null!=e.FillColor&&(t._53=rr.ej(e.FillColor)),null!=e.StrokeColor&&(t._54=rr.ej(e.StrokeColor)),null!=e.FillFlag&&(t._56=e.FillFlag),null!=e.StrokeFlag&&(t._57=e.StrokeFlag),null!=e._LineWidth&&(t._63="f"+e._LineWidth),null!=e._FillBackgroundColor&&(t._79=rr.ej(e._FillBackgroundColor)),null!=e._FillBackgroundFlag&&(t._80=e._FillBackgroundFlag)}},ej:function(t){return{_99:"/SimplePaint",_0:{_0:"i1",_1:rr.z6("f",t.Values)}}},an$:function(t,e,n,i){t=t._6;null!=t&&(e=e.StyleSheetData,t._0&&(n=n[parseInt(t._0.slice(1))]._0._0._0.slice(1),ir.Ui({hy:e,CV:i},n)),null!=t._1&&(e.FontSize=parseFloat(t._1.slice(1))),null!=t._2&&(e.FauxBold=t._2),null!=t._3&&(e.FauxItalic=t._3),null!=t._4&&(e.AutoLeading=t._4),null!=t._5&&(e.Leading=parseFloat(t._5.slice(1))),null!=t._6&&(e.HorizontalScale=parseFloat(t._6.slice(1))),null!=t._7&&(e.VerticalScale=parseFloat(t._7.slice(1))),null!=t._8&&(e.Tracking=parseFloat(t._8.slice(1))),null!=t._9&&(e.BaselineShift=parseFloat(t._9.slice(1))),null!=t._11&&(e.AutoKerning=1==parseFloat(t._11.slice(1))),null!=t._12&&(e.FontCaps=parseFloat(t._12.slice(1))),null!=t._13&&(e.FontBaseline=parseFloat(t._13.slice(1))),null!=t._15&&(e.Strikethrough=1==parseFloat(t._15.slice(1))),null!=t._16&&(e.Underline=1==parseFloat(t._16.slice(1))),null!=t._18&&(e.Ligatures=t._18),null!=t._19&&(e.DLigatures=t._19),null!=t._35&&(e.BaselineDirection=parseFloat(t._35.slice(1))),null!=t._38&&(e.Language=parseFloat(t._38.slice(1))),null!=t._53&&(e.FillColor=rr.xI(t._53)),null!=t._54&&(e.StrokeColor=rr.xI(t._54)),null!=t._56&&(e.FillFlag=t._56),null!=t._57&&(e.StrokeFlag=t._57),null!=t._63&&(e._LineWidth=parseFloat(t._63.slice(1))),null!=t._79&&(e._FillBackgroundColor=rr.xI(t._79)),null!=t._80&&(e._FillBackgroundFlag=t._80))},xI:function(t){for(var e=t._0._0,n=t._0._1,t=[1,0,0,0],i=[],r=0;r<n.length;r++)i[r]=parseFloat(n[r].slice(1));return"i0"==e?t[1]=t[2]=t[3]=i[1]:"i1"==e?t=i:"i2"==e?t=[1].concat(UDOC.C.cmykToRgb(i.slice(1))):console.log("unknown color type",e,i),{Type:1,Values:t}},FB:function(t,e){t._0="s"+(e.Name||"");t=t._5,e=e.Properties;null!=e.Justification&&(t._0="i"+e.Justification),null!=e.FirstLineIndent&&(t._1="f"+e.FirstLineIndent),null!=e.StartIndent&&(t._2="f"+e.StartIndent),null!=e.EndtIndent&&(t._3="f"+e.EndtIndent),null!=e.SpaceBefore&&(t._4="f"+e.SpaceBefore),null!=e.SpaceAfter&&(t._5="f"+e.SpaceAfter),null!=e.AutoLeading&&(t._7="f"+e.AutoLeading),null!=e.AutoHyphenate&&(t._9=e.AutoHyphenate),null!=e._Direction&&(t._33="i"+e._Direction),null!=e._ComposerEngine&&(t._35="i"+e._ComposerEngine)},a8U:function(t,e){t=t._5;null!=t&&(e=e.Properties,t._0&&(e.Justification=parseInt(t._0.slice(1))))},z6:function(t,e){for(var n=[],i=0;i<e.length;i++)n.push(t+e[i]);return n},acV:{_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]},a7u:{_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}¢—’”‰℃℉、。々〉》《』】〕ぁぃぅぇぉっゃゅょゎ゛゜ゝゞァィゥェォッャュョヮヵヶ・ーヽヾ！％），．：；？］｝",_1:"s([{£§‘“〈《「『【〒〔＃＄（＠［｛￥",_2:"s—‥…",_3:"s、。，．",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s’”、。々〉》《』】〕ゝゞ・ヽヾ！），．：；？］｝",_1:"s‘“〈《「『【〔（［｛",_2:"s—‥…",_3:"s、。，．",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}¢—’”‰℃℉、。々〉》《』】〕ぁぃぅぇぉっゃゅょゎ゛゜ゝゞァィゥェォッャュョヮヵヶ・ーヽヾ！％），．：；？］｝",_1:"s([{£§‘“〈《「『【〒〔＃＄（＠［｛￥",_2:"s—‥…",_3:"s、。，．",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s’”、。々〉》《』】〕ゝゞ・ヽヾ！），．：；？］｝",_1:"s‘“〈《「『【〔（［｛",_2:"s—‥…",_3:"s、。，．",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]},ajY:{_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}},vV:{_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}},abx:{_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]},apz:{_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s",_1:"s5"},{_0:"s　",_1:"s1"},{_0:"s­",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s“",_2:"s”",_3:"s‘",_4:"s’"},{_0:"i1",_1:"s”",_2:"s”",_3:"s’",_4:"s’"},{_0:"i2",_1:"s«",_2:"s»",_3:"s‘",_4:"s’"},{_0:"i3",_1:"s«",_2:"s»",_3:"s‘",_4:"s’"},{_0:"i4",_1:"s„",_2:"s“",_3:"s‚",_4:"s‘"},{_0:"i5",_1:"s„",_2:"s“",_3:"s‚",_4:"s‘"},{_0:"i6",_1:"s«",_2:"s»",_3:"s‹",_4:"s›"},{_0:"i7",_1:"s“",_2:"s”",_3:"s‘",_4:"s’"},{_0:"i8",_1:"s«",_2:"s»",_3:"s‘",_4:"s’"},{_0:"i9",_1:"s«",_2:"s»",_3:"s‘",_4:"s’"},{_0:"i10",_1:"s“",_2:"s”",_3:"s‘",_4:"s’"},{_0:"i11",_1:"s“",_2:"s”",_3:"s‘",_4:"s’"},{_0:"i12",_1:"s“",_2:"s”",_3:"s‘",_4:"s’"},{_0:"i13",_1:"s”",_2:"s”",_3:"s’",_4:"s’"},{_0:"i14",_1:"s“",_2:"s”",_3:"s‘",_4:"s’"},{_0:"i15",_1:"s“",_2:"s”",_3:"s‘",_4:"s’"},{_0:"i16",_1:"s”",_2:"s”",_3:"s’",_4:"s’"},{_0:"i17",_1:"s“",_2:"s”",_3:"s‘",_4:"s’"},{_0:"i18",_1:"s«",_2:"s»",_3:"s‘",_4:"s’"},{_0:"i19",_1:"s«",_2:"s»",_3:"s‘",_4:"s’"},{_0:"i20",_1:"s„",_2:"s“",_3:"s‚",_4:"s‘"},{_0:"i21",_1:"s„",_2:"s“",_3:"s‚",_4:"s‘"},{_0:"i22",_1:"s„",_2:"s“",_3:"s‚",_4:"s‘"},{_0:"i23",_1:"s„",_2:"s”",_3:"s‘",_4:"s’"},{_0:"i24",_1:"s„",_2:"s”",_3:"s‚",_4:"s’"},{_0:"i25",_1:"s«",_2:"s»",_3:"s‹",_4:"s›"},{_0:"i26",_1:"s“",_2:"s”",_3:"s‘",_4:"s’"},{_0:"i27",_1:"s“",_2:"s”",_3:"s‘",_4:"s’"},{_0:"i28",_1:"s„",_2:"s”",_3:"s’",_4:"s’"},{_0:"i29",_1:"s〝",_2:"s〞"},{_0:"i30",_1:"s「",_2:"s」"},{_0:"i31",_1:"s„",_2:"s“",_3:"s‘",_4:"s’"},{_0:"i32",_1:"s“",_2:"s”",_3:"s‘",_4:"s’"},{_0:"i33",_1:"s„",_2:"s“",_3:"s‚",_4:"s‘"},{_0:"i34",_1:"s«",_2:"s»",_3:"s‘",_4:"s’"},{_0:"i35",_1:"s“",_2:"s”",_3:"s‘",_4:"s’"},{_0:"i36",_1:"s„",_2:"s“",_3:"s‚",_4:"s‘"},{_0:"i37",_1:"s«",_2:"s»",_3:"s‘",_4:"s’"},{_0:"i38",_1:"s„",_2:"s“",_3:"s‚",_4:"s‘"},{_0:"i39",_1:"s«",_2:"s»",_3:"s<",_4:"s>"},{_0:"i40",_1:"s„",_2:"s“",_3:"s‚",_4:"s‘"},{_0:"i41",_1:"s«",_2:"s»",_3:"s<",_4:"s>"},{_0:"i42",_1:"s„",_2:"s“",_3:"s‚",_4:"s‘"},{_0:"i43",_1:"s“",_2:"s”",_3:"s‘",_4:"s’"},{_0:"i44",_1:"s«",_2:"s»",_3:"s‹",_4:"s›"},{_0:"i45",_1:"s“",_2:"s”",_3:"s‘",_4:"s’"}],_15:{_0:"sWinSoft"},_16:!1}},ar={};function sr(){}function or(){}function lr(){}ar.au3=function(t){return ar.pU(t,ar.Sg,0)},ar.aty=function(t){return ar.mP(t,ar.Sg)},ar.pU=function(t,e,n){if("string"==typeof t)return t;if(t instanceof Array)for(var i=[],r=0;r<t.length;r++)i[r]=ar.pU(t[r],e,n+1);else{i={};var a,s={};for(a in e){var o=e[a],l="_"+o[0];null!=t[l]&&(i[a]=o[1]?ar.pU(t[l],o[1],n+1):t[l],s[l]=!0)}for(a in t)if(null==s[a]&&!(3<a.length))throw console.log(e,s),console.log(a,t),"e"}return i},ar.mP=function(t,e){if("string"==typeof t)return t;if(t instanceof Array)for(var n=[],i=0;i<t.length;i++)n[i]=ar.mP(t[i],e);else{n={};var r,a={};for(r in e){var s=e[r],o="_"+s[0];null!=t[r]&&(n[o]=s[1]?ar.mP(t[r],s[1]):t[r],a[r]=!0)}for(r in t)if(null==a[r])throw console.log(e,a),console.log(r,t),"e"}return n},ar.T1={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]},ar.q6={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,ar.T1],_StrokeColor:[54,ar.T1],_Blend:[55,{_1:[1],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,ar.T1],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_89:[89],_90:[90]},ar.a3N={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,ar.q6],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]},ar.akO={_Name:[0],_Features:[5,ar.a3N],_Parent:[6],_97:[97]},ar.a5W={_Name:[0],_Parent:[5],_Features:[6,ar.q6],_97:[97]},ar.Sg={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,ar.a5W]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,ar.akO]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_4:[4],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12],_13:[13]}],_97:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6]}],_PredefinedTag:[6],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,ar.akO]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,ar.a5W]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,ar.q6],_OriginalNormalParagraphFeatures:[3,ar.a3N]}]},rr.view={},rr.view.a2b=function(t,e,n,i){var r={};ir.R_(t);return r._0=[{_0:"i"+n}],r},sr.a44=function(t,e){var n,i=t.add,r=i.vmsk,a=i.vstk,s=i.lmfx,o=i.TySh,l=[],i=sr.as5(s,i);t.D5()&&r?((n=Rr.$.b3(r.Y)).mN()||(l.push("width: "+Math.round(n.m)+"px"),l.push("height: "+Math.round(n.n)+"px")),0<(r=Rr.$.a66(r.Y))&&l.push("border-radius: "+Math.round(r)+"px")):o&&(h=o.nx,1==ir.R_(h)&&(n=ir.Ob(h),l.push("width: "+Math.round(n[2])+"px"),l.push("height: "+Math.round(n[3])+"px")),sr.a5o(l,ir.vK(h,0,0),o.A,!1,!1,i[0]));for(var h,u=[],f=s?s.dropShadowMulti.v:0,c=0;c<f.length;c++){var p,d,v,g=f[c].v;g.enab.v&&(p=g.Dstn.v.val,v=g.lagl.v.val*Math.PI/180,g.uglg&&g.uglg.v&&(v=e.GT()*Math.PI/180),d=p*Math.cos(v),v=p*Math.sin(v),u.push("drop-shadow("+(0==d?"0 ":sr.VE(-d)+"px ")+(0==v?"0 ":sr.VE(v)+"px ")+g.blur.v.val/2+"px "+sr.vz(g.Clr.v,g.Opct.v.val/100)+")"))}return 0!=u.length&&l.push("filter: "+u.join(" ")),null==o&&sr.a4d(i,l),(a=null==a||!a.strokeEnabled.v?Xi.n8(s):a)&&a.strokeEnabled.v&&(o=(h=a.strokeStyleContent.v).classID,Wi.XF.Sl.indexOf(a.strokeStyleLineCapType.v.strokeStyleLineCapType),Wi.XF.join.indexOf(a.strokeStyleLineJoinType.v.strokeStyleLineJoinType),i=a.strokeStyleOpacity.v.val/100,s=a.strokeStyleLineWidth.v.val,a="","solidColorLayer"==o&&(a=sr.vz(h.Clr.v,i)),l.push("border: "+s+"px solid "+a)),l},sr.as5=function(t,e){var n,i,r=Xi.Xb(t,e),t=r[0],r=r[1];return t?n=sr.vz(t.Clr.v,null!=e.iOpa?e.iOpa/255:1):r&&(i=sr.UM(r)),[n,i]},sr.a4d=function(t,e){t[0]&&e.push("background-color: "+t[0]),t[1]&&e.push("background-image: "+t[1])},sr.bI={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},sr.VE=function(t){return""+parseFloat(t.toFixed(3))},sr.oj=function(t){if(null==t)return{p:0,z:0,S:0};var e,n=t.indexOf("(");if(-1==n)return"#"!=t.charAt(0)&&((e=sr.bI)[t]?t=e[t]:console.log("unknown color "+t)),3==(t=t.slice(1)).length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{p:(t=parseInt(t,16))>>16&255,z:t>>8&255,S:255&t};for(var i=t.slice(n+1,t.length-1).split(","),r=0;r<i.length;r++){var a=i[r].trim();i[r]=parseFloat(a)*(a.endsWith("%")?2.55:1)}return{p:i[0],z:i[1],S:i[2]}},sr.vz=function(t,e){return sr.MF(Rr.I.Na(t),e)},sr.MF=function(t,e){null==e&&(e=1);var n=Math.round(t.p),i=Math.round(t.z),t=Math.round(t.S);return 1==e?"#"+Rr.zI(n<<16|i<<8|t):"rgba("+n+","+i+","+t+","+e+")"},sr.UM=function(t){var e=t.Grad.v;if(null==e.Clrs)return"";var n=e.Clrs.v.slice(0),i=e.Trns.v.slice(0),r=(t.Ofst.v,"Rdl"==t.Type.v.GrdT?1:0),e=(1==r?"radial":"linear")+"-gradient",a=0==r?Math.round(90-t.Angl.v.val)+"deg":"circle at center",s=t.Rvrs.v;s&&(n.reverse(),i.reverse());for(var o=0;o<n.length;o++){var l=n[o].v,h=o<i.length?i[o].v.Opct.v.val/100:1,u=l.Lctn.v/4096;s&&(u=1-u),a+=", "+sr.vz(l.Clr.v,h)+" "+Math.round(100*u)+"%"}return e+"("+a+")"},sr.a5o=function(t,e,n,i,r,a){var s=e.hy,o=i?1:qr.Q.eZ(n),l=Math.round(s.FontSize*o);t.push("font-size: "+l+"px");n=s.Tracking;i||null==n||0==n||t.push("letter-spacing: "+Math.round(n*l/1e3)+"px"),s.AutoLeading||t.push("line-height: "+Math.round(s.Leading*o)+"px"),s.Strikethrough&&t.push("text-decoration: line-through"),s.Underline&&t.push("text-decoration: underline");n=[(n=ir.Na(s.FillColor)).p,n.z,n.S].map(Math.round);t.push((i?"fill: ":"color: ")+(a||"#"+Rr.zI(n[0]<<16|n[1]<<8|n[2])));l=e.CV[s.Font].Name;l&&(o="",(n=a=null)!=(s=v.bQ.Jf(l))&&l!=v.n6(s)&&(s=null),r&&s&&(o+='"'+l+'", '),r=l.toLowerCase(),s?(a=v.Yf(s)[0],s["OS/2"]&&(n=s["OS/2"].usWeightClass)):(a=sr.a7K(l),-1!=r.indexOf("light")?n=300:-1!=r.indexOf("medium")?n=500:-1!=r.indexOf("black")||-1!=r.indexOf("extrabold")?n=800:-1!=r.indexOf("bold")&&(n="bold")),null!=a&&(o+='"'+a+'"'),null!=n&&t.push("font-weight: "+n),-1==r.indexOf("italic")&&-1==r.indexOf("oblique")||t.push("font-style: italic"),o&&t.push("font-family: "+o));e=e.eS.Justification;null!=e&&0!=e&&(i||t.push("text-align: "+["left","right","center"][e%3]))},sr.a7K=function(t){for(t=t.split("-")[0];t.endsWith("MT")||t.endsWith("PS");)t=t.slice(0,t.length-2);for(var e=!0,n=0;n<t.length;n++)var i=t.charAt(n),e=!e&&i.toLowerCase()!=i&&(t=t.slice(0,n)+" "+t.slice(n),n++,!0);return t},or.U$={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0},or.AS=function(t,e){var n;Date.now();try{n=acorn.parse(t)}catch(t){return void console.log(t)}t=JSON.parse(JSON.stringify(or.XT.K9));t.__return=!1,t.__continue=!1,t.__break=!1,t.__throw=!1,t.__fs={},t.__window={},or.eval(n,e,t);t=t.__fs;0!=Object.keys(t).length&&(t=UZIP.encode(t),El.save(t,"output.zip"))},or.eval=function(t,e,n){var i=t.type;if(0,"Program"==i||"BlockStatement"==i){for(var r=t.body,a=0;a<r.length;a++)"FunctionDeclaration"==r[a].type&&(n[r[a].id.name]=r[a]);for(a=0;a<r.length;a++){r[a].type;var s=or.eval(r[a],e,n);if(n.__continue)return n.__continue=!1,s;if(n.__return||n.__break||n.__throw)return s}}else{if("ReturnStatement"==i)return n.__return=!0,t.argument?or.o_(t.argument,e,n):null;if("BreakStatement"==i)n.__break=!0;else if("ContinueStatement"==i)n.__continue=!0;else if("VariableDeclaration"==i)for(var o=t.declarations,a=0;a<o.length;a++)or.eval(o[a],e,n);else if("VariableDeclarator"==i)n[t.id.name]=t.init?or.o_(t.init,e,n):null;else if("FunctionDeclaration"==i)n[t.id.name]=t;else{if("MemberExpression"==i){var l=or.o_(t.object,e,n),h=t.computed?or.o_(t.property,e,n):or.eval(t.property,e,n);return null!=l.DF?s=or.XT.oE(l,h,e,n):l==window&&or.U$[h]||(s=l[h]),s}if("ArrayExpression"==i){for(var u=[],f=t.elements,a=0;a<f.length;a++)u.push(or.o_(f[a],e,n));return u}if("ObjectExpression"==i){for(u={},f=t.properties,a=0;a<f.length;a++){f[a];u[f[a].key.name||f[a].key.value]=or.o_(f[a].value,e,n)}return u}if("ExpressionStatement"==i)return or.eval(t.expression,e,n);if("NewExpression"==i){for(var c=t.arguments,p=(b=t.callee).type,d=b.name,v=[],u=null,a=0;a<c.length;a++)v.push(or.o_(c[a],e,n));if("Array"==d)u=new window[d];else{if("Identifier"!=p)throw"e";u=or.XT.a01(d,v,e,n)}if(null==u)throw"new "+d;return u}if("CallExpression"==i){var c=t.arguments,p=(b=t.callee).type,g={};for(L in n)g[L]=n[L];for(v=[],a=0;a<c.length;a++)v.push(or.o_(c[a],e,n));if("Identifier"==p){var y=b.name,d=n[y];if(d){if(d.params){for(var m=d.params,a=0;a<m.length;a++)g[m[a].name]=v[a];return or.eval(d.body,e,g)}return d.apply(null,v)}if(-1!=or.XT.ajA.indexOf(y))return or.XT.Rd({DF:"Application"},y,v,e,n);if(null==window[y])console.log("Unknown function "+y);else{if(!or.U$[y])return window[y].apply(window,v);alert(y+"() not available")}}else if("MemberExpression"==p){l=or.o_(b.object,e,n),h=b.computed?or.o_(b.property,e,n):or.eval(b.property,e,n);if(l!=window||!or.U$[h])return null!=l.DF?or.XT.Rd(l,h,v,e,n):l[h].apply(l,v)}else{if("FunctionExpression"==p)return or.eval(b.body,e,n);console.log(t)}}else if("AssignmentExpression"==i){var w=t.operator,l=(C=t.left).type,p=or.o_(C,e,n),b=or.o_(t.right,e,n),s=null;"="==w?s=b:"+="==w?s=p+b:"-="==w?s=p-b:"*="==w?s=p*b:"/="==w?s=p/b:"%="==w?s=p%b:"&="==w?s=p&b:"|="==w?s=p|b:"&&="==w?s=p&&b:"||="==w?s=p||b:console.log(t),"Identifier"==l?(b=C.name,n.hasOwnProperty(b)?n[b]=s:n.__window[b]=s):"MemberExpression"==l?(S=or.eval(C.property,e,n),null!=(M=or.o_(C.object,e,n)).DF?or.XT.aa9(M,S,s,e,n):M[S]=s):console.log(t)}else{if("Identifier"==i)return t.name;if("Literal"==i)return t.value;if("UpdateExpression"==i){var w=t.operator,M=t.argument.name,u=or.o_(t.argument,e,n),S=n;return null==S[M]&&(S=n.__window),"++"==w?(S[M]++,t.prefix?S[M]:S[M]-1):"--"==w?(S[M]--,t.prefix?S[M]:S[M]+1):void console.log(t)}if("UnaryExpression"==i){w=t.operator;return"UnitValue"==(x=or.o_(t.argument,e,n)).DF?"-"==w?-x.k:or.a3c(x.k,w):or.a3c(x,w)}if("BinaryExpression"==i||"LogicalExpression"==i){var w=t.operator,C=or.o_(t.left,e,n),x=or.o_(t.right,e,n);return null==C||null==x?or.Su(C,x,w):"UnitValue"==C.DF&&"UnitValue"==x.DF?or.Su(C.k,x.k,w):"UnitValue"==C.DF?or.Su(C.k,x,w):"UnitValue"==x.DF?"-"==w?-(C-x.k):or.Su(C,x.k,w):or.Su(C,x,w)}if("IfStatement"==i||"ConditionalExpression"==i)return or.o_(t.test,e,n)?or.eval(t.consequent,e,n):t.alternate?or.eval(t.alternate,e,n):void 0;if("ForInStatement"==i){or.eval(t.left,e,n);var L,D=t.left.declarations[0].id.name;for(L in or.o_(t.right,e,n)){n[D]=L;var k=or.eval(t.body,e,n);if(n.__break)break;if(n.__return)return k}n.__break=!1}else if("ForStatement"==i){for(or.eval(t.init,e,n);or.eval(t.test,e,n);){k=or.eval(t.body,e,n);if(n.__break)break;if(n.__return)return k;or.eval(t.update,e,n)}n.__break=!1}else if("DoWhileStatement"==i){do{k=or.eval(t.body,e,n);if(n.__break)break;if(n.__return)return k}while(or.eval(t.test,e,n));n.__break=!1}else"TryStatement"==i?(or.eval(t.block,e,n),n.__throw&&(n[(w=t.handler).param.name]=n.__throw,n.__throw=!1,or.eval(w.body,e,n),delete n[w.param.name])):"EmptyStatement"==i||console.log(t)}}}},or.Su=function(t,e,n){return"+"==n?t+e:"-"==n?t-e:"*"==n?t*e:"/"==n?t/e:"%"==n?t%e:"^"==n?t^e:"&"==n?t&e:"&&"==n?t&&e:"|"==n?t|e:"||"==n?t||e:"<"==n?t<e:">"==n?e<t:"=="==n?t.DF&&e.DF?t.k==e.k:t==e:"==="==n?t===e:"<="==n?t<=e:">="==n?e<=t:"!="==n?t!=e:"!=="==n?t!==e:"<<"==n?t<<e:">>"==n?t>>e:void console.log(n)},or.a3c=function(t,e){return"-"==e?-t:"!"==e?!t:"~"==e?~t:"+"==e?t:void console.log(obj)},or.o_=function(t,e,n){return"Identifier"==t.type?or.ao6(t.name,e,n):or.eval(t,e,n)},or.ao6=function(t,e,n){return"undefined"==t?void 0:n.hasOwnProperty(t)?n[t]:"app"==t?{DF:"Application"}:"$"==t?{DF:"$"}:-1!=or.XT.acv.indexOf(t)?or.XT.oE({DF:"Application"},t,e,n):n.__window.hasOwnProperty(t)?n.__window[t]:window[t]&&!or.U$[t]?window[t]:n[t]=null},or.XT={},or.XT.a01=function(t,e,n,i){var r;return"SolidColor"==t&&(r={DF:t,k:[1,0,0,0]}),"RGBColor"==t&&(r={DF:t,k:[1,0,0,0]}),"Window"==t&&(r={DF:t,k:new Ds(e[0],e[1],e[2])}),"ExportOptionsSaveForWeb"==t&&(r={DF:t,k:{gw:"png",BB:100}}),"JPEGSaveOptions"==t&&(r={DF:t,k:{gw:"jpg",BB:100}}),"PDFSaveOptions"==t&&(r={DF:t,k:{gw:"pdf",amk:""}}),"File"==t&&(r={DF:t,k:e[0]}),"ActionReference"==t&&(r={DF:t,k:[]}),"ActionDescriptor"==t&&(r={DF:t,k:{}}),"ActionList"==t&&(r={DF:t,k:[]}),r="UnitValue"==t?{DF:t,k:0==e.length?0:parseFloat(e[0])}:r},or.XT.acv="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor".split(" "),or.XT.ajA="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction".split(" "),or.XT.oE=function(t,e,n,i){var r=n.jz,a=n.JK();if(0,"typename"==e)return"Layer"==t.DF?t.k.dH()?"LayerSet":"ArtLayer":t.DF;if(-1!=["Document","Layer"].indexOf(t.DF)&&-1!=["layers","artLayers","layerSets"].indexOf(e)){var s=a.root,o={DF:"Layers",ox:e,k:[]};if(null==(s="Layer"==t.DF?a.root.eu(a.g.indexOf(t.k)):s).children)return null;for(var l=0;l<s.children.length;l++){var h=(v=s.children[l].i).dH();h&&"artLayers"==e||!h&&"layerSets"==e||o.k.push({DF:"Layer",k:v})}return o.k.reverse(),o}if("Documents"==t.DF||"Layers"==t.DF||"HistoryStates"==t.DF||"LayerComps"==t.DF)return"length"==e?t.k.length:Number.isInteger(e)?t.k[e]:void console.log(t.DF+": unknown property ",e);if("Application"==t.DF){if(0,"activeDocument"==e)return{DF:"Document",k:n.JK()};if("documents"==e){for(o={DF:"Documents",k:[]},l=0;l<n.$c.length;l++)o.k.push({DF:"Document",k:n.$c[l]});return o}if("fonts"==e)return{DF:"TextFonts"};if("preferences"==e)return{DF:"Preferences"};if("displayDialogs"==e)return{DF:"DialogModes"};if("foregroundColor"==e||"backgroundColor"==e){var u="f"==e[0]?r.k$:r.JH;return{DF:"SolidColor",k:[1,(u>>>16&255)/255,(u>>>8&255)/255,(u>>>0&255)/255]}}if("UI"==e)return{DF:"UI"};console.log(t,e)}else if("Document"==t.DF){a=t.k;if(0,"activeLayer"==e)return{DF:"Layer",k:v=a.g[a.w[0]]};if("resolution"==e)return a.Mg;if("width"==e)return a.m;if("height"==e)return a.n;if("name"==e)return a.name;if("saved"==e)return!a.iD();if("selection"==e)return{DF:"Selection"};if("activeHistoryState"==e)return{DF:"HistoryState",BT:a.i_};if("source"==e)return a.Eo;if("layerComps"==e){for(var f=a.HE.list.v,c=[],l=0;l<f.length;l++)c.push({DF:"LayerComp",k:l});return{DF:"LayerComps",k:c}}if("historyStates"==e){for(var p=[],l=0;l<a.history.length;l++)p.push({DF:"HistoryState",BT:l});return{DF:"HistoryStates",k:p}}console.log(t,e)}else{if("LayerComp"==t.DF){if("name"==e)return a.HE.list.v[t.k].v.Nm.v;throw e}if("Layer"==t.DF){var d={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},v=t.k;if(0,"visible"==e)return v.SH();if("selected"==e)return-1!=a.w.indexOf(a.g.indexOf(v));if("grouped"==e)return v.jF;if(null!=d[e])return v.zC(d[e]);if("opacity"==e)return 100*v.opacity/255;if("blendMode"==e)return v.SD;if("name"==e)return v.getName();if("textItem"==e)return{DF:"TextItem",k:v};if("bounds"==e){var g=qr.Q.bZ(a,[a.g.indexOf(v)]);return or.XT.aat(g,a)}if("parent"==e){for(var y=n.$c,l=0;l<y.length;l++)if(-1!=y[l].g.indexOf(v))return{DF:"Document",k:y[l]}}else{if("kind"==e){for(var m=or.XT.Yx,l=0;l<m.length;l++)if(null!=v.add[m[l]])return l;return 0}console.log(t,e)}}else if("Selection"==t.DF){if(0,"bounds"==e)return or.XT.aat(n.JK().v.rect,a);console.log(t,e)}else if("TextItem"==t.DF){var w=t.k.add.TySh,b=w.nx,M=ir.CP(b),u=w.A.eZ(),d=ir.vK(b,0,Math.max(0,M.length-2));if("contents"==e)return M.slice(0,M.length-1).replace(/\n/g,"\r");if("font"==e)return null!=d.hy.Font?d.CV[d.hy.Font].Name:null;if("size"==e)return or.XT.EG(d.hy.FontSize*u,a);if("leading"==e)return or.XT.EG(d.hy.Leading*u,a);if("tracking"==e)return or.XT.EG(d.hy.Tracking);if("baselineShift"==e)return or.XT.EG(d.hy.BaselineShift);if("fauxBold"==e)return d.hy.FauxBold;if("fauxItalic"==e)return d.hy.FauxItalic;if("kind"==e)return 1-ir.R_(b);if("useAutoLeading"==e)return d.eS.AutoLeading;if("hyphenation"==e)return d.eS.AutoHyphenate;if("justification"==e)return or.XT.EG(d.eS.Justification);if("color"==e)return{DF:"SolidColor",k:d.hy.FillColor.Values.slice(0)};if("width"==e||"height"==e){M=ir.Ob(b),b=(M[2]-M[0])*u,u=(M[3]-M[1])*u;return or.XT.EG("width"==e?b:u,a)}if("position"==e){var S=w.A;return or.XT.a15([S.E_,S.Qq],a)}if("horizontalScale"==e||"verticalScale"==e){S=e[0].toUpperCase()+e.slice(1);return Math.round(100*d.hy[S])}"antiAliasMethod"==e?ir._P(w):console.log(t,e)}else if("Preferences"==t.DF){if("rulerUnits"==e)return r.jv.el;console.log(t,e)}else if("SolidColor"==t.DF){if("rgb"==e)return{DF:"RGBColor",k:t.k};console.log(t,e)}else{if("RGBColor"==t.DF){g=Math.round(255*t.k[1]),w=Math.round(255*t.k[2]),r=Math.round(255*t.k[3]);return"red"==e?g:"green"==e?w:"blue"==e?r:"hexValue"==e?"#"+Rr.zI(g<<16|w<<8|r).toUpperCase():void console.log(t,e)}if("UnitValue"==t.DF){if("value"==e)return t.k;throw"e"}if("ExportOptionsSaveForWeb"==t.DF){if("format"==e)return t.k.gw;if("PNG8"==e||"interlaced"==e)return!1;if("quality"==e)return t.k.BB;if("transparency"==e)return!0;throw e}if("JPEGSaveOptions"==t.DF||"PDFSaveOptions"==t.DF)return 0;if("$"==t.DF){if("localize"==e)return!1}else{if("ActionList"==t.DF){if("count"==e)return t.BE.length;throw e}console.log(t,e)}}}},or.XT.aat=function(t,e){return or.XT.a15([t.x,t.y,t.x+t.m,t.y+t.n],e)},or.XT.a15=function(t,e){for(var n=[],i=0;i<t.length;i++)n.push(or.XT.EG(t[i],e));return n},or.XT.aiR=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].DF?t[n].k:t[n]);return e},or.XT.EG=function(t,e){return{DF:"UnitValue",k:t}},or.XT.a1E=function(t,e){return"UnitValue"==t.DF?t.k:t},or.XT.aa9=function(t,e,n,i,r){var a=new yr(mr.E.u,!0),s=new yr(mr.E.W,!0),o=i.JK(),l=i.jz;if(0,"Application"==t.DF)"activeDocument"==e?(s.data={d:mr.J.Ro,Jt:n.k},i.c(s)):"displayDialogs"==e||console.log(t,e,n);else if("Document"==t.DF){var h=t.k;"name"==e?(a.b=qr.ZD,a.data={d:qi.dY,k:n,asS:!0,BV:h},o.iM=!0):"source"==e?h.Eo=n:"activeLayer"==e?h.w=[h.g.indexOf(n.k)]:"activeHistoryState"==e?(a.b=qr.bX,a.data={d:"h_itemchange",index:n.BT}):console.log(t,e)}else if("Layer"==t.DF){a.b=qr.ZD;var u={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},f=t.k,c=o.g.indexOf(f);"visible"==e?f.SH()!=n&&(a.data={d:qi.hP,i:c}):"opacity"==e?a.data={d:qi.t$,i:c,NL:Math.round(255*n/100)}:"blendMode"==e?a.data={d:qi.Lu,i:c,NL:Ji.sp.indexOf(n)}:"name"==e?a.data={d:qi.Rq,i:c,name:n}:null!=u[e]?a.data={d:qi.N1,i:c,NL:[[n],[u[e]]]}:"kind"==e?a.data={d:qi.Hi,i:c,Ly:or.XT.Yx[n]}:"grouped"==e?a.data={d:qi.io,i:c,NL:n}:console.log(t,e,n)}else if("TextItem"==t.DF){a.b=qr.iL;var p,d,v=(f=t.k).add.TySh,g=JSON.parse(JSON.stringify(v.nx)),y=v.A.clone(),m=v.A.eZ(),w=ir.CP(g),b=ir.vK(g,0,w.length-2),h=!1;"contents"==e?(ir.SI(g,0,w.length-1),ir.RX(g,0,n.replace(/\r/g,"\n"))):"size"==e?(b.hy.FontSize=(null!=n.k?n.k:n)/m,h=!0):"leading"==e?(b.hy.Leading=(null!=n.k?n.k:n)/m,h=!0):"tracking"==e?(b.hy.Tracking=null!=n.k?n.k:n,h=!0):"baselineShift"==e?(b.hy.BaselineShift=null!=n.k?n.k:n,h=!0):"fauxBold"==e?(b.hy.FauxBold=n,h=!0):"fauxItalic"==e?(b.hy.FauxItalic=n,h=!0):"kind"==e?(1==(p=ir.R_(g))&&1==n&&(c=(u=new nr(g,i.jz.PG).eS[0]).JY[0].end,c=u.pw[c-1].end,ir.SI(g,0,w.length-1),ir.RX(g,0,w.slice(0,c-1))),p==n&&ir.b8(g,1-n)):"useAutoLeading"==e?(b.eS.AutoLeading=n,h=!0):"hyphenation"==e?(b.eS.AutoHyphenate=n,h=!0):"justification"==e?(b.eS.Justification=n,h=!0):"font"==e?(ir.Ui(b,n),h=!0):"color"==e?(b.hy.FillColor.Values=n.k.slice(0),h=!0):"width"==e||"height"==e?(d=ir.Ob(g).slice(0),p=or.XT.a1E(n),"width"==e?d[2]=Math.round(d[0]+p/m):d[3]=Math.round(d[1]+p/m),ir.NO(g,d)):"position"==e?(y.E_=n[0],y.Qq=n[1]):"horizontalScale"==e||"verticalScale"==e?(d=e[0].toUpperCase()+e.slice(1),b.hy[d]=n/100,h=!0):"antiAliasMethod"==e?ir.jV(v,n):console.log(t,e,n),h&&ir.xB(g,0,w.length-1,b),a.data={d:"newED",Ru:o.g.indexOf(f),M7:g,A:y}}else if("Preferences"==t.DF)"rulerUnits"==e?((l=JSON.parse(JSON.stringify(l.jv))).el=n,s.data={d:mr.J.ot,jm:Bi.TL,NL:l},i.c(s)):console.log(t,e,n);else if("SolidColor"==t.DF){if("rgb"!=e)throw e;t.k=n.k}else if("RGBColor"==t.DF)"red"==e?t.k[1]=n/255:"green"==e?t.k[2]=n/255:"blue"==e?t.k[3]=n/255:"hexValue"==e?(s=Rr.$x(n.slice(1)),t.k[1]=(s>>>16&255)/255,t.k[2]=(s>>>8&255)/255,t.k[3]=(s>>>0&255)/255):console.log(t,e);else if("ExportOptionsSaveForWeb"==t.DF){if("format"==e)t.k.gw=n;else if("PNG8"!=e&&"transparency"!=e&&"interlaced"!=e){if("quality"!=e)throw e;t.k.BB=n}}else"JPEGSaveOptions"==t.DF?"quality"==e&&(t.k.BB=Math.round(100*n/12)):"PDFSaveOptions"==t.DF?"preset"==e&&(t.k.amk=n):"$"==t.DF||console.log(t,e,n);null!=a.data&&i.c(a)},or.XT.Rd=function(t,e,n,i,r){var a,s=t.DF,o=null,l=new yr(mr.E.u,!0),h=new yr(mr.E.n$,!0),u=new yr(mr.E.W,!0),f=i.JK(),c=i.$c;if(0,"Application"==s){if(0,"charIDToTypeID"==e)return{slct:"select",Dlt:"delete",Mk:"make"}[k=n[0].trim()]||k;if("stringIDToTypeID"==e){var p=n[0].trim(),d={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"}[p];return null==d?p:d}if("typeIDToStringID"==e)return n[0].trim();if("executeAction"==e){console.log(n),n[1]&&((C=n[1].k).classID=n[0]);var v={setd:"set"}[n[0]];null==v&&(v=n[0]);d=ji.Hv[n[0]];d&&ji.Qf[d]&&(v=ji.Qf[d]),h.data={YY:v,l5:C}}else{if("executeActionGet"==e)return{DF:"ActionDescriptor",k:{classID:"null",null:{t:"obj ",v:n[0].k}},BE:f.g[f.w[0]]};"doAction"==e?u.data={d:mr.J.$u,Nn:[n[0],n[1]]}:"open"==e?(u.data={d:mr.J.pu,jm:{url:n[0]}},n[2]&&0!=c.length&&(u.data.jm.ln=c.indexOf(f))):"echoToOE"==e?u.data={d:mr.J.K$,jm:n[0]}:console.log(e)}}else if("LayerComp"==s){if("apply"!=e)throw e;l.b=qr.z2,l.data={d:"setLC",BT:f.HE.list.v[t.k].v.compID.v}}else if("Document"==s){var g,y,f=t.k;if(0,"crop"==e)h.data=qr.B_.LI(n[0]);else if("trim"==e){for(var m=[],w=0;w<4;w++)m.push(null==n[w+1]||n[w+1]);h.data=qr.B_.ae(null!=n[0]?n[0]:0,m)}else"suspendHistory"==e?(v=acorn.parse(n[1]),or.eval(v,i,r)):"save"==e?u.data={d:mr.J.B4}:"saveToOE"==e?u.data={d:mr.J.B4,_C:n}:"rotateCanvas"==e?h.data=qr.Q.iI(!0,n[0]):"resizeImage"==e||"resizeCanvas"==e?(g=n[0],y=n[1],"number"!=typeof g&&(g=f.m*parseFloat(g.slice(0,g.length-1))/100,y=f.n*parseFloat(y.slice(0,y.length-1))/100),h.data="resizeCanvas"==e?qr.B_.mR(Math.round(g),Math.round(y),n[2]):qr.B_.mD(Math.round(g),Math.round(y),null,1)):"paste"==e?u.data={d:mr.J.cf,oP:0!=n.length&&n[0],u1:!0}:"close"==e?u.data={d:mr.J.ir,cm:f}:"exportDocument"==e||"saveAs"==e?(g=r.__fs,y=n[0].k.replace(":","").replace("~/",""),S=("exportDocument"==e?n[2]:n[1]).k,S=ai._x(f,S.gw,null,null,"pdf"==S.gw?null:[S.BB],i.jz),g[y]=new Uint8Array(S)):console.log(t,e,n)}else if("Layer"==s){var b,M=t.k,S=f.g.indexOf(M);"copy"==e?(or.XT.yC(f,i,0),u.data={d:mr.J.xH,l0:n[0],X2:S,u1:!0},i.c(u),delete u.data,or.XT.yC(f,i,1)):"clear"==e?(or.XT.yC(f,i,0),h.data={YY:"delete"},i.c(h),delete h.data,or.XT.yC(f,i,1)):"duplicate"==e?0==n.length?(l.data={d:qi.PR,i:S},l.b=qr.ZD,i.c(l),l.data=null,o={DF:"Layer",k:f.g[f.w[0]]}):"Document"==n[0].DF&&(l.data={d:qi.gn,g:f.sE(S),Pt:f,h_:n[0].k},l.b=qr.ZD):"merge"==e||"remove"==e?(l.data={d:"merge"==e?qi.Gm:qi.hL,i:S},l.b=qr.ZD,"remove"!=e&&(o={DF:"Layer",k:f.g[f.w[0]]})):"move"==e?(l.data={d:qi.Mp,source:S,target:f.g.indexOf(n[0].k),zD:3!=n[1]?.6:.3},l.b=qr.ZD):"rasterize"==e?h.data={YY:"rasterizeLayer",l5:{classID:"rasterizeLayer",null:Ui.S3("Lyr",!0)}}:"rotate"==e?(l.data={d:"rot",rD:[2,5],k:-n[0]*Math.PI/180,cv:n[1],i:S},l.b=qr.gc):"resize"==e?(l.data={d:"scl",rD:[2,4],k:new Pr(n[0]/100,n[1]/100),cv:n[2],i:S},l.b=qr.gc):"translate"==e?(b=or.XT.aiR(n),l.data={d:"trsl",i:S,Bc:b[0],fJ:b[1]},l.b=qr.AZ):"link"==e?(l.data={d:qi.jI,a6a:[S,f.g.indexOf(n[0].k)]},l.b=qr.ZD):"invert"==e?(l.b=qr.qH,l.data={d:"start",ac:"nvrt"}):e.startsWith("apply")&&Gr.XY[e.slice(5)]?(b=or.XT.aiR(n),S=Gr.XY[e.slice(5)],h.data={YY:Gr.Qf[S]},(C=Gr.PD(S))&&(Gr.GV["g"+S](C,b),h.data.l5=C)):console.log(t,e,n)}else if("Documents"==s){if("getByName"==e){for(w=0;w<c.length;w++)if(c[w].name==n[0])return{DF:"Document",k:c[w]};return null}if("add"!=e)throw"e";var C=n[5];h.data=zi.sN(n[0],n[1],n[2],n[3],["Wht","Trns","BckC"][C=null==C?1:C],!1)}else if("Layers"==s)if("getByName"==e){for(w=0;w<t.k.length;w++)if(t.k[w].k.getName()==n[0]){o=t.k[w];break}null==o&&(r.__throw={message:"No layer with a name "+n[0]})}else"add"==e?(l.data={d:"layerSets"==t.ox?qi.rk:qi.cD},l.b=qr.ZD,i.c(l),l.data=null,o={DF:"Layer",k:f.g[f.w[0]]}):console.log(t,e,n);else if("Selection"==t.DF)if("select"==e){for(var x=n[0],L=[],w=0;w<x.length;w++)L.push(x[w][0],x[w][1]);h.data=qr.$S.Nq(L)}else"clear"==e?h.data={YY:"delete"}:"selectAll"==e?h.data=qr.$S.X0(!0):"invert"==e?h.data={YY:"inverse"}:"copy"==e?u.data={d:mr.J.xH}:"deselect"==e?h.data=qr.$S.X0():"fill"==e?(r=n[0].k,r=Rr.I.wg({p:255*r[1],z:255*r[2],S:255*r[3]}),h.data=qr.Hp.xq("Clr",n[1],null==n[2]?1:n[2]/100,r)):console.log(t,e,n);else if("Window"==t.DF){if("show"!=e)throw"e";u.data={d:mr.J.go,RB:t.k}}else if("ActionReference"==t.DF)"putProperty"==e?t.k.push({t:"prop",v:{classID:n[0],keyID:n[1]}}):"putClass"==e?t.k.push({t:"Clss",v:{classID:n[0]}}):"putEnumerated"==e?t.k.push({t:"Enmr",v:{classID:n[0],typeID:n[1],enum:n[2]}}):"putName"==e?t.k.push({t:"name",v:{classID:n[0],val:n[1]}}):console.log(e,n);else if("ActionDescriptor"==t.DF||"ActionList"==t.DF)if("putReference"==e)t.k[n[0]]={t:"obj ",v:n[1].k};else if("putDouble"==e)t.k[n[0]]={t:"doub",v:n[1]};else if("putUnitDouble"==e)t.k[n[0]]={t:"UntF",v:{type:n[1],val:n[2]}};else if("putObject"==e)"ActionList"==t.DF?((D=n[1].k).classID=n[0],t.k.push({t:"Objc",v:D})):((D=n[2].k).classID=n[1],t.k[n[0]]={t:"Objc",v:D});else if("putList"==e)t.k[n[0]]={t:"VlLs",v:n[1].k};else if("putBoolean"==e)t.k[n[0]]={t:"bool",v:n[1]};else if("putInteger"==e)t.k[n[0]]={t:"long",v:n[1]};else if("putString"==e)t.k[n[0]]={t:"TEXT",v:n[1]};else if("putEnumerated"==e){var D={};D[n[1]]=n[2],t.k[n[0]]={t:"enum",v:D}}else if("hasKey"==e){var k,M=f.g[f.w[0]];if("textKey"==(k=n[0]))return null!=M.add.TySh;for(var T=t.k.null.v,w=0;w<T.length;w++)if(T[w].v.keyID==n[0]){if("UsrM"==k)return null!=M.sL();throw n}}else if("getEnumerationValue"==e)"layerSection"==n[0]?o="layerSectionContent":console.log(n);else if("getBoolean"==e)"background"==n[0]?o=!1:console.log(n);else if("getString"==e)"name"==n[0]?o=t.BE.getName():"textKey"==n[0]?o=ir.CP(t.BE.nx):console.log(t,n);else if("getObjectValue"==e)if("textKey"==n[0])o={DF:"ActionDescriptor",BE:t.BE.add.TySh};else{if("number"!=typeof n[0])throw n[0];o=t.BE[n[0]]}else if("getList"==e)if(o={DF:"ActionList"},"paragraphStyleRange"==n[0])o.BE=t.BE.nx.EngineDict.ParagraphRun.RunArray;else if("kerningRange"==n[0])o.BE=[];else{if("textStyleRange"!=n[0])throw n;o.BE=t.BE.nx.EngineDict.StyleRun.RunArray}else console.log(e,n);else if("$"==t.DF){if("writeln"!=e)throw e;console.log(n[0])}else"UI"==t.DF?("zoomIn"==e||"zoomOut"==e?a={d:"zoom",qo:"zoomIn"==e}:"fitTheArea"==e?a={d:"adapt",k:"fitscr"}:"pixelToPixel"==e&&(a={d:"adapt",k:"pixel"}),l.b=qr.fz,l.data=a):console.log(t,e,n);return l.data&&i.c(l),h.data&&i.c(h),u.data&&i.c(u),o},or.XT.yC=function(t,e,n){var i=new yr(mr.E.u,!0);i.b=qr.rZ;var r=new yr(mr.E.n$,!0);0==n?(or.XT.abZ=t.v,r.data=qr.$S.X0(!0)):(t=or.XT.abZ)?i.data={d:"setsel",rD:"Restore Selection",v:{rect:t.rect.clone(),channel:t.channel.slice(0)}}:r.data=qr.$S.X0(),e.c(i.data?i:r)},or.XT.abZ=null,or.XT.K9={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{RGB:0},NewDocumentMode:{RGB:0},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4}},or.XT.K9.ColorBlendMode=or.XT.K9.BlendMode,or.XT.Yx="---- SoLd TySh SoCo GdFl PtFl".split(" "),lr.NV={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]},lr.BG={4:"Iptc4xmpCore:IntellectualGenre",5:"dc:Title",40:"photoshop:Instructions",80:"tiff:Artist",85:"photoshop:AuthorsPosition",90:"photoshop:City",92:"Iptc4xmpCore:Location",95:"photoshop:State",100:"Iptc4xmpCore:CountryCode",101:"photoshop:Country",103:"photoshop:TransmissionReference",105:"photoshop:Headline",110:"photoshop:Credit",115:"photoshop:Source",116:"dc:rights",120:"tiff:ImageDescription",122:"photoshop:CaptionWriter"},lr.a0m=function(t,e){null==e&&(e={});for(var n=lr.BG,i=[],r=[],a="",s=0;s<t.length;s++){var o=t[s],l=n[o[0]+""];l&&null==e[l]?e[l]=o[1]:12==o[0]?r.push(o[1]):25==o[0]?i.push(o[1]):55==o[0]?a=o[1]:60==o[0]&&(a+=";"+o[1])}return""!=a&&null==e["exif:DateTimeOriginal"]&&(e["exif:DateTimeOriginal"]=a),0!=r.length&&null==e["Iptc4xmpCore:SubjectCode"]&&(e["Iptc4xmpCore:SubjectCode"]=r.join(";")),0!=i.length&&null==e["dc:Keywords"]&&(e["dc:Keywords"]=i.join(";")),e},lr.amn=function(t){var e,n=lr.BG,i=[];for(e in n)t[n[e]]&&i.push([parseInt(e),t[n[e]]]);if(t["Iptc4xmpCore:SubjectCode"])for(var r=t["Iptc4xmpCore:SubjectCode"].split(";"),a=0;a<r.length;a++)i.push([12,r[a].trim()]);if(t["dc:Keywords"])for(r=t["dc:Keywords"].split(";"),a=0;a<r.length;a++)i.push([25,r[a].trim()]);return i.sort(function(t,e){return t[0]-e[0]}),i},lr.ao2=function(t,e){null==e&&(e={});var n=(new DOMParser).parseFromString(t,"image/svg+xml").getElementsByTagName("rdf:Description")[0];if(null==n)return e;var i,r=lr.NV;for(i in r){var a=r[i][2];if(null!=a){a=n.getElementsByTagName(a)[0];if(null!=a){for(var s=a.getElementsByTagName("rdf:li"),o=[],l=0;l<s.length;l++)o.push(s[l].textContent);e[i]=o.join("; ")}}}return e},lr.a52=function(t){var e,n=['<?xpacket begin="\ufeff" id="W5M0MpCehiHzreSzNTczkc9d"?>','<x:xmpmeta xmlns:x="adobe:ns:meta/" x:xmptk="Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22">','<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">','<rdf:Description rdf:about="" xmlns:xmp="http://ns.adobe.com/xap/1.0/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xmpMM="http://ns.adobe.com/xap/1.0/mm/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#">'],i=lr.NV;for(e in i){var r=t[e],a=i[e][2],s="Seq",o="";if(null!=r&&null!=a){"dc:title"!=a&&"dc:description"!=a||(s="Alt",o=' xml:lang="x-default"'),n.push("\t<"+a+"><rdf:"+(s="dc:subject"==a?"Bag":s)+">");for(var l="dc:subject"==a?r.split(";").join(",").split(","):[r],h=0;h<l.length;h++)n.push("\t\t<rdf:li"+o+">"+l[h].trim()+"</rdf:li>");n.push("\t</rdf:"+s+"></"+a+">")}}return n.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>",'<?xpacket end="w"?>'),n.join("\n")},lr.ahg=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=0==t[n][1]?0:t[n][0]/t[n][1];return e},lr.acQ=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n],r=1;i!=Math.round(i)&&(r=1e3,i=Math.round(i*r)),e[n]=[i,r]}return e},lr.ym=function(t,e){var n,i=lr.NV;for(n in null==e&&(e={}),i){var r,a=i[n][1],s="t"+a;null!=a&&null!=t[s]&&(s=t[s],s=0==a?s.join("."):2==a||4==a?(null==(r=t["t"+(a-1)])&&(r=[2==a?"N":"E"]),lr.ahg(s).join(",")+r[0]):42034==a?lr.ahg(s).join(" "):270==a||315==a?(r=s[0],a=new Uint8Array(r.length),ln.zW(a,0,r),ln.cP(a)):s[0],e[n]=s)}return t.exifIFD&&lr.ym(t.exifIFD,e),t.gpsiIFD&&lr.ym(t.gpsiIFD,e),e},lr.U1=function(t,e,n){var i=lr.NV,r=0,a=0;null==e&&(e={});var s,o,l,h,u,f={},c={};for(s in i)null!=t[s]&&null!=i[s][1]&&(o="t"+(h=i[s][1]),l=e,s.startsWith("exif:")&&(l=f,r++,s.startsWith("exif:GPS")&&(l=c,a++)),u=t[s],u=0==h?new Uint8Array(u.split(".").map(parseFloat)):2==h||4==h?(u.length,l["t"+(h-1)]=[u.slice(u.length-1)],lr.acQ(u.split(",").map(parseFloat))):42034==h?lr.acQ(u.split(" ").map(parseFloat)):270==h||315==h?(h=ln.u3(u),[ln.fb(h,0,h.length)]):[u],l[o]=u);0!=r&&(e.exifIFD=f,e.t34665=[0]),0!=a&&(e.gpsiIFD=c,e.t34853=[0]);for(var p=new Date,d=[p.getFullYear(),p.getMonth()+1,p.getDate(),p.getHours(),p.getMinutes(),p.getSeconds()],v=0;v<6;v++)d[v]=(d[v]+"").padStart(2,"0");return e.t305=["Photopea Editor (www.photopea.com)"],1!=n&&(e.t306=[d[0]+":"+d[1]+":"+d[2]+" "+d[3]+":"+d[4]+":"+d[5]]),e};var hr={aaC:0,vO:function(){return hr.aaC++,hr.aaC},amK:"uint8",a4n:function(){var t=hr.amR();if(""==t)return 0;if(t==hr.qU("_TXZRPB;d7@;"))return 1;var e=hr.se[O.c2][O.Y2],n=e.indexOf(String.fromCharCode(35));if(-1==n)return 0;try{i=JSON.parse(hr.se[O.anG](e.slice(n+1)))}catch(t){return 0}e=i[hr.qU("bQ[ODL<E<M")];if(null==e||e.length<<2!=64)return 0;var n=O.TT(),i=parseInt(e.slice(12).split("").reverse().join(""),16)<<16;return i<n||e!=O.at9(i,t)?0:2},amR:function(){var t=hr.se[hr.kF("}$z{2*35")][hr.qU("W[\\ZQAJ?")],e=String.fromCharCode(46),n=t.split(e);if(n.length<2)return"";t=n.pop();return t=n.pop()+e+t},a9O:function(){var t;hr.se[O.aql][O.ai2]&&((t=new hr.se[O.gM])[O.dr](O.ak4,hr.qU("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+hr.amR()),t[O.j_]())},lp:function(){if(window.top!=window.self)return!1;var t=navigator.userAgent.toLowerCase();return-1==t.indexOf("android")&&((-1==t.indexOf("safari")||-1!=t.indexOf("chrome"))&&null!=window.ClipboardItem)},ht:function(t){this._0=t,this.a3r=hr.L("img"),this.yn=hr.L("canvas"),this.Dt=null,this.y6="",this._G=null,this.$h=new Pr(0,0),hr.Z3(this._0,this.yP.bind(this))}},ur,fr,cr,pr,dr;hr.ht.prototype.Et=function(t,e){this.Dt=t,e&&(this.y6=e),this.yP()},hr.ht.prototype.yP=function(t){t&&(this.$h=hr.B6(t,this._0));var e,n,i,r,a,s,o=this.Dt,l="string"==typeof o;l?this._G&&(this._0.removeChild(this._G),this._G=null):(s=hr.F(),e=this.$h,n=o.Ni.m,i=o.Ni.n,r=(a="string"==typeof o.vl)?this.a3r:this.yn,a?r.setAttribute("src",o.vl):(r.width=n,r.height=i,t=r.getContext("2d"),a=new ImageData(new Uint8ClampedArray(o.vl.buffer),n,i),t.putImageData(a,0,0)),r.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;top:"+(e.y-o.bM.y/s)+"px; left:"+(e.x-o.bM.x/s)+"px; width:"+n/s+"px; height:"+i/s+"px"),null!=(s=this._G)&&s==r||(s&&this._0.removeChild(s),this._0.appendChild(r),this._G=r)),this._0.setAttribute("style","cursor:"+(l?o:"none")+"; "+this.y6)},hr.ml=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")},hr.Yu=function(t,e){t.Uf(ri.get([12,41]).charAt(0)+":"),e.Uf(ri.get([12,42]).charAt(0)+":")},hr.L=function(t,e){t=document.createElement(t);return null!=e&&t.setAttribute("class",e),t},hr.d5=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},hr.Yq=function(t,e){var n=t.getAttribute("class");-1==(n=(n=null==n?"":n).split(" ")).indexOf(e)&&n.push(e),t.setAttribute("class",n.join(" "))},hr.dj=function(t,e){var n=t.getAttribute("class");null!=n&&(-1!=(n=n.split(" ")).indexOf(e)&&n.splice(n.indexOf(e),1),t.setAttribute("class",n.join(" ")))},hr.DH=function(t){for(;;){if(t==document)return!0;if(null==t)return!1;t=t.parentNode}},hr.hw=function(t){t.appendChild(hr.L("br"))},hr.Oe=function(t){t.appendChild(hr.L("hr"))},hr.Oj=function(t,e,n){n=new kr([1,12,1],null==n||n,null,!0);return t&&n.h("click",t.Wr,t),e&&e.appendChild(n.e),n},hr.se=document,hr.lP=function(t){for(var e=0,n=0;n<t;n++)e+=Math.random();return e/t<Math.PI/4},hr.qU=function(t){var e="";hr.lP(28)||(t+="-3");for(var n=0;n<t.length;n++){var i=t.charCodeAt(n);if(i<32||126<i)throw"e";e+=String.fromCharCode(32+(i-32+17+3*n)%95)}return e},hr.kF=function(t){var e="";hr.lP(28)||(t+="-1");for(var n=0;n<t.length;n++){var i=t.charCodeAt(n);i-=32,i+=95e4,i-=17+3*n,i%=95,e+=String.fromCharCode(32+i)}return e},hr.C3=function(t){var e=Math.random();return hr.amK="uint"+(3+e),new t},ur=window.PointerEvent,fr=ur?"pointer":"mouse",cr=fr+"down",pr=fr+"move",dr=fr+"up",hr.rr=function(t,e){t.addEventListener(cr,e,!1),ur||t.addEventListener("touchstart",e,!1)},hr.Z3=function(t,e){t.addEventListener(pr,e,!1),ur||t.addEventListener("touchmove",e,!1)},hr.MK=function(t,e){t.addEventListener(dr,e,!1),ur||t.addEventListener("touchend",e,!1)},hr.amu=function(t,e){t.removeEventListener(cr,e,!1),ur||t.removeEventListener("touchstart",e,!1)},hr.l$=function(t,e){t.removeEventListener(pr,e,!1),ur||t.removeEventListener("touchmove",e,!1)},hr.oV=function(t,e){t.removeEventListener(dr,e,!1),ur||t.removeEventListener("touchend",e,!1)},hr.HZ=function(t){t.addEventListener("touchstart",hr.a7,!1),t.addEventListener("touchmove",hr.a7,!1),t.addEventListener("touchend",hr.a7,!1),t.addEventListener("gesturestart",hr.a7,!1),t.addEventListener("gesturechange",hr.a7,!1),t.addEventListener("gestureend",hr.a7,!1)},hr.r9=function(t,e,n,i){var r=hr.F();t.width=Math.floor(e*r),t.height=Math.floor(n*r),i&&i.scale(r,r),hr.FF(t)},hr.FF=function(t){var e=hr.F();t.style.width=t.width/e+"px",t.style.height=t.height/e+"px"},hr.N2=function(t,e,n){t.setAttribute("style","width:"+e/hr.F()+"px; height:"+n/hr.F()+"px")},hr.B6=function(t,e){e=(e=null==e?t.currentTarget:e).getBoundingClientRect();return{x:(t=t.touches?t.touches.item(0):t).clientX-e.left,y:t.clientY-e.top}},hr.F=function(){return window.devicePixelRatio||1},hr.v6=function(t){t.addEventListener("keydown",hr.at1,!1)},hr.at1=function(t){t.stopPropagation()},hr.a7=function(t){t.preventDefault()},hr.ga=function(t){t.stopPropagation(),t.preventDefault()},hr.R4=function(t,e,n){return n=n||"",null==PIMG["__"+t]&&(n+=" gsicon"),'<img src="'+PIMG[t]+'" alt="'+(e||"")+'" class="'+n+'" />'},hr.LO=function(t,e,n,i){var r,a=t.dataTransfer.getData("text/uri-list");if(null!=a&&a.startsWith("http")&&((r=new yr(mr.E.W,!0)).data={d:mr.J.pu,jm:{url:a,n5:!0,ln:n,MT:i}},e.c(r)),0!=t.dataTransfer.files.length)if(window.showOpenFilePicker){var s,o=[],l=t.dataTransfer.items.length,h=t.dataTransfer.files;for(s of t.dataTransfer.items)s.getAsFileSystemHandle().then(function(t){o.push(t),o.length==l&&((t=new yr(mr.E.W,!0)).data={d:mr.J.vT,data:h,ln:n,MT:i,a1a:o},e.c(t))})}else(r=new yr(mr.E.W,!0)).data={d:mr.J.vT,data:t.dataTransfer.files,ln:n,MT:i},e.c(r)},hr.lP(27)?hr.se=window:hr.se=hr.a7n,hr.se._cwY=hr.se[hr.kF("t$&!'31")];var vr={};function gr(){this.H2={},this.Dc={}}vr.aq_=function(t){var e=vr.Pc[t],n=document.documentElement.style,i=1;n.setProperty("--base","#"+Rr.zI(e["--base"])),n.setProperty("--bg-panel","#"+Rr.zI(e["--bg-panel"])),n.setProperty("--bg-canvas","#"+Rr.zI(e["--bg-canvas"])),n.setProperty("--bg-input","#"+Rr.zI(e["--bg-input"])),n.setProperty("--bg-bbtn","#"+Rr.zI(e["--bg-bbtn"])),n.setProperty("--bg-bbtnOver","#"+Rr.zI(e["--bg-bbtnOver"])),n.setProperty("--brdr","#"+Rr.zI(e["--brdr"])),n.setProperty("--text-color","#"+Rr.zI(e["--text-color"])),n.setProperty("--brdrLgt","rgba(255,255,255,"+e["--brdrLgt"]+")"),n.setProperty("--brdrDrk","rgba(  0,  0,  0,"+e["--brdrDrk"]+")"),n.setProperty("--alphaDark",""+e["--alphaDark"]),n.setProperty("--gs-invert",""+e["--gs-invert"]);var r=e["--sh-clr"];if(n.setProperty("--sh-clr","rgba("+(r>>16)+","+(r>>8&255)+","+(255&r)+", 0.45)"),n.setProperty("--sh-dy",e["--sh-dy"]+"px"),1<hr.F()&&hr.F()<1.5&&(i=1/hr.F()),n.setProperty("--img20",20*i+"px"),n.setProperty("--img18",18*i+"px"),null!=PIMG)for(var a="lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" "),t=0;t<a.length;t++){var s=a[t],o=s.split("/").pop(),l=null==PIMG["__"+s]?e["--gs-invert"]:"0";n.setProperty("--icon_"+o,"url("+PIMG[s]+")"),n.setProperty("--icon_"+o+"_invrt",l)}i=document.querySelector("meta[name=theme-color]");i&&i.setAttribute("content","#"+Rr.zI(e["--base"]))},vr.Pc=[{name:"Light Grey","--base":14737632,"--bg-panel":9868950,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":7237230,"--sh-clr":16777215,"--sh-dy":1},{name:"Dark Grey","--base":4671303,"--bg-panel":3158064,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"White","--base":16250871,"--bg-panel":14540253,"--bg-canvas":15132390,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":0,"--gs-invert":.18,"--brdr":13158600,"--sh-clr":16777215,"--sh-dy":1},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Black","--base":3487029,"--bg-panel":2434341,"--bg-canvas":1710618,"--bg-input":2434341,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14671839,"--gs-invert":.78,"--brdr":1710618,"--sh-clr":0,"--sh-dy":-1}],gr.prototype.atS=function(t){t=this.H2[t];return null!=t&&0<t.length},gr.prototype.addEventListener=function(t,e){this.h(t,e,null)},gr.prototype.h=function(t,e,n){null==this.H2[t]&&(this.H2[t]=[],this.Dc[t]=[]),this.H2[t].push(e),this.Dc[t].push(n)},gr.prototype.removeEventListener=function(t,e){var n=this.H2[t];null!=n&&((e=n.indexOf(e))<0||(t=this.Dc[t],n.splice(e,1),t.splice(e,1)))},gr.prototype.c=function(t){t.currentTarget=this,null==t.target&&(t.target=this);var e=this.H2[t.type];if(null!=e)for(var n=this.Dc[t.type],i=0;i<e.length;i++)null==n[i]?e[i](t):e[i].call(n[i],t)};var yr=function(t,e){e=e||!1,this.type=t,this.target=null,this.currentTarget=null,this.bubbles=e,this.b=null,this.y2=!1},mr={E:{u:"0",W:"1",n$:"1.5",o:"2",Q7:"3",anc:"4"},J:{kJ:"10",u9:"11",dv:"12",J3:"13",tW:"14",a9_:"14.1",pu:"15",Rw:"16",G0:"17",Sp:"18",B4:"19",aez:"19.5",agX:"20",H0:"21",xH:"22",cf:"23",R$:"24",go:"25",Bx:"26",Ro:"27",mF:"28",arx:"29",vT:"30",ms:"31",RE:"32",hg:"33",QP:"34",ot:"35",ag8:"35.5",Ih:"37",aqM:"38",yd:"39",xJ:"40",Um:"41",K$:"41.5",aeK:"42",Aw:"43",a49:"43.5",ir:"44",aiB:"45",Hk:"46",s6:"47",tD:"48",$u:"49",anl:"50",W6:"51"}},wr,br,Mr;function Sr(){gr.call(this),this.parent=null,this.e=null,this.r2=0,this.kY=0}function Cr(t){Sr.call(this),this.rp=[],this.lH=!1,this.aoQ=0,this.Q4={x:0,y:0,nK:!1},this.we=t,this.aad=this.Wv.bind(this),this.iR=this.Ij.bind(this),this.a2L=this.KE.bind(this),hr.rr(t,this.aad),hr.Z3(t,this.iR),t.addEventListener("wheel",this.l2.bind(this),!1),t.addEventListener("contextmenu",this.aak.bind(this),!1);var e=this.afU.bind(this);t.addEventListener("gesturestart",e,!1),t.addEventListener("gesturechange",e,!1),t.addEventListener("gestureend",e,!1),hr.HZ(t)}function xr(t,e,n){Sr.call(this),this.uW=null,this.amD=this.KE.bind(this),this.a3T=this.Tm.bind(this),this.a5m=this.ak3.bind(this),this.ahF=this.ae6.bind(this),this.ip=[],this.oB=[],this.wD=[],this.ajm=[],this.e=hr.L("div","contextpanel "+(n?"cp_dark":"cp_light")),this.e.addEventListener("contextmenu",hr.a7,!1),this.sh=null,this.Fb=0,this.atR=t,this.e6=e,this.ut=[];for(var i=0;i<t.length;i++){var r,a=hr.L("div","enab");this.oB.push(a),this.e.appendChild(a),t[i].qm?((r=hr.L("img","thumb"+(n?" gsicon":""))).setAttribute("src",PIMG[t[i].qm]),a.appendChild(r)):(s=hr.L("span","check"),this.ajm.push(s),a.appendChild(s));var s=hr.L("span","label");s.innerHTML=ri.get(t[i].name),a.appendChild(s),this.wD.push(s),t[i].jp&&this.e.appendChild(hr.L("hr")),(t[i].DO||t[i].sub)&&(s=hr.L("span","right"),a.appendChild(s),t[i].DO&&(s.innerHTML=ii.q8(t[i].DO)),t[i].sub&&(s.innerHTML="▶")),a.addEventListener("click",this.amD,!1),a.addEventListener("mouseover",this.a3T,!0),a.addEventListener("mouseout",this.a5m,!0),t[i].sub?(((a=new xr(t[i].sub,e?e[i].sub:null)).parent=this).ut.push(a),a.h("select",this.al3,this)):this.ut.push(null)}}function Lr(t,e,n){Sr.call(this),this.e=hr.L("span","fitem cbox"),null==e&&(e=!0),null==n&&(n="flabel");var i="cb"+hr.vO();this.Nz=hr.L("input",""),this.Nz.setAttribute("type","checkbox"),this.Nz.setAttribute("id",i),this.e.appendChild(this.Nz),this.mS=t,this.su=hr.L("label",n),e&&this.su.setAttribute("for",i),this.e.appendChild(this.su),this.T(),this.Nz.addEventListener("change",this.lb.bind(this),!1)}function Dr(t,e){Sr.call(this),this.mS=t,this.e=hr.L("span","labelitem fitem"+(e?" spread":"")),this.T()}function kr(t,e,n,i,r){Sr.call(this),this.e=hr.L("button","fitem"+(e?" spread":"")+(i?" bbtn":"")),this.mS=t,this.pF=n,this.T();r=r&&window.PointerEvent?"pointerup":"click";this.e.addEventListener(r,this.fZ.bind(this),!1)}function Tr(t,e,n,i,r){Sr.call(this);var a=hr.vO();this.e=hr.L("span","fitem tinput"),t&&(this.mS=t,this.su=hr.L("label","flabel"),this.e.appendChild(this.su),this.su.setAttribute("for",a),this.T()),r?this.Nz=hr.L("span"):null==i?(this.Nz=hr.L("input"),this.Nz.setAttribute("type","text")):this.Nz=hr.L("textarea","scrollable"),this.Nz.setAttribute("id",a),n&&this.Nz.setAttribute("style","width:"+n+"em;"+(r?" display:inline-block; margin-left:6px;":"")),i&&this.Nz.setAttribute("rows",i),this.e.appendChild(this.Nz),e&&(this.nu=hr.L("span"),this.nu.textContent=e,this.e.appendChild(this.nu)),hr.v6(this.Nz),this.Nz.addEventListener("change",this.lb.bind(this),!1),this.Nz.addEventListener("input",this.a4Q.bind(this),!1)}function Ar(t,e,n,i,r,a,s,o,l){Sr.call(this),null==r&&(r=0),this.e=hr.L("span","fitem");var h=hr.vO();this.mS=t,this.pF=o,this.Dt=0,this.ak2=l,this.Rb=e,this.Il=n,this.N9=null,i instanceof Array&&(i=(this.N9=i)[0]),this.O_=i,this.lT=r,this.a6O=a,this.gh=s,this.Lf=0,this.su=hr.L("label","flabel"),this.su.innerHTML=t,this.su.setAttribute("style","cursor:col-resize;"),this.PA=hr.L("input",""),this.PA.setAttribute("type","range"),s?(this.PA.min=0,this.PA.max=400):(this.PA.min=e,this.PA.max=n,0!=r&&(this.PA.step=(n-e)/200)),this.Nz=hr.L("input",""),this.Nz.setAttribute("type","text"),this.Nz.setAttribute("id",h),this.nu=hr.L("span",""),this.nu.innerHTML=i,hr.v6(this.Nz),this.Nz.addEventListener("change",this.lb.bind(this),!1),this.Nz.addEventListener("keydown",this.Ez.bind(this),!1),this.Nz.addEventListener("wheel",this.l2.bind(this),!1),this.PA.addEventListener("input",this.lb.bind(this),!1),l&&this.PA.addEventListener("change",this.lb.bind(this),!1),this.PA.addEventListener("click",this.arG.bind(this),!1),this.aoi=this.anq.bind(this),this.ajN=this.ao8.bind(this),this.arZ=this.a5e.bind(this),this.lE=0,this.Wg=0,this.$p=!1,hr.rr(this.su,this.aoi),hr.HZ(this.su)}function Er(t,e,n,i,r,a,s,o,l){Ar.call(this,t,e,n,i,r,!0,a,l),hr.Yq(this.e,"rangedropinput"),this.e.appendChild(this.su),this.Nz.setAttribute("style","width:"+(o||3.3)+"em"),this.e.appendChild(this.Nz),this.a6G=hr.L("span","rangecont"),this.a6G.appendChild(this.PA),this.uu=hr.L("button"),this.uu.innerHTML="▼",hr.rr(this.uu,this.a1i.bind(this)),1!=s&&this.e.appendChild(this.uu),this.$R=new Sr,this.$R.e=this.a6G}function Or(t,e,n,i,r,a){Ar.call(this,t,e,n,i,r,!1,a),this.e.appendChild(this.su);a=hr.L("span","rangecont");this.e.appendChild(a),a.appendChild(this.PA),this.e.appendChild(this.Nz),this.Nz.setAttribute("style","width:3.3em"),this.O_&&this.e.appendChild(this.nu)}function Nr(t,e,n,i,r,a,s,o){Ar.call(this,t,e,n,i,r,!0,a,null,s),hr.Yq(this.e,"trangeinput"),this.e.appendChild(this.su),this.e.appendChild(this.Nz);s=hr.L("span","rangecont");1!=o&&this.e.appendChild(s),s.appendChild(this.PA),this.PA.setAttribute("style","width:97%;")}function Ir(t,e,n,i){var r;function a(t){var e=0;ii.A7(t.code,ii.Rr)&&(e=1),0!=(e=ii.A7(t.code,ii.QH)?-1:e)&&t.stopPropagation()}Sr.call(this),e&&(null==n&&(n=!1),this.DS=0,this.a8A=n,this.mS=t,this.BG=null,this.akM=i,this.c5=[],r="dd"+hr.vO(),this.e=hr.L("span","fitem ddmenu"),t&&!n&&(this.su=hr.L("label","flabel"),this.e.appendChild(this.su),this.su.setAttribute("for",r)),this.td=hr.L("select","bbtn"),this.td.setAttribute("id",r),this.e.appendChild(this.td),this.td.addEventListener("change",this.lb.bind(this),!1),this.td.addEventListener("keydown",a,!1),this.td.addEventListener("keyup",a,!1),this.G4=[],this.L1=null,this.aE(e,i),this.T())}function zr(t,e,n,i){Sr.call(this),e&&(this.DS=0,this.aj5=i,this.e=hr.L("span","fitem bbmenu"),t&&(this.mS=t,this.su=hr.L("label","flabel"),this.su.textContent=t+":",this.e.appendChild(this.su)),this.G4=[],this.L1=null,this.aE(e,n),this.f(0))}function Vr(t,e,n,i,r,a){Sr.call(this),this.e=hr.L("span","fitem mbox"),this.afW=n,this.aeH=r,t&&(this.mS=t,this.su=hr.L("label","flabel"),this.e.appendChild(this.su)),this.gL=e,this.e1=[];for(var s=0;s<e.length;s++){var o=n?new kr(e[s],!1,i?i[s]:null,!1,a):new Lr(e[s],!0,"");o.h(n?"click":mr.E.o,this.lb,this),this.e1.push(o),this.e.appendChild(o.e)}this.T()}function Wr(t,e){Sr.call(this),this.YQ=[],this.w=[],this.a9$=t,this.YW=e,this.zX=0,this.Sr=null,this.$h=new Pr(0,0),null!=e&&(this.YC=new xr([{name:[6,37]},{name:[5,4]}]),(this.YC.parent=this).YC.h("select",this.Y1,this)),this.e=hr.L("div","imageset scrollable"),this.e.addEventListener("contextmenu",hr.a7,!1)}function Xr(t,e,n,i,r,a,s){Sr.call(this),this.e=hr.L("span","fitem "+n),this.M3=new Sr,this.M3.e=hr.L("div","floatcont"),this.M3.e.setAttribute("style","width: "+(i+1.5)+"em;"),(this.M3.parent=this).aaM=hr.L("div"),this.M3.e.appendChild(this.aaM),this.N8=hr.L("div"),this.M3.e.appendChild(this.N8),t&&(this.mS=t,this.su=hr.L("label","flabel"),this.e.appendChild(this.su)),this.d=hr.L("button",s?"nopadding":""),this.d.setAttribute("style","position:relative;");n=this.Sn.bind(this),t=this.VI.bind(this);hr.rr(this.d,e?t:n),this.e.appendChild(this.d),this.hk=hr.L("img",s?"gsicon":""),this.d.appendChild(this.hk),e?((e=hr.L("button")).textContent="▼",hr.rr(e,n),this.e.appendChild(e)):((o=hr.L("span")).textContent="▼",o.setAttribute("style","position:absolute;  bottom:2px;  right:4px;"),this.d.appendChild(o));var o=hr.L("span");this.N8.appendChild(o),o.setAttribute("style","display:inline-block;  vertical-align:top; width:"+i+"em;"),this.SA=new Wr(s,a),o.appendChild(this.SA.e),this.SA.parent=this.M3,this.SA.h(mr.E.o,this.fu,this),this.SA.e.style.height=r+"em",this.Xc=hr.L("button"),this.Xc.textContent="▼",this.Xc.setAttribute("style","padding:3px"),hr.rr(this.Xc,this.a2V.bind(this)),this.N8.appendChild(this.Xc);for(var l=this.w6(),o=a!=Bi.q2&&a!=Bi.at?a:null,r=null==a?"":Bi.bU[a][0].toUpperCase(),h=(h=o?[{name:[12,87]}]:[]).concat([{name:["VAR0 / VAR1",[25,3,0],[25,3,1]],jp:!0},{name:[[23,6],"."+("ICC"==r?"icc .cube .look .3dl":r)]},{name:["VAR0 ."+r,[1,8]]},{name:[6,37]},{name:[5,4],jp:0!=l.length}]),u=0;u<l.length;u++)h.push({name:l[u].split("/").pop()});this.YC=new xr(h),this.YC.parent=this.M3,this.YC.h("select",this.Y1,this),this.YW=a,this.atk=o,this.ua=null,this.ZZ=!0,this.FG=null}function Yr(){Sr.call(this),this.e=hr.L("div"),this.Dt=!1,this.D8=[new Ir([12,19,1],[[13,1,7]].concat(ji.fW)),new Kr([17,1]),new Kr([12,46])];for(var t=0;t<3;t++){var e=this.D8[t];this.e.appendChild(e.e),e.h(mr.E.o,this.Px,this)}this.T()}function Kr(t){Sr.call(this),this.e=hr.L("div"),this.O=hr.L("canvas"),this.Sh=t,this.Dt=[0,20,200,255],this.hv=0,this.fr=-1,this.ajo=[];for(var e=0;e<5;e++){var n=hr.L("span");n.setAttribute("style","display:inline-block;width:"+(0==e?8:2==e?7:2)+"em"),this.ajo.push(n),this.e.appendChild(n)}this.UK=this.Wv.bind(this),this.c7=this.Ij.bind(this),this.dl=this.KE.bind(this),hr.HZ(this.O),hr.rr(this.O,this.UK),this.e.appendChild(this.O),this.yE()}function Qr(t,e,n){Sr.call(this),null==n&&(n=!1),this.k=[0,0,1],this.aai=e,this.ao1=n,this.a2y=0;var i="ai"+hr.vO();this.e=hr.L("span","fitem angleinput"),t&&(this.su=hr.L("label","flabel"),this.mS=t,this.e.appendChild(this.su),this.su.setAttribute("for",i)),this.d7=n?44:20,this.O=hr.L("canvas","gsicon"),this.XN=this.O.getContext("2d"),hr.HZ(this.O),hr.r9(this.O,2*this.d7+1,2*this.d7+1),this.XN.scale(hr.F(),hr.F()),this.e.appendChild(this.O),hr.rr(this.O,this.Bw.bind(this)),this.um=this._g.bind(this),this.TH=this.Ag.bind(this);var r=this.lb.bind(this),a=hr.L("div");a.setAttribute("style","display:inline-block;  vertical-align:middle;"),n||this.e.appendChild(a),this.uO=[];for(var s=0;s<2;s++){var o=hr.L("input");this.uO.push(o),o.setAttribute("type","text"),hr.v6(o),0==s&&o.setAttribute("id",i),o.addEventListener("change",r,!1);var l=hr.L("span");l.textContent="°",0!=s&&!e||(a.appendChild(o),a.appendChild(l),hr.hw(a))}this.f(this.k)}function $r(t,e){Sr.call(this),this.Dt=0,this.xc=e,this.e=hr.L("span","fitem angleinput"),t&&(this.su=hr.L("label","flabel"),this.mS=t,this.e.appendChild(this.su)),this.O=hr.L("canvas","gsicon"),this.XN=this.O.getContext("2d"),hr.r9(this.O,e,e),this.e.appendChild(this.O),hr.rr(this.O,this.Bw.bind(this)),this.um=this._g.bind(this),this.TH=this.Ag.bind(this),this.f(0)}function ta(t){Sr.call(this),this.e=hr.L("span","fitem cswatch"),this.aau=0,this.fP=[],this.DY=[];for(var e=this.age.bind(this),n=0;n<t;n++){this.fP.push(0);var i=hr.L("span","colorsample");i.addEventListener("click",e,!1),this.DY.push(i),this.e.appendChild(i)}for(var r=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],a=Math.min(t,r.length),n=0;n<a;n++)this.fP[n]=r[n];this.RQ()}function ea(t){Sr.call(this),this.T1={p:0,z:0,S:0},this.rT=t,this.e=hr.L("span","fitem colorsample"),this.e.addEventListener("click",this.Ym.bind(this),!1)}function na(){Sr.call(this),this.vx=!1,this.Vh=20,this.ap$=10,this.Ad=0,this.vx=!1,this.vU={p:255,z:0,S:0},this.CA={p:0,z:0,S:0},this.e=hr.L("canvas"),this.yE(),hr.HZ(this.e),hr.rr(this.e,this.UK.bind(this))}function ia(t){Xr.call(this,t,!1,"brushbutton nopadding",19,10,Bi.Gx,!0);var e=this.aaM;hr.Yq(e,"flexrow");var n=hr.L("div");e.appendChild(n);t=hr.L("div");e.appendChild(t),t.setAttribute("style","margin-left:8px"),this.ZE=new Qr(null,null,!0),this.ZE.h(mr.E.o,this.Vl,this),n.appendChild(this.ZE.e),this.ZX=new Nr([12,14,0],1,1e3," px",0,!0),this.ZX.h(mr.E.o,this.Vl,this),t.appendChild(this.ZX.e),this.qa=new Nr([12,17],0,100,"%"),this.qa.h(mr.E.o,this.Vl,this),t.appendChild(this.qa.e)}function ra(t){Xr.call(this,t,!0,"contourbutton",17,10.5,Bi.K0)}function aa(t){Sr.call(this),this.Kj=null,this.fd=null,this.je=null,this.sr=null,this.arM=[],this.a0C=[],this.e=hr.L("span","fitem fillbutton"),this.M3=new Sr,this.M3.e=hr.L("div","floatcont form"),this.M3.e.setAttribute("style","width: 21em;"),(this.M3.parent=this).R0=t,this.su=this.su=hr.L("label","flabel"),this.e.appendChild(this.su),this.O=hr.L("canvas"),this.XN=this.O.getContext("2d"),this.akx=null,this.e.appendChild(this.O),hr.rr(this.O,this.Sn.bind(this)),this.zu=new zr([12,66],["","Color","Grad","Patt"]),this.M3.e.appendChild(this.zu.e),this.zu.h(mr.E.o,this.Px,this),this.M3.e.appendChild(hr.L("hr")),this.ad0=hr.L("span"),this.qE=new ea(!0),this.qE.parent=this.M3,this.qE.h(mr.E.o,this.Px,this),this.kk=new ta(10),this.kk.h(mr.E.o,this.Px,this),this.GN=hr.L("div","marged hiline"),this.GN.appendChild(this.qE.e),hr.hw(this.GN),this.GN.appendChild(this.kk.e),this.Sw=new as("GrFl",!0),this.Sw.parent=this.M3,this.Sw.h(mr.E.o,this.Px,this),this.d8=hr.L("div","marged hiline");for(var e="Grad Type Algn Angl Rvrs Scl Ofst".split(" "),n=0;n<e.length;n++){var i=this.Sw.Oq[e[n]].e;this.d8.appendChild(i)}this.Or=new as("patternFill",!0),this.Or.parent=this.M3,this.Or.h(mr.E.o,this.Px,this),this.qg=hr.L("div","marged hiline");for(e=["Ptrn","Angl","Scl","Algn","phase"],n=0;n<e.length;n++){i=this.Or.Oq[e[n]].e;this.qg.appendChild(i)}}function sa(t){Xr.call(this,t,!1,"patternbutton",18,10,Bi.QM),this.G$=null}function oa(t,e,n){Xr.call(this,t,!1,"patternbutton",e=null==e?24.2:e,n=null==n?17:n,Bi.q2),this.du=""}function la(t){Xr.call(this,null,!1,"tpresetbutton",18,24,Bi.Fg,!0),hr.dj(this.e,"fitem"),this.SA.k7(1),this.id=t,this.Es(),this.d.style.overflow="hidden",this.Ft=new Lr([15,7,9]),this.Ft.f(!0),this.Ft.h(mr.E.o,this.a10,this),this.N8.appendChild(this.Ft.e)}function ha(t,e,n){Sr.call(this),this.e=hr.L("span","fitem curveeditor"),this.bJ=null,this.a9h=0,this.hv="",this.mode=0,this.Ps=t,this.a0Z=e,this.aaZ=n,this.ui=null,this.nE=null,this.ajl=0,this.ar0=0,this.Co=new Pr,this.W5=this._g.bind(this),this.kP=this.Ag.bind(this),this.xc=256,this.O=hr.L("canvas"),this.XN=this.O.getContext("2d"),hr.HZ(this.O),this.e.appendChild(this.O),this.hi(256,256),hr.rr(this.O,this.Bw.bind(this)),this.coords=hr.L("div",""),this.coords.setAttribute("style","width:250px"),this.e.appendChild(this.coords);e=this.Il=n?100:255;this.OA=new Er("X (in):",0,e,null,0,!1,!0),this.FV=new Er("Y (out):",0,e,null,0,!1,!0),this.i3=new Lr([19,3,0]),this.OA.h(mr.E.o,this.Fn,this),this.FV.h(mr.E.o,this.Fn,this),this.i3.h(mr.E.o,this.Fn,this),this.coords.appendChild(this.OA.e),n&&this.coords.appendChild(this.i3.e),this.coords.appendChild(this.FV.e)}function ua(t,e){Sr.call(this),this.e=hr.L("span",""),this.q3=new Ir([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]),this.q3.h(mr.E.o,this.yE,this),this.e.appendChild(this.q3.e),hr.hw(this.e),this.O=hr.L("canvas");var n=this.O;this.e.appendChild(n),n.width=Math.round(t*hr.F()),n.height=Math.round(100*hr.F()),hr.N2(n,n.width,n.height),this.XN=n.getContext("2d"),this.bJ=null,this.ER=0,this.a7h=null,this.alC=[],this.kM=[];for(var i=["Mean:","Pixels:"],r=this.e,a=0;a<i.length;a++){var s=new Dr(i[a]);this.alC.push(s),e&&r.appendChild(s.e);s=new Dr("hi");this.kM.push(s),e&&r.appendChild(s.e),hr.hw(r)}}function fa(t,e){Sr.call(this),this.ia={p:0,z:0,S:0},Math.abs(t-256/hr.F())<10&&(t=256/hr.F());var n=this.e=hr.L("div","flexrow"),i=this.arP=hr.L("div");n.appendChild(i),this.uL=new Pr,this.aZ=new Pr,this.um=this.auo.bind(this),this.TH=this.agy.bind(this),this.O=hr.L("canvas",""),this.XN=this.O.getContext("2d"),this.O.width=this.O.height=256,this.alh=this.XN.getImageData(0,0,256,256),this.afv=-1,this.amH="",hr.HZ(this.O),hr.rr(this.O,this.ajJ.bind(this)),i.appendChild(this.O),this.asI=this.aeM.bind(this),this.alF=this.a8f.bind(this),this.Sb=hr.L("canvas",""),this.GB=this.Sb.getContext("2d"),this.Sb.width=20,this.Sb.height=256,this.a3p=this.GB.getImageData(0,0,20,256),fa.a6$(this.a3p.data,20,256),hr.HZ(this.Sb),hr.rr(this.Sb,this.aa0.bind(this)),n.appendChild(this.Sb),this.O.setAttribute("style","width:"+t+"px; height:"+t+"px"),this.Sb.setAttribute("style","width:16px; height:"+t+"px"),this.GU=new Lr("Web Colors "),this.GU.h(mr.E.o,this.update,this),this.Y4=new Lr("CMYK gamut"),this.Y4.h(mr.E.o,this.update,this),e&&(hr.hw(i),i.appendChild(this.GU.e),i.appendChild(this.Y4.e))}function ca(t,e,n,i){i=zr.wv(e,i);zr.call(this,t,i,n)}function pa(){Sr.call(this),this.xv=null,this.h2=new da,this.h2.h(mr.E.o,this.akW,this),(this.h2.parent=this).XR=new Er([12,14,0],1,150,"px",0,!0),this.XR.h(mr.E.o,this.tw,this),(this.XR.parent=this).oF=new Er([16,0],.01,100,"px",2,!0,null,5),this.oF.h(mr.E.o,this.tw,this),(this.oF.parent=this).md=new Lr("Auto"),this.md.h(mr.E.o,this.tw,this),this.OY=new Er([16,1],-500,5e3,"%",0,!0),this.OY.h(mr.E.o,this.tw,this),(this.OY.parent=this).o0=new Er("⬍",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]),this.o0.h(mr.E.o,this.tw,this),(this.o0.parent=this).eH=new Er("⬌",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]),this.eH.h(mr.E.o,this.tw,this),(this.eH.parent=this).z1=new Er([16,2],-10,10,"px"),this.z1.h(mr.E.o,this.tw,this),(this.z1.parent=this).Mz=new ea(!0),this.Mz.h(mr.E.o,this.xa,this),(this.Mz.parent=this).$a=new ea(!0),this.$a.h(mr.E.o,this.xa,this),(this.$a.parent=this).cT=new ea(!0),this.cT.h(mr.E.o,this.xa,this),(this.cT.parent=this).YX=new ea(!0),this.YX.h(mr.E.o,this.xa,this),(this.YX.parent=this).J1=new Lr([2,3]),this.J1.h(mr.E.o,this.tw,this),this.OU=new Lr([14,9]),this.OU.h(mr.E.o,this.tw,this),this.Os=new Lr([12,46]),this.Os.h(mr.E.o,this.tw,this),this.eY=new kr("...",null,null,!0),this.eY.e.style.marginLeft="-8px",hr.rr(this.eY.e,this.aqs.bind(this)),this.M3=new Sr;var t=this.M3.e=hr.L("div","floatcont form");(this.M3.parent=this).Y_=new Er([12,41],1,20,"px",0,!0,!0),this.Y_.e.style.marginLeft="16px",this.Y_.h(mr.E.o,this.tw,this),this.Y_.parent=this.M3,t.appendChild(this.$a.e),t.appendChild(this.J1.e),hr.hw(this.M3.e),t.appendChild(this.cT.e),t.appendChild(this.OU.e),t.appendChild(this.Y_.e),hr.hw(this.M3.e),t.appendChild(this.YX.e),t.appendChild(this.Os.e),this.OL=new kr('<img src="'+PIMG["type/bold"]+'" class="autoscale gsicon" />'),this.Qy=new kr('<img src="'+PIMG["type/italic"]+'" class="autoscale gsicon" />'),this.am=new kr('<img src="'+PIMG["type/caps"]+'" class="autoscale gsicon" />'),this.qb=new kr('<img src="'+PIMG["type/scaps"]+'" class="autoscale gsicon" />'),this.WL=new kr('<img src="'+PIMG["type/sub"]+'" class="autoscale gsicon" />'),this.o7=new kr('<img src="'+PIMG["type/sup"]+'" class="autoscale gsicon" />'),this.QI=new kr('<img src="'+PIMG["type/under"]+'" class="autoscale gsicon" />'),this.V0=new kr('<img src="'+PIMG["type/strike"]+'" class="autoscale gsicon" />');for(var e=[this.OL,this.Qy,this.am,this.qb,this.WL,this.o7,this.QI,this.V0],n=0;n<e.length;n++)e[n].h("click",this.at$,this);this.JJ=new kr('<img src="'+PIMG["par/left"]+'" class="autoscale gsicon" />'),this.AN=new kr('<img src="'+PIMG["par/right"]+'" class="autoscale gsicon" />'),this.Rn=new kr('<img src="'+PIMG["par/center"]+'" class="autoscale gsicon" />'),this.a5_=new kr('<img src="'+PIMG["par/jleft"]+'" class="autoscale gsicon" />'),this.aoa=new kr('<img src="'+PIMG["par/jright"]+'" class="autoscale gsicon" />'),this.auO=new kr('<img src="'+PIMG["par/jcenter"]+'" class="autoscale gsicon" />'),this.a1L=new kr('<img src="'+PIMG["par/jall"]+'" class="autoscale gsicon" />'),this.bN=[this.JJ,this.AN,this.Rn,this.a5_,this.aoa,this.auO,this.a1L];for(n=0;n<this.bN.length;n++)this.bN[n].h("click",this.tw,this);for(var i=["lind","rind","flind","bind","aind"],r=[],n=0;n<5;n++)r.push('<img src="'+PIMG["par/"+i[n]]+'" class="autoscale gsicon" /> ');this.mo=new Er(r[0],-20,20,"px"),this.mo.h(mr.E.o,this.tw,this),(this.mo.parent=this).rX=new Er(r[1],-20,20,"px"),this.rX.h(mr.E.o,this.tw,this),(this.rX.parent=this).O5=new Er(r[2],-20,20,"px"),this.O5.h(mr.E.o,this.tw,this),(this.O5.parent=this).rW=new Er(r[3],-20,20,"px"),this.rW.h(mr.E.o,this.tw,this),(this.rW.parent=this).lo=new Er(r[4],-20,20,"px"),this.lo.h(mr.E.o,this.tw,this),(this.lo.parent=this).IM=new zr([12,33],["Abc ...","... أي بي"]),this.IM.h(mr.E.o,this.tw,this),(this.IM.parent=this).hR=new Er(["Auto VAR0",[16,0]],0,500,"%"),this.hR.h(mr.E.o,this.tw,this),this.hR.parent=this}function da(){Sr.call(this),this.e=hr.L("span","fontinput"),this.rF=null,this.dt=null,this.eO=null,this.P1="",this.YQ={},this.nv=[],this.uQ={},this.a2_={},this.qA=!1,this.g8=hr.L("button","fitem"),this.g8.setAttribute("style","width:9em;"),this.g8.textContent="Family Name ▼",this.e.appendChild(this.g8),hr.rr(this.g8,this.aob.bind(this)),this.BA=new Sr,(this.BA.parent=this).BA.e=hr.L("div","floatcont"),this.fD=new va(6.8),this.BA.e.appendChild(this.fD.a34()),this.fD.parent=this.BA,this.fD.h(mr.E.o,this.wB,this);var t=hr.L("div","form");this.BA.e.appendChild(t),this.NG=new kr(hr.R4("tools/cshape",null,"autoscale"),!1,"Show Favorites Only"),this.NG.h("click",this.any,this),t.appendChild(this.NG.e),this.g4=new Tr([12,86],null,8.4),this.g4.h("input",this.D3,this),t.appendChild(this.g4.e);var e=this.ahs=new kr([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);e.h("click",this.atB,this),e.e.style.marginLeft="1.5em",e.e.style.marginRight="0",t.appendChild(e.e),this.aO=hr.L("span","fitem imageset scrollable"),this.aO.style.height="30em",this.BA.e.appendChild(this.aO),this.aO.addEventListener("scroll",this.aek.bind(this),!1),this.YG=hr.L("button","fitem"),this.YG.setAttribute("style","width:7em;"),this.YG.textContent="SubFamily Name ▼",this.e.appendChild(this.YG),hr.rr(this.YG,this.aob.bind(this)),this.z4=new Sr,(this.z4.parent=this).z4.e=hr.L("div","floatcont"),this.qt=hr.L("span","fitem imageset scrollable marged"),this.z4.e.appendChild(this.qt),this.auX=this.apA.bind(this),this.aji=this.ah5.bind(this)}function va(t){Sr.call(this),this.e=hr.L("button","fitem bbtn"),this.e.addEventListener("click",this.ap_.bind(this),!1),this.M3=new Sr,this.M3.e=hr.L("div","floatcont"),(this.M3.parent=this).nq=hr.L("div","flexrow"),this.M3.e.appendChild(this.nq),this.MI=[],this.ri=[];var e=this.nq,n=hr.L("div",""),i=hr.L("div","");e.appendChild(n),e.appendChild(i),this.KF=[];for(var r=0;r<FNTS.cats.length;r++)this.KF.push({name:FNTS.cats[r],index:r,H5:0});this.j0=new Lr([7,0]),this.j0.f(!0),this.j0.h(mr.E.o,this.adT,this),n.appendChild(this.j0.e),this.f4=hr.L("div","vlist marged scrollable"),this.f4.setAttribute("style","width:10.3em; height:"+t+"em; "),n.appendChild(this.f4),this.Z_=[];for(r=0;r<this.KF.length;r++){var a=new Lr(this.KF[r].name);this.Z_.push(a),a.h(mr.E.o,this.ahk,this),a.f(!0),this.f4.appendChild(a.e),this.MI.push(1)}this.ahY=new Lr([7,0]),this.ahY.h(mr.E.o,this.a5j,this),this.QE=hr.L("div","vlist marged scrollable"),this.QE.setAttribute("style","width:8.6em; height:"+(t+1.5)+"em; "),i.appendChild(this.QE),this.G6=[];for(r=0;r<FNTS.subsetNames.length;r++){a=new Lr(FNTS.subsetNames[r]);this.G6.push(a),a.h(mr.E.o,this.alf,this),a.f(!1),this.QE.appendChild(a.e),this.ri.push(a.M()?1:0)}}function ga(t,e,n){Xr.call(this,e,!0,"gradientbutton",18,10,Bi.kv),this.k$=-1,this.JH=-1,this.adF=null,this.afH=t,this.rT=n}function ya(t){Xr.call(this,t,!1,"swatchbutton",16,8.75,Bi.nj)}function ma(t,e,n,i,r){null==t&&(t=!1),null==e&&(e=!1),null==n&&(n=!1),Sr.call(this),this.SL=new Pr,this.Xd=new Pr,this.xE=72,this.wM=72,this.RL=!0,this.e=hr.L("span"),this.dg=new Er([12,41],0,0,null,0,!1,!0),this.e.appendChild(this.dg.e),this.dg.h(mr.E.o,this.Px,this);var a=["px","%"];t&&(a=a.concat(["mm","in"])),r&&(a=[[12,76,2],[12,76,6]],t&&(a=a.concat([[12,76,5],[12,76,3]]))),this.jO=new Ir(null,a),this.e.appendChild(this.jO.e),hr.hw(this.e),this.jO.h(mr.E.o,this.Px,this),this.Le=new Er([12,42],0,0,null,0,!1,!0),this.e.appendChild(this.Le.e),this.Le.h(mr.E.o,this.Px,this);a=new kr("⇵",!1,null,!0);a.h("click",this.auW,this),this._w=new kr('<img src="'+PIMG["lrs/chain"]+'" class="autoscale gsicon" />',!1,[12,51]),this._w.h("click",this.Px,this),this.aqS=new Dr(""),e?(this.e.appendChild(this._w.e),this.e.appendChild(this.aqS.e),this._w.j4()):this.e.appendChild(a.e),this.Gy=new Er("DPI",0,0,null,3,!1,!0,4),t&&null==i&&(hr.hw(this.e),this.e.appendChild(this.Gy.e)),this.Gy.h(mr.E.o,this.Px,this),this.OK=new Lr([12,23,1]),this.OK.h(mr.E.o,this.Px,this),n&&(hr.hw(this.e),this.e.appendChild(this.OK.e)),hr.hw(this.e)}function wa(t,e){Sr.call(this);var n=0==t?["W","X","H","Y"]:["┏","┓","┗","┛"];this.Z4=t,this.aqv=e,this.M2=1,this.gN=[1,1,0];for(var i=this.e=hr.L("div","numlist"),r=this.QB=[],a=0;a<4;a++){var s=new Er(n[a],0,0,null,2,!1,!0,4);s.h(mr.E.o,this.Px,this),i.appendChild(s.e),r[a]=s,1!=a&&3!=a||hr.hw(i)}r[4]=new Lr(0==t?[12,51]:[12,91,2]),r[4].f(!0),i.appendChild(r[4].e)}function ba(){Sr.call(this),this.u2=0,this.kM=[0,0,1,1,100,100],this.e=hr.L("span","fitem"),this.m7=new Ir(null,[[12,89,0],[12,89,1],[12,89,2]]),this.e.appendChild(this.m7.e),this.m7.h(mr.E.o,this.Px,this),this.dg=new Er("W",0,0,null,0,!1,!0),this.e.appendChild(this.dg.e),this.dg.h(mr.E.o,this.Px,this),this.Le=new Er("H",0,0,null,0,!1,!0),this.e.appendChild(this.Le.e),this.Le.h(mr.E.o,this.Px,this),this.f({sB:0,x:0,y:0})}function Ma(t){Sr.call(this),this.e=hr.L("span",""),this.aoG=t,this.p3=new Or("Off X",-100,100,t?"%":"px",0,!1),this.dB=new Or("Off Y",-100,100,t?"%":"px",0,!1),this.p3.h(mr.E.o,this.Px,this),this.dB.h(mr.E.o,this.Px,this),this.e.appendChild(this.p3.e),this.e.appendChild(this.dB.e)}function Sa(){Sr.call(this),this.e=hr.L("span","fitem strokebutton"),this.K5=[[null,null,null,""],[null,0,null,"4 2"],[1,1,null,"0 2"]],this.rK=JSON.parse(JSON.stringify(Wi.XF.default)),this.Wt=hr.L("button"),this.e.appendChild(this.Wt),hr.rr(this.e,this.Sn.bind(this));var t=hr.L("canvas","gsicon");this.XN=t.getContext("2d"),this.Wt.appendChild(t);var e=hr.L("span");e.textContent=" ▼",this.Wt.appendChild(e),this.M3=new Sr,(this.M3.parent=this).M3.e=hr.L("div","floatcont form");var n=this.M3.e;n.setAttribute("style","width: 14em;"),this.YQ=[new Ir([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new zr([19,9,0],['<img src="'+PIMG["caps/butt"]+'" class="autoscale gsicon" />','<img src="'+PIMG["caps/round"]+'" class="autoscale gsicon" />','<img src="'+PIMG["caps/square"]+'" class="autoscale gsicon" />']),new zr([19,9,1],['<img src="'+PIMG["joins/miter"]+'" class="autoscale gsicon" />','<img src="'+PIMG["joins/round"]+'" class="autoscale gsicon" />','<img src="'+PIMG["joins/bevel"]+'" class="autoscale gsicon" />']),new Tr([19,9,2])];for(var i=0;i<this.YQ.length;i++){var r=this.YQ[i];n.appendChild(r.e);var a=i<4?mr.E.o:"click";r.h(a,this.Px,this)}hr.hw(n),this.DY=[];for(var s=this.a6R.bind(this),i=0;i<this.K5.length;i++){var o=hr.L("button","fitem");this.DY.push(o),n.appendChild(o),o.addEventListener("click",s,!1);var l=(t=hr.L("canvas","gsicon")).getContext("2d");o.appendChild(t),this.aeI(l,40,20,this.K5[i])}}function Ca(t){Xr.call(this,t,!1,"contourbutton",34,16,Bi.at,!0),this.g4=new Tr([12,86],null,16),this.g4.h("input",this.D3,this),this.M3.e.appendChild(this.g4.e),this.wi=null,this.P1="",this.RO=null,this.f(ze.PD())}function xa(t){Xr.call(this,t,!1,"ICCButton",16,12,Bi.Uk,!0),this.SA.k7(1)}function La(){Sr.call(this),this.ia=null,this.e=hr.L("span","fitem"),this.qY=new aa([14,9]),this.Ed=new Er(null,0,150,"px",1,!0,null,null,[19,2,5]),this.hA=new Sa,this.oK=[this.qY,this.Ed,this.hA];for(var t=0;t<this.oK.length;t++){var e=this.oK[t];this.e.appendChild(e.e),e.parent=this,e.h(mr.E.o,this.Px,this)}}function Da(t){var e=zr.wv(["set/front","set/union","set/difference","set/intersection"]);zr.call(this,t?[12,36]:null,e,[[18,0],[18,1],[18,2],[18,3]])}function ka(){Sr.call(this),this.e=hr.L("button","fitem bbtn"),hr.rr(this.e,this.Sn.bind(this)),this.M3=new Sr,this.M3.e=hr.L("div","floatcont form"),this.M3.e.setAttribute("style","max-width: 200px;");var t=Nr;(this.M3.parent=this).Wb=[new Lr("Start"),new Lr("End"),new t([12,41],0,100,"px",null,!0,null,!0),new t([12,80,0],0,100,"px",null,!0,null,!0),new t("Concavity",-50,50,"%",null,null,null,!0)];for(var e=0;e<this.Wb.length;e++){var n=this.Wb[e];n.parent=this,n.h(mr.E.o,this.g3,this),this.M3.e.appendChild(n.e)}this.alO=hr.L("div"),this.M3.e.appendChild(this.alO)}function Ta(){Sr.call(this),this.Sr=[16,!0,!0],this.e=hr.L("span",""),this.D8=[new Er([12,24],0,255),new Lr([12,25,1]),new Lr([12,25,0])];for(var t=0;t<3;t++){var e=this.D8[t];e.parent=this,e.f(this.Sr[t]),this.e.appendChild(e.e),e.h(mr.E.o,this.Px,this)}}function Aa(t,e){for(var n in Sr.call(this),null==e&&(e=!1),this.RO=[],this.bH=Math.floor(120*hr.F()),this.agp=Math.floor(23*hr.F()),this.nQ=0,this.N0=[],this.f$=[],Rr.oH.type)"warpCustom"==n&&!e||(this.N0.push(n),this.f$.push(Rr.oH.type[n]));this.e=hr.L("span","fitem warpbutton"),this.M3=new Sr,this.M3.e=hr.L("div","floatcont"),t&&(this.bs=t,this.su=hr.L("label","flabel"),this.e.appendChild(this.su)),this.d=hr.L("button"),this.e.appendChild(this.d),hr.rr(this.d,this.Sn.bind(this)),this.Yt=new Wr(!0),this.M3.e.appendChild(this.Yt.e),this.Yt.h(mr.E.o,this.a1Q,this),this.M3.e.setAttribute("style","width:"+Math.floor(8+this.bH/hr.F())+"px;"),this.T()}function Ea(t,e,n){Sr.call(this),null==t&&(t=!1),null==n&&(n=!1),this.ab9=e=null==e?!1:e,this.oH=null,this.Wi=new Aa([12,22],n),(this.Wi.parent=this).Wi.h(mr.E.o,this.tN,this),this.C1=new Ir([22,0],[[22,4,0],[22,4,1]]),this.C1.h(mr.E.o,this.tN,this);t=t?Er:Nr;this.As=new t([22,1],-100,100,"%"),this.rV=new t("Horizontal Distortion:",-100,100,"%"),this.u6=new t("Vertical Distortion:",-100,100,"%"),(this.As.parent=this.rV.parent=this.u6.parent=this).As.h(mr.E.o,this.tN,this),this.rV.h(mr.E.o,this.tN,this),this.u6.h(mr.E.o,this.tN,this)}function Oa(t,e){Sr.call(this),this.e=hr.L("div"),this.bn=t,this.Uh=null,this.$h=new Pr(0,0),this.y6="position:relative;overflow:hidden;",this.tu=null,this.vd=new hr.ht(this.e),this.aej=e,this.Ws("grab"),this.O=hr.L("canvas","canv"),this.e.appendChild(this.O),this.XN=this.O.getContext("2d"),this.a5u=null,this.qW=null,this.Mh=null,this.u8=0,this.RI=0,this.np=0,this.a1V=this.a6D.bind(this),this.asH=null,this.s=new Vi({m:1,n:1}),this.pT=null,this.fe=null,this.rp=[],this.adr=0,this.qh=0,this.aaL=this.Wv.bind(this),this.a1v=this.Ij.bind(this),this.a6c=this.KE.bind(this),this.aom=this.l2.bind(this),this.ac4=0,this.vY=null,this.aj6(this.O),this.Pz(this)}function Na(){Sr.call(this),this.yL=null,this.Vh=null,this.P2=null,this.Qk=null,this.a92="",this._7=[],this.ok=0,this.SY=[],this.D4=0,this.fd=null;var t=this.e=hr.L("div",""),e=this.a21=hr.L("div","form");e.setAttribute("style","line-height:0; margin-bottom:0.5em;"),t.appendChild(e);var n=this.bs=hr.L("span");e.appendChild(n),n.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");n=this.a5L=new Lr([25,2,0]);n.f(!0),e.appendChild(n.e),n.h(mr.E.o,this.RQ,this);n=this.DW=new Lr([25,2,1]);n.f(!0),e.appendChild(n.e),n.h(mr.E.o,this.RQ,this);n=new Dr(" ");e.appendChild(n.e);n=this.I1=new Tr([25,1,1]);e.appendChild(n.e),n.h(mr.E.o,this.RQ,this),this.fD=new va(14),this.fD.a7D(3),e.appendChild(this.fD.e),(this.fD.parent=this).fD.h(mr.E.o,this.anJ,this);n=this.a7P=new kr([25,1,2],null,null,!0);e.appendChild(n.e),n.h("click",this.HG,this),this.aaQ=this.a2g.bind(this),this.m8=hr.L("div","svggallery scrollable"),t.appendChild(this.m8),this.m8.addEventListener("scroll",this.auJ.bind(this))}function Ia(){for(var t in Sr.call(this),this.e=hr.L("div"),this.bQ=null,this.aa$=null,this.vk=-1,this.WX={JPG:[{iq:new Nr([12,52,0],0,100,"%",null,null,!0),bw:70},{iq:new Lr("attach metadata"),bw:!1}],TIFF:[{iq:new Lr("attach metadata"),bw:!1}],WEBP:[{iq:new Nr([12,52,0],0,100,"%",null,null,!0),bw:70}],GIF:[{iq:new Nr([12,52,0],0,100,"%",null,null,!0),bw:100},{iq:new Lr([12,23,3]),bw:!1}],PNG:[{iq:new Nr([12,52,0],0,100,"%",null,null,!0),bw:100},{iq:new Lr("don't use palettes"),bw:!1}],PDF:[{iq:new Tr([12,52,1]),bw:""},{iq:new Nr([12,52,0],0,100,"%",null,null,!0),bw:100},{iq:new Lr("rasterize all"),bw:!1},{iq:new Lr("rasterize text"),bw:!1},{iq:new Lr("vectorize text"),bw:!1},{iq:new Nr("Add Margin",0,5,"in",2),bw:0}],EMF:[{iq:new Tr([12,52,1]),bw:""},{iq:new Lr("rasterize all"),bw:!1},{iq:new Lr("rasterize text"),bw:!1},{iq:new Lr("vectorize text"),bw:!1}],SVG:[{iq:new Lr("add raster graphics"),bw:!0},{iq:new Lr("add hidden layers"),bw:!1},{iq:new Lr("vectorize text"),bw:!1},{iq:new Lr("rasterize text"),bw:!1},{iq:new Lr("add layer names"),bw:!0},{iq:new Lr("pretty-print"),bw:!0}],RAW:[{iq:new zr([12,72],["1","3","4"]),bw:2},{iq:new zr([12,34],["8 Bits","16 Bits"]),bw:0},{iq:new zr("Byte Order",["12-34","34-12"]),bw:0}],DDS:[{iq:new Lr("Add Mipmaps"),bw:!0},{iq:new Lr("Compression"),bw:!0}],anim:[{iq:new Nr("Speed",10,800,"%",null,!0,!0),bw:100},{iq:new Er("Repeat (0 = Forever)",0,10," ×",0,!1,!0),bw:0},{iq:new Lr("reverse frames"),bw:!1},{iq:new Lr("boomerang"),bw:!1}],slcs:[{iq:new Lr("As Slices"),bw:!0}],artb:[{iq:new Lr("As Artboards"),bw:!0}],hicc:[{iq:new Lr("convert to sRGB"),bw:!0}]},this.WX)for(var e=this.WX[t],n=0;n<e.length;n++)e[n].iq.f(e[n].bw),e[n].iq.h(mr.E.o,this.wV,this)}function Pa(){Sr.call(this),this.e=hr.L("span","fitem"),this.Dt=!1,this.M5=new kr("No",!1,"Cancel"),this.qQ=new kr("Yes",!1,"Confirm"),this.e.appendChild(this.M5.e),this.e.appendChild(this.qQ.e),this.M5.h("click",this.JD,this),this.qQ.h("click",this.JD,this),this.T()}function Fa(t){Sr.call(this),this.e=hr.L("span","fitem"),this.GP=new kr("▼",null,"Auto Options",!0),hr.rr(this.GP.e,this.a0L.bind(this)),this.e.appendChild(this.GP.e),this.Wm=new kr("Auto",null,null,!0),this.Wm.h("click",this.g3,this),this.e.appendChild(this.Wm.e),this.da=new Vr("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0),this.da.h(mr.E.o,this.g3,this),this.da.f([!1,!1,!1,!0]),this.M3=new Sr;var e=this.M3.e=hr.L("div","floatcont form");e.setAttribute("style","width: 250px;"),this.M3.parent=this,e.appendChild(this.da.e),this.hQ=[];for(var n=0;n<2;n++){var i=new Er((0==n?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);i.f(.1),i.h(mr.E.o,this.g3,this),this.hQ.push(i),e.appendChild(i.e)}}function _a(){Sr.call(this);var t=this.e=hr.L("div","fitem");this.mZ=new Ir([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]),this.mZ.h(mr.E.o,this.Px,this),t.appendChild(this.mZ.e),this.i4=new ea(!1),(this.i4.parent=this).i4.jn(16777215),this.i4.h(mr.E.o,this.Px,this),t.appendChild(this.i4.e)}function Ba(t){Sr.call(this),this.zn=t,this.e=hr.L("div",""),this.Cv=[],this.ks=null,this.akK=[]}function Ra(){Ba.call(this),this.value=null,this.F$=null,this.vE=[new Pr(0,0),new Pr(0,0),new Pr(0,0),new Pr(0,0),new Pr(0,0)],this.sa=-1,this.W5=this._g.bind(this),this.kP=this.Ag.bind(this);var t=this.e;this.EY=new Ir([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]),this.EY.h(mr.E.o,this.pX,this),t.appendChild(this.EY.e),this.Wm=new Fa,(this.Wm.parent=this).Wm.h(mr.E.o,this.Rv,this),t.appendChild(this.Wm.e);var e=hr.L("div","");t.appendChild(e);var n=hr.L("div","");t.appendChild(n),this.O=hr.L("canvas"),e.appendChild(this.O),this.XN=this.O.getContext("2d"),this.ZR=new Pr(256,120),this.O.setAttribute("style","display:block"),hr.HZ(this.O),hr.rr(this.O,this.Bw.bind(this)),this.Sb=hr.L("canvas",""),n.appendChild(this.Sb),this.GB=this.Sb.getContext("2d"),this.nw=new Pr(this.ZR.x,40),this.Sb.setAttribute("style","display:block"),hr.HZ(this.Sb),hr.rr(this.Sb,this.ajv.bind(this));for(var i=this.cY=[],r=0;r<5;r++){var a=new Tr(null,null,3);i.push(a),a.h(mr.E.o,this.a0M,this),(r<2||4==r?e:n).appendChild(a.e)}e.appendChild(i[1].e),this.VX=new Vr("Sample from image",zr.wv(["#000000","#888888","#ffffff"]),!0,null,!0),this.VX.h(mr.E.o,this.jD,this),t.appendChild(this.VX.e),this.hi(250,100)}function Ua(){Ba.call(this,"matc"),this.Cv.push(new Nr("Luminance",1,200)),this.Cv.push(new Nr("Color Intensity",1,200)),this.Cv.push(new Nr([2,11],0,100,"%")),this.Cv.push(new Lr("Neutralize")),this.Cv.push(new Ir([12,70],[])),this.Cv.push(new Ir([0,3],[])),this.lf([2])}function ja(t,e){t.Cv[5].aE([[5,7]].concat(e),[1,e.length])}function Ha(t,e){Sr.call(this),null!=t&&(this.id=e,this.L5=t,this.v_=null,this.e=hr.L("div","window "+e),this.ae_=null,this.d4=hr.L("div","whead"),this.alT=hr.L("span","wname"),this.d4.appendChild(this.alT),this.e.appendChild(this.d4),this.UK=this.a8G.bind(this),this.c7=this.agI.bind(this),this.dl=this.am6.bind(this),hr.HZ(this.d4),hr.rr(this.d4,this.UK),this.bc=hr.L("span","cross"),this.d4.appendChild(this.bc),Ha.prototype.T.call(this),hr.MK(this.bc,this.aic.bind(this)),this.body=hr.L("div","body"),this.e.appendChild(this.body))}function Ja(){Ha.call(this,"About","aboutpp");var t=hr.L("div","flexrow");this.body.appendChild(t);var e=this.a8h=hr.L("img");t.appendChild(e),this.body.setAttribute("style","margin:0; padding:0");e=this.a0p=hr.L("div");e.innerHTML=Ja.UE,t.appendChild(e);e=this.Sh=hr.L("span");this.body.appendChild(e)}function qa(){Ha.call(this,[0,13,0],"account"),this.lM=hr.L("div","form scrollable"),this.body.appendChild(this.lM),this.body.style.padding="0",this.hD=[new qa.Pm,new qa.Xg("::privacy.html"),new qa.Xg(qa.arE)];for(var t=0;t<this.hD.length;t++)this.hD[t].parent=this;this.h("showpage",this.a98,this)}function Ga(){Ha.call(this,[11,14],"addguides"),this.cb,this.fd={jv:{el:0}},this.wt=null;var t=hr.L("div","form");this.body.appendChild(t),this.Le=new Tr([22,4,0],null,16),this.Le.h(mr.E.o,this.cr,this),this.nY=new Tr([22,4,1],null,16),this.nY.h(mr.E.o,this.cr,this),this.Jc=new Ir(null,Rr.IR.d2),this.Jc.h(mr.E.o,this.cr,this),t.appendChild(this.Le.e),t.appendChild(this.Jc.e),hr.hw(t),t.appendChild(this.nY.e),this.qQ=hr.Oj(this,t),this.h("closebtn",this.ae4,this)}function Za(t){var e=Gr.names[t];null==e&&(e=ji.names[t]),"aply"==t&&(e=[2,12]),"fade"==t&&(e=[2,11]),"matc"==t&&(e=[4,18]),Ha.call(this,e="blendOptions"==t?[14,10]:e,"afw_"+t),this.Fa=t,this.jy=null,this.gU=null,this.Nd=new Ba[t],this.Nd.h(mr.E.o,this.tN,this),(this.Nd.parent=this).body.appendChild(this.Nd.e),this.$f=new Lr([24,18,5]),this.$f.f(!0),this.$f.h(mr.E.o,this.tN,this),this.eJ=new kr([1,12,2],!0,null,!0),this.eJ.h("click",this.HG,this),this.qQ=hr.Oj(this),this.bv()?this.Nd.MU(this.qQ.e):(hr.Yq(this.Nd.e,"form"),hr.Yq(this.body,"flexrow"),this.Nd.e.setAttribute("style","width:312px"),t=hr.L("div"),this.body.appendChild(t),t.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em"),t.appendChild(this.qQ.e),t.appendChild(this.eJ.e),t.appendChild(this.$f.e)),this.h("closebtn",this.Hd,this)}function za(){Ha.call(this,[11,0],"camera"),this.data=null,this.dG=new Pr(1,1),this.afa=[];var t=hr.L("div","form hbar");this.body.appendChild(t),this.a1U=new Ir(null,[]),this.ww=new Ir([21,0],[[21,2],[21,1]]),t.appendChild(this.ww.e),this.ai=new Ir(null,[]),this.ai.h(mr.E.o,this.aeh,this),t.appendChild(this.ai.e),this.KX=new kr([11,0],!1,null,!0),this.KX.h("click",this.amO,this),t.appendChild(this.KX.e),this._m=new Dr(""),t.appendChild(this._m.e),this.stream=null,this.EA=hr.L("video",""),this.EA.setAttribute("autoplay","true"),this.body.appendChild(this.EA),this.abp=this.a13.bind(this),this.a7p=this.acL.bind(this),this.ar3=this.aev.bind(this),this.h("closebtn",this.apZ,this)}function Va(){Ha.call(this,[7,8],"crange"),this.cb=null,this.sA={HH:73,q4:4.45,S:4},this.Dr={HH:73,q4:4.45,S:4},this.body.style.width="20em",this.Z4=new Ir([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]),this.Z4.h(mr.E.o,this.adH,this),this.body.appendChild(this.Z4.e),this.UE=hr.L("div","form"),this.body.appendChild(this.UE);this.ar$=2;var t=this.D8=[new Nr([12,92],0,200),new zr([12,36],[[18,0],"＋","—"]),new Nr([12,92],0,100,"%"),new Er("Min",0,255),new Er("Max",0,255)];t[0].f(40),t[2].f(40);for(var e=0;e<t.length;e++)t[e].h(mr.E.o,this.yE,this),t[e].parent=this;this.O=hr.L("canvas"),this.body.appendChild(this.O),this.qQ=hr.Oj(this,this.body)}function Wa(){Ha.call(this,[12,76,1],"createshape"),this.Sr=null;var t=hr.L("div","form");t.setAttribute("style","width:20em"),this.body.appendChild(t),this.dg=new Er([12,41],0,0,null,0,!1,!0),t.appendChild(this.dg.e),hr.hw(t),this.Le=new Er([12,42],0,0,null,0,!1,!0),t.appendChild(this.Le.e),hr.hw(t),this.aL=new Lr([19,5,3]),t.appendChild(this.aL.e),this.dg.f(100),this.Le.f(100),this.qQ=hr.Oj(this,t)}function Xa(){Ha.call(this,[11,1],"colorpicker"),this.EL=null,this.ia=null,this.LF=null,this.hp=!1,this.rT=!1;var t,e,n=hr.L("div","flexrow");this.body.appendChild(n),this.Mv=new fa(256,!0),this.Mv.h(mr.E.o,this.SE,this),n.appendChild(this.Mv.e);var i=hr.L("div","form");i.setAttribute("style","width:14.5em; margin-left:1em;"),n.appendChild(i),this.ap3=hr.L("div","full"),i.appendChild(this.ap3),this.a9q=hr.L("div","full"),i.appendChild(this.a9q);var r=hr.L("div","flexrow");i.appendChild(r);var a=hr.L("div"),n=hr.L("div");r.appendChild(a),r.appendChild(n),t=["R","G","B"],e=a,this.XX=[];for(var s=0;s<3;s++){var o=new Er(t[s]+":",0,255,null,0,!1,!0);this.XX.push(o),o.h(mr.E.o,this.akn,this),e.appendChild(o.e)}t=["H","S","B"],e=n,this.AM=[];for(s=0;s<3;s++){var l=360,h="°";0!=s&&(l=100,h="%");o=new Er(t[s]+":",0,l,h,0,!1,!0);this.AM.push(o),o.h(mr.E.o,this.afu,this),e.appendChild(o.e)}this.Le=new Tr("Hex",null,6),this.Le.h(mr.E.o,this.zP,this),i.appendChild(this.Le.e),this.tY=hr.L("input","fitem"),this.tY.setAttribute("type","color"),this.tY.setAttribute("style","width:50px"),this.tY.addEventListener("change",this.zP.bind(this),!1),i.appendChild(this.tY),this.c3=new ta(9),this.c3.h(mr.E.o,this.zP,this),i.appendChild(this.c3.e),this.qQ=hr.Oj(this,i),this.h("closebtn",this.Hd,this),this.sR=!1}function Ya(){Ha.call(this,[11,2],"contoureditor"),this.abj=null,this.Nb=null,this.response=null,this.ee=hr.L("div","cell"),this.body.appendChild(this.ee),this.mv=hr.L("div","cell padded"),this.body.appendChild(this.mv);var t=hr.L("div","bordered padded vmargin");this.ee.appendChild(t),this.Nd=new ha(null,null,!0),this.Nd.h(mr.E.o,this.CM,this),t.appendChild(this.Nd.e),this.qQ=hr.Oj(this,this.mv),this.h("closebtn",this.ga,this)}function Ka(){Ha.call(this,[11,3],"csize"),this.hj=0,this.lM=hr.L("div","form"),this.lM.setAttribute("style","width:22em; margin-bottom:1em;"),this.body.appendChild(this.lM),this.c_=new ma(!0,!0,!0,!0,!0),this.c_.a1F(!1),this.lM.appendChild(this.c_.e),this.On=new zr("Align with",[[8,7],[12,6]]),this.On.h(mr.E.o,this.anj,this),this.cS=new $r([12,23,2],41),this.lM.appendChild(this.cS.e),this.cS.f(4),this.QF=new Ma(!1),this.QF.ab7(new Pr(0,0)),this.qQ=hr.Oj(this,this.body)}function Qa(){Ha.call(this,[11,4],"duplinto"),this.cm=null,this.R5=null,this.fA=null;var t=hr.L("div","form");t.setAttribute("style","max-width:26em"),this.body.appendChild(t),this.Fd=new Ir([12,43],["abc","def"]),this.Fd.h(mr.E.o,this.g3,this),t.appendChild(this.Fd.e),hr.hw(t),this.rh=new Ir("Artboard",["abc","def"]),this.rh.h(mr.E.o,this.g3,this),t.appendChild(this.rh.e),hr.hw(t),this.Qs=new Tr([12,48],null,14),t.appendChild(this.Qs.e),this.qQ=hr.Oj(this,t)}function $a(){Ha.call(this,[1,9],"eassets"),this.fd=null,this.yh=null;var t=hr.L("div","form");t.setAttribute("style","width:32em"),this.body.appendChild(t),this.c6=hr.L("span"),t.appendChild(this.c6),hr.hw(t),this.eh=[new Lr('Only layers / folders, whose name starts with "-e-"'),new Lr("Remove parts outside the canvas"),new Lr("Trim transparent parts")];for(var e=0;e<3;e++){var n=this.eh[e];n.f(!0),n.h(mr.E.o,this.RQ,this),t.appendChild(n.e),hr.hw(t)}this.mf=new Vr([12,14,0],["1x","2x","3x","4x"]),this.mf.f([!0,!1,!1,!1]),t.appendChild(this.mf.e),hr.Oe(t),this.hI=["PNG","JPG","SVG"],this.xA=new Ir([12,50],this.hI),this.xA.h(mr.E.o,this.a3l,this),t.appendChild(this.xA.e),this.s8=new Ia,t.appendChild(this.s8.e),this.qQ=new kr([1,9],!0,null,!0),this.qQ.h("click",this.Wr,this),t.appendChild(this.qQ.e),this.h("closebtn",this.kf,this)}function ts(){Ha.call(this,"Export Color Lookup Tables","exlut"),this.fd=null,this.yh=null;var t=hr.L("div","form");t.setAttribute("style","width:20em"),this.body.appendChild(t),this.eh=[new Er("Grid Points",1,256),new zr([12,50],[".CUBE"])];for(var e=[16,0],n=0;n<this.eh.length;n++){var i=this.eh[n];i.f(e[n]),i.parent=this,i.h(mr.E.o,this.RQ,this),t.appendChild(i.e),hr.hw(t)}this.qQ=hr.Oj(this,t),this.h("closebtn",this.kf,this)}function es(){Ha.call(this,[1,14],"finfo"),this.Wl=null,this.Sg=null,this.Ul=null,this.lM=hr.L("div","form scrollable label12"),this.lM.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px"),this.body.appendChild(this.lM);var t=hr.L("div","form");this.body.appendChild(t),this.wT=new Ir(null,["Hello"]),t.appendChild(this.wT.e),this.a4E=new kr("Add Parameter",!1,null,!0),t.appendChild(this.a4E.e),this.a4E.h("click",this.mZ,this),this.Gv=new kr("=== S A V E ===",!1,null,!0),t.appendChild(this.Gv.e),this.Gv.h("click",this.iW,this),this.a29=""}function ns(){Ha.call(this,[11,5],"gradienteditor"),this.EL=null,this.ia=null,this.tZ=null,this.LF=null,this.hp=!1,this.rT=!1,this.DB=null,this.Cl=null,this.Zq=-1,this.TF=-1,this.Lf=0,this.W5=this._g.bind(this),this.kP=this.Ag.bind(this),this.O=hr.L("canvas"),this.XN=this.O.getContext("2d"),this.O.setAttribute("style","display:block"),this.fY=null,hr.HZ(this.O),hr.rr(this.O,this.Bw.bind(this)),this.vD=hr.L("div","form"),this.afj=hr.L("div"),this.ou=hr.L("div","form"),this.ah2=hr.L("div"),this.G7=new Ir([12,44],[[15,10,0],[24,6]]),this.G7.h(mr.E.o,this.s_,this),this.body.appendChild(this.G7.e),hr.Oe(this.body);var t=this.vD;this.I3=new Er([19,3,3],0,100,"%"),this.I3.h(mr.E.o,this.s_,this),this.I3.parent=this,t.appendChild(this.I3.e),hr.hw(t),this.bV=new Dr([12,0]),t.appendChild(this.bV.e),this.eD=hr.L("div","bordered padded noalign"),t.appendChild(this.eD),this.cj=new Er([12,0],0,100,"%"),(this.cj.parent=this).cj.h(mr.E.o,this.s_,this),this.eD.appendChild(this.cj.e),this.wN=new Er([12,40],0,100,"%"),(this.wN.parent=this).wN.h(mr.E.o,this.s_,this),this.eD.appendChild(this.wN.e),this.xn=new kr([5,4],!1,null,!0),this.xn.h("click",this.a9p,this),this.eD.appendChild(this.xn.e),t.appendChild(this.afj),this.abu=new Dr([13,0]),t.appendChild(this.abu.e),this.Xy=hr.L("div","bordered padded noalign"),t.appendChild(this.Xy),this.Ck=new Ir([12,44],[[12,45],[12,46],[12,47]]),this.Ck.h(mr.E.o,this.s_,this),this.Xy.appendChild(this.Ck.e),this.KK=new ea(!0),(this.KK.parent=this).KK.h(mr.E.o,this.s_,this),this.Xy.appendChild(this.KK.e),this.mG=new Er([12,40],0,100,"%"),(this.mG.parent=this).mG.h(mr.E.o,this.s_,this),this.Xy.appendChild(this.mG.e),this.Qa=new kr([5,4],!1,null,!0),this.Qa.h("click",this.a6d,this),this.Xy.appendChild(this.Qa.e);t=this.ou;this.pJ=new Er("Roughness",0,100,"%"),this.pJ.h(mr.E.o,this.s_,this),this.pJ.parent=this,t.appendChild(this.pJ.e),t.appendChild(this.ah2),this.WM=new kr([25,1,2],!1,null,!0),this.WM.h("click",this.s_,this),t.appendChild(this.WM.e),this.qQ=hr.Oj(this),this.h("closebtn",this.Hd,this)}function is(){Ha.call(this,[11,10],"isize"),this.lM=hr.L("div","form"),this.lM.setAttribute("style","width:20em"),this.body.appendChild(this.lM),this.c_=new ma(!0,!0,null,null,!0),this.lM.appendChild(this.c_.e),this.kq=new Lr([12,25,3]),this.kq.f(!0),this.lM.appendChild(this.kq.e),this.kq.h(mr.E.o,this.ahU,this),this.m7=new Ir([12,14,1],[[12,14,2],[12,14,3],[12,14,4]]),this.m7.f(1),this.lM.appendChild(this.m7.e),this.qQ=hr.Oj(this,this.body)}function rs(){Ha.call(this,"Import RAW","importraw");var t=hr.L("div","flexrow"),e=hr.L("div");e.setAttribute("style","margin-bottom: 1em"),this.body.appendChild(t),this.body.appendChild(e);var n=hr.L("div","form");n.setAttribute("style","width:18em"),t.appendChild(n);var i=hr.L("div","form");i.setAttribute("style","width:15em"),t.appendChild(i),this.Sr=null,this.ajW=null,this.hk=null,this.qj=null,this.auu=[];for(var r=[],a=0;a<rs.ss.length;a++)r.push(rs.ss[a]+" Bits");for(var s=this.Wb=[new ma(!0,null,null,!0),new Er([12,72],1,8),new Lr("Last one is Transparency"),new zr([12,34],r),new zr("Byte Order",["12-34","34-12"]),new Ir("Guesses",[])],a=0;a<s.length;a++){var o=s[a];o.parent=this,o.h(mr.E.o,5==a?this.auY:this.g3,this),(0==a?n:5==a?e:i).appendChild(o.e)}this.O=hr.L("canvas"),this.XN=this.O.getContext("2d"),this.body.appendChild(this.O),this.qQ=hr.Oj(this,this.body)}function as(t,e,n){Sr.call(this),this.e=hr.L("div",""),this.q6=t,this.Oq=null,this.Mx=null!=e&&e,this.Kt=null,this.uq=n,this.az=[],this.Dw=[],this.mQ=[],this.YQ=[],this.XO=0,this.Oq=this.alR(as.YQ[t]),this.lf(),this.kW=null,this.acs,this.a7m}function ss(){Ha.call(this,[11,6],"layerstyle"),this.a8q=-1,this.data={},this.Jt=null,this.fd=null,this.aa=[],this.fc=[],hr.Yq(this.body,"flexrow"),this.ee=hr.L("div","bordered"),this.ee.setAttribute("style","min-width:13em;"),this.body.appendChild(this.ee),this.ba=hr.L("div",""),this.ba.setAttribute("style","width:25em; padding-left: 1em;"),this.body.appendChild(this.ba),this.mv=hr.L("div","form"),this.mv.setAttribute("style","padding-left: 1em; width:7em;"),this.body.appendChild(this.mv),this.qQ=hr.Oj(this,this.mv),this.a2=new kr([12,87],!0,null,!0),this.a2.h("click",this.a7$,this),this.mv.appendChild(this.a2.e),this.lj=new oa,(this.lj.parent=this).lj.h(mr.E.o,this.auC,this),this.mv.appendChild(this.lj.e),this.h("closebtn",this.Hd,this),this.h("redrawall",this.anQ,this)}function os(){Ha.call(this,"Merge Channels","mergechannels"),this.L6=null;var t=hr.L("div","form");this.body.appendChild(t),this.Wb=[];for(var e=0;e<3;e++){var n=new Ir(ji.fW[e],[]);this.Wb.push(n),t.appendChild(n.e),hr.hw(t)}this.qQ=hr.Oj(this,t)}function ls(){Ha.call(this,[1,10],"script");var t=hr.L("div","form");t.setAttribute("style","width:44em"),this.body.appendChild(t),this.fd=null,this.DY=[],this.qN=[],this.ahE;var e=this.Gv=new kr([1,2],!1,null,!0);e.h("click",this.iW,this),t.appendChild(e.e);e=new kr("JS Reference",!1,null,!0);e.h("click",this.apg,this),t.appendChild(e.e),t.appendChild(new Dr("Demos:").e),this.ahX=[];for(var n=ls.Dz,i=0;i<n.length;i++){var r=new kr(n[i].me,!1,null,!0);this.ahX.push(r),t.appendChild(r.e),r.h("click",this.a5E,this)}this.wj=hr.L("textarea"),hr.v6(this.wj),this.wj.setAttribute("rows",16),this.wj.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;"),t.appendChild(this.wj);e=new kr("Run",!0,null,!0);e.h("click",this.Wr,this),t.appendChild(e.e),this.ae9=hr.L("div"),t.appendChild(this.ae9)}function hs(){Ha.call(this,[11,7],"newproject"),this.data=null,this.L6=null;var t=hr.L("div","flexrow");this.UE=t,this.body.appendChild(t);var e=hr.L("div","form");this.lM=e,t.appendChild(e),this.Qs=new Tr([12,48],null,10),e.appendChild(this.Qs.e),hr.hw(e),this.c_=new ma(!0,null,null,null,!0),this.c_.f(new Pr(1280,720),72),this.c_.h(mr.E.o,this.$O,this),e.appendChild(this.c_.e),this.abY=new Ir("Profile",["sRGB","Adobe RGB","ProPhoto RGB","Display P3"]),e.appendChild(this.abY.e),this.rQ=new _a,this.rQ.parent=this,e.appendChild(this.rQ.e),this.lw=new Lr("Artboards"),e.appendChild(this.lw.e),this.qQ=new kr([12,49],!0,null,!0),this.qQ.h("click",this.Wr,this),e.appendChild(this.qQ.e);for(var n=hs.Sr,i=[],r=0;r<n.length;r++)i.push(n[r].name);this.Md=new zr(null,i),this.Md.h(mr.E.o,this.ajg,this),e.appendChild(this.Md.e),this.Md.e.style["margin-top"]="1em",this.Qh=new Wr(!0),this.Qh.h(mr.E.o,this.auv,this),e.appendChild(this.Qh.e),this.ajg(),this.Vb=new Na,(this.Vb.parent=this).Vb.e.setAttribute("style","margin-left:1em"),this.Vb.h("tempready",this.a6K,this)}function us(t,e,n){Ha.call(this,e,"sel_"+t),this.d=t;var i=hr.L("div","form");this.body.appendChild(i),this.Qs=new Er(e,0,255,null,0,!1,!0),i.appendChild(this.Qs.e),this.Qs.f(1);e=hr.L("span");e.textContent=n,i.appendChild(e),hr.hw(i),this.aso=new Lr("Apply at canvas bounds"),"border"!=t&&i.appendChild(this.aso.e),this.qQ=hr.Oj(this,i)}function fs(t,e,n,i,r,a){Ha.call(this,n,e),this.a9l=a,this.rT=r,this.Sr=null,this.lM=hr.L("div","form"),this.body.appendChild(this.lM),this.Qs=0==t?new Tr(n,null,10):1==t?new Or(n,0,500,i,1):new Tr(n,null,24,5),this.Qs.h(mr.E.o,this.wV,this),this.lM.appendChild(this.Qs.e),this.qQ=hr.Oj(this,this.lM),this.h("closebtn",this.Hd,this)}function cs(){Ha.call(this,[1,5],"open_from_url"),this.ln=null;var t=hr.L("div","form");this.body.appendChild(t),this.Bm=new Tr("URL",null,22),t.appendChild(this.Bm.e),hr.hw(t),this.$g=new zr([21,0],[[21,2],[21,1]]),t.appendChild(this.$g.e),this.qQ=hr.Oj(this,t)}function ps(){Ha.call(this,[12,79],"preferences"),this.fd=null;var t=hr.L("div","form");this.body.appendChild(t),this.YQ=[new Lr([8,2]),new Lr([8,4]),new Ir([12,80,3],[[12,93,3],[12,80,4]]),new Or([12,80,5],1,100,null,2),new Ir(null,Rr.IR.d2),new Ir([12,80,6],Rr.IR.d2),new Lr("Remind me to save")];for(var e=0;e<this.YQ.length;e++){var n=this.YQ[e];t.appendChild(n.e),3!=e&&hr.hw(t),n.h(mr.E.o,this.cr,this)}}function ds(){Ha.call(this,[11,8],"saveforweb"),this.aaK="",this.h("closebtn",function(){this.qV.zV()},this),this.xc=new Pr(512,512),this.Jt=null,this.FE=null,this.anW=null,this.fd=null,hr.Yq(this.body,"flexrow");var t=hr.L("div"),e=hr.L("div");this.body.appendChild(t),this.body.appendChild(e),this.Xy=hr.L("div","imgcont"),t.appendChild(this.Xy),this.qV=new Oa,this.qV.hi(this.xc.x,this.xc.y),this.sM=hr.L("span"),t.appendChild(this.sM),this.lM=hr.L("div","form cell"),this.lM.setAttribute("style","width:15em; padding-left:1em;"),e.appendChild(this.lM),this.pl=new Ir([12,50],ai.mX()),this.lM.appendChild(this.pl.e),this.pl.h(mr.E.o,this.RQ,this),this.c_=new ma(!0,!0,!1,!0),this.c_.h(mr.E.o,this.RQ,this),this.lM.appendChild(this.c_.e),this.s8=new Ia,this.s8.h(mr.E.o,this.RQ,this),this.lM.appendChild(this.s8.e),this.JF=new kr([1,2],!0,null,!0),this.JF.h("click",this.Wr,this),this.lM.appendChild(this.JF.e)}function vs(){Ha.call(this,[11,13],"shortcuts");var t=this.UE=hr.L("div","scrollable");t.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em"),this.body.appendChild(t),this.asO()}function gs(){Ha.call(this,[8,11,1],"soptions"),this.Xd=null;var t,e=hr.L("div","form");for(t in e.style.width="20em",this.body.appendChild(e),this.s1={Nm:[12,48],url:"URL",null:[12,71]},this.YQ={},this.s1){var n=new Tr(this.s1[t],null,15);this.YQ[t]=n,e.appendChild(n.e)}this.qQ=hr.Oj(this,e)}function ys(){Ha.call(this,[2,3],"fill"),this.fd=null,this.cb=null;var t=hr.L("div","form padded");t.style.width="22em",this.body.appendChild(t),this.Ko="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" "),this.zu=new Ir([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],null,[3,3,2]),this.zu.h(mr.E.o,this.aiG,this),t.appendChild(this.zu.e),this.Xy=hr.L("span"),t.appendChild(this.Xy),this.kL=new ea,(this.kL.parent=this).kL.jn(0),this.u_=new sa,(this.u_.parent=this).CQ=new Ir([12,19,0],Ji.f$,!1,Ji.Kc),t.appendChild(this.CQ.e),this.eM=new Or([12,0],0,100,"%",0,!1),this.eM.f(100),t.appendChild(this.eM.e),this.Tc=new Lr([13,5]),this.Tc.f(!1),t.appendChild(this.Tc.e),this.qQ=hr.Oj(this,this.body)}function ms(){Ha.call(this,[14,9],"stroke"),this.fd=null,this.lM=hr.L("div","form"),this.lM.setAttribute("style","width:24em"),this.body.appendChild(this.lM),this.hA=new as("FrFX",!0),this.hA.parent=this;for(var t=["Sz","Styl","Md","Opct"].concat(Wi.Di),e=0;e<t.length;e++){var n=this.hA.Oq[t[e]].e;this.lM.appendChild(n)}this.kp=!1,this.qQ=hr.Oj(this,this.body)}function ws(){Ha.call(this,[11,9],"textwarp"),this.YQ=new Ea,this.YQ.h(mr.E.o,this.tN,this),(this.YQ.parent=this).lM=hr.L("div","form"),this.lM.setAttribute("style","width:20em"),this.body.appendChild(this.lM),this.lM.appendChild(this.YQ.Wi.e),this.lM.appendChild(this.YQ.C1.e),this.lM.appendChild(this.YQ.As.e),this.lM.appendChild(this.YQ.rV.e),this.lM.appendChild(this.YQ.u6.e),this.qQ=hr.Oj(this,this.lM),this.h("closebtn",this.Hd,this)}function bs(){Ha.call(this,[11,12,0],"trim");var t=this.lM=hr.L("div","form");this.lM.setAttribute("style","width:22em"),this.body.appendChild(this.lM);var e=new Dr("Color To Trim:");t.appendChild(e.e),this.Z4=new Vr(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0),this.Z4.f([!0]),this.lM.appendChild(this.Z4.e);e=new Dr("Sides:");t.appendChild(e.e),this.Gd=new Vr(null,["Top","Left","Bottom","Right"]),this.Gd.f([!0,!0,!0,!0]),this.lM.appendChild(this.Gd.e),this.qQ=hr.Oj(this,this.body)}function Ms(){Ha.call(this,"Raw Photopea","rawpea"),this.hk=null,this.Uz=null,this.xZ=null,this.pd=0,this.YM=null,this.He=null,this.ads=500,this.aef=500,this.aar=0,this.h("closebtn",this.ii,this),hr.Yq(this.body,"flexrow");var t=hr.L("div"),e=hr.L("div");e.setAttribute("style","padding-left: 1em"),this.body.appendChild(t),this.body.appendChild(e),this.O=hr.L("canvas"),t.appendChild(this.O),this.bJ=new ua(225),this.bJ.k7(4),e.appendChild(this.bJ.e),this.lM=hr.L("div"),this.lM.setAttribute("style","width:18em;"),e.appendChild(this.lM),this.a5S=new Dr("Hi",!0),this.lM.appendChild(this.a5S.e),this.jd=[new Nr("Temperature",2e3,13e3),new Nr("Tint",-150,150),new Nr([4,3],-4,4,null,!0),new Nr([12,3,0],-100,100)];for(var n=0;n<this.jd.length;n++){var i=this.jd[n];i.f(0),i.h(mr.E.o,this.yE,this),this.lM.appendChild(i.e),1==n&&this.lM.appendChild(hr.L("hr"))}this.qQ=new kr([1,0],!0,null,!0),this.qQ.h("click",this.Wr,this),this.lM.appendChild(this.qQ.e),this.BC=new kr('<svg  class="autoscale gsicon" viewBox="0 0 14 18" width="14" height="18" fill="black"><path d="M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z" /></svg> JPG',!0,null,!0),this.BC.h("click",this.aoT,this),this.lM.appendChild(this.BC.e),this.BC.e.style.marginTop="6px"}function Ss(t){Ha.call(this,t?[11,11,0]:[11,11,1],t?"vbitmap":"rcolors"),this.Sr=null,this.rJ=null,this.ck=null,this.Jo=null,this.MV=null,this.alX=null,this.yh=null,this.Wb="",this.Eu=t,this.tM=this.pX.bind(this),this.body.style.padding="0",this.lM=hr.L("div","form hbar padded"),this.body.appendChild(this.lM);var e,n=this.uO={cnum:new Er([12,82],2,50,null),nois:new Lr([12,81]),mode:new Ir(null,["Cartoon","Photo"]),segm:new Lr("Segmentize"),poly:new Lr("Polygon"),polE:new Er("Roughness",2,30,null),ok:hr.Oj(this,null,!1)};for(e in n){var i=n[e];i.parent=this,"ok"!=e&&i.h(mr.E.o,this.pX,this)}var r=this.mq=hr.L("div","flexrow");this.body.appendChild(r),this.o3=new Oa,this.o3.h("viewchange",this.QZ,this),this.Fj=new Oa,this.O=hr.L("canvas"),this.O.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;"),this.XN=this.O.getContext("2d");var a=Rr.t(1024);Rr.eU(a,16,16,8),this.GE=Rr.scale.mm(a,16,16),this.o3.aj6(this.O),this.o3.Pz(this.Fj),this.Fj.Pz(this.o3),r.appendChild(this.o3.e),t?r.appendChild(this.O):r.appendChild(this.Fj.e)}function Cs(e){Ha.call(this,[[7,11],[7,13]][e],["redge","magiccut"][e]),this.Z4=e,this.Sr={},this.Mi=null,this.xv=null,this.yh=null,this.nJ=null,this.Ie=null,this.body.style.padding="0",this.dZ=[],this.eK=-1,this.lM=hr.L("div","form hbar padded"),this.body.appendChild(this.lM),this.kl=new ia,(this.kl.parent=this).kl.h(mr.E.o,this.Lw,this),this.lM.appendChild(this.kl.e);var t=(t=0==e?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"]).concat("tools/hand","zoomIn","zoomOut");this.T3=new ca(null,t,0==e?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]],28),this.T3.h(mr.E.o,this.XL,this),this.lM.appendChild(this.T3.e),this.A$=new Er([7,9],0,50,null),(this.A$.parent=this).A$.h(mr.E.o,[this.ak7,this.pX][e],this),this.lM.appendChild(this.A$.e);var n=this.atb=new kr([2,2],!1,null,!0);n.h("click",this.ii,this),this.lM.appendChild(n.e);t=this.a6b=hr.L("span","form");this.lM.appendChild(t);n=this.a9w=new kr([12,90],!1,null,!0);n.h("click",function(t){alert(0==e?ri.get([15,7,1]):"Mark the object with Green, background with Red. Two colors should never touch.",5e3)},this),t.appendChild(n.e);n=new kr("Tutorial",!1,null,!0);n.h("click",this.asa,this),t.appendChild(n.e),this.my=new ca([12,46],["checker","#ffffff","#000000"]),this.my.h(mr.E.o,this.a9D,this),t.appendChild(this.my.e),this.M_=new Ir(null,[[6,13],[6,2],[17,2]]),t.appendChild(this.M_.e),this.qQ=hr.Oj(this,t,!1);t=this.mq=hr.L("div","flexrow");this.body.appendChild(t),this.gb=new Oa(!0),this.Xt=new Oa,this.gb.Pz(this.Xt),this.Xt.Pz(this.gb),this.gb.h("mousedown",this.Wv,this),this.gb.h("mousemove",this.Ij,this),this.gb.h("mouseup",this.KE,this),this.gb.h("zoom",this.Lw,this),this.Xt.h("zoom",this.Lw,this),t.appendChild(this.gb.e),t.appendChild(this.Xt.e)}function xs(){Ha.call(this,[1,13],"locstor"),this.fd=null,this.N0=[];var t=this.body,e=hr.L("p");e.textContent="These files are loaded every time you start Photopea.",t.appendChild(e),this.abd=0,this.dW=hr.L("span"),t.appendChild(this.dW),this.dW.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");e=hr.L("span","form");t.appendChild(e),this.Fc=new kr([5,4],!1,null,!0),this.Fc.h("click",this.a4_,this),e.appendChild(this.Fc.e),this.a6F=new kr("Get all as ZIP",!1,null,!0),this.a6F.h("click",this.iW,this),e.appendChild(this.a6F.e),this.RC=new Wr(!0),(this.RC.parent=this).RC.k7(1),t.appendChild(this.RC.e),this.RC.e.setAttribute("style","width: 40em; height: 25em")}function Ls(){Ha.call(this,[1,15],"pmanager"),this.fd=null,this.q3=new Ir([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]),this.q3.h(mr.E.o,this.Et,this),this.body.appendChild(this.q3.e);var t=hr.L("div","flexrow");this.body.appendChild(t);var e=this.a0t=hr.L("div");t.appendChild(e);var n=hr.L("div","form");t.appendChild(n),n.setAttribute("style","width:140px; margin-left:12px"),this.apD=[Bi.Gx,Bi.kv,Bi.QM,Bi.q2,Bi.at,Bi.K0],this.DY=[new ia,new ga,new sa,new oa,new Ca,new ra];for(var i=0;i<this.DY.length;i++)this.DY[i].parent=this;this.$e=[];for(i=0;i<4;i++){var r=new kr("Hello",!0,null,!0);r.h("click",this.OM,this),this.$e.push(r),n.appendChild(r.e)}this.Et()}function Ds(t,e,n){Ha.call(this,e,"cwindow"),this.aft=new Pr(n[0],n[1]-33),this.lM=hr.L("div","form"),this.lM.setAttribute("style","width:"+(n[2]-n[0])+"px; height:"+(n[3]-n[1])+"px"),this.body.appendChild(this.lM)}function ks(){Ha.call(this,["VAR0",[25,0]],"templates"),this.aq3=null,this.m8=null,this.Qe=0,this.GW=null,this.body.setAttribute("style","padding:0"),this.IV=new kr("Add Templates",null,null,!0),this.body.appendChild(this.IV.e),this.IV.h("click",this.aao,this),this.IV.e.setAttribute("id","btnAddTemplates"),this.IV.e.setAttribute("style","position:absolute;margin-top:-28px;margin-left:150px"),this.akZ=new kr("New Template",null,null,!0),this.akZ.h("click",this.anD,this),this.aok=new kr("Upload Current Document as a Template",null,null,!0),this.aok.h("click",this.an0,this),this.wf=hr.L("iframe","scrollable"),this.wf.setAttribute("style","border:none;margin:0;padding:0;"),this.Wp=hr.L("div","form scrollable padded"),this.Nd=hr.L("div","form scrollable padded label12");var t,e=[],n=ks.KF;for(t in this.Vw=[],n){var i=parseInt(t.slice(1));e.push((i%10==0?"":"⠀⠀- ")+n[t]),this.Vw.push(i)}this.lt=[new Tr("Name",null,30),new Tr("Description",null,30,4),new Tr("File"," www.Photopea.com#i...",17),new Tr("Thumbnail URL","* Use Imgur.com etc.",17),new Ir("Category",e),new kr("<< Back",null,null,!0),new kr("Save",null,null,!0),new Dr('Publish your PSD: File - Publish Online - PSD. Use that URL as "File".'),new Dr('Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose "Copy Image Address".')];for(var r=0;r<this.lt.length;r++){var a=this.lt[r];this.Nd.appendChild(a.e),a.parent=this,5!=r&&hr.hw(this.Nd),a instanceof kr&&a.h("click",this.a27,this)}this.body.appendChild(this.wf)}function Ts(){Ha.call(this,"Make Selection","makesel"),this.fd=null;var t=hr.L("div","form");this.body.appendChild(t),this.h1=new Lr([12,25,1]),this.h1.f(!0),t.appendChild(this.h1.e),hr.hw(t),this.pe=new Da(!0),t.appendChild(this.pe.e),this.qQ=hr.Oj(this,this.body)}function As(){Ha.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb"),this.cb=null,this.I6=null,this.Q1=null;var t=this.auD=hr.L("div","form");t.setAttribute("style","width:20em"),this.body.appendChild(t),this.D0=new zr([12,50],["PSD","PSB"]),this.D0.h(mr.E.o,this.RQ,this),t.appendChild(this.D0.e),hr.Oe(t);var e=new Dr("Minify the file");t.appendChild(e.e),hr.hw(t);var n=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];this.gx=[];for(var i=0;i<n.length;i++){var r=new Lr(n[i]);this.gx.push(r),t.appendChild(r.e),r.h(mr.E.o,this.RQ,this)}hr.Oe(t),this.zN=new Dr("aa.psd"),this.Ec=new Dr("10 kB"),t.appendChild(this.Ec.e),this.aoK=new Dr("1000 B"),t.appendChild(this.aoK.e),this.qQ=new kr([1,2],!0,null,!0),this.qQ.h("click",this.Wr,this),t.appendChild(this.qQ.e),this.Ip=new kr(["VAR0 (Google Drive)",[1,2]],!0,null,!0),this.Ip.h("click",this.Wr,this),t.appendChild(this.Ip.e),this.h("closebtn",this.Hd,this)}function Es(){Ha.call(this,"Confirm","confirm"),this.ky=null;var t=hr.L("div","form");this.body.appendChild(t),this.Qs=hr.L("div"),this.Qs.textContent="Hello",t.appendChild(this.Qs),this.qQ=hr.Oj(this,t),t.appendChild(this.qQ.e)}function Os(){Ha.call(this,"New Artboard","newartb"),this.Z4=0,this.U0=null;var t=hr.L("div","form");t.style.width="260px",this.body.appendChild(t),this.RC=new ma,t.appendChild(this.RC.e),this.qQ=hr.Oj(this,t)}function Ns(t,e,n,i){Sr.call(this),this.name=t,this.a8n=n,this.lV=i,this.Ei=hr.L("div",""),this.Ei.setAttribute("draggable","true"),this.Vz=hr.L("div","pbody"),this.Vs=new kr("",!1,""),(this.Vs.parent=this).a5P=hr.L("span","cross"),this.R0=hr.L("span","label");i=this.a2I.bind(this);this.Ei.addEventListener("mousedown",this.ate.bind(this),!1),this.Ei.addEventListener("contextmenu",i,!1),this.Vs.e.addEventListener("contextmenu",i,!1),this.a5P.addEventListener("mousedown",this.kf.bind(this),!1),this.Ei.appendChild(this.R0),e&&this.Ei.appendChild(this.a5P),this.DS=!1,this.mH=new xr([{name:[1,12,0]}]),this.mH.h("select",this.kf,this),this.R0.textContent=t}function Is(){Ns.call(this,[9,9],!1,"---panels/actions",Ns.DG.al2),this.fd=null,this.iz=[0,0],this.bQ=hr.L("div","padded scrollable"),this.bQ.setAttribute("style","width:260px;  height:260px"),this.Vz.appendChild(this.bQ),this.h(mr.E.o,this.wV,this),this.cK=hr.L("div","lpfoot"),this.Vz.appendChild(this.cK),this.DY=[];var t='<svg  class="gsicon" viewBox="0 0 14 18" width="14" height="18" fill="black">',e="</svg>";this.atj=t+'<circle cx="7" cy="9" r="6" />'+e,this.ac8=t+'<path d="M2,4 L12,4 L12,14 L2,14 Z" />'+e;for(var n=[this.atj,'<svg  class="gsicon" viewBox="0 0 14 18" width="14" height="18" fill="black"><path d="M0,2 L14,9 L0,16 Z" /></svg>',"lrs/folder","lrs/newlayer","lrs/bin",'<svg  class="gsicon" viewBox="0 0 14 18" width="14" height="18" fill="black"><path d="M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z" /></svg>'],i=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]],r=0;r<n.length;r++){var a=n[r],a=new kr(a=1<r&&r!=n.length-1?'<img src="'+PIMG[n[r]]+'" class="gsicon" />':a,!1,i[r]);a.h("click",this.ajG,this),this.cK.appendChild(a.e),this.DY.push(a)}}function Ps(){Ns.call(this,[3],!1,"---lrs/adj",Ns.DG.a2E),this.Vz.setAttribute("style","text-align:center;  padding:6px; min-width:220px"),this.DY=[];var t,e=0;for(t in ji.names){var n=new kr('<img src="'+PIMG["adj/"+t]+'" class="autoscale gsicon" style="margin:4px 4px;"/>',!1,ji.names[t]);n.h("click",this.aua,this),this.DY.push(n),this.Vz.appendChild(n.e),4!=e&&10!=e||hr.hw(this.Vz),e++}}function Fs(){Ns.call(this,[12,22],!1,null,Ns.DG.q2),this.bQ=hr.L("div","padded"),this.Vz.appendChild(this.bQ),this.lj=new oa(null,17.7,10),(this.lj.parent=this).lj.h(mr.E.o,this.Px,this),this.bQ.appendChild(this.lj.N8)}Sr.prototype=new gr,Sr.prototype.a2q=function(t){for(var e=this;null!=e;){if(e==t)return!0;e=e.parent}return!1},Sr.prototype.RF=function(){var t=this.e;return t.offsetWidth+t.clientLeft},Sr.prototype.a58=function(){var t=this.e;return t.offsetHeight+t.clientTop},Sr.prototype.update=function(t){},Sr.prototype.c=function(t){gr.prototype.c.call(this,t),t.bubbles&&null!=this.parent&&this.parent.c(t)},Sr.prototype.T=function(){},Sr.prototype.hi=function(t,e){},Sr.prototype.a6=function(t){hr.Yq(this.e,"disabled")},Sr.prototype.S0=function(t){hr.dj(this.e,"disabled")},Sr.prototype.dD=function(t){t?this.S0():this.a6()},Cr.prototype=new Sr,Cr.prototype.afU=function(t){var e,n;"gesturestart"==t.type&&(this.pd=t.scale),"gesturechange"==t.type&&((e=new yr("mouse",!0)).action="scroll",e.AB=!0,this.xg(t,e),n=(this.pd-t.scale)/this.pd,e.jX=new Pr(0,100*n),this.pd=t.scale,this.c(e))},Cr.prototype.MA=function(t){for(var e=-1,n=this.rp,i=0;i<n.length;i++)n[i].pointerId==t.pointerId&&(e=i);return e},Cr.Aq=function(t){if(2==t.which)return!0;var e=t.pointerType,t=window.__kb;return"touch"==e&&t.j(ii.asQ)},Cr.prototype.Wv=function(t){var e,n;Cr.Aq(t)||(-1!=(e=this.MA(t))?this.rp[e]=t:this.rp.push(t),1==this.rp.length&&(this.aoQ=Date.now(),e=null!=t.button&&0!=t.button?"rdown":"down",(n=new yr("mouse",!0)).action=e,this.xg(t,n),this.c(n),hr.l$(this.we,this.iR),hr.Z3(window,this.iR),hr.MK(window,this.a2L)),2==this.rp.length&&(Date.now()-this.aoQ<100&&((n=new yr("mouse",!0)).action="cancellast",this.xg(t,n),this.c(n)),this.aia("multidown"),this.lH=!0))},Cr.prototype.Ij=function(t){var e;Cr.Aq(t)||(-1!=(e=this.MA(t))&&(this.rp[e]=t),1<this.rp.length&&this.aia("multimove"),this.lH||1==this.rp.length&&-1==e||((e=new yr("mouse",!0)).action="move",this.xg(t,e),this.c(e)))},Cr.prototype.KE=function(t){var e,n;Cr.Aq(t)||(n=this.rp,-1!=(e=this.MA(t))&&(n.splice(e,1),0==n.length&&(e=null!=t.button&&0<t.button?"rup":"up",(n=new yr("mouse",!0)).action=e,this.xg(t,n),this.c(n),hr.l$(window,this.iR),hr.oV(window,this.a2L),hr.Z3(this.we,this.iR),this.lH=!1)))},Cr.prototype.l2=function(t){var e;t.preventDefault(),0==t.deltaX&&0==t.deltaY||((e=new yr("mouse",!0)).action="scroll",e.AB=t.ctrlKey,this.xg(t,e),this.c(e))},Cr.prototype.aak=function(t){hr.ga(t);var e=t.sourceCapabilities;(e=e&&e.firesTouchEvents)&&(e=new yr("mouse",!0),this.xg(t,e),e.action="rdown",this.c(e),e.action="rup",this.c(e))},Cr.prototype.aia=function(t){for(var e=this.rp,n=hr.F(),i=[],r=0;r<e.length;r++){var a=i[r]=hr.B6(e[r],this.we);a.x*=n,a.y*=n}var s=new yr("mouse",!0);s.action=t,s.o9=i,e.length<=2&&this.c(s)},Cr.prototype.xg=function(t,e,n){var i,r=0!=this.rp.length;"up"!=e.action?(i=hr.F(),null==n&&(n=hr.B6(t,this.we)),this.Q4=e.GD={x:i*n.x,y:i*n.y,nK:r},n=hr.B6(t,document.body),e.GD.TR=n.x,e.GD.KY=n.y):this.Q4=e.GD={x:this.Q4.x,y:this.Q4.y,nK:r},e.GD.r_=.5,null!=t.pressure&&0!=t.pressure&&(e.GD.r_=t.pressure),"mouse"==t.pointerType&&(e.GD.r_*=2),e.GD.a7g=t.pointerType,null!=t.deltaX&&(r=0==t.deltaMode?1:40,e.jX=new Pr(t.deltaX*r,t.deltaY*r))},xr.prototype=new Sr,xr.prototype.adE=function(t){hr.d5(this.e);for(var e=0;e<t.length;e++)0!=t[e]&&null!=t[e]&&(this.e.appendChild(this.oB[e]),1!=t[e]&&this.ut[e]&&this.ut[e].adE(t[e]))},xr.prototype.T=function(){for(var t=this.atR,e=0;e<t.length;e++)t[e].title&&(this.oB[e].title=ri.get(t[e].title)),this.wD[e].textContent=ri.get(t[e].name)+(t[e].ZN?"...":"");for(e=0;e<this.ut.length;e++)this.ut[e]&&this.ut[e].T()},xr.prototype.update=function(t,e){for(var n,i=this.atR,r=0;r<i.length;r++)i[r].K&&(null!=(n=i[r].K(t,e,r)).K&&this.oB[r].setAttribute("class",n.K?"enab":"disab"),null!=n.yU&&(this.wD[r].textContent=n.yU),null!=n.Cc&&(this.ajm[r].textContent=n.Cc?"✓":""),null!=n.R&&(this.e6[r]=n.R));for(r=0;r<this.ut.length;r++)this.ut[r]&&this.ut[r].update(t,e)},xr.prototype.$T=function(){return this.ip},xr.prototype.KE=function(t){var e,n;0==t.button&&(e=this.oB.indexOf(t.currentTarget),this.ut[e]?(this.Fb=e,this.ae6()):(this.e6&&(t=this.e6[e],(n=new yr(t._,!0)).b=t.b,n.data=t.R,this.c(n)),this.uW=null,this.ip=[e],this.c(new yr("select",!1)),(n=new yr(mr.E.W,!0)).data={d:mr.J.J3},this.c(n)))},xr.prototype.Tm=function(t){t=this.oB.indexOf(t.currentTarget);this.sh&&(clearTimeout(this.sh),this.sh=null),null!=this.ut[t]&&(this.Fb=t,this.sh=setTimeout(this.ahF,300))},xr.prototype.ak3=function(t){this.oB.indexOf(t.currentTarget);this.sh&&(clearTimeout(this.sh),this.sh=null)},xr.prototype.ae6=function(){this.sh&&(clearTimeout(this.sh),this.sh=null);var t=this.Fb;this.uW&&this.uW.ady(),this.uW=this.ut[t];var e=this.oB[t].getBoundingClientRect(),n=new yr(mr.E.W,!0);n.data={d:mr.J.u9,IZ:this.ut[t],x:e.left+e.width+2,y:e.top},this.c(n)},xr.prototype.ady=function(){for(var t=0;t<this.ut.length;t++)this.ut[t]&&this.ut[t].ady();var e=new yr(mr.E.W,!0);e.data={d:mr.J.dv,IZ:this},this.c(e)},xr.prototype.al3=function(t){var e=this.ut.indexOf(t.target);this.ip=[e].concat(t.target.$T()),this.c(new yr("select",!1))},Lr.prototype=new Sr,Lr.prototype.a78=function(){return this.mS},Lr.prototype.Uf=function(t){this.su.textContent=t},Lr.prototype.T=function(){var t=this.mS;"string"==typeof t&&t.startsWith("<")?this.su.innerHTML=t:this.su.textContent=ri.get(t)},Lr.prototype.j4=function(){this.Nz.checked=!0},Lr.prototype.x7=function(){this.Nz.checked=!1},Lr.prototype.wI=function(){return this.Nz.checked},Lr.prototype.f=function(t){this.Nz.checked=t},Lr.prototype.M=Lr.prototype.wI,Lr.prototype.lb=function(t){this.c(new yr(mr.E.o,!1))},Dr.prototype=new Sr,Dr.prototype.f=function(t){this.e.textContent=t},Dr.prototype.M=function(){return this.e.textContent},Dr.prototype.S0=function(){this.e.removeAttribute("disabled")},Dr.prototype.a6=function(){this.e.setAttribute("disabled","")},Dr.prototype.Uf=function(t){this.e.textContent=t},Dr.prototype.T=function(){this.e.textContent=ri.get(this.mS)},Dr.prototype.a78=function(){return this.mS},kr.prototype=new Sr,kr.prototype.T=function(){var t=this.e,e=this.mS,n=this.pF,e=ri.get(e);e.startsWith("<img")||e.startsWith("<svg")||e.startsWith("<span")?t.innerHTML=e:t.textContent=e,(e.startsWith("<img")||e.startsWith("<svg")||e.startsWith("<span"))&&t.setAttribute("style","padding:2px"),n&&t.setAttribute("title",ri.get(n))},kr.prototype.a0r=function(t){this.e.setAttribute("title",t)},kr.prototype.fZ=function(t){this.c(new yr("click",!1))},kr.prototype.j4=function(){hr.Yq(this.e,"bactive")},kr.prototype.x7=function(){hr.dj(this.e,"bactive")},kr.prototype.Uf=function(t,e){t&&(this.mS=t),e&&(this.pF=e),this.T()},kr.prototype.f=function(t){t?this.j4():this.x7()},kr.prototype.wI=function(){return-1!=this.e.getAttribute("class").indexOf("bactive")},kr.prototype.M=function(){return this.wI()},Tr.prototype=new Sr,Tr.prototype.T=function(){this.mS&&(this.su.textContent=ri.get(this.mS)+":")},Tr.prototype.Uf=function(t){this.su.textContent=t},Tr.prototype.f=function(t){var e=this.Nz,t=null==t?"":t;"SPAN"==e.tagName?(e.textContent=" "+t,this.nu&&e.appendChild(this.nu)):e.value=t},Tr.prototype.M=function(){return this.Nz.value},Tr.prototype.Hj=function(){this.Nz.select(),this.Nz.focus()},Tr.prototype.lb=function(t){this.c(new yr(mr.E.o,!1))},Tr.prototype.a4Q=function(t){this.c(new yr("input",!1))},Ar.prototype=new Sr,Ar.prototype.B3=function(t){this.lT=t},Ar.prototype.Uf=function(t){this.su.textContent=t},Ar.prototype.T=function(){var t=this.mS,e=this.pF;t&&("string"==typeof t&&t.startsWith("<")?this.su.innerHTML=t:this.su.textContent=ri.get(t)+":"),e&&(e=ri.get(e),t&&this.su.setAttribute("title",e),this.Nz.setAttribute("title",e))},Ar.prototype.f=function(t,e){!(this.Rb==this.Il)&&0<=this.Rb&&(t=Math.max(this.Rb,t)),0==this.lT&&(t=Math.round(t));var n=this.O_;this.Dt=t,this.Nz.value=(0!=this.lT?t.toFixed(this.lT):t)+(this.a6O&&n?(n.toLowerCase()==n.toUpperCase()?"":" ")+n:"");n=400*Math.pow((t-this.Rb)/(this.Il-this.Rb),1/2.7);this.PA.value=this.gh?n:t,e&&this.g3()},Ar.prototype.M=function(){var t=this.Dt;return t=isNaN(t)?0:t},Ar.prototype.R8=function(){return this.O_},Ar.prototype.lb=function(t){var e=0;if(t.currentTarget==this.Nz){var n=t.target.value,i=0,e=""==n?0:(this.O_?parseFloat:eval)(n);for(isNaN(e)&&(e=0);i<n.length&&("."==n.charAt(i)||48<=n.charCodeAt(i)&&n.charCodeAt(i)<=57);)i++;var r=n.slice(i).trim();this.N9&&-1!=this.N9.indexOf(r)&&(this.O_=r)}else{if(Date.now()-this.Lf<10)return;e=parseFloat(t.target.value),this.gh&&(e=this.Rb+Math.pow(e/400,2.7)*(this.Il-this.Rb),e=this.afS(e))}this.f(e),"input"==t.type&&this.ak2||this.g3()},Ar.prototype.g3=function(){this.c(new yr(mr.E.o))},Ar.prototype.afS=function(t){return t=50<this.Il-this.Rb&&10<t?Math.round(t):t},Ar.prototype.Ez=function(t){var e=0;ii.A7(t.code,ii.Rr)&&(e=1),0!=(e=ii.A7(t.code,ii.QH)?-1:e)&&this.aog(e,t.shiftKey)},Ar.prototype.l2=function(t){this.aog(0<t.deltaY?-1:1,t.shiftKey)},Ar.prototype.aog=function(t,e){var n=this.M(),i=this.lT,i=t*(null==i||0==i||5<n?1:.1);e&&(i*=10);i=n+i;this.gh||this.Il==this.Rb||(i=Math.min(this.Il,i)),this.f(i),this.g3()},Ar.prototype.arG=function(t){var e,n,i=Date.now()-this.Lf;this.Lf=Date.now(),200<i||(i=((e=this.Rb)+(n=this.Il))/2,e<1&&1<n&&n<10?i=1:e<90&&110<n?i=100:e<0&&0<n&&(i=0),this.f(i),this.g3())},Ar.prototype.anq=function(t){hr.Z3(document,this.ajN),hr.MK(document,this.arZ),this.lE=hr.B6(t,document.body).x,this.Wg=this.M()},Ar.prototype.ao8=function(t){hr.ga(t);var e=this.Rb==this.Il,n=hr.B6(t,document.body).x,t=(n-this.lE)*(e?1:1/120*(this.Il-this.Rb)),t=this.Wg+t;e&&(t=Math.round(t)),e||((t=Math.max(this.Rb,t))==this.Rb&&(this.lE=n,this.Wg=this.Rb),this.gh||(t=Math.min(this.Il,t))==this.Il&&(this.lE=n,this.Wg=this.Il),t=this.afS(t)),this.$p=!0,this.f(t),this.g3()},Ar.prototype.a5e=function(t){this.$p||this.Nz.focus(),this.$p=!1,hr.l$(document,this.ajN),hr.oV(document,this.arZ)},Ar.prototype.Hj=function(){this.Nz.select(),this.Nz.focus()},Er.prototype=new Ar,Er.prototype.a1i=function(t){var e;hr.DH(this.$R.e)||(t.stopPropagation(),e=this.e.getBoundingClientRect(),this.PA.setAttribute("style","width:"+e.width+"px;"),(t=new yr(mr.E.W,!0)).data={d:mr.J.u9,IZ:this.$R,x:e.left,y:e.top+e.height},this.c(t))},Or.prototype=new Ar,Nr.prototype=new Ar,Ir.prototype=new Sr,Ir.prototype.Uf=function(t){this.mS=t,this.T()},Ir.prototype.T=function(){var t;null!=this.mS&&(t=ri.get(this.mS),this.a8A?this.td.setAttribute("title",t):this.su.textContent=t+":"),this.L1&&this.aE(this.L1,this.akM),this.f(this.DS)},Ir.prototype.M=function(){return this.DS},Ir.prototype.aE=function(t,e){hr.d5(this.td);var n=[],i=0;if(e){n.push(e[0]);for(var r=1;r<e.length;r++)n.push(n[r-1]+e[r])}this.L1=t,this.BG=[],this.akM=e;for(r=0;r<t.length;r++){var a=hr.L("option");-1!=this.c5.indexOf(r)&&a.setAttribute("disabled",""),a.textContent=ri.get(t[r]),a.setAttribute("value",r),this.td.appendChild(a),this.G4.push(a),this.BG.push(r+i),-1!=n.indexOf(r+1)&&r!=t.length-1&&((a=hr.L("option")).setAttribute("disabled",""),a.textContent="",this.td.appendChild(a),i++)}},Ir.prototype.ai9=function(t){var e=this.c5;-1==e.indexOf(t)&&e.push(t),this.T()},Ir.prototype.aff=function(t){var e=this.c5,t=e.indexOf(t);-1!=t&&e.splice(t,1),this.T()},Ir.prototype.f=function(t){this.DS=t,this.td.selectedIndex=this.BG[t]},Ir.prototype.lb=function(t){this.DS=this.BG.indexOf(this.td.selectedIndex),this.c(new yr(mr.E.o,!1))},zr.prototype=new Sr,zr.prototype.Uf=function(t){this.mS=t,this.T()},zr.prototype.T=function(){null!=this.mS&&(this.su.textContent=ri.get(this.mS)+": ");for(var t=0;t<this.G4.length;t++)this.G4[t].T()},zr.prototype.M=function(){return this.DS},zr.prototype.aE=function(t,e){for(;0<this.G4.length;)this.e.removeChild(this.G4.pop().e);this.L1=t;for(var n=0;n<t.length;n++){var i=new kr(t[n],!1,e?e[n]:null,this.aj5);i.h("click",this.lb,this),this.e.appendChild(i.e),this.G4.push(i)}this.T()},zr.prototype.f=function(t){this.DS=t;for(var e=0;e<this.G4.length;e++)this.G4[e].x7();this.G4[t].j4()},zr.prototype.lb=function(t){t=this.G4.indexOf(t.target);this.f(t),this.c(new yr(mr.E.o,!1))},zr.wv=function(t,e){null==e&&(e=16);var n=zr.yn,i=n.getContext("2d"),r=e>>>1;n.width=n.height=e;for(var a=[],s=0;s<t.length;s++)"-"==t[s][0]?a.push(t[s].slice(1)):"checker"==t[s]||t[s].startsWith("#")?("checker"==t[s]?(i.fillStyle="white",i.fillRect(0,0,e,e),i.fillStyle="#bbbbbb",i.fillRect(r,0,r,r),i.fillRect(0,r,r,r)):t[s].startsWith("#")&&(i.fillStyle=t[s],i.fillRect(0,0,e,e)),a.push('<img src="'+n.toDataURL()+'" />')):a.push(hr.R4(t[s],null,"autoscale"));return a},zr.yn=hr.L("canvas"),Vr.prototype=new Sr,Vr.prototype.f=function(t){for(var e=0;e<this.gL.length;e++)this.e1[e].f(t[e])},Vr.prototype.M=function(){for(var t=[],e=0;e<this.gL.length;e++)t[e]=this.e1[e].M();return t},Vr.prototype.T=function(){this.mS&&(this.su.innerHTML=ri.get(this.mS)+": ");for(var t=this.e1,e=0;e<t.length;e++)t[e].T(),e==t.length-1&&(t[e].e.style.marginRight="0px")},Vr.prototype.lb=function(t){var e=this.e1.indexOf(t.currentTarget),n=this.e1[e];if(this.afW&&n.f(!n.M()),this.aeH){for(t=n.M(),e=0;e<this.e1.length;e++)this.e1[e].f(!1);n.f(t)}this.c(new yr(mr.E.o,!1))},Wr.prototype=new Sr,Wr.prototype.T=function(){this.YC&&this.YC.T()},Wr.prototype.Y1=function(t){var e=this.YC.$T()[0],n=new yr(mr.E.W,!0),i={d:mr.J.ot,jm:this.YW,EJ:this.w.slice(0)};0==e?(e=this.Sr[1][this.w[0]],i.tX="rnm",n.data={d:mr.J.go,RB:"namewindow",Zk:e,zE:{_:mr.E.W,R:i}}):(n.data=i).tX="del",this.c(n)},Wr.prototype.akA=function(){return this.zX},Wr.prototype.k7=function(t){this.zX=t,this.Sr&&this.yE()},Wr.prototype.MO=function(t,e,n,i){this.Sr=[t,e,n,i],this.yE()},Wr.prototype.yE=function(){var t=this.Sr,e=t[0],n=t[1],i=t[2],r=t[3];this.YQ=[],this.e.innerHTML="";var a=this.fZ.bind(this),s=this.zX;0==s?hr.Yq(this.e,"imageset"):hr.dj(this.e,"imageset");for(var o=0;o<e.length;o++){var l,h=e[o],u=null;null!=h?("string"==typeof h?(u=hr.L("img","image")).setAttribute("src",h):u=h,i&&hr.N2(u,i,r),this.a9$&&hr.Yq(u,"gsicon"),0==s||((l=hr.L("div","listitem")).appendChild(u),(h=hr.L("span")).textContent=n?n[o]:"Item "+(o+1),h.setAttribute("style","margin-left:4px;"),l.appendChild(h),u=l),n&&u.setAttribute("title",n[o]),u.addEventListener("mousedown",a,!1),this.YQ.push(u),this.e.appendChild(u)):this.YQ.push(null)}},Wr.prototype.fZ=function(t){null==this.YW&&t.preventDefault();var e=this.YQ.indexOf(t.currentTarget),n=window.__kb,i=(s=this.w).length;if(n.j(ii.Ml))for(var r=Math.min(s[0],s[s.length-1],e),a=Math.max(s[0],s[s.length-1],e),s=[],o=r;o<=a;o++)s.push(o);else n.j(ii.NT)?-1==(n=s.indexOf(e))?s.push(e):s.splice(n,1):s=[e];s.sort(function(t,e){return t-e}),0!=t.button&&1!=i||this.f(s),this.$h=hr.B6(t,t.currentTarget),0==t.button&&this.c(new yr(mr.E.o)),2==t.button&&this.YC&&((e=this.YC).update(null),i=hr.B6(t,document.body),(t=new yr(mr.E.W,!0)).data={d:mr.J.u9,IZ:e,x:i.x,y:i.y+2},this.c(t))},Wr.prototype.M=function(){return this.w.slice(0)},Wr.prototype.a7f=function(){var t=this.$h;return new Pr(t.x,t.y)},Wr.prototype.f=function(t){this.w=t.slice(0);for(var e=0;e<this.YQ.length;e++){var n=this.YQ[e];null!=n&&(-1!=t.indexOf(e)?hr.Yq(n,"selected"):hr.dj(n,"selected"))}},Xr.prototype=new Sr,Xr.prototype.w6=function(){return[]},Xr.prototype.VI=function(){},Xr.prototype.T=function(){this.YC.T(),this.SA.T();var t=this.mS;t&&(this.su.textContent=ri.get(t)+":")},Xr.prototype.Uf=function(t){this.su.textContent=t},Xr.prototype.BF=function(t){var e=this.YW,n=0;e==Bi.Uk&&(n=this.ua?this.ua.length:0,t=t.slice(0)),this.ua=t,this.ZZ=!0,!hr.DH(this.SA.e)&&e!=Bi.nj||this.CC(),e==Bi.Uk&&t.length-n==1&&hr.DH(this.e)&&(this.f(t[n]),this.ZZ=!0,this.CC(),this.SA.f([n]),this.c(new yr(mr.E.o)))},Xr.prototype.Y1=function(t){var e=t.target.$T()[0];null==this.atk&&e++;t=new yr(mr.E.W,!0);if(0==e){var n=this.$L();if(this.YW==Bi.Uk&&null==n[0].profile)return;t.data={d:mr.J.ot,tX:"add",jm:this.atk,dN:n}}else 1==e?this.SA.k7(1-this.SA.akA()):e<=5?this.gT(e-2):(n=this.w6(),t.data={d:mr.J.pu,jm:{url:"rsrc/"+n[e-6]}});t.data&&this.c(t)},Xr.prototype.gT=function(t){var e=new yr(mr.E.W,!0),n=this.SA.M(),i={d:mr.J.ot,jm:this.YW,EJ:n};1<t&&0==n.length?alert("No items selected"):(0==t?e.data={d:mr.J.Rw}:1==t?e.data={d:mr.J.Hk,a6H:this.YW,EJ:0==n.length?null:n}:2==t?(n=this.SA.Sr[1][n[0]],i.tX="rnm",e.data={d:mr.J.go,RB:"namewindow",Zk:n,zE:{_:mr.E.W,R:i}}):3==t&&((e.data=i).tX="del"),this.c(e))},Xr.prototype.$L=function(){return[this.M()]},Xr.prototype.a2V=function(t){var e,n;hr.DH(this.YC.e)||(t.stopPropagation(),(e=this.YC).T(),e.update(null),n=t.currentTarget.getBoundingClientRect(),(t=new yr(mr.E.W,!0)).data={d:mr.J.u9,IZ:e,x:n.left,y:n.top+n.height},this.c(t))},Xr.prototype.Sn=function(t,e,n){var i;hr.DH(this.M3.e)||(t&&t.stopPropagation(),this.CC(),null==e&&(e=(i=this.d.getBoundingClientRect()).left,n=i.top+i.height),(i=new yr(mr.E.W,!0)).data={d:mr.J.u9,IZ:this.M3,x:e,y:n,Wq:!0},this.c(i))},Xr.prototype.abe=function(t,e){this.Sn(null,t,e)},Yr.prototype=new Sr,Yr.prototype.T=function(){for(var t=0;t<3;t++)this.D8[t].T()},Yr.prototype.M=function(){return this.Dt.slice(0)},Yr.prototype.f=function(t){this.Dt=t.slice(0);var e=this.D8,n=e[0].M();e[1].f(t.slice(8*n,8*n+4),n),e[2].f(t.slice(8*n+4,8*n+8),n)},Yr.prototype.Px=function(t){var e=this.D8,t=e.indexOf(t.currentTarget);if(0==t)this.f(this.Dt);else{for(var n=8*e[0].M()+(1==t?0:4),i=e[t].M(),r=0;r<4;r++)this.Dt[n+r]=i[r];this.c(new yr(mr.E.o,!1))}},Kr.prototype=new Sr,Kr.prototype.T=function(){this.yE()},Kr.prototype.f=function(t,e){this.Dt=t,this.hv=e,this.yE()},Kr.prototype.M=function(){return this.Dt.slice(0)},Kr.prototype.Wv=function(t){for(var e=this.Dt,n=hr.B6(t,this.O).x-8,i=-1,r=1e9,a=0;a<4;a++){var s=n-e[a],o=Math.abs(s);o<8&&o<r&&(0==(1&a)&&s<0||1==(1&a)&&0<s)&&(r=s,i=a)}-1!=i&&(this.fr=i,this.wr=window.__kb.j(ii.e$)||e[2*(i>>>1)]!=e[2*(i>>>1)+1],hr.Z3(window,this.c7),hr.MK(window,this.dl))},Kr.prototype.Ij=function(t){var e=this.Dt,n=this.fr,i=2*(n>>>1),r=1+i,t=hr.B6(t,this.O),t=Math.round(Math.max(0,Math.min(255,t.x-8)));e[n]=t,this.wr&&e[i]>=e[r]&&(this.wr=!1),this.wr||(e[i]=e[r]=t),this.yE(),this.c(new yr(mr.E.o,!1))},Kr.prototype.KE=function(t){hr.l$(window,this.c7),hr.oV(window,this.dl)},Kr.prototype.yE=function(){var t=this.O;hr.r9(t,271,16);var e=t.getContext("2d"),n=(t.width,t.height,Math.round(255*hr.F())),i=Math.round(8*hr.F());e.translate(i,0);t=e.createLinearGradient(0,0,n,0);t.addColorStop(0,"black"),t.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.hv]),e.fillStyle=t,e.fillRect(0,0,n,i);var r=this.ajo,n=ri.get(this.Sh)+":";r[0].textContent=n;for(var a=0;a<4;a++){var s=this.Dt[a];r[1+a].textContent=s;s=Math.round(s*hr.F());e.beginPath(),e.moveTo(s,i),e.lineTo(s,i+i),e.lineTo(s+(0==(1&a)?-1:1)*i,i+i),e.closePath(),e.fillStyle=a<2?"#666666":"#cccccc",e.fill(),e.strokeStyle="black",e.stroke()}},Qr.prototype=new Sr,Qr.prototype.T=function(){this.mS&&(this.su.textContent=ri.get(this.mS)+":")},Qr.prototype.Uf=function(t){this.su.textContent=t},Qr.prototype.M=function(){return this.k.slice(0)},Qr.prototype.f=function(t,e){var n=this.k;null==(t=t.slice(0))[0]&&(t[0]=n[0]),null==t[1]&&(t[1]=n[1]),null==t[2]&&(t[2]=n[2]);var i=(this.k=t)[0],r=t[1],a=t[2],s=this.aai,o=this.ao1,l=.85*this.d7;s||(r=0),this.uO[0].value=i,this.uO[1].value=r;n=this.XN;n.clearRect(0,0,100,100);i=Math.PI*i/180,r=l*(90-r)/90,t=this.d7+.5;n.save(),n.translate(t,t),n.rotate(-i),n.strokeStyle="rgba(0,0,0,0.5)",n.beginPath(),n.ellipse(0,0,l,l*a,0,0,2*Math.PI),o?(n.moveTo(0,-l*a),n.lineTo(0,l*a),n.moveTo(-r,0)):n.moveTo(0,0),n.lineTo(r,0),n.stroke();i=.15*this.d7;n.fillStyle="black",n.beginPath(),o&&(n.arc(0,-l*a,.66*i,0,2*Math.PI),n.arc(0,l*a,.66*i,0,2*Math.PI)),s?n.arc(r,0,.4*i,0,2*Math.PI):(n.moveTo(t-i,.66*-i),n.lineTo(t,0),n.lineTo(t-i,.66*i)),n.fill(),n.restore(),e&&this.lb()},Qr.prototype.lb=function(t){var e=parseInt(this.uO[0].value);isNaN(e)&&(e=0);var n=parseInt(this.uO[1].value);isNaN(n)&&(n=0),this.f([e%=360,n%=360]),this.c(new yr(mr.E.o,!1))},Qr.prototype.Bw=function(t){hr.Z3(window,this.um),hr.MK(window,this.TH);var e=hr.B6(t,this.O),n=0,i=1e9;e.x-=this.d7,e.y-=this.d7;var r=this.k,a=r[0]*Math.PI/180,s=(r[1],r[2]),o=.85*this.d7,r=Math.sin(-a),a=Math.cos(-a),l=[new Pr(a*o,r*o)];this.ao1&&l.push(new Pr(-r*o*s,a*o*s),new Pr(r*o*s,-a*o*s));for(var h=0;h<l.length;h++){var u=Pr.Tn(e,l[h]);u<i&&(i=u,n=h)}0==(this.a2y=n)&&this._g(t)},Qr.prototype._g=function(t){var e=hr.B6(t,this.O),n=this.a2y,i=[],r=e.x-this.d7,a=e.y-this.d7,s=.85*this.d7,i=0==n?(e=180*Math.atan2(-a,r)/Math.PI,n=90-90*Math.min(1,Math.sqrt(r*r+a*a)/s),t.shiftKey&&(e=15*Math.round(e/15)),[Math.round(e),Math.round(n)]):[null,null,Math.max(.01,Math.min(1,Math.sqrt(r*r+a*a)/s))];this.f(i),this.c(new yr(mr.E.o,!1))},Qr.prototype.Ag=function(t){this.c(new yr(mr.E.o,!1)),hr.l$(window,this.um),hr.oV(window,this.TH)},$r.prototype=new Sr,$r.prototype.T=function(){this.mS&&(this.su.textContent=ri.get(this.mS)+":")},$r.prototype.Uf=function(t){this.su.textContent=t},$r.prototype.M=function(){return this.Dt},$r.prototype.ao7=function(t){var e=this.Dt,e=e-3*(n=Math.floor(e/3)),e=Math.max(0,Math.min(2,e+t.x)),n=Math.max(0,Math.min(2,n+t.y));this.f(3*n+e)},$r.prototype.f=function(t){this.Dt=t;var e=this.O.width,n=Math.floor(t/3),i=(.5+(t-3*n))*e/3,r=(n+.5)*e/3,a=this.XN,s=[.5,Math.round(e/3)+.5,Math.round(2*e/3)+.5,e-.5];a.clearRect(0,0,e,e);var o=this.xc<30;a.setLineDash([]),a.strokeStyle=o?"rgba(0,0,0,0.5)":"#000000",a.beginPath();for(var l=0;l<4;l++){var h=s[l];a.moveTo(h,0),a.lineTo(h,e),a.moveTo(0,h),a.lineTo(e,h)}a.stroke(),9!=t&&(o||(a.setLineDash([1,2]),n=.53*e,t=Math.max(0,Math.min(e-n,i-n/2)),o=Math.max(0,Math.min(e-n,r-n/2)),a.strokeRect(Math.round(t)+.5,Math.round(o)+.5,Math.round(n),Math.round(n))),a.fillStyle="#000000",a.beginPath(),a.arc(i,r,e/8,0,2*Math.PI),a.fill())},$r.prototype.Bw=function(t){hr.Z3(window,this.um),hr.MK(window,this.TH),this._g(t)},$r.prototype._g=function(t){var e=hr.B6(t,this.O),t=Math.max(0,Math.min(2,Math.floor(e.x/(this.xc/3)))),e=Math.max(0,Math.min(2,Math.floor(e.y/(this.xc/3))));this.f(3*e+t)},$r.prototype.Ag=function(t){this.c(new yr(mr.E.o,!1)),hr.l$(window,this.um),hr.oV(window,this.TH)},ta.prototype=new Sr,ta.prototype.age=function(t){this.aau=this.DY.indexOf(t.currentTarget),this.c(new yr(mr.E.o))},ta.prototype.M=function(){return this.fP[this.aau]},ta.prototype.f=function(t){var e=this.fP,n=e.indexOf(t);-1!=n?e.splice(n,1):e.pop(),e.unshift(t),this.RQ()},ta.prototype.RQ=function(){for(var t=0;t<this.fP.length;t++)this.DY[t].setAttribute("style","background-color:#"+Rr.zI(this.fP[t]))},ea.prototype=new Sr,ea.prototype.T=function(){},ea.prototype.Ym=function(t){var e=this.T1;this.c(new yr("click"));var n=new yr(mr.E.W,!0);n.data={d:mr.J.go,RB:"colorpicker",ZB:e.p<<16|e.z<<8|e.S,a4:this.uR.bind(this),rv:this.rT},this.c(n)},ea.prototype.uR=function(t){this.jn(t),this.c(new yr(mr.E.o))},ea.prototype.al$=function(){this.Ym(null)},ea.prototype.a4B=function(){var t=this.T1;return t.p<<16|t.z<<8|t.S},ea.prototype.M=function(){return Rr.I.wg(this.T1)},ea.prototype.jn=function(t){this.T1={p:t>>16&255,z:t>>8&255,S:255&t},this.aqi()},ea.prototype.f=function(t){this.T1=Rr.I.Na(t),this.aqi()},ea.prototype.aqi=function(){var t=this.T1,e=t.p,n=t.z,t=t.S;this.e.setAttribute("style","background-color:#"+Rr.zI(e<<16|n<<8|t))},na.prototype=new Sr,na.prototype.a7M=function(t){this.vx!=t&&(this.vx=t,this.yE())},na.prototype.T=function(){},na.prototype.a2s=function(t,e){function n(t){return{p:t>>16&255,z:t>>8&255,S:255&t}}null!=t&&(this.vU=n(t)),null!=e&&(this.CA=n(e)),this.yE()},na.prototype.UK=function(t){var e=hr.B6(t,this.e),n=e.x*hr.F(),i=e.y*hr.F(),r=this.Vh,t=this.ap$,e=0,e=n<t&&i<t?0:r-t<n&&r-t<i?1:n<t?2:3,t=new yr(mr.E.W,!0);1<e?t.data={d:mr.J.ot,jm:Bi.UB,wp:e}:(e=0==(this.Ad=e)?this.vU:this.CA,t.data={d:mr.J.go,RB:"colorpicker",ZB:e.p<<16|e.z<<8|e.S,a4:this.uR.bind(this)}),this.c(t)},na.prototype.uR=function(t){var e=new yr(mr.E.W,!0);e.data={d:mr.J.ot,jm:Bi.UB,wp:this.Ad,k:t},this.c(e)},na.prototype.yE=function(){var t=this.e,a=t.getContext("2d"),e=(hr.F(),"#aaaaaa");hr.r9(t,34,34),t.setAttribute("style",t.getAttribute("style")+";cursor:pointer");var n=this.Vh=t.width,i=this.ap$=Math.round(.62*n);function r(t,e){var n=t.p,i=t.z,t=t.S;return e&&(n=i=t=Math.round(Rr.X_(n,i,t))),"#"+Rr.zI(n<<16|i<<8|t)}function s(t,e,n,i,r){a.fillStyle=r||"black",a.fillRect(t,e,n,n),a.fillStyle=i,a.fillRect(t+1,e+1,n-2,n-2)}s(n-i,n-i,i,r(this.CA,this.vx)),s(0,0,i,r(this.vU,this.vx));var o=n-i,t=Math.round(.62*o);s(n-t,o-t,t,"white",e),s(n-o,0,t,"black",e),a.save(),a.fillStyle=e,a.translate(0,n),a.rotate(-Math.PI/2);for(var o=n-i,l=Math.round(.28*o),h=Math.round(.25*o),u=0;u<2;u++)a.fillRect(l,l,o-l,1),a.beginPath(),a.moveTo(o-h,l+.5-h),a.lineTo(o,l+.5),a.lineTo(o-h,l+.5+h),a.closePath(),a.fill(),a.transform(0,1,1,0,0,0);a.restore()},ia.prototype=new Xr,ia.prototype.w6=function(){for(var t=["pencil","trees"],e=0;e<t.length;e++)t[e]="brushes/"+t[e]+".abr";return t},ia.prototype.f=function(t,e,n){this.FG=JSON.parse(JSON.stringify(t));var i=Math.floor(20*hr.F()),r=Math.floor(36*hr.F()),a=Math.floor(24*hr.F()),i=tr.sW(t,e,n,i,a,r);this.hk.setAttribute("src",i),hr.N2(this.hk,r,a);t=t.Brsh.v;this.ZX.f(t.Dmtr.v.val),null!=t.Hrdn?(this.qa.S0(),this.qa.f(t.Hrdn.v.val)):this.qa.a6(),null!=t.Angl&&this.ZE.f([t.Angl.v.val]),null!=t.Rndn&&this.ZE.f([null,null,t.Rndn.v.val/100])},ia.prototype.$L=function(){return{list:[{t:"Objc",v:this.M()}],x8:[],u_:[]}},ia.prototype.M=function(){return this.FG},ia.prototype.CC=function(){if(this.ZZ){for(var t=[],e=[],n=this.ua,i=Math.floor(33*hr.F()),r=Math.floor(40*hr.F()),a=0;a<n.list.length;a++){var s=n.list[a].v,o=tr.sW(s,n.x8,n.u_,i,r);t.push(o),e.push(s.Nm.v.split("=").pop())}this.SA.MO(t,e,i,r),this.ZZ=!1}},ia.prototype.fu=function(t){var e=this.ua;this.f(e.list[this.SA.M()[0]].v,e.x8,e.u_),this.c(new yr(mr.E.o))},ia.prototype.T=function(){Xr.prototype.T.call(this),this.ZE.T(),this.ZX.T(),this.qa.T()},ia.prototype.Vl=function(t){var e=this.ua,n=this.FG,i=n.Brsh.v;i.Dmtr.v.val=this.ZX.M(),null!=i.Hrdn&&(i.Hrdn.v.val=this.qa.M()),null!=i.Angl&&(i.Angl.v.val=this.ZE.M()[0]),null!=i.Rndn&&(i.Rndn.v.val=Math.round(100*this.ZE.M()[2])),this.f(n,e.x8,e.u_),this.c(new yr(mr.E.o))},ra.prototype=new Xr,ra.prototype.fu=function(t){this.f(this.ua[t.target.M()]),this.c(new yr(mr.E.o))},ra.prototype.VI=function(t){var e=new yr(mr.E.W,!0);e.data={d:mr.J.go,RB:"contoureditor",ct:this.FG,response:this.adL.bind(this)},this.c(e)},ra.prototype.adL=function(t){this.f(t),this.c(new yr(mr.E.o))},ra.prototype.CC=function(){if(this.ZZ){for(var t=Math.floor(38*hr.F()),e=Math.floor(38*hr.F()),n=[],i=[],r=this.ua,a=0;a<r.length;a++)i.push(r[a].Nm?r[a].Nm.v:""),n.push(Rr.Cj.sW(r[a].Crv.v,t,e));this.SA.MO(n,i,t,e),this.ZZ=!1}},ra.prototype.f=function(t){this.FG=JSON.parse(JSON.stringify(t));for(var e=this.FG.Crv.v,n=0;n<e.length;n++)null==e[n].v.Cnty&&(e[n].v.Cnty={t:"bool",v:!0});this.Es()},ra.prototype.Es=function(){var t=Math.floor(30*hr.F()),e=Math.floor(30*hr.F()),n=Rr.Cj.sW(this.FG.Crv.v,t,e);this.hk.setAttribute("src",n),hr.N2(this.hk,t,e)},ra.prototype.M=function(){return JSON.parse(JSON.stringify(this.FG))},aa.prototype=new Sr,aa.prototype.v1=function(t,e){e==Bi.QM&&(this.arM=[],this.a0C=[],this.Kj&&this.f(this.je,this.M(),this.Kj)),this.fd=t,this.Sw.v1(t,e),this.Or.v1(t,e)},aa.prototype.T=function(){this.su.textContent=ri.get(this.R0)+": ",this.zu.T(),this.qE.T(),this.Sw.T(),this.Or.T()},aa.prototype.Px=function(t){var e,n=t.currentTarget;n==this.zu&&(t={SB:e=this.zu.M(),k4:this.Kj[e]},0<e&&null==t.k4&&(t.k4=JSON.parse(JSON.stringify(Wi.iP[e-1]))),this.Kj&&this.f(this.je,t,this.Kj)),n==this.kk&&this.qE.jn(n.M()),this.c(new yr(mr.E.o,!1))},aa.prototype.Sn=function(t){var e;hr.DH(this.M3.e)||(t.stopPropagation(),e=this.O.getBoundingClientRect(),(t=new yr(mr.E.W,!0)).data={d:mr.J.u9,IZ:this.M3,x:e.left,y:e.top+e.height+4},this.c(t),this.kk.f(this.qE.a4B()))},aa.prototype.f=function(t,e,n){this.Kj=n,this.je=t;for(var i,r=this.arM,a=this.a0C,s=!1,o=0;o<4;o++){var l={SB:o,k4:n[o]},h=aa.a0W(l);a[o]!=h&&(l=aa.aup(null,l,this.fd,this.je,22,22,!(s=!0)),r[o]='<img width="22" height="22" src="'+l+'" />',a[o]=h)}s&&this.zu.aE(r,[[13,1,0],[13,0],[12,37],[12,62]]),this.zu.f(e.SB),(h=aa.a0W(e))!=this.akx&&aa.aup(this.XN,e,this.fd,this.je,30,23,!0),this.akx=h;var u=e.SB;0==u&&(i=this.ad0),1==u&&(this.qE.f(e.k4.Clr.v),i=this.GN),2==u&&(this.Sw.update(t,e.k4),i=this.d8),3==u&&(this.Or.update(t,e.k4),i=this.qg),i!=this.sr&&(null!=this.sr&&this.M3.e.removeChild(this.sr),this.M3.e.appendChild(i),this.sr=i)},aa.prototype.M=function(){var t={SB:this.zu.M()};return 1==t.SB&&(t.k4=JSON.parse(JSON.stringify(Wi.iP[0])),t.k4.Clr.v=this.qE.M()),2==t.SB&&(t.k4=this.Sw.M()),3==t.SB&&(t.k4=this.Or.M()),t},aa.a0W=function(t){var e=t.SB,n=t.k4,t="empty";return 1==e&&(t=(t=Rr.I.Na(n.Clr.v)).p+","+t.z+","+t.S),2==e&&(t=JSON.stringify(n.Grad.v)),t=3==e?n.Ptrn.v.Idnt.v:t},aa.aup=function(t,e,n,i,r,a,s){null==t&&(t=aa.XN);var o=Math.floor(r*hr.F()),l=Math.floor(a*hr.F()),h=t.canvas;h.width=o,h.height=l,hr.N2(h,o,l);var u,r=e.SB;if(0==r&&(t.fillStyle="#ffffff",t.fillRect(0,0,o,l),t.strokeStyle="#ff0000",t.lineWidth=2,t.moveTo(0,0),t.lineTo(o,l),t.moveTo(0,l),t.lineTo(o,0),t.stroke()),1==r&&(a=e.k4.Clr.v,a=Rr.I.Na(a),t.fillStyle="#"+Rr.zI(a.p<<16|a.z<<8|a.S),t.fillRect(0,0,o,l)),2==r&&qr.iU.sW(e.k4.Grad.v,o,l,0,n.k$,n.JH,h),3==r&&(e=e.k4.Ptrn.v,null==(u=null!=i?Xi.B8(e,i.add.Patt):u)&&(u=Xi.B8(e,n.fC)),sa.sW(u,o,l,h)),s&&(t.beginPath(),t.strokeStyle="#000000",t.fillStyle="#ffffff",t.lineWidth=2,s=.7*o,o=Math.floor(.7*l),l=7*hr.F(),t.moveTo(s,o),t.lineTo(s+l,o),t.lineTo(s+l/2,o+l/2),t.closePath(),t.stroke(),t.fill()),t==aa.XN)return h.toDataURL()},aa.XN=hr.L("canvas").getContext("2d"),sa.prototype=new Xr,sa.prototype.fu=function(t){var e=this.ua[this.SA.M()];this.FG={classID:"Ptrn",Nm:{t:"TEXT",v:e.name},Idnt:{t:"TEXT",v:e.id}},this.c(new yr(mr.E.o)),this.Es()},sa.Ng=!1,sa.prototype.CC=function(){if(this.ZZ){var t=this.ua;if(null==t||!sa.Ng){var e=new yr(mr.E.W,!0);return e.data={d:mr.J.pu,jm:{url:"rsrc/basic/basic.pat"}},this.c(e),void(sa.Ng=!0)}for(var n=Math.floor(34*hr.F()),i=Math.floor(34*hr.F()),r=[],a=[],s=0;s<t.length;s++)r.push(sa.sW(t[s],n,i)),a.push(t[s].name);this.SA.MO(r,a,n,i),this.ZZ=!1}},sa.prototype.f=function(t,e){this.FG&&t.Idnt.v==this.FG.Idnt.v||(this.FG=JSON.parse(JSON.stringify(t)),this.Es(e))},sa.prototype.M=function(){return JSON.parse(JSON.stringify(this.FG))},sa.prototype.$L=function(){return this.G$?[this.G$]:[]},sa.prototype.Es=function(t){var e=Math.floor(50*hr.F()),n=Math.floor(50*hr.F());null==(i=null!=t?Xi.B8(this.FG,t.add.Patt):i)&&(i=Xi.B8(this.FG,this.ua)),this.G$=i;var i=sa.sW(i,e,n);this.hk.setAttribute("src",i),hr.N2(this.hk,e,n)},sa.O=hr.L("canvas",""),sa.sW=function(t,e,n,i){var r,a,s,o,l,h=(i=null==i?sa.O:i).getContext("2d");return i.width=e,i.height=n,t&&(s=(r=t.ax[1]).m,o=r.n,a=t.ax[0],t=l=Math.min(e/s,n/o),o=(s=qr.Q.xX([a,r],new _r(t=l*s<2?2/s:l,0,0,l*o<2?2/o:l,0,0),2<t)).rect.m,l=s.rect.n,t=h.createImageData(o,l),Rr.VO(s.buffer,t.data),h.putImageData(t,Math.floor((e-o)/2),Math.floor((n-l)/2))),i.toDataURL()},oa.prototype=new Xr,oa.prototype.fu=function(t){this.FG=JSON.parse(JSON.stringify(this.ua[0][this.SA.M()[0]])),this.c(new yr(mr.E.o))},oa.prototype.CC=function(){var t=this.ua;if(null!=t&&this.ZZ){for(var e=Math.floor(50*hr.F()),n=Math.floor(50*hr.F()),i=[],r=[],a=0;a<t[0].length;a++)i.push(oa.sW(this.ua[0][a].yu,e,n,this.ua[1])),r.push(t[0][a].Gf.Nm.v.split("=").pop());this.SA.MO(i,r,e,n),this.ZZ=!1}},oa.prototype.f=function(t,e,n,i){var r=JSON.stringify(t.yu)+","+n+","+i;this.du!=r&&(this.du=r,this.FG=JSON.parse(JSON.stringify(t)),this.Es(e,n,i))},oa.prototype.M=function(){return JSON.parse(JSON.stringify(this.FG))},oa.prototype.Es=function(t,e,n){var i=Math.floor(68*hr.F()),r=Math.floor(68*hr.F()),n=oa.sW(this.FG.yu,i,r,t||this.ua[1],e,n);this.hk.setAttribute("src",n),hr.N2(this.hk,i,r)},oa.sW=function(t,e,n,i,r,a){var s=new zi;s.m=e,s.n=n,s.buffer=Rr.t(e*n*4),s.add.Patt=i,s.vu(null==r?90:r),s.JR(null==a?30:a);a=new Fr(0,0,Math.round(.5*e),Math.round(.5*n));a.x=Math.round((e-a.m)/2),a.y=Math.round((n-a.n)/2);n=s.rL();n.rect=a,n.buffer=Rr.t(4*a.Z()),Rr.Bg(n.buffer,4284045657),Xi.akC(t,n,50),s.g.push(n),s.Lg(),s.G();t=Br.jR;Br.jR=!1,s.Bv();n=s.y5();return Br.jR=t,ai.JI(n.buffer,s.m,s.n)},la.prototype=new Xr,la.prototype.aiZ=function(t){this.id!=t&&(this.id=t,this.BF(this.ua))},la.prototype.fu=function(t){var e=this.ua[this.SA.M()],n=new yr(mr.E.W,!0);n.data={d:mr.J.ot,tX:"set",jm:Bi.Fg,dN:e},this.c(n)},la.prototype.T=function(){Xr.prototype.T.call(this),this.Ft.T()},la.prototype.a10=function(){this.ZZ=!0,this.CC()},la.prototype.CC=function(){if(this.ZZ){for(var t=Math.floor(16*hr.F()),e=Math.floor(16*hr.F()),n=[],i=[],r=this.ua,a=this.Ft.M(),s=0;s<r.length;s++){var o=qr.Kx(r[s]);a&&o!=this.id?(n.push(null),i.push(null)):(i.push(r[s][0]?r[s][0].split("=").pop():""),n.push(-1==o?"":PIMG[qr.J7[o][0]]))}this.SA.MO(n,i,t,e),this.ZZ=!1}},la.prototype.Es=function(){var t=this.hk;t.setAttribute("src",PIMG[qr.J7[this.id][0]]),hr.Yq(t,"toolicon")},la.prototype.$L=function(){return null},la.Sg={},la.sW=function(t,e,n){var i,r=la.XN,a=la.Sg,t=Rr.zI(t.p<<16|t.z<<8|t.S);return a[t]||(null==r&&(i=hr.L("canvas"),r=la.XN=i.getContext("2d")),(i=r.canvas).width=e,i.height=n,r.fillStyle="#"+t,r.fillRect(0,0,e,n),a[t]=i.toDataURL())},ha.prototype=new Sr,ha.prototype.T=function(){this.i3.T()},ha.prototype.hi=function(t,e){this.xc=Math.round(t),this.XN.resetTransform(),hr.r9(this.O,this.xc,this.xc,this.XN),this.XN.scale(this.xc/256,this.xc/256),this.ui&&this.pX()},ha.prototype.Fn=function(t){var e=this.a0h(),n=this.ui[e],e=255/this.Il;n.v.Hrzn.v=this.OA.M()*e,n.v.Vrtc.v=this.FV.M()*e,this.aaZ&&(n.v.Cnty.v=this.i3.M()),this.ui.sort(function(t,e){return t.v.Hrzn.v-e.v.Hrzn.v}),this.pX(),this.c(new yr(mr.E.o))},ha.prototype.f=function(t,e){var n=JSON.stringify(t);n!=JSON.stringify(this.ui)&&(this.mode=256==t.length?1:0,this.ui=JSON.parse(n),null!=e&&(this.nE=this.ui[e]),this.pX())},ha.prototype.ID=function(t,e,n){this.bJ=t,this.a9h=e,this.hv=n,this.pX()},ha.prototype.M=function(){return JSON.parse(JSON.stringify(this.ui))},ha.prototype.a0h=function(){return this.ui.indexOf(this.nE)},ha.prototype.Bw=function(t){var e=256/this.xc,n=hr.B6(t,this.O);n.x*=e,n.y*=e;var i=n.x,r=256-n.y;if(this.Ps&&(n=i,i=256-r,r=n),this.Co.R7(i,r),0==this.mode){for(var a,s=0,o=1e9,l=0;l<this.ui.length;l++){var h=this.ui[l].v,u=h.Hrzn.v-i,h=h.Vrtc.v-r,h=Math.sqrt(u*u+h*h);h<o&&(o=h,s=l)}o<15?a=this.ui[s]:(a=Rr.Cj.sG(i,r,!0),this.ui.push(a),this.ui.sort(function(t,e){return t.v.Hrzn.v-e.v.Hrzn.v})),this.nE=a,this.ar0=this.ui.slice(0)}hr.Z3(document.body,this.W5),hr.MK(document.body,this.kP),this._g(t)},ha.prototype._g=function(t){var e=256/this.xc,n=hr.B6(t,this.O);n.x*=e,n.y*=e;var i=n.x,r=256-n.y;if(this.Ps&&(l=i,i=256-r,r=l),0==this.mode){var a=this.ui,s=this.nE,o=this.ar0,t=o.indexOf(s),e=-1!=a.indexOf(s),n=o.length-1,l=i;0==t?l=Math.max(0,Math.min(o[1].v.Hrzn.v-1,i)):t==n?l=Math.min(255,Math.max(o[n-1].v.Hrzn.v+1,i)):(n=i<0||255<i||r<0||255<r,(n=i<=o[t-1].v.Hrzn.v||i>=o[t+1].v.Hrzn.v?!0:n)||e||a.splice(t,0,s),n&&e&&a.splice(t,1)),this.a0Z&&(0==t||t==o.length-1)||(s.v.Hrzn.v=Math.round(l)),s.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(r)))}else{i=Math.round(i),r=Math.round(r),i=Math.max(0,Math.min(255,i)),r=Math.max(0,Math.min(255,r));var h=this.Co.x,u=i,f=this.Co.y,c=r;if(i<this.Co.x&&(u=h,h=i,c=f,f=r),this.ui[i]=r,h!=u)for(var p=h;p<=u;p++)this.ui[p]=Math.round(f+(p-h)*(c-f)/(u-h))}this.Co.R7(i,r),this.pX(),this.c(new yr(mr.E.o))},ha.prototype.Ag=function(t){hr.l$(document.body,this.W5),hr.oV(document.body,this.kP),this.c(new yr(mr.E.o))},ha.prototype.pX=function(){var t=this.XN,e=this.O;t.fillStyle="#ffffff",t.fillRect(0,0,256,256);var n=256/e.width;this.bJ&&(t.save(),t.translate(0,256),t.scale(1,-1),ua.ajF(t,this.bJ,5700/this.a9h,this.hv),t.restore()),t.strokeStyle="#aaaaaa",t.lineWidth=n,t.beginPath();for(var i=1;i<4;i++){var r=(Math.floor(64*i/n)+.5)*n;t.moveTo(0,r),t.lineTo(255,r),t.moveTo(r,0),t.lineTo(r,255)}if(t.stroke(),this.Ps&&(t.save(),t.transform(0,1,-1,0,256,0)),0==this.mode){var a=this.ui,s=Rr.Cj.wZ(a,256);t.strokeStyle="#000000",t.beginPath(),t.moveTo(0,255.5-s[0]);for(i=0;i<256;i++)t.lineTo(i,255.5-s[i]);t.stroke(),t.lineWidth=2*n;for(i=0;i<a.length;i++){var o=a[i].v;t.fillStyle=this.nE==a[i]?"#333":"#fff",t.beginPath(),t.moveTo(o.Hrzn.v,255.5-o.Vrtc.v),t.arc(o.Hrzn.v,255.5-o.Vrtc.v,5*n,0,2*Math.PI),t.stroke(),t.fill()}}else{s=this.ui;t.strokeStyle="#000000",t.beginPath(),t.moveTo(0,255.5-s[0]);for(i=0;i<256;i++)t.lineTo(i,255.5-s[i]);t.stroke()}this.Ps&&t.restore();i=this.a0h();this.coords.setAttribute("class",-1==i?"disabled":""),-1!=i&&(o=this.ui[i].v,e=255/this.Il,this.OA.f(Math.round(o.Hrzn.v/e)),this.FV.f(Math.round(o.Vrtc.v/e)),o.Cnty&&this.i3.f(o.Cnty.v))},ua.prototype=new Sr,ua.prototype.T=function(){this.q3.T()},ua.prototype.k7=function(t){this.q3.f(t),this.yE()},ua.prototype.f=function(t,e){this.bJ=t,this.a7h=e,this.yE()},ua.prototype.jn=function(t){t!=this.ER&&(this.ER=t,this.yE())},ua.prototype.yE=function(){if(null!=this.bJ){var t=this.O,e=this.XN,n=this.bJ,i=this.a7h,r=this.q3.M(),a=6e3/n[4],s="#"+Rr.zI(this.ER),o=ua.ajF;if(t.width=t.width,e.setTransform(t.width/256,0,0,-t.height/100,0,t.height),e.globalCompositeOperation="lighter",0==r?o(e,n[0],a/3,s):r<4?o(e,n[r],a,s):(o(e,n[1],a,"#ff0000"),o(e,n[2],a,"#00ff00"),o(e,n[3],a,"#0000ff")),e.setTransform(1,0,0,1,0,0),null!=i){for(var l=0,h=0;h<256;h++)l+=h*n[r][h];0==r&&(l/=3),this.kM[0].f((l/i).toFixed(1)+""),this.kM[1].f(i+"")}}},ua.ajF=function(t,e,n,i){t.beginPath(),t.moveTo(0,0);for(var r=0;r<256;r++)t.lineTo(r,e[r]*n);t.lineTo(256,0),t.closePath(),t.fillStyle=i,t.fill()},fa.prototype=new Sr,fa.prototype.hi=function(t,e){this.O.style.width=this.arP.style.width=t-16+"px"},fa.prototype.f=function(t){var e,n;this.GU.M()&&(e=JSON.parse(JSON.stringify(t)),fa.gK(e),n=this.M(),e.p==n.p&&e.z==n.z&&e.S==n.S&&(t=this.ia)),this.ia=t,this.update()},fa.prototype.M=function(){var t=JSON.parse(JSON.stringify(this.ia));return this.GU.M()&&fa.gK(t),t},fa.prototype.update=function(){var t=this.ia,e=Rr.IA(t.p,t.z,t.S);0==e.JL&&(e.gB=this.uL.x/255),0!=e.gB&&0!=e.JL||(e.kY=(255-this.JX(this.aZ.y))/255),0!=e.JL&&(this.uL.x=255*e.gB),this.uL.y=255*(1-e.JL),this.aZ.y=255*(1-e.kY);var n=this.alh,i=this.GU.M(),r=this.Y4.M(),t=i+","+r;(.002<Math.abs(e.kY-this.afv)||this.amH!=t)&&(this.amm(n.data,256,256,e.kY,i,r),this.afv=e.kY,this.amH=t);t=this.XN;t.putImageData(n,0,0),t.strokeStyle="#000000",t.beginPath(),t.arc(this.uL.x+1,this.uL.y+1,5,0,2*Math.PI),t.stroke(),t.strokeStyle="#ffffff",t.beginPath(),t.arc(this.uL.x,this.uL.y,5,0,2*Math.PI),t.stroke(),n=this.a3p,(t=this.GB).putImageData(n,0,0),t.strokeStyle="#ffffff",t.beginPath(),t.moveTo(0,this.aZ.y),t.lineTo(20,this.aZ.y),t.lineWidth=2,t.stroke()},fa.gK=function(t){t.p=.2*~~(.5+5*t.p),t.z=.2*~~(.5+5*t.z),t.S=.2*~~(.5+5*t.S)},fa.prototype.amm=function(t,e,n,i,r,a){for(var s=1/e,o=1/n,l=0;l<n;l++)for(var h=0;h<e;h++){var u=Rr.ZW(i,h*s,(n-l-1)*o);r&&fa.gK(u),t[(p=l*e+h<<2)+0]=~~(255*u.p),t[p+1]=~~(255*u.z),t[p+2]=~~(255*u.S),t[p+3]=255}if(a){var f=t.slice(0),c=zi.Dv[0],a=zi.Dv[1];ICC.U.applyLUT(a,c,f,f);for(var p=0;p<t.length;p+=4){var d=t[p]-f[p],v=t[p+1]-f[p+1],g=t[p+2]-f[p+2];300<d*d+v*v+g*g&&(t[p]=t[p+1]=t[p+2]=200)}}},fa.a6$=function(t,e,n,i,r){null==i&&(i=1),null==r&&(r=0);for(var a=new Uint32Array(t.buffer),s=0;s<n;s++)for(var o=Rr.ZW((1+i*(1-s/n)+r)%1,1,1),l=255<<24|255*o.S<<16|255*o.z<<8|255*o.p,h=0;h<e;h++)a[s*e+h]=l},fa.prototype.ajJ=function(t){hr.Z3(window,this.um),hr.MK(window,this.TH),this.auo(t)},fa.prototype.agy=function(t){hr.l$(window,this.um),hr.oV(window,this.TH)},fa.prototype.auo=function(t){t=hr.B6(t,this.O);t.x=t.x*(256/parseFloat(this.O.style.width)),t.y=t.y*(256/parseFloat(this.O.style.height)),this.uL.R7(this.JX(t.x),this.JX(t.y)),this.g3()},fa.prototype.g3=function(){this.ia=this.akb(),this.c(new yr(mr.E.o))},fa.prototype.akb=function(){var t=Rr.ZW((255-this.JX(this.aZ.y))/255,this.Xw(this.uL.x/255),this.Xw(1-this.uL.y/255));return{p:t.p,z:t.z,S:t.S}},fa.prototype.aa0=function(t){hr.Z3(window,this.asI),hr.MK(window,this.alF),this.aeM(t)},fa.prototype.a8f=function(t){hr.l$(window,this.asI),hr.oV(window,this.alF)},fa.prototype.aeM=function(t){t=hr.B6(t,this.Sb);t.y=t.y*(256/parseFloat(this.Sb.style.height)),this.aZ.R7(this.JX(t.x),this.JX(t.y)),this.g3()},fa.prototype.JX=function(t){return Math.max(0,Math.min(255,t))},fa.prototype.Xw=function(t){return Math.max(0,Math.min(1,t))},ca.prototype=new zr,pa.prototype=new Sr,pa.prototype.aqs=function(t){var e;hr.DH(this.M3.e)||(t.stopPropagation(),e=this.eY.e.getBoundingClientRect(),(t=new yr(mr.E.W,!0)).data={d:mr.J.u9,IZ:this.M3,x:e.left,y:e.top+e.height+4},this.c(t))},pa.prototype.T=function(){this.h2.T(),this.XR.T(),this.oF.T(),this.OY.T(),this.z1.T(),this.o0.T(),this.eH.T(),this.J1.T(),this.OU.T(),this.Os.T(),this.Y_.T(),this.IM.T(),this.hR.T()},pa.prototype.f=function(t,e,n){this.wO=JSON.parse(JSON.stringify(t));var i=this.wO,r=i.hy,t=i.eS;this.OL.f(null!=r.FauxBold&&r.FauxBold),this.Qy.f(null!=r.FauxItalic&&r.FauxItalic),this.am.f(2==r.FontCaps),this.qb.f(1==r.FontCaps),this.o7.f(1==r.FontBaseline),this.WL.f(2==r.FontBaseline),this.QI.f(r.Underline),this.V0.f(r.Strikethrough),this.h2.f(null==r.Font?null:i.CV[r.Font].Name,e,n);e=null==r.FontSize?20:r.FontSize;this.XR.f(e);n=r.Tracking;this.OY.f(null==n?0:n),this.Y_.f(null!=r._LineWidth?r._LineWidth:1),this.oF.f(null!=r.Leading&&0!=r.Leading?r.Leading:e),this.md.f(r.AutoLeading),this.o0.f(100*(null!=r.VerticalScale?r.VerticalScale:0)),this.eH.f(100*(null!=r.HorizontalScale?r.HorizontalScale:0)),this.z1.f(null!=r.BaselineShift?r.BaselineShift:0),this.J1.f(null!=r.FillFlag&&r.FillFlag),this.OU.f(null!=r.StrokeFlag&&r.StrokeFlag),this.Os.f(null!=r._FillBackgroundFlag&&r._FillBackgroundFlag),this.P5(r.FillColor,this.Mz),this.P5(r.FillColor,this.$a),this.P5(r.StrokeColor,this.cT),this.P5(r._FillBackgroundColor,this.YX);for(var r=null!=t._Direction?t._Direction:0,a=ir.ub(t),s=0;s<this.bN.length;s++)this.bN[s].f(a==s);this.IM.f(r),this.hR.f(100*(null!=t.AutoLeading?t.AutoLeading:1.2)),this.mo.f(null!=t.StartIndent?t.StartIndent:0),this.rX.f(null!=t.EndIndent?t.EndIndent:0),this.O5.f(null!=t.FirstLineIndent?t.FirstLineIndent:0),this.rW.f(null!=t.SpaceBefore?t.SpaceBefore:0),this.lo.f(null!=t.SpaceAfter?t.SpaceAfter:0)},pa.prototype.P5=function(t,e){t?(t=ir.Na(t),e.jn(Math.round(t.p)<<16|Math.round(t.z)<<8|Math.round(t.S))):e.jn(0)},pa.prototype.tN=function(){var t=new yr(mr.E.W,!0);t.data={d:mr.J.ot,jm:Bi.qq,wO:this.wO},this.c(t),(t=new yr(mr.E.u,!0)).b=qr.iL,t.data={d:"updateStyles"},this.c(t)},pa.prototype.at$=function(t){var e=this.wO.hy,n=t.target,t=!n.wI();n==this.OL&&(e.FauxBold=t),n==this.Qy&&(e.FauxItalic=t),n==this.am&&(e.FontCaps=t?2:0),n==this.qb&&(e.FontCaps=t?1:0),n==this.o7&&(e.FontBaseline=t?1:0),n==this.WL&&(e.FontBaseline=t?2:0),n==this.QI&&(e.Underline=t),n==this.V0&&(e.Strikethrough=t),this.tN()},pa.prototype.tw=function(t){var e=this.wO.hy,n=this.wO.eS,i=t.target;i==this.OY&&(t=this.OY.M(),e.Tracking=t),i==this.oF&&(e.AutoLeading=!1,e.Leading=this.oF.M()),i==this.md&&(e.AutoLeading=this.md.M()),i==this.Y_&&(e._LineWidth=i.M()),i==this.XR&&(e.FontSize=i.M()),i==this.o0&&(e.VerticalScale=i.M()/100),i==this.eH&&(e.HorizontalScale=i.M()/100),i==this.z1&&(e.BaselineShift=i.M()),i==this.J1&&(e.FillFlag=i.M()),i==this.OU&&(e.StrokeFlag=i.M()),i==this.Os&&(e._FillBackgroundFlag=i.M()),-1!=this.bN.indexOf(i)&&(n.Justification=ir.ub(n,this.bN.indexOf(i))),i==this.mo&&(n.StartIndent=i.M()),i==this.rX&&(n.EndIndent=i.M()),i==this.O5&&(n.FirstLineIndent=i.M()),i==this.rW&&(n.SpaceBefore=i.M()),i==this.lo&&(n.SpaceAfter=i.M()),i==this.IM&&(n._Direction=i.M()),i==this.hR&&(n.AutoLeading=i.M()/100),this.tN()},pa.prototype.akW=function(t){for(var e,n=this.wO,i=this.h2.M(),r=-1,a=0;a<n.CV.length;a++)n.CV[a].Name==i&&(r=a);-1==r&&(r=n.CV.length,(e=JSON.parse(JSON.stringify(n.CV[0]))).Name=i,n.CV.splice(r,0,e)),n.hy.Font=r,this.tN()},pa.prototype.xa=function(t){for(var e=t.target,t=e.a4B(),n={Type:1,Values:[1,(t>>16&255)/255,(t>>8&255)/255,(t>>0&255)/255]},i=0;i<4;i++)n.Values[i]=Math.round(1e3*n.Values[i])/1e3;e=e==this.Mz||e==this.$a?0:e==this.cT?1:2;this.wO.hy[["FillColor","StrokeColor","_FillBackgroundColor"][e]]=n,this.tN()},da.prototype=new Sr,da.prototype.aek=function(t){for(var t=t.currentTarget.scrollTop,e=this.nv,t=Math.floor(t/27),n=Math.min(t+20,e.length),i=t;i<n;i++)this.atL(e[i])},da.prototype.atB=function(){var t=new yr(mr.E.W,!0);t.data={d:mr.J.Rw,alG:".otf,.ttf,.ttc"},this.c(t)},da.prototype.T=function(){this.fD.T(),this.ahs.T(),this.NG.Uf(hr.R4("tools/cshape",null,"autoscale"))},da.prototype.any=function(t){this.NG.f(!this.NG.wI()),this.wB()},da.prototype.D3=function(t){this.P1=this.g4.M().toLowerCase(),this.wB()},da.prototype.aob=function(t){hr.ga(t);var e=t.currentTarget,n=e.getBoundingClientRect(),i=e==this.g8,t=i?this.BA:this.z4;hr.DH(t.e)?this.alA(t):!i&&null==this.rF.iJ()[this.eO]||((e=new yr(mr.E.W,!0)).data={d:mr.J.u9,IZ:t,x:n.left,y:n.top+n.height},this.c(e),i&&this.wB(null,!0))},da.prototype.apA=function(t){var e,n=t.currentTarget.firstChild.nextSibling.textContent;"button"==t.target.tagName.toLowerCase()?(-1==(t=(e=this.dt.slice(0)).indexOf(n))?(e=e.slice(Math.max(0,e.length-29))).push(n):e.splice(t,1),(t=new yr(mr.E.W,!0)).data={d:mr.J.ot,jm:Bi.aR,NL:e},this.c(t),this.qA=!0,this.wB()):this.at8(n,null)},da.prototype.ah5=function(t){this.at8(null,t.currentTarget.firstChild.textContent)},da.prototype.at8=function(t,e){var n,i,r=null==t?this.z4:this.BA,a=this.rF;null==t?t=a.iJ()[this.eO][0]:(n=a.G5(t),i=a.iJ()[this.eO],e=v.YD(n,i?i[1]:"regular"));e=a.oM(t,e)[2];this.f(e,a),this.c(new yr(mr.E.o,!1)),this.alA(r),this.wB()},da.prototype.alA=function(t){var e=new yr(mr.E.W,!0);e.data={d:mr.J.dv,IZ:t},this.c(e)},da.prototype.M=function(){return this.eO},da.prototype.f=function(t,e,n){this.rF;if(null!=t?this.eO=t:t=this.eO,this.rF=e,this.dt=n,null!=t){if(null==(l=e.iJ()[t]))i="- "+t,r="-------";else{var i=l[0],r=l[1],a=e.G5(i);a.sort(v.a7Z),this.qt.textContent="";for(var s=0;s<a.length;s++){var o,l=e.oM(i,a[s]);this.fD._S(l)&&(o=this.aol(l,!1),this.qt.appendChild(o))}}this.g8.textContent=i.substring(0,15)+" ▼",this.g8.setAttribute("title",i+', "'+t+'"'),this.YG.textContent=r.substring(0,10)+" ▼",this.YG.setAttribute("title",r)}},da.prototype.wB=function(t,e){var n,i,r=this.rF.iJ()[this.eO],a=this.dt,s=this.rF.Ea();for(n in this.nv=[],s){for(var o=-1!=a.indexOf(n),l=this.rF.G5(n),h=!1,u=0;u<l.length;u++){var f=this.rF.oM(n,l[u]),c=!0;(c=0<this.P1.length&&-1==f[0].toLowerCase().indexOf(this.P1)||!this.fD._S(f)||this.NG.wI()&&!o?!1:c)&&(h=!0)}var p,d=this.YQ[n];null==d&&(p=v.YD(s[n],"regular"),p=this.rF.oM(n,p),d=this.aol(p,!0),this.YQ[n]=d,this.aO.appendChild(d),this.uQ[n]="[true,false,false]"),h&&this.nv.push(n);d=r&&r[0]==n;this.a2_[n]="["+h+","+d+","+o+"]",e||this.atL(n)}r&&!this.qA&&(i=this.YQ[r[0]],this.aO.scrollTop=i.offsetTop-210),this.qA=!1},da.prototype.atL=function(t){var e=this.YQ[t];null==e.firstChild&&(a=this.rF.Ea(),n=v.YD(a[t],"regular"),i=this.rF.oM(t,n),this.aaw(e,i,!0));var n,i,r=this.uQ[t],a=this.a2_[t];r!=a&&(n=JSON.parse(r),i=JSON.parse(a),n[0]==i[0]&&n[1]==i[1]||(r=i[0]?"":"display:none; ",i[1]&&(r+="background-color:rgba(0,0,0,0.13);"),e.setAttribute("style",r)),n[2]!=i[2]&&e.firstChild.setAttribute("style","opacity: "+(i[2]?"1":"0.2")),this.uQ[t]=a)},da.prototype.aol=function(t,e){var n=hr.L("div","fontitem");return e||this.aaw(n,t,e),n},da.prototype.aaw=function(t,e,n){var i=e[n?0:1],r=n?this.auX:this.aji,a="";t.addEventListener("click",r,!1),n&&t.appendChild(hr.L("button","star"));var s=hr.L("span","label");s.setAttribute("title",i),s.textContent=i,t.appendChild(s);var o=hr.F(),l=1/o,h=v.od*l,r=v.IX*l;1<o&&o<1.5&&(a="width:"+h+"px; height:"+r+"px;");n=hr.L("span","thumb gsicon");e.abc?(a+="background: url("+e.abc+");",1<o&&o<1.5&&(a+="background-size: "+h+"px "+r+"px;")):(i=Math.ceil(FNTS.list.length/v.cols),s=Math.floor(e.BT/i),e=e.BT%i,s=s*v.od,e=e*v.IX,1<o&&o<1.5&&(a+="background-size: "+v.cols*h+"px "+i*r+"px;",s*=l,e*=l),a+="background-position:-"+s+"px -"+e+"px;"),n.setAttribute("style",a),t.appendChild(n)},va.prototype=new Sr,va.prototype.a7D=function(t){for(var e=this.G6,n=0;n<e.length;n++){var i=1==(t>>>n&1);this.ri[n]=i,e[n].f(i)}},va.prototype.a34=function(){return this.nq},va.prototype.T=function(){this.e.textContent=ri.get([25,1,0])+" ▼",this.j0.T(),this.ahY.T()},va.prototype.ap_=function(t){var e=this.e.getBoundingClientRect(),n=new yr(mr.E.W,!0);n.data={d:mr.J.u9,IZ:this.M3,x:e.left,y:e.top+e.height,Wq:!1},this.c(n)},va.prototype._S=function(t){if(0==this.MI[t[4]])return!1;for(var e=0;e<this.ri.length;e++)if(1==this.ri[e]&&0==(t[3]>>>e&1))return!1;return!0},va.prototype.adT=function(t){for(var e=t.target.M(),n=this.Z_,i=this.MI,r=0;r<n.length;r++)n[r].f(e),i[r]=e?1:0;this.c(new yr(mr.E.o,!1))},va.prototype.a5j=function(t){for(var e=t.target.M(),n=this.G6,i=this.ri,r=0;r<n.length;r++)n[r].f(e),i[r]=e?1:0;this.c(new yr(mr.E.o,!1))},va.prototype.ahk=function(t){t=this.Z_.indexOf(t.target),t=this.KF[t].index;this.MI[t]=1-this.MI[t],this.c(new yr(mr.E.o,!1))},va.prototype.alf=function(t){t=this.G6.indexOf(t.target);this.ri[t]=1-this.ri[t],this.c(new yr(mr.E.o,!1))},ga.prototype=new Xr,ga.prototype.fu=function(t){var e=this.ua;this.f(e[this.SA.M()]),this.c(new yr(mr.E.o))},ga.prototype.VI=function(t){var e=new yr(mr.E.W,!0);e.data={d:mr.J.go,RB:"gradienteditor",I:this.FG,a4:this.a9G.bind(this),rv:this.rT},this.c(e)},ga.prototype.a9G=function(t){this.f(t),this.c(new yr(mr.E.o))},ga.prototype.CC=function(){if(this.ZZ){for(var t=Math.floor(36*hr.F()),e=Math.floor(36*hr.F()),n=[],i=[],r=this.ua,a=0;a<r.length;a++){var s=r[a];i.push(s.Nm?s.Nm.v.split("=").pop():"");s=qr.iU.sW(s,t,e,Math.PI/4,this.k$,this.JH);n.push(s)}this.SA.MO(n,i,t,e),this.ZZ=!1}},ga.prototype.$_=function(t,e){this.a47(this.FG,t,e)},ga.prototype.f=function(t){this.a47(t,this.k$,this.JH)},ga.prototype.a47=function(t,e,n){this.k$=e,this.JH=n,null==t||(e=(t=JSON.stringify(t))+e+","+n)!=this.adF&&(this.adF=e,this.FG=JSON.parse(t),n=Math.floor(80*hr.F()),e=Math.floor(16*hr.F()),t=qr.iU.sW(this.FG,n,e,0,this.k$,this.JH),this.hk.setAttribute("src",t),hr.N2(this.hk,n,e))},ga.prototype.M=function(){var t=this.afH?qr.iU.agL(this.FG,this.k$,this.JH):JSON.parse(JSON.stringify(this.FG));return t},ya.prototype=new Xr,ya.prototype.fu=function(t){this.f(this.ua[t.target.M()]),this.c(new yr(mr.E.o))},ya.prototype.CC=function(){if(this.ZZ){Date.now();for(var t=Math.floor(10*hr.F()),e=Math.floor(10*hr.F()),n=[],i=[],r=this.ua,a=0;a<r.length;a++)i.push(r[a]._l?r[a]._l.split("=").pop():""),n.push(ya.sW(r[a],t,e));this.SA.MO(n,i,t,e),this.ZZ=!1}},ya.prototype.f=function(t){this.FG=JSON.parse(JSON.stringify(t)),this.Es()},ya.prototype.Es=function(){var t=Math.floor(24*hr.F()),e=Math.floor(20*hr.F()),n=ya.sW(this.FG,t,e);this.hk.setAttribute("src",n),hr.N2(this.hk,t,e)},ya.prototype.M=function(){return JSON.parse(JSON.stringify(this.FG))},ya.Sg={},ya.sW=function(t,e,n){var i,r=ya.XN,a=ya.Sg,t=Rr.zI(t.p<<16|t.z<<8|t.S);return a[t]||(null==r&&(i=hr.L("canvas"),r=ya.XN=i.getContext("2d")),(i=r.canvas).width=e,i.height=n,r.fillStyle="#"+t,r.fillRect(0,0,e,n),a[t]=i.toDataURL())},ma.prototype=new Sr,ma.prototype.Hj=function(){this.dg.Hj()},ma.prototype.alm=function(){this.RL=!1,0==this.jO.M()&&(this.jO.f(3),this.Op())},ma.prototype.anN=function(){this.RL=!0},ma.prototype.a1F=function(t){this._w.f(t)},ma.prototype.T=function(){this.dg.T(),this.Le.T(),this.Gy.T(),this._w.T(),this.OK.T(),this.jO.T()},ma.prototype.auW=function(t){var e=this.Xd.x;this.Xd.x=this.Xd.y,this.Xd.y=e,this.Op(),this.c(new yr(mr.E.o,!1))},ma.prototype.Px=function(t){var e,n,i,r,a,s,o,l;t.target!=this.jO||this.RL||0!=this.jO.M()||this.jO.f(3),t.target!=this.jO&&t.target!=this.OK?(t.target==this._w&&t.target.f(!t.target.M()),e=this.SL,n=parseFloat(this.dg.M()),isNaN(n)&&(n=1),l=parseFloat(this.Le.M()),isNaN(l)&&(l=1),i=this.jO.M(),l=this.RL?(s=this.wM,1==i&&(n=this.SL.x*(n/100),l=this.SL.y*(l/100)),n/=o=[1,1,25.4/s,1/s][i],l/=o,this.OK.M()&&(n+=this.SL.x,l+=this.SL.y),t.target==this.Gy&&(n*=a=(r=this.Gy.M())/s,l*=a,s=r),this._w.M()&&(t.target==this.dg?l=n*(e.y/e.x):n=l*(e.x/e.y)),n=Math.max(Math.abs(n),1),Math.max(Math.abs(l),1)):(s=this.xE,t.target==this.Gy?s=this.Gy.M():(this._w.M()&&(t.target==this.dg?l=n*(e.y/e.x):n=l*(e.x/e.y)),o=[1,1,25.4/s,1/s][i],s/=n/(1==i?100:e.x*o)),n=e.x,e.y),this.Xd=new Pr(Math.round(n),Math.round(l)),this.wM=s,this.Op(),this.c(new yr(mr.E.o,!1))):this.Op()},ma.prototype.a22=function(t){this.jO.f(t),this.Op()},ma.prototype.f=function(t,e,n){1!=n&&(this.SL=t.clone()),this.Xd=t.clone(),null!=e&&(this.xE=e,this.wM=e),this.Op()},ma.prototype.Op=function(){for(var t=this.Xd.x,e=this.Xd.y,n=this.wM,i=(t/e).toFixed(3);"0"==i.charAt(i.length-1);)i=i.substring(0,i.length-1);var r="  "+(i="."==i.charAt(i.length-1)?i.substring(0,i.length-1):i)+" : 1",a=function(t,e){for(;0!=e;){var n=e;e=t%e,t=n}return t}(t,e);Math.min(t,e)/a<10&&(r="  "+Math.round(t/a)+" : "+Math.round(e/a)),this.aqS.f(r),this.OK.M()&&(t-=this.SL.x,e-=this.SL.y);a=this.jO.M();1==a?this.RL?(t=100*t/this.SL.x,e=100*e/this.SL.y):t=e=100*this.xE/this.wM:(t=Math.round(t),e=Math.round(e));r=[1,1,25.4/n,1/n][a];t*=r,e*=r;a=1==a||3==a?2:0;this.dg.B3(a),this.Le.B3(a),this.dg.f(t),this.Le.f(e),this.Gy.f(n)},ma.prototype.M=function(){return this.Xd.clone()},ma.prototype.Re=function(){return this.wM},wa.prototype=new Sr,wa.prototype.T=function(){for(var t=this.QB,e=0;e<5;e++)t[e].T();0==this.Z4&&hr.Yu(t[0],t[2])},wa.prototype.f=function(t,e,n){e&&(this.gN=e),e=this.gN;var i=n?t:0==this.Z4?[t[2],t[0],t[3],t[1]]:[t[0],t[1],t[3],t[2]];this.M2=i[0]/i[2];for(var r=0;r<4;r++){var a=this.QB[r];a.B3(0==e[2]&&this.aqv?0:2),a.f(Rr.IR.an7(i[r],e[0],e[1],e[2]))}},wa.prototype.M=function(t){for(var e=[],n=this.gN,i=0;i<4;i++){var r=Rr.IR.GX(this.QB[i].M(),n[0],n[1],n[2]);e[i]=this.aqv?Math.round(r):r}return t?e:0==this.Z4?[e[1],e[3],e[0],e[2]]:[e[0],e[1],e[3],e[2]]},wa.prototype.Px=function(t){var e=this.Z4,n=this.QB.indexOf(t.currentTarget),i=this.M(!0),t=this.QB[4].M();if(0==e&&(i[0]=Math.max(1,i[0]),i[2]=Math.max(1,i[2]),t&&0==n&&(i[2]=i[0]/this.M2),t&&2==n&&(i[0]=i[2]*this.M2)),1==e&&(i[n]=Math.max(0,i[n]),t))for(var r=0;r<4;r++)i[r]=i[n];this.f(i,null,!0),this.c(new yr(mr.E.o,!1))},ba.prototype=new Sr,ba.prototype.T=function(){hr.Yu(this.dg,this.Le),this.m7.T()},ba.prototype.Px=function(t){var e;t.target==this.m7&&(e=this.M(),(t=this.kM)[2*this.u2]=e.x,t[2*this.u2+1]=e.y,this.u2=e.sB,this.f({sB:e.sB,x:t[2*e.sB],y:t[2*e.sB+1]})),this.dg.M()<1&&this.dg.f(1),this.Le.M()<1&&this.Le.f(1),this.c(new yr(mr.E.o,!1))},ba.prototype.f=function(t){this.m7.f(t.sB),this.dg.f(t.x),this.Le.f(t.y),0==t.sB?(this.dg.a6(),this.Le.a6()):(this.dg.S0(),this.Le.S0())},ba.prototype.M=function(){return{sB:this.m7.M(),x:this.dg.M(),y:this.Le.M()}},Ma.prototype=new Sr,Ma.prototype.T=function(){this.p3.T(),this.dB.T()},Ma.prototype.Px=function(t){this.c(new yr(mr.E.o,!1))},Ma.prototype.ab7=function(t){this.p3.f(t.x),this.dB.f(t.y)},Ma.prototype.anM=function(){return new Pr(this.p3.M(),this.dB.M())},Ma.prototype.f=function(t,e){var n=t.Hrzn.v,t=t.Vrtc.v;this.aoG&&(n=n.val,t=t.val),this.p3.f(n),this.dB.f(t),1==e&&this.Px()},Ma.prototype.M=function(){var t=this.p3.M(),e=this.dB.M();return this.aoG?{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:t}},Vrtc:{t:"UntF",v:{type:"#Prc",val:e}}}:{classID:"Pnt",Hrzn:{v:t,t:"doub"},Vrtc:{v:e,t:"doub"}}},Sa.prototype=new Sr,Sa.prototype.Sn=function(t){var e;hr.DH(this.M3.e)||(t.stopPropagation(),e=this.Wt.getBoundingClientRect(),(t=new yr(mr.E.W,!0)).data={d:mr.J.u9,IZ:this.M3,x:e.left,y:e.top+e.height+4},this.c(t))},Sa.prototype.Px=function(t){for(var e=this.YQ,n=(e.indexOf(t.target),[]),i=0;i<4;i++)n.push(e[i].M());this.rK=this.abr(n),this.c(new yr(mr.E.o,!1))},Sa.prototype.a6R=function(t){t=this.DY.indexOf(t.currentTarget);this.f(this.abr(this.K5[t])),this.c(new yr(mr.E.o,!1))},Sa.prototype.abr=function(t){var e=JSON.parse(JSON.stringify(this.rK)),n=t[0],i=t[1],r=t[2],a=t[3];null!=n&&(e.strokeStyleLineAlignment.v.strokeStyleLineAlignment=Wi.XF.Qb[n]),null!=i&&(e.strokeStyleLineCapType.v.strokeStyleLineCapType=Wi.XF.Sl[i]),null!=r&&(e.strokeStyleLineJoinType.v.strokeStyleLineJoinType=Wi.XF.join[r]);for(var s=e.strokeStyleLineDashSet.v=[],a=a.split(" ");0!=(1&a.length);)a.pop();for(var o=0;o<a.length;o++)s.push({t:"UntF",v:{type:"#Nne",val:parseInt(a[o])}});return e},Sa.prototype.T=function(){for(var t=0;t<this.YQ.length;t++)this.YQ[t].T()},Sa.prototype.f=function(t){this.rK=JSON.parse(JSON.stringify(t));for(var e=Wi.XF.Qb.indexOf(t.strokeStyleLineAlignment.v.strokeStyleLineAlignment),n=Wi.XF.Sl.indexOf(t.strokeStyleLineCapType.v.strokeStyleLineCapType),i=Wi.XF.join.indexOf(t.strokeStyleLineJoinType.v.strokeStyleLineJoinType),r=[],a=t.strokeStyleLineDashSet.v,s=0;s<a.length;s++)r.push(a[s].v.val);var o=this.YQ;o[0].f(e),o[1].f(n),o[2].f(i),o[3].f(r.join(" "));for(var l=[],h=0;h<4;h++)l.push(o[h].M());this.aeI(this.XN,40,16,l)},Sa.prototype.M=function(){return JSON.parse(JSON.stringify(this.rK))},Sa.prototype.aeI=function(t,e,n,i){i[0];var r=i[1],a=i[2],s=i[3].split(" ").map(parseFloat);hr.r9(t.canvas,e,n);for(var o=Math.min(5,this.rK.strokeStyleLineWidth.v.val),l=0;l<s.length;l++)s[l]*=o;t.clearRect(0,0,e,n),t.setLineDash(s),t.lineCap=["butt","round","square"][r],t.lineJoin=["miter","round","bevel"][a],t.lineWidth=o,t.beginPath(),t.moveTo(0,n/2),t.lineTo(2*e,n/2),t.stroke()},Ca.prototype=new Xr,Ca.prototype.T=function(){Xr.prototype.T.call(this),this.g4.T()},Ca.prototype.fu=function(t){this.f(this.wi[t.target.M()[0]]),this.c(new yr(mr.E.o))},Ca.prototype.D3=function(t){this.P1=this.g4.M().toLowerCase(),this.asj()},Ca.Ng=!1,Ca.prototype.CC=function(){if(this.ZZ){var t=this.ua;if(null!=t&&Ca.Ng){var e=Math.floor(38*hr.F()),n=Math.floor(38*hr.F());this.RO=[];for(var i=0;i<t.length;i++)this.RO.push(Ca.a6j(t[i],e,n));this.asj(),this.ZZ=!1}else{var r=new yr(mr.E.W,!0);r.data={d:mr.J.pu,jm:{url:"rsrc/basic/fa_basic.csh"}},this.c(r),Ca.Ng=!0}}},Ca.prototype.asj=function(){var t=Math.floor(38*hr.F()),e=Math.floor(38*hr.F());this.wi=[];for(var n=[],i=[],r=this.ua,a=0;a<r.length;a++)-1!=r[a].L2.toLowerCase().indexOf(this.P1)&&(this.wi.push(r[a]),n.push(this.RO[a]),i.push(r[a].L2));this.SA.MO(n,i,t,e)},Ca.prototype.f=function(t){this.FG=Ca.clone(t),this.Es()},Ca.prototype.Es=function(){var t=Math.floor(23*hr.F()),e=Math.floor(23*hr.F()),n=Ca.a6j(this.FG,t,e);this.hk.setAttribute("src",n),hr.N2(this.hk,t,e)},Ca.prototype.M=function(){return Ca.clone(this.FG)},Ca.clone=function(t){return{L2:t.L2,Gf:t.Gf,Y:qi.g6.nk(t.Y),sz:t.sz.clone()}},Ca.O=null,Ca.BL=null,Ca.a6j=function(t,e,n){var i=qi.g6.nk(t.Y),r=t.sz,a=.9*Math.min(e/r.m,n/r.n),s=new _r;s.translate(-.5,-.5),s.scale(.95,.95),s.translate(.5,.5),s.scale(a*r.m,a*r.n),Rr.$.yl(i,s);t=new qi.g6;t.Y=i;a=t.sL();a.rect.x=Math.floor((e-a.rect.m)/2),a.rect.y=Math.floor((n-a.rect.n)/2);r=Rr.t(4*a.rect.Z());Rr.al(a.channel,r,3);s=Ca;null==s.O&&(s.O=hr.L("canvas"));i=s.O,t=i.getContext("2d");i.width==e&&i.height==n&&null!=s.BL||(i.width=e,i.height=n,s.BL=t.createImageData(e,n));s=s.BL;return s.data.fill(0),Rr.Ik(r,a.rect,s.data,new Fr(0,0,e,n)),t.putImageData(s,0,0),i.toDataURL()},xa.prototype=new Xr,xa.prototype.w6=function(){for(var t="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(","),e=0;e<t.length;e++)t[e]="luts/"+t[e]+".CUBE";return t},xa.prototype.fu=function(t){this.f(this.ua[t.target.M()]),this.c(new yr(mr.E.o))},xa.prototype.CC=function(){if(this.ZZ){for(var t=Math.floor(+hr.F()),e=Math.floor(+hr.F()),n=[],i=[],r=this.ua,a=0;a<r.length;a++){var s=r[a].Nm.v.split("\\").pop().split("/").pop();i.push(s),n.push(xa.sW(r[a],t,e))}this.SA.MO(n,i,t,e),this.ZZ=!1}},xa.prototype.f=function(t){this.FG=JSON.parse(JSON.stringify(t)),this.Es()},xa.sW=function(t,e,n){var i=hr.L("canvas"),r="ICC / 3DL / look / cube";i.width=e,i.height=n;e=i.getContext("2d"),n=Math.floor(14*hr.F());return e.font=n+"px sans-serif",t.Nm&&(r=t.Nm.v.split("\\").pop().split("/").pop()),e.fillText(r,10,n),i.toDataURL()},xa.prototype.Es=function(){var t=Math.floor(120*hr.F()),e=Math.floor(20*hr.F());this.hk.setAttribute("src",xa.sW(this.FG,t,e)),hr.N2(this.hk,t,e)},xa.prototype.M=function(){return JSON.parse(JSON.stringify(this.FG))},La.prototype=new Sr,La.prototype.T=function(){for(var t=0;t<this.oK.length;t++)this.oK[t].T()},La.prototype.v1=function(t,e){this.qY.v1(t,e)},La.prototype.Px=function(t){var e=this.ia,n=this.qY.M(),i=n.SB;e.strokeEnabled.v=0!=i,0!=i&&(e.strokeStyleContent.v=n.k4,n.k4.classID=Wi.XF.xP[i-1]),e.strokeStyleLineWidth.v.val=this.Ed.M(),t.target==this.hA&&(e=this.hA.M()),this.ia=e,this.c(new yr(mr.E.o,!1))},La.prototype.f=function(t,e,n){this.ia=JSON.parse(JSON.stringify(e));var i=e.strokeEnabled.v,r=e.strokeStyleContent.v,r=i?{SB:1+Wi.XF.xP.indexOf(r.classID),k4:r}:{SB:0};this.qY.f(t,r,n),this.Ed.f(e.strokeStyleLineWidth.v.val),this.hA.f(e)},La.prototype.M=function(){return JSON.parse(JSON.stringify(this.ia))},Da.prototype=new zr,ka.prototype=new Sr,ka.prototype.f=function(t){for(var e=0;e<5;e++)this.Wb[e].f(t[e]);this.yE()},ka.prototype.M=function(t){for(var e=[],n=0;n<5;n++)e[n]=this.Wb[n].M();return e},ka.prototype.T=function(){this.e.textContent=ri.get([12,93,4]);for(var t=0;t<this.Wb.length;t++)this.Wb[t].T()},ka.prototype.g3=function(t){this.c(new yr(mr.E.o,!1)),this.yE()},ka.prototype.yE=function(t){var e=this.M();e[2]/=hr.F(),e[3]/=hr.F();e=Rr.$.lO.Rs(0,30,200,30,5,e),e=Rr.$.rE(e);this.alO.innerHTML='<svg width="200" height="60" class="gsicon">\t\t\t<path d="'+e.gH+'" />\t\t\t</svg>'},ka.prototype.Sn=function(t){var e;hr.DH(this.M3.e)||(t.stopPropagation(),e=this.e.getBoundingClientRect(),(t=new yr(mr.E.W,!0)).data={d:mr.J.u9,IZ:this.M3,x:e.left,y:e.top+e.height,Wq:!0},this.c(t))},Ta.prototype=new Sr,Ta.prototype.Px=function(){for(var t=0;t<3;t++)this.Sr[t]=this.D8[t].M();this.c(new yr(mr.E.o,!1))},Ta.prototype.f=function(t){this.Sr=t.slice(0);for(var e=0;e<3;e++)this.D8[e].f(t[e])},Ta.prototype.M=function(){return this.Sr.slice(0)},Ta.prototype.T=function(){for(var t=0;t<3;t++)this.D8[t].T()},Aa.prototype=new Sr,Aa.prototype.Uf=function(t){this.su.textContent=t},Aa.prototype.T=function(){this.bs&&(this.su.innerHTML=ri.get(this.bs)+":"),this.Es()},Aa.a1x={},Aa.apq=function(t,e,n){var i=ri.get(Rr.oH.type[t]),r=i+"-"+t+"-"+e+"-"+n,a=Aa.a1x[r];if(a)return a;var s,o=Aa.XN;null==s&&(s=hr.L("canvas"),o=Aa.XN=s.getContext("2d")),(s=o.canvas).width==e&&s.height==n||(s.width=e,s.height=n),o.font=Math.floor(13*hr.F())+"px sans-serif",o.lineWidth=1,o.strokeStyle="#000000";var l=Math.floor(16*hr.F()),e=new Fr(0,0,l,l);o.clearRect(0,0,s.width,s.height);n=Rr.oH.oH(e,t,!0,.3,0,0),t=Rr.H.UQ(e);return t.C.push("M","L","M","L"),t.U.push(0,l/2,l,l/2),t.U.push(l/2,0,l/2,l),t=Rr.H.PE(t),t=Rr.H.Hh(t,l/5),Rr.Cs.A(n,t.U,e),Rr.H.A(t.U,new _r(1,0,0,1,Math.floor(8*hr.F())+.5,Math.floor(3*hr.F())+.5),t.U),o.beginPath(),Typr.U.pathToContext({cmds:t.C,crds:t.U},o),o.stroke(),o.fillText(i,Math.floor(40*hr.F()),Math.floor(16*hr.F())),a=Aa.a1x[r]=s.toDataURL()},Aa.prototype.Sn=function(t){if(!hr.DH(this.M3.e)){t.stopPropagation();for(var e=this.bH,n=this.agp,i=0;i<this.N0.length;i++)this.RO[i]=Aa.apq(this.N0[i],e,n);this.Yt.MO(this.RO,null,e,n);var r=this.d.getBoundingClientRect(),t=new yr(mr.E.W,!0);t.data={d:mr.J.u9,IZ:this.M3,x:r.left,y:r.top+r.height+4},this.c(t)}},Aa.prototype.a1Q=function(t){var e=new yr(mr.E.W,!0);e.data={d:mr.J.dv,IZ:this.M3},this.c(e),this.nQ=t.target.M()[0],this.Es(),this.c(new yr(mr.E.o))},Aa.prototype.Es=function(){var t=this.bH,e=this.agp;this.Yt.f([this.nQ]),this.d.innerHTML='<img src="'+Aa.apq(this.N0[this.nQ],t,e)+'" class="gsicon" />',hr.N2(this.d.firstChild,t,e)},Aa.prototype.M=function(){return this.N0[this.nQ]},Aa.prototype.f=function(t){this.nQ=this.N0.indexOf(t),this.Es()},Ea.prototype=new Sr,Ea.prototype.T=function(){this.Wi.T(),this.C1.T(),this.As.T();var t=this.ab9?1:100;this.rV.Uf(ri.get([22,2]).substring(0,t)+":"),this.u6.Uf(ri.get([22,3]).substring(0,t)+":")},Ea.prototype.tN=function(){var t=this.oH,e=this.Wi.M(),n=t.warpStyle.v.warpStyle;"warpCustom"==e?Rr.oH.LZ(Rr.oH.Av(t),t):delete t.customEnvelopeWarp,t.warpStyle.v.warpStyle=this.Wi.M(),t.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.C1.M()],t.warpValue.v=this.As.M(),t.warpPerspective.v=this.rV.M(),t.warpPerspectiveOther.v=this.u6.M(),"warpNone"==e||"warpCustom"==e?(t.warpValue.v=0,t.warpPerspective.v=0,t.warpPerspectiveOther.v=0):"warpNone"!=n&&"warpCustom"!=n||(t.warpValue.v=50),this.c(new yr(mr.E.o,!1)),this.f(t)},Ea.prototype.M=function(t){return JSON.parse(JSON.stringify(this.oH))},Ea.prototype.f=function(t){this.oH=JSON.parse(JSON.stringify(t)),this.Wi.f(t.warpStyle.v.warpStyle),this.C1.f("Hrzn"==t.warpRotate.v.Ornt?0:1),this.As.f(t.warpValue.v),this.rV.f(t.warpPerspective.v),this.u6.f(t.warpPerspectiveOther.v);for(var t=t.warpStyle.v.warpStyle,e="warpNone"==t||"warpCustom"==t,n=[this.C1,this.As,this.rV,this.u6],i=0;i<n.length;i++)e?n[i].a6():n[i].S0()},Oa.prototype=new Sr,Oa.a7o=function(t){var e=new ii(!0);return 0<=t&&e.NH("Space"),1<=t&&(e.NH("ControlLeft"),2==t&&e.NH("AltLeft")),e},Oa.prototype.XL=function(t){var e=this.tu,n=null;t.j(ii.QO)&&(n="grab",t.j(ii.NT)&&(n="zoom-in",t.j(ii.e$)&&(n="zoom-out"))),(this.Uh=n)&&(e=n),this.vd.Et(e,this.y6),t.j(ii.NT)&&(e=0,t.j(ii.$t)&&(e=1),0!=(e=t.j(ii.gr)?-1:e)&&this.$H(new Pr(this.O.width/2,this.O.height/2),1==e))},Oa.prototype.Ws=function(t){this.tu=t,this.Uh||this.vd.Et(t,this.y6)},Oa.prototype.aj6=function(t){hr.rr(t,this.aaL),hr.HZ(t),t.addEventListener("wheel",this.aom,!1)},Oa.prototype.Pz=function(t){t.h("viewchange",this.arH,this)},Oa.prototype.arH=function(t){var e=this.s.V,t=t.currentTarget.ve();this.s.V=t.V,this.s.r=t.r.clone(),e!=t.V&&this.kQ(),this.pX()},Oa.prototype.ve=function(){return{V:this.s.V,r:this.s.r}},Oa.prototype.f=function(t,e){var n=t[0].Tl;null!=this.qW&&this.qW[0].Tl.iy(n)||(this.s.Jt={m:n.m,n:n.n},this.s.r=new Pr(0,0),this.s.V=1),this.qW=t,this.kQ(),this.zV(),this.u8=0,this.RI=0,this.np=null==e?0:e,this.a6D()},Oa.prototype.l2=function(t){var e;t.preventDefault(),0==t.deltaY||Date.now()-this.ac4<100||((e=hr.B6(t)).x=hr.F()*e.x,e.y=hr.F()*e.y,this.ac4=Date.now(),this.$H(e,t.deltaY<0))},Oa.prototype.$H=function(t,e){qr.WD.h0(this.s,t,e),this.adn()},Oa.prototype.KZ=function(){var t=this.s,e=t.Jt;this.s.V=qr.WD.VY(e.m,e.n,t.ct.m,t.ct.n),this.adn()},Oa.prototype.adn=function(){this.kQ(),this.c(new yr("viewchange")),this.c(new yr("zoom"))},Oa.prototype.kQ=function(){this.Mh=[];var t=this.s.V;if(null!=this.qW)for(var e=0;e<this.qW.length;e++){var n=this.qW[e],i=new Uint8Array(n.data),n=1<=t?{L0:i,rect:n.Tl}:Rr.a7H(i,n.Tl,t);this.Mh.push(n)}},Oa.prototype.zV=function(){clearTimeout(this.asH)},Oa.prototype.pX=function(){var t,e,n,i,r,a,s,o,l,h,u,f,c,p;null!=this.qW&&hr.DH(this.O)&&(t=this.a5u,l=this.O.width,h=this.O.height,null!=t&&t.width==l&&t.height==h||(t=this.a5u=this.XN.createImageData(l,h),console.log("creating image data")),this.qW[this.u8],i=this.Mh[this.u8],u=(r=this.s).Jt,a=(c=r.ct).m,s=c.n,p=u.m*r.V,o=u.n*r.V,l=Math.round((a-p)/2+r.r.x),h=Math.round((s-o)/2+r.r.y),r.V<=1?((n=i.rect.clone()).x=l,n.y=h,p=n.m,o=n.n,e=i.L0):(f=1/r.V,u=new Fr(Math.floor((c.x-l)*f),Math.floor((c.y-h)*f),Math.ceil(c.m*f)+1,Math.ceil(c.n*f)+1),(f=new Fr(0,0,u.m*r.V,u.n*r.V)).x=u.x*r.V+l,f.y=u.y*r.V+h,null!=r.ZK&&r.ZK.length==4*u.Z()||(r.ZK=Rr.t(4*u.Z())),null!=r.Mq&&r.Mq.length==4*f.Z()||(r.Mq=Rr.t(4*f.Z())),Rr.Bg(r.ZK,0),Rr.Ik(i.L0,i.rect,r.ZK,u),Rr.scale.t4(r.ZK,u.m,u.n,r.Mq,f.m,f.n,r.V),e=r.Mq,n=f),f=new Uint8Array(t.data.buffer),Rr.eU(f,a,s,8,-l,-h),Rr.a.bW("norm",e,n,f,c,c,1),(c=this.XN).setTransform(1,0,0,1,0,0),c.putImageData(t,0,0),c.clearRect(l-1e3,h,1e3,o),c.clearRect(l+p,h,1e3,o),c.clearRect(l-1e3,h-1e3,p+2e3,1e3),c.clearRect(l-1e3,h+o,p+2e3,1e3),p=Oa.asU(r.V,"#ffffff",this.aej),c.putImageData(p,0,r.ct.n-p.height))},Oa.a5w={},Oa.asU=function(t,e,n){var i="z"+t+","+e+","+(n=null==n?!1:n),r=Oa.a5w[i];if(r)return r;var a=Math.round(50*hr.F()),s=Math.round(18*hr.F()),o=n?2*s:0,l=hr.L("canvas"),n=l.getContext("2d");l.width=a+o,l.height=s,n.fillStyle="rgba(1,1,1,1)",n.fillRect(0,0,a+o,s),n.font=Math.round(11*hr.F())+"px monospace",n.fillStyle=e;e=(e=100*t)<100?e.toFixed(2):Math.round(e),t=n.measureText(e+="%").width;return n.fillText(e,o+(a-t)/2,Math.round(.7*s)),r=Oa.a5w[i]=n.getImageData(0,0,a+o,s)},Oa.prototype.a6D=function(){var t=this.qW,e=t.length,n=this.u8,i=this.qW[n],n=(n+1)%e;this.pX(),1!=e&&t[n].Tl.iy(i.Tl)&&(0==(i=i.KI?parseInt(i.KI.split(",").pop()):30)&&(i=16),0==n&&this.RI++,(0==this.np||this.RI<this.np)&&(this.asH=setTimeout(this.a1V,i))),this.u8=n},Oa.prototype.hi=function(t,e){t<=0||e<=0||(t=Math.floor(t*hr.F()),e=Math.floor(e*hr.F()),this.s.ct=new Fr(0,0,t,e),this.O.width=t,this.O.height=e,this.O.setAttribute("style","width:"+t/hr.F()+"px; height:"+e/hr.F()+"px; display:block;"),this.pX())},Oa.prototype.MA=function(t){for(var e=-1,n=this.rp,i=0;i<n.length;i++)n[i].pointerId==t.pointerId&&(e=i);return e},Oa.prototype.Wv=function(t){var e=this.MA(t),n=this.rp;-1!=e?n[e]=t:n.push(t),1==n.length?(this.vY=t.target,hr.Z3(window,this.a1v),hr.MK(window,this.a6c),this.pT=hr.B6(t,this.O),this.pT.x*=hr.F(),this.pT.y*=hr.F(),this.$h=this.pT,this.fe=this.s.r.clone(),this.bn&&this.vY==this.O&&!this.Uh&&this.c(new yr("mousedown"))):this.adr=this.qh=Pr.Tn(hr.B6(n[0],this.O),hr.B6(n[1],this.O))},Oa.prototype.Ij=function(t){var e=this.MA(t),n=this.rp;-1!=e&&(n[e]=t);var i=this.s,r=this.Uh,e=this.qW[this.u8].Tl.clone();e.m*=i.V,e.n*=i.V;t=hr.B6(t,this.O);if(t.x*=hr.F(),t.y*=hr.F(),this.$h=t,this.bn&&this.vY==this.O&&!r)this.c(new yr("mousemove"));else if(("grab"==r||null==r)&&(1<n.length||!i.ct.st(e))){if(1<n.length){var e=hr.B6(n[0],this.O),a=hr.B6(n[1],this.O),n=new Pr(hr.F()*(e.x+a.x)/2,hr.F()*(e.y+a.y)/2),e=Pr.Tn(e,a),a=null;return e>this.qh+50&&(this.qh+=50,a=!0),e<this.qh-50&&(this.qh-=50,a=!1),void(null!=a&&this.$H(n,a))}a=t.x-this.pT.x,t=t.y-this.pT.y;i.r.x=this.fe.x+Math.round(a),i.r.y=this.fe.y+Math.round(t),this.c(new yr("viewchange"))}},Oa.prototype.KE=function(t){var e=this.MA(t),n=this.rp;n.splice(e,1),0==n.length?(hr.l$(window,this.a1v),hr.oV(window,this.a6c),e=this.Uh,1<t.detail&&(this.s.V=1,this.s.r.R7(0,0),this.pX()),this.bn&&this.vY==this.O&&!this.Uh?this.c(new yr("mouseup")):"zoom-in"!=e&&"zoom-out"!=e||this.$H(this.$h,"zoom-in"==e)):((n=this.pT=hr.B6(n[0],this.O)).x*=hr.F(),n.y*=hr.F())},Oa.prototype.Js=function(){return this.s.Qi(this.$h.x,this.$h.y)},Na.prototype=new Sr,Na.prototype.v1=function(t){this.afo=t},Na.prototype.T=function(){this.bs.textContent=ri.get([25,0]),this.fD.T(),this.a5L.T(),this.DW.T(),this.I1.T(),this.a7P.T()},Na.prototype.hi=function(t,e){this.yL=new Pr(t,e),this.a21.setAttribute("style","width:"+t+"px"),e-=this.a21.getBoundingClientRect().height,this.m8.setAttribute("style","width:"+t+"px; height:"+e+"px"),hr.DH(this.e)&&this.RQ()},Na.prototype.f=function(t){this.Vh=t,this.RQ()},Na.prototype.auJ=function(t){var e=this.m8;e.scrollTop+e.clientHeight+10>=e.scrollHeight&&this.RQ(!0)},Na.prototype.anJ=function(t){this.P2=null,this.RQ()},Na.prototype.a2g=function(t){if(!(Date.now()-this.D4<2e3)){this.D4=Date.now(),this.ok=this.SY.indexOf(t.currentTarget);var e=this.Xj(this.Vh.x,this.Vh.y);if(e[1]){var n=e[1].largeImageURL;e[1].vectorURL&&""!==e[1].vectorURL?n=e[1].vectorURL:e[1].imageURL&&""!==e[1].imageURL?n=e[1].imageURL:e[1].fullHDURL&&""!==e[1].fullHDURL&&(n=e[1].fullHDURL);t=new XMLHttpRequest;return t.responseType="arraybuffer",t.open("GET",n,!0),t.onload=this.aiy.bind(this),void t.send()}this.ali(e)}},Na.prototype.aiy=function(t){var e=t.target.response,t=ai.Am(e),t=ai.TN(t).Ou(e),t=this.Xj(this.Vh.x,this.Vh.y,[e,t[0].Tl.m,t[0].Tl.n]);this.ali(t)},Na.prototype.ali=function(t){var e=t[0],n=ai.Am(e),t=ai.TN(n),n=new zi("template.psd");t.Ou(e,n);e=new yr("tempready",!0);e.data={Jt:n},this.c(e)},Na.prototype.HG=function(t){t.target;this._7=[],this.RQ()},Na.prototype.ah0=function(t){t=JSON.parse(t.target.response);this.Qk=t.hits,this.RQ()},Na.prototype.RQ=function(t){if(null!=this.Vh&&null!=this.yL&&null!=this.afo&&!(this.yL.x<=0)){var e=this.Vh.x,n=this.Vh.y;if(!(Math.min(e,n)<50||(1!=t&&(this.SY=[],hr.d5(this.m8),this.m8.scrollTop=0),300<this.SY.length))){var i=Math.min(1,300/Math.max(e,n)),r=this.yL.clone();r.x-=20;var a=Math.max(1,Math.floor(r.x/(e*i))),t=Math.max(1,Math.ceil(r.y/(n*i))),i=r.x/a/e,s=a*t;if(null==this.P2){var o,l=this.afo.PG.iJ();for(o in this.P2=[],l){var h=l[o];h[3];this.fD._S(h)&&null!=h[5]&&"gf"!=h[5].slice(0,2)&&this.P2.push(h)}0==this.P2.length&&this.P2.push(l.DejaVuSans)}r=this.DW.M(),a=this.I1.M().trim();if(this.I1.dD(r),r&&(null==this.Qk||a!=this.a92)){t=new XMLHttpRequest,r=""===a?"":"&q="+encodeURIComponent(a),r=`https://pixabay.com/api/?key=${getIK()}`+"&image_type=photo&safesearch=true&per_page=200&page=1"+`${r}`;return"gallery.json"===CF.newproject_imageTemplate&&(r="plugins/gallery.json"),t.open("GET",r,!0),t.onload=this.ah0.bind(this),t.onerror=function(t){console.log(t.target.response)},t.send(),void(this.a92=a)}i*=(e*i-5)/(e*i);for(var u=this.SY.length,f=0;f<s;f++){var c=this.ok=u+f;null==this._7[c]&&(this._7[c]=Math.floor(4294967295*Math.random()));var p=this.Xj(Math.round(e*i),Math.round(n*i))[0],p=ln.cP(new Uint8Array(p)),c=hr.L("span");c.innerHTML=p,this.SY.push(c),this.m8.appendChild(c),c.addEventListener("click",this.aaQ,!1)}}}},Na.prototype.Xj=function(t,e,n){var i=this.DW.M(),r=this.a5L.M(),a=i&&0!=this.Qk.length?this.Qk:null;return r&&!i&&(a=null),r&&i&&0==(1&this.ok)&&(a=null),Hn.lO(t,e,this._7[this.ok],this.P2,n||a)},Ia.prototype=new Sr,Ia.prototype.a8_=function(){this.vk=-1},Ia.prototype.T=function(){for(var t in this.WX)for(var e=0;e<this.WX[t].length;e++)this.WX[t][e].iq.T()},Ia.prototype.wV=function(){this.RQ(),this.c(new yr(mr.E.o,!1))},Ia.prototype.RQ=function(){var t=this.bQ,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],s=null==(s=this.WX[e])?[]:s.slice(0);n&&(s=s.concat(this.WX.anim)),-1!=["GIF","PNG","JPG"].indexOf(e)&&i?s=s.concat(this.WX.slcs):-1!=["GIF","PNG","JPG"].indexOf(e)&&r&&(s=s.concat(this.WX.artb)),a&&(s=s.concat(this.WX.hicc));t=t.join(",");if(t!=this.vk){this.vk=t,hr.d5(this.e);for(var o=0;o<s.length;o++)"PDF"==e&&!r&&0==o||(this.e.appendChild(s[o].iq.e),hr.hw(this.e))}for(var l=this.aa$=[],o=0;o<s.length;o++)l.push(s[o].iq.M())},Ia.prototype.aba=function(t,e,n,i,r){this.bQ=[t,e,n,i,r],this.RQ()},Ia.prototype.M=function(){return this.aa$.slice(0)},Pa.prototype=new Sr,Pa.prototype.T=function(){this.M5.Uf(hr.R4("cross",null,"autoscale")),this.qQ.Uf(hr.R4("checkmark",null,"autoscale"))},Pa.prototype.JD=function(t){this.Dt=t.target==this.qQ,this.c(new UIEvent("click"))},Pa.prototype.M=function(){return this.Dt},Fa.prototype=new Sr,Fa.prototype.g3=function(t){this.c(new yr(mr.E.o,!1))},Fa.prototype.T=function(){},Fa.prototype.M=function(){return[this.da.M().indexOf(!0),this.hQ[0].M(),this.hQ[1].M()]},Fa.prototype.a0L=function(t){var e;hr.DH(this.M3.e)||(t.stopPropagation(),e=this.GP.e.getBoundingClientRect(),(t=new yr(mr.E.W,!0)).data={d:mr.J.u9,IZ:this.M3,x:e.left,y:e.top+e.height+4},this.c(t))},_a.prototype=new Sr,_a.prototype.T=function(){this.mZ.T(),this.i4.T()},_a.prototype.agz=function(t){var e=[t.artboardBackgroundType.v-1];t.Clr&&e.push(t.Clr.v),this.f(e)},_a.prototype.ami=function(){var t=this.M();return{classID:"artboard",Clr:{t:"Objc",v:t[1]},artboardBackgroundType:{t:"long",v:t[0]+1}}},_a.prototype.f=function(t){this.mZ.f(t[0]),t[1]&&this.i4.f(t[1])},_a.prototype.M=function(){return[this.mZ.M(),this.i4.M()]},_a.prototype.Px=function(t){t.target==this.i4&&this.mZ.f(3),this.c(new yr(mr.E.o,!1))},Ba.prototype=new Sr,Ba.prototype.MU=function(t){},Ba.prototype.kB=function(){return!1},Ba.prototype.hi=function(t,e){},Ba.prototype.v1=function(t,e){},Ba.prototype.ID=function(t){},Ba.prototype.f=function(t,e,n,i,r,a){var s=[],o=this.Cv,l=0,h=Gr.GV["s"+this.zn];h?h(t,s,a):this.jt(t,s,a);for(var u=0;u<o.length;u++)o[u]instanceof Dr||o[u].f(s[l++]);t.RndS&&(this.ks=t.RndS.v)},Ba.prototype.M=function(){for(var t=Gr.PD(this.zn),e=[],n=this.Cv,i=0,r=0;r<n.length;r++)n[r]instanceof Dr||(e[i++]=n[r].M());var a=Gr.GV["g"+this.zn];return a?a(t,e):this.oa(t,e),t.RndS&&(t.RndS.v=this.ks),t},Ba.prototype.XL=function(t){},Ba.prototype.tN=function(t){t&&t.target instanceof kr&&(this.ks=Math.floor(4294967295*Math.random()));for(var e=this.akK,n=0;n<e.length;n+=2){var i=this.Cv[e[n]],r=this.Cv[e[n+1]],a=i.M(),s=r.M();t.target==i?r.f(Math.max(a,s)):i.f(Math.min(a,s))}this.c(new yr(mr.E.o))},Ba.prototype.T=function(){for(var t=0;t<this.Cv.length;t++)this.Cv[t].T();var e=this.a0q;e&&e.T()},Ba.prototype.lf=function(t){hr.Yq(this.e,"form");for(var e,n=this.Cv,i=0;i<n.length;i++){var r=n[i];r.parent=this,r.h(mr.E.o,this.tN,this),this.e.appendChild(r.e),r instanceof Lr&&n[i+1]instanceof ea||(t&&-1!=t.indexOf(i)?hr.Oe(this.e):hr.hw(this.e))}Gr.PD(this.zn).RndS&&(e=this.a0q=new kr([25,1,2],null,null,!0),this.e.appendChild(e.e),e.h("click",this.tN,this))},Ba.prototype.UX=function(){return!1},Ba.prototype.CK=function(t,e,n,i,r){},Ba.prototype.wl=function(t,e,n,i,r){},Ba.prototype.f9=function(t,e,n,i,r){},Ba.prototype.oa=function(t,e){},Ba.prototype.jt=function(t,e){},Ba.prototype.jD=function(t){var e=-1!=t.target.M().indexOf(!0),t=new yr(mr.E.W,!0);t.y2=!0,t.data={d:e?mr.J.ms:mr.J.RE,b:qr.hs},this.c(t),(t=new yr(mr.E.u,!0)).b=qr.hs,t.y2=!0,t.data={d:"supertool",b:e?this:null},this.c(t)},Ba.an3=function(t){t.UX=function(){return!0},t.CK=function(t,e,n,i,r){this.AW=!0,this.aet(t,r)},t.wl=function(t,e,n,i,r){this.AW&&this.aet(t,r)},t.f9=function(t,e,n,i,r){this.AW=!1},t.aet=function(t,e){var n=new Fr(0,0,t.m,t.n);t.v&&(n=t.v.rect);e=t.s.Qi(e.x,e.y);function i(t,e){return Math.round(Math.max(0,Math.min(100,100*t/e)))}e.x-=n.x,e.y-=n.y,this.Cv[2].f(i(e.x,n.m)),this.Cv[3].f(i(e.y,n.n)),this.tN()}},Ba.Bokh=function(){Ba.call(this,"Bokh"),this.Cv=[new Ir("Depth Map",["A","b"]),new Nr("Focal Distance",0,255),new Lr([4,11]),new Ir([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new Nr([12,56],0,100),new Nr([12,15],0,360),new Nr([12,2],0,100),new Nr([4,13],0,255),new Nr([24,6],0,100),new zr([12,58],[[12,59,0],[12,59,1]]),new Lr([12,60])],this.lf([5,7])},Ba.Bokh.prototype=new Ba,Ba.Bokh.prototype.jt=function(t,e,n){for(var i=[[22,5,0],[6,5,3],[6,2]],r=t.BkDi.v.BtDi,a=t.BkDc,s=0,s="BeIn"==r?0:"BeIt"==r&&"BeCt"==a.v.BtDc?1:"BeIt"==r&&"BeCm"==a.v.BtDc?2:3+a.v,o=0;o<n[1].length;o++)i.push(n[1][o].name);this.Cv[0].aE(i,[3]),e[0]=s,e[1]=t.BkDp.v,e[2]=t.BkDs.v,e[3]=parseInt(t.BkIs.v.BtIs.slice(3))-3,e[4]=t.BkIb.v,e[5]=t.BkIr.v,e[6]=t.BkSb.v,e[7]=t.BkSt.v,e[8]=t.BkNa.v,e[9]="BeNu"==t.BkNt.v.BtNt?0:1,e[10]=t.BkNm.v},Ba.Bokh.prototype.oa=function(t,e){var n;0==e[0]?(n="BeIn",delete t.BkDc):e[0]<3?(n="BeIt",t.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][e[0]-1]}}):(n="BeIa",t.BkDc={t:"long",v:e[0]-3}),t.BkDi.v.BtDi=n,t.BkDp.v=e[1],t.BkDs.v=e[2],t.BkIs.v.BtIs="BeS"+(3+e[3]),t.BkIb.v=e[4],t.BkIr.v=e[5],t.BkSb.v=e[6],t.BkSt.v=e[7],t.BkNa.v=e[8],t.BkNt.v.BtNt=["BeNu","BeNg"][e[9]],t.BkNm.v=e[10]},Ba.oilPaint=function(){Ba.call(this,"oilPaint"),this.Cv=[new Nr([12,56],.1,10,"px",!0),new Nr("Cleanliness",0,10,"px",!0),new Nr([12,38],.1,10,null,!0),new Nr("Bristle Detail",0,10,null,!0),new Lr("Lighting"),new Nr("Shine",0,10,null,!0),new Qr([12,15])],this.lf()},Ba.oilPaint.prototype=new Ba,Ba.oilPaint.prototype.jt=function(t,e){for(var n="stylization cleanliness brushScale microBrush lightingOn specularity".split(" "),i=0;i<n.length;i++)e[i]=t[n[i]].v;e[6]=[t.LghD.v]},Ba.oilPaint.prototype.oa=function(t,e){for(var n="stylization cleanliness brushScale microBrush lightingOn specularity".split(" "),i=0;i<n.length;i++)t[n[i]].v=e[i];t.LghD.v=e[6][0]},Ba.TrcC=function(){Ba.call(this,"TrcC"),this.Cv=[new Nr("Level",0,255),new zr([12,69],[[19,4,1],[19,4,0]])],this.lf()},Ba.TrcC.prototype=new Ba,Ba.TrcC.prototype.jt=function(t,e){e[0]=t.Lvl.v,e[1]=["Lwr","Upr"].indexOf(t.Edg.v.CntE)},Ba.TrcC.prototype.oa=function(t,e){t.Lvl.v=e[0],t.Edg.v.CntE=["Lwr","Upr"][e[1]]},Ba["Dfs "]=function(){Ba.call(this,"Dfs "),this.Cv=[new zr([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])],this.lf()},Ba["Dfs "].prototype=new Ba,Ba["Dfs "].prototype.jt=function(t,e){e[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(t.Md.v.DfsM)},Ba["Dfs "].prototype.oa=function(t,e){t.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][e[0]]},Ba.Embs=function(){Ba.call(this,"Embs"),this.Cv=[new Qr([12,15]),new Nr([12,42],1,100,"px"),new Nr([12,57],1,500,"%")],this.lf()},Ba.Embs.prototype=new Ba,Ba.Embs.prototype.jt=function(t,e){e[0]=[t.Angl.v],e[1]=t.Hght.v,e[2]=t.Amnt.v},Ba.Embs.prototype.oa=function(t,e){t.Angl.v=e[0][0],t.Hght.v=e[1],t.Amnt.v=e[2]},Ba["Wnd "]=function(){Ba.call(this,"Wnd "),this.Cv=[new zr([12,32],["Wind","Blast","Stagger"]),new zr([12,33],["From the Right","From the Left"])],this.lf()},Ba["Wnd "].prototype=new Ba,Ba["Wnd "].prototype.jt=function(t,e){e[0]=["Wnd","Blst","Stgr"].indexOf(t.WndM.v.WndM),e[1]=["Left","Rght"].indexOf(t.Drct.v.Drct)},Ba["Wnd "].prototype.oa=function(t,e){t.WndM.v.WndM=["Wnd","Blst","Stgr"][e[0]],t.Drct.v.Drct=["Left","Rght"][e[1]]},Ba.denoise=function(){Ba.call(this,"denoise"),this.Cv=[new Nr([12,64],0,10),new Nr([12,65],0,100,"%")],this.lf()},Ba.denoise.prototype=new Ba,Ba.denoise.prototype.jt=function(t,e){t=t.channelDenoise.v[0].v;e[0]=t.Amnt.v,e[1]=t.EdgF.v},Ba.denoise.prototype.oa=function(t,e){t=t.channelDenoise.v[0].v;t.Amnt.v=e[0],t.EdgF.v=e[1]},Ba.lightFilterGradient=function(){Ba.call(this,"lightFilterGradient"),this.Cv=[new Nr([24,3,1],0,100,"px",1,!0),new Nr([12,38],0,200,"%"),new Lr([4,11]),new Nr("High",0,100,"%"),new Nr("Medium",0,100,"%"),new Nr("Low",0,100,"%")],this.lf()},Ba.lightFilterGradient.prototype=new Ba,Ba.lightFilterGradient.prototype.jt=function(t,e){e[0]=t.blur.v,e[1]=100*t.textureScale.v,e[2]=-1==t.Scl.v;t=t.Dtl.v;e[3]=100*t[0].v,e[4]=100*t[1].v,e[5]=100*t[2].v},Ba.lightFilterGradient.prototype.oa=function(t,e){t.blur.v=e[0],t.textureScale.v=e[1]/100,t.Scl.v=e[2]?-1:1;t=t.Dtl.v;t[0].v=e[3]/100,t[1].v=e[4]/100,t[2].v=e[5]/100},Ba.Fbrs=function(){Ba.call(this,"Fbrs"),this.Cv=[new Nr("Variance",1,64),new Nr([12,64],1,64)],this.lf()},Ba.Fbrs.prototype=new Ba,Ba.Fbrs.prototype.jt=function(t,e){e[0]=t.Vrnc.v,e[1]=t.Strg.v},Ba.Fbrs.prototype.oa=function(t,e){t.Vrnc.v=e[0],t.Strg.v=e[1]},Ba.LnsF=function(){Ba.call(this,"LnsF"),this.Cv=[new Nr([12,2],10,300,"%"),new zr([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new Nr("Position X",0,100,"%"),new Nr("Position Y",0,100,"%")],this.lf()},Ba.LnsF.prototype=new Ba,Ba.LnsF.prototype.jt=function(t,e){e[0]=t.Brgh.v,e[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(t.Lns.v.Lns);t=t.FlrC.v;e[2]=Math.round(100*t.Hrzn.v),e[3]=Math.round(100*t.Vrtc.v)},Ba.LnsF.prototype.oa=function(t,e){t.Brgh.v=e[0],t.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][e[1]];t=t.FlrC.v;t.Hrzn.v=e[2]/100,t.Vrtc.v=e[3]/100},Ba.an3(Ba.LnsF.prototype),Ba.blendOptions=function(){Ba.call(this,"blendOptions"),this.Cv.push(new Ir([12,19,0],Ji.f$,!1,Ji.Kc)),this.Cv.push(new Nr([12,0],0,100,"%")),this.lf()},Ba.blendOptions.prototype=new Ba,Ba.blendOptions.prototype.jt=function(t,e){e[0]=Ji.q6.indexOf(t.Md.v.BlnM),e[1]=t.Opct.v.val},Ba.blendOptions.prototype.oa=function(t,e){t.Md.v.BlnM=Ji.q6[e[0]],t.Opct.v.val=e[1]},Ba.LnCr=function(){Ba.call(this,"LnCr"),this.Cv=[new Nr([12,57],-100,100),new Nr([12,38],10,150,"%")],this.lf()},Ba.LnCr.prototype=new Ba,Ba.LnCr.prototype.jt=function(t,e){e[0]=t.LnIa.v,e[1]=t.LnSi.v},Ba.LnCr.prototype.oa=function(t,e){t.LnIa.v=e[0],t.LnSi.v=e[1]},Ba.adaptCorrect=function(){Ba.call(this,"adaptCorrect");var t=Or;this.Cv=[new Dr([19,6,0]),new t([12,57],0,100,"%"),new t("Tone",0,100,"%"),new t([12,56],0,200,"px"),new Dr([19,6,2]),new t([12,57],0,100,"%"),new t("Tone",0,100,"%"),new t([12,56],0,200,"px"),new Dr([3]),new t([13,0],-100,100)],this.lf([3,7])},Ba.adaptCorrect.prototype=new Ba,Ba.adaptCorrect.prototype.jt=function(t,e){var n=t.sdwM.v;e[0]=n.Amnt.v.val,e[1]=n.Wdth.v.val,e[2]=n.Rds.v;n=t.hglM.v;e[3]=n.Amnt.v.val,e[4]=n.Wdth.v.val,e[5]=n.Rds.v,e[6]=t.ClrC.v},Ba.adaptCorrect.prototype.oa=function(t,e){var n=t.sdwM.v;n.Amnt.v.val=e[0],n.Wdth.v.val=e[1],n.Rds.v=e[2],(n=t.hglM.v).Amnt.v.val=e[3],n.Wdth.v.val=e[4],n.Rds.v=e[5],t.ClrC.v=e[6]},Ba.Flam=function(){Ba.call(this,"Flam");var t=this.Cv=[new Ir([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new Nr([12,80,0],20,1e3,"px"),new Lr("Randomize Length"),new Nr([12,41],5,600,"px"),new Nr([12,15],0,360,"°"),new Nr("Interval",10,200,"px"),new Lr("Adapt Interval for Loops"),new ea(!1),new Ir([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new Nr("Turbulent",0,100),new Nr("Jag",0,100),new Nr([12,0],0,100),new Nr("Lines",2,30),new Nr("Bottom",0,100),new Ir([12,22],["Normal","Violent","Flat"]),new Ir([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new Lr("Randomize Shape"),new Nr("Random Seed",0,100)];this.lf();var e=this.e;hr.d5(e);var n=new zr(null,["Basic","Advanced"]);n.h(mr.E.o,this.alo,this),e.appendChild(n.e),hr.Oe(e);var i=hr.L("div"),r=hr.L("div");this.amU=[i,r],e.appendChild(i);for(var a=0;a<t.length;a++)(a<9?i:r).appendChild(t[a].e),6==a&&hr.hw(i);t[0].h(mr.E.o,this.akf,this),this.akf()},Ba.Flam.prototype=new Ba,Ba.Flam.prototype.akf=function(t){var e=this.Cv,n=e[0].M();e[1].dD(0!=n&&5!=n),e[2].dD(0!=n&&5!=n),e[4].dD(0!=n&&5!=n&&1!=n),e[5].dD(0!=n&&5!=n),e[6].dD(0!=n&&5!=n)},Ba.Flam.prototype.alo=function(t){var e=t.target.M(),n=this.amU,t=this.e;t.removeChild(n[1-e]),t.appendChild(n[e])},Ba.boxblur=function(){Ba.call(this,"boxblur"),this.Cv=[new Nr([12,56],1,200," px")],this.lf()},Ba.boxblur.prototype=new Ba,Ba.boxblur.prototype.jt=function(t,e){e[0]=t.Rds.v.val},Ba.boxblur.prototype.oa=function(t,e){t.Rds.v.val=e[0]},Ba.GsnB=function(){Ba.call(this,"GsnB"),this.Cv=[new Nr([12,56],.1,400,"px",1,!0)],this.lf()},Ba.GsnB.prototype=new Ba,Ba.MtnB=function(){Ba.call(this,"MtnB"),this.Cv=[new Qr([12,15]),new Nr([12,28],1,100," px")],this.lf()},Ba.MtnB.prototype=new Ba,Ba.RdlB=function(){Ba.call(this,"RdlB"),this.Cv=[new Nr([12,57],1,100),new zr([12,36],["Spin","Zoom"]),new Nr("Position X",0,100,"%"),new Nr("Position Y",0,100,"%")],this.lf()},Ba.RdlB.prototype=new Ba,Ba.RdlB.prototype.jt=function(t,e){e[0]=t.Amnt.v,e[1]=["Spn","Zm"].indexOf(t.BlrM.v.BlrM),e[2]=100*t.Cntr.v.Hrzn.v,e[3]=100*t.Cntr.v.Vrtc.v},Ba.RdlB.prototype.oa=function(t,e){t.Amnt.v=e[0],t.BlrM.v.BlrM=["Spn","Zm"][e[1]],t.Cntr.v.Hrzn.v=e[2]/100,t.Cntr.v.Vrtc.v=e[3]/100},Ba.an3(Ba.RdlB.prototype),Ba.Dspl=function(){Ba.call(this,"Dspl"),this.Cv=[new Ir([6,36,3],["a","b"]),new Nr([22,4,0],-100,100,"px"),new Nr([22,4,1],-100,100,"px"),new Ir([24,18,0],[[24,18,3],[24,18,2]])],this.lf()},Ba.Dspl.prototype=new Ba,Ba.Dspl.prototype.jt=function(t,e,n){this.a86=[],this.f7=[];var i=-1,r=n?n[0]:null;if(null==r?r=this.atx:this.atx=r,r)for(var a=0;a<r.length;a++){var s=r[a];this.a86.push(s.s3.trim()),this.f7.push(s.n4),s.n4==t.DspF.v.pth&&(i=a)}this.Cv[0].aE(this.a86),e[0]=-1==i?0:i,e[1]=t.HrzS.v,e[2]=t.VrtS.v,e[3]=["WrpA","RptE"].indexOf(t.UndA.v.UndA)},Ba.Dspl.prototype.oa=function(t,e){0!=this.f7.length&&(t.DspF.v.pth=this.f7[e[0]],t.HrzS.v=e[1],t.VrtS.v=e[2],t.UndA.v.UndA=["WrpA","RptE"][e[3]])},Ba.Pnch=function(){Ba.call(this,"Pnch"),this.Cv=[new Nr([12,57],-100,100,"%")],this.lf()},Ba.Pnch.prototype=new Ba,Ba["Plr "]=function(){Ba.call(this,"Plr "),this.Cv=[new zr(null,["Rect to Polar","Polar to Rect"])],this.lf()},Ba["Plr "].prototype=new Ba,Ba.Rple=function(){Ba.call(this,"Rple"),this.Cv=[new Nr([12,57],-999,999),new Ir([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])],this.lf()},Ba.Rple.prototype=new Ba,Ba["Shr "]=function(){Ba.call(this,"Shr "),this.Cv=[new ha(!0,!0),new Ir([24,18,0],[[24,18,3],[24,18,2]])],this.lf()},Ba["Shr "].prototype=new Ba,Ba["Shr "].prototype.jt=function(t,e){var n=new _r(0,255/127,255/127,0,-2,128),i=JSON.parse(JSON.stringify(t.ShrP.v));Rr.Cj.A(i,n),e[0]=i,e[1]=["WrpA","RptE"].indexOf(t.UndA.v.UndA)},Ba["Shr "].prototype.oa=function(t,e){var n=new _r(0,255/127,255/127,0,-2,128);n.tU(),Rr.Cj.A(e[0],n),t.ShrP.v=e[0],t.ShrE.v=e[0].length-1,t.UndA.v.UndA=["WrpA","RptE"][e[1]]},Ba.Sphr=function(){Ba.call(this,"Sphr"),this.Cv=[new Nr([12,57],-100,100),new Ir([12,36],[[15,10,0],[22,4,0],[22,4,1]])],this.lf()},Ba.Sphr.prototype=new Ba,Ba.Sphr.prototype.jt=function(t,e){e[0]=t.Amnt.v,e[1]=["Nrml","HrzO","VrtO"].indexOf(t.SphM.v.SphM)},Ba.Sphr.prototype.oa=function(t,e){t.Amnt.v=e[0],t.SphM.v.SphM=["Nrml","HrzO","VrtO"][e[1]]},Ba.Dthr=function(){Ba.call(this,"Dthr"),this.Cv=[new Ir("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"])],this.lf()},Ba.Dthr.prototype=new Ba,Ba.Dthr.prototype.jt=function(t,e){e[0]=t.Plte.v},Ba.Dthr.prototype.oa=function(t,e){t.Plte.v=e[0]},Ba.Twrl=function(){Ba.call(this,"Twrl"),this.Cv=[new Nr([12,15],-999,999)],this.lf()},Ba.Twrl.prototype=new Ba,Ba.Wave=function(){Ba.call(this,"Wave"),this.akK=[1,2,3,4],this.Cv=[new Nr("Number of Generators",1,100),new Or("Min Length",1,999),new Or("Max Length",1,999),new Or("Min Ampl.",1,999),new Or("Max Ampl.",1,999),new Or("Scale X",1,100,"%"),new Or("Scale Y",1,100,"%"),new zr([12,44],["Sine","Triangle",[12,93,3]]),new Ir([24,18,0],[[24,18,3],[24,18,2]]),new Tr("Randomizer Seed")],this.lf()},Ba.Wave.prototype=new Ba,Ba.Wave.prototype.jt=function(t,e){e[0]=t.NmbG.v,e[1]=t.WLMn.v,e[2]=t.WLMx.v,e[3]=t.AmMn.v,e[4]=t.AmMx.v,e[5]=t.SclH.v,e[6]=t.SclV.v,e[7]=["WvSn","WvTr","WvSq"].indexOf(t.Wvtp.v.Wvtp),e[8]=["WrpA","RptE"].indexOf(t.UndA.v.UndA),e[9]=t.RndS.v},Ba.Wave.prototype.oa=function(t,e){t.NmbG.v=e[0],t.WLMn.v=e[1],t.WLMx.v=e[2],t.AmMn.v=e[3],t.AmMx.v=e[4],t.SclH.v=e[5],t.SclV.v=e[6],t.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][e[7]],t.UndA.v.UndA=["WrpA","RptE"][e[8]];e=parseInt(e[9]);isNaN(e)&&(e=248325464),e=Math.max(0,Math.min(268435455,e)),t.RndS.v=e,this.Cv[9].f(e)},Ba.ZgZg=function(){Ba.call(this,"ZgZg"),this.Cv=[new Nr([12,57],-100,100),new Nr("Ridges",0,20),new Ir([12,22],["Around Center","Out From Center","Pond Ripples"])],this.lf()},Ba.ZgZg.prototype=new Ba,Ba.surfaceBlur=function(){Ba.call(this,"surfaceBlur"),this.Cv=[new Nr([12,56],1,200," px"),new Nr([4,13],1,255," px")],this.lf()},Ba.surfaceBlur.prototype=new Ba,Ba.surfaceBlur.prototype.jt=function(t,e){e[0]=t.Rds.v.val,e[1]=t.Thsh.v},Ba.surfaceBlur.prototype.oa=function(t,e){t.Rds.v.val=e[0],t.Thsh.v=e[1]},Ba.AdNs=function(){Ba.call(this,"AdNs"),this.Cv=[new Nr([12,57],0,200," %"),new Ir([12,58],[[12,59,1],[12,59,0]]),new Lr([12,60])],this.lf()},Ba.AdNs.prototype=new Ba,Ba.DstS=function(){Ba.call(this,"DstS"),this.Cv=[new Nr([12,56],1,200," px"),new Nr([4,13],1,255," px")],this.lf()},Ba.DstS.prototype=new Ba,Ba["Mdn "]=function(){Ba.call(this,"Mdn "),this.Cv=[new Nr([12,56],1,200," px")],this.lf()},Ba["Mdn "].prototype=new Ba,Ba["Mdn "].prototype.jt=function(t,e){e[0]=t.Rds.v.val},Ba["Mdn "].prototype.oa=function(t,e){t.Rds.v.val=e[0]},Ba.ClrH=function(){Ba.call(this,"ClrH"),this.Cv=[new Nr([12,56],4,100," px")];for(var t=1;t<4;t++)this.Cv.push(new Nr("Angle "+t,0,90," °"));this.lf()},Ba.ClrH.prototype=new Ba,Ba.ClrH.prototype.jt=function(t,e){e[0]=t.Rds.v;for(var n=1;n<4;n++)e[n]=t["Ang"+n].v},Ba.ClrH.prototype.oa=function(t,e){t.Rds.v=e[0];for(var n=1;n<4;n++)t["Ang"+n].v=e[n]},Ba.ClrH.prototype.T=function(){var t=this.Cv;t[0].T();for(var e=1;e<4;e++)t[e].Uf(ri.get([12,15])+" "+e)},Ba.Crst=function(){Ba.call(this,"Crst"),this.Cv=[new Nr([12,61],3,100," px")],this.lf()},Ba.Crst.prototype=new Ba,Ba.Crst.prototype.jt=function(t,e){e[0]=t.ClSz.v},Ba.Crst.prototype.oa=function(t,e){t.ClSz.v=e[0]},Ba.Mztn=function(){Ba.call(this,"Mztn"),this.Cv.push(new Ir([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3])),this.f7="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" "),this.lf()},Ba.Mztn.prototype=new Ba,Ba.Mztn.prototype.jt=function(t,e){e[0]=this.f7.indexOf(t.MztT.v.MztT)},Ba.Mztn.prototype.oa=function(t,e){t.MztT.v.MztT=this.f7[e[0]]},Ba["Msc "]=function(){Ba.call(this,"Msc "),this.Cv=[new Nr([12,61],2,200," px")],this.lf()},Ba["Msc "].prototype=new Ba,Ba["Msc "].prototype.jt=function(t,e){e[0]=t.ClSz.v.val},Ba["Msc "].prototype.oa=function(t,e){t.ClSz.v.val=e[0]},Ba.Pntl=function(){Ba.call(this,"Pntl"),this.Cv=[new Nr([12,61],3,100," px")],this.lf()},Ba.Pntl.prototype=new Ba,Ba.Pntl.prototype.jt=function(t,e){e[0]=t.ClSz.v},Ba.Pntl.prototype.oa=function(t,e){t.ClSz.v=e[0]},Ba.smartSharpen=function(){Ba.call(this,"smartSharpen"),this.Cv=[new Nr([12,57],1,200,"%"),new Nr([12,56],0,200,"px",1,!0)],this.lf()},Ba.smartSharpen.prototype=new Ba,Ba.smartSharpen.prototype.jt=function(t,e){e[0]=t.Amnt.v.val,e[1]=t.Rds.v.val},Ba.smartSharpen.prototype.oa=function(t,e){t.Amnt.v.val=e[0],t.Rds.v.val=e[1]},Ba.UnsM=function(){Ba.call(this,"UnsM"),this.Cv=[new Nr([12,57],1,200," %"),new Nr([12,56],.1,400,"px",1,!0),new Nr([4,13],0,255," ")],this.lf()},Ba.UnsM.prototype=new Ba,Ba.HghP=function(){Ba.call(this,"HghP"),this.Cv=[new Nr([12,56],.1,400,"px",1,!0)],this.lf()},Ba.HghP.prototype=new Ba,Ba.HsbP=function(){Ba.call(this,"HsbP"),this.Cv=[new zr("Input",["RGB","HSB","HSL"]),new zr("Output",["RGB","HSB","HSL"])],this.lf()},Ba.HsbP.prototype=new Ba,Ba["Mxm "]=function(){Ba.call(this,"Mxm "),this.Cv=[new Nr([12,56],.1,200," px",1,!0),new Ir([12,76,1],[[12,93,3],"Circle"])],this.lf()},Ba["Mxm "].prototype=new Ba,Ba["Mnm "]=function(){Ba.call(this,"Mnm "),this.Cv=[new Nr([12,56],.1,200," px",1,!0),new Ir([12,76,1],[[12,93,3],"Circle"])],this.lf()},Ba["Mnm "].prototype=new Ba,Ba.Ofst=function(){Ba.call(this,"Ofst"),this.Cv=[new Nr([22,4,0],-1024,1024," px"),new Nr([22,4,1],-1024,1024," px"),new Ir([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])],this.lf()},Ba.Ofst.prototype=new Ba,Ba.Rept=function(){Ba.call(this,"Rept"),this.Cv=[new Or([12,38],1,300," %"),new Or("Row Shift",-50,50," %"),new Or("Space X",-99,200," %"),new Or("Space Y",-99,200," %"),new Lr([4,16,2]),new Qr([12,15])],this.lf()},Ba.Rept.prototype=new Ba,Ba.Rept.prototype.jt=function(t,e){e[0]=t.Scl.v.val,e[1]=t.Rsft.v.val,e[2]=t.SpcX.v.val,e[3]=t.SpcY.v.val,e[4]=t.SpcC.v,e[5]=[t.Angl.v]},Ba.Rept.prototype.oa=function(t,e){return t.Scl.v.val=e[0],t.Rsft.v.val=e[1],t.SpcX.v.val=e[2],t.SpcY.v.val=e[3],t.SpcC.v=e[4],t.Angl.v=e[5][0],t},Ba.Ctoa=function(){Ba.call(this,"Ctoa"),this.Cv=[new Dr([13,0]),new ea(!0),new Nr(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new Nr(["VAR0 VAR1",[12,0],[4,13]],0,100," %")],this.lf()},Ba.Ctoa.prototype=new Ba,Ba.Ctoa.prototype.jt=function(t,e){e[0]=t.Clr.v,e[1]=t.Trsp.v.val,e[2]=t.Opct.v.val},Ba.Ctoa.prototype.oa=function(t,e){t.Clr.v=e[0],t.Trsp.v.val=e[1],t.Opct.v.val=e[2]},Ba.LqFy=function(){Ba.call(this,"LqFy"),this.re=!1,this.H1=!1,this.Q4=null,this.aqR=null,this.b=0,this.P={AK:[[{b:{id:0,name:[24,1,0,1,0],QU:"liq/smudge"}}],[{b:{id:1,name:[24,1,0,1,1],QU:"liq/reconstruct"}}],[{b:{id:2,name:[24,1,0,1,2],QU:"liq/smooth"}}],[{b:{id:3,name:[24,1,0,1,3],QU:"liq/twirl"}}],[{b:{id:4,name:[24,1,0,1,4],QU:"liq/shrink"}}],[{b:{id:5,name:[24,1,0,1,5],QU:"liq/blow"}}],[{b:{id:6,name:[24,1,0,1,6],QU:"liq/pleft"}}],[{b:{id:7,name:"Hand",QU:"tools/hand"}}],[{b:{id:8,name:"Zoom In",QU:"zoomIn"}}],[{b:{id:9,name:"Zoom Out",QU:"zoomOut"}}]],keys:[]},this.l_=new Hl(this.P,!1),this.l_.ZM(0),this.l_.h(mr.E.W,this.av1,this),this.l8=Yi.wP(),this.Sg=null,this.dZ=[],this.eK=-1,this.Ix=null,this.a8B=null,this.Zl=null,this.LK=null,this.xw=null;var t=hr.L("div","flexrow");this._0=t,this.e.appendChild(t),t.appendChild(this.l_.e),this.view=new Oa(!0),this.view.hi(100,100),this.view.h("mousedown",this.Wv,this),this.view.h("mousemove",this.Ij,this),this.view.h("mouseup",this.KE,this),this.view.h("zoom",this.Lw,this),t.appendChild(this.view.e);var e=hr.L("div","form");t.appendChild(e),(this.AH=e).style.width="230px",this.e1=[new Nr([12,14,0],0,1e3,null,!1,!0),new Nr([12,74],0,100,null,!1,!1),new Nr([12,84],0,100,null,!1,!1),new Lr([12,46]),new Nr([12,0],0,100,null,!1,!1),new Lr([24,18,5])];for(var n=[this.l8.Brsh.v.Dmtr.v.val=100,50,100,!1,100,!0],i=0;i<this.e1.length;i++){var r=this.e1[i];r.f(n[i]),4==i&&r.a6(),r.h(mr.E.o,this.a6e,this),e.appendChild(r.e)}t=this.aqy=new kr([1,12,2],!0,null,!0);t.h("click",this.HG,this),e.appendChild(t.e),this.ajP=this.xD.bind(this),this.dK=new Sr,this.dK.e=hr.L("div","floatcont"),this.wC=new kr("Menu",!1,null,!0);t=this.wC.e;t.setAttribute("style","position:absolute; right:13px; top:47px"),hr.rr(t,this.a8E.bind(this))},Ba.LqFy.prototype=new Ba,Ba.LqFy.prototype.kB=function(){return!0},Ba.LqFy.prototype.MU=function(t){this.AH.appendChild(t)},Ba.LqFy.prototype.a8E=function(t){var e;hr.DH(this.dK.e)||(t.stopPropagation(),e=this.wC.e.getBoundingClientRect(),this.dK.e.appendChild(this.AH),(t=new yr(mr.E.W,!0)).data={d:mr.J.u9,IZ:this.dK,x:e.right+e.width-290,y:e.top+e.height},this.c(t))},Ba.LqFy.prototype.XL=function(t){this.re=t.j(ii.e$);var e=qr.Hp.Bl(this.l8,t);null!=e?(this.l8=e,this.Lw(),this.e1[0].f(e.Brsh.v.Dmtr.v.val)):t.j(ii.NT)&&t.j(ii.ZJ)?(e=this.dZ,t.j(ii.Ml)?this.eK+1<e.length&&this.eK++:0<this.eK&&this.eK--,this.Sg.map=e[this.eK].slice(0),this.yE(null)):this.view.XL(t)},Ba.LqFy.prototype.av1=function(t){t.data.d==mr.J.ms&&(t=this.b=t.data.b,this.l_.ZM(this.b),this.view.XL(6<t?Oa.a7o(t-7):new ii))},Ba.LqFy.prototype.a6e=function(t){var e=t.currentTarget,n=this.e1.indexOf(e),t=this.l8.Brsh.v;0==n&&(t.Dmtr.v.val=e.M(),this.Lw()),this.e1[4].dD(this.e1[3].M()),2<n&&this.yE(null)},Ba.LqFy.prototype.WY=function(){var t=this.dZ;for(this.eK++,t[this.eK]=this.Sg.map.slice(0);t.length>this.eK+1;)t.pop();for(;50<t.length;)t=t.slice(1),this.eK--},Ba.LqFy.prototype.Wv=function(t){this.Q4=this.view.Js(),this.aqR=new Pr(0,0),this.H1=!0,window.requestAnimationFrame(this.ajP)},Ba.LqFy.prototype.Ij=function(t){var e=this.view.Js(),n=new Pr(e.x-this.Q4.x,e.y-this.Q4.y);0!=this.b&&6!=this.b||this.acG(n),this.Q4=e},Ba.LqFy.prototype.KE=function(t){this.WY(),this.H1=!1},Ba.LqFy.prototype.xD=function(t){0!=this.b&&6!=this.b&&this.acG(new Pr(0,0)),this.H1&&window.requestAnimationFrame(this.ajP)},Ba.LqFy.prototype.acG=function(t){for(var e=this.Sg,n=e.r2/this.Ix.m,i=this.Q4,r=this.l8.Brsh.v.Dmtr.v.val,a=(Date.now(),e.r2),s=e.kY,o=Math.sqrt(t.x*t.x+t.y*t.y),l=Math.max(1,Math.ceil(o/2)),h=t.x/l,u=t.y/l,f=i.clone(),c=this.b,p=this.e1[1].M()/100,d=this.e1[2].M()/100,o=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],v=(1-p)*o[2*c]+p*o[2*c+1],g=r*n/2,y=0;y<l;y++){var m=[];f.x+=h,f.y+=u,Rr.zi.akm(e.map,a,s,c,f.x*n,f.y*n,g,p,d,h*n,u*n,m,this.re),Rr.zi.ab_(a,s,e.map,m,2*v*d)}new Fr(0,0,a,s);i=new Fr(i.x*n,i.y*n,0,0);i.bA(r*n*.5,r*n*.5);r=i.clone();r.offset(t.x*n,t.y*n);i=new Fr((i=i.hq(r)).x/n,i.y/n,i.m/n,i.n/n),i=Rr.H.dP(i).BS(this.Ix);this.e1[5].f(!0),this.yE(i)},Ba.LqFy.prototype.Lw=function(){var t=tr.Jr(this.l8,null,this.view.ve().V);this.view.Ws(t)},Ba.LqFy.prototype.f=function(t,e,n,i,r){var a,s;n=n.clone(),null!=e&&(i.iy(n)||(a=n.hq(i),s=Rr.t(4*a.Z()),Rr.Ik(e,n,s,a),e=s,s=Rr.t(4*(n=a).Z()),Rr.Ik(r,i,s,a),r=s),n.x=n.y=0,this.Zl=e,this.a8B=r,this.xw=e.slice(0),this.LK=e.slice(0),this.Ix=n,this.Sg=Jr.M9(new Uint8Array(t.LqMe.v).buffer),t=n.m,n=n.n,this.Sg.r2/t<.22&&(this.Sg={r2:Math.floor(t/4),kY:Math.floor(n/4)},this.Sg.map=new Float32Array(this.Sg.r2*this.Sg.kY*2)),this.dZ=[],this.eK=-1,this.WY(),this.yE(null),this.view.KZ(),this.Lw())},Ba.LqFy.prototype.M=function(){for(var t=Gr.PD("LqFy"),e=new Uint8Array(Jr.ij(this.Sg)),n=[],i=0;i<e.length;i++)n.push(e[i]);return t.LqMe.v=n,t},Ba.LqFy.prototype.hi=function(t,e){this.l_.hi(t,e);var n=this.wC.e,i=this.AH;this._0.appendChild(i),this._0.appendChild(n),450<t&&200<t-e?(i.style.marginLeft="1em",this._0.removeChild(n),this.view.hi(t-238-45,e)):(i.style.marginLeft="",this._0.removeChild(i),this.view.hi(t-40,e))},Ba.LqFy.prototype.T=function(){this.l_.T(),this.aqy.T();for(var t=0;t<this.e1.length;t++)this.e1[t].T()},Ba.LqFy.prototype.HG=function(){this.Sg.map.fill(0),this.WY(),this.yE(null)},Ba.LqFy.prototype.yE=function(t){var e=this.Ix,n=this.Zl,i=this.xw,r=this.Sg;this.e1[5].M()?Rr.zi.fX(n,this.LK,e.m,e.n,t,r.map,r.r2,r.kY,0):this.LK.set(n),this.e1[3].wI()?(Rr.Ik(this.a8B,e,i,e,t||e),Rr.a.bW("norm",this.LK,e,i,e,t||e,this.e1[4].M()/100)):Rr.VO(this.LK,i),this.view.f([{Tl:e,data:i.buffer}])},Ba.GEfc=function(){Ba.call(this,"GEfc"),this.vo=0,this.q$=0,this.Zl=null,this.xw=null,this.Ix=null,this.fd=null,this.Xd=null,this.be=0;var t=hr.L("div","flexrow");this._0=t,this.e.appendChild(t),this.view=new Oa(null),this.view.hi(100,100),t.appendChild(this.view.e),this.A9="",this.T6=270;var e=this.Rf=hr.L("div","form scrollable");t.appendChild(e),e.setAttribute("style","width:"+this.T6+"px;  margin-left:10px");var n,e=this.cw=hr.L("div","form");for(n in t.appendChild(e),e.setAttribute("style","width:230px;  margin-left:1em"),this.Xk={},Zr.names){var i=new Ba.GEfc.BK(n);((i.parent=this).Xk[n]=i).h(mr.E.o,this.a8T,this)}this.JQ=!0,this.wC=new kr("Menu",null,null,!0),this.wC.h("click",this.a5F,this),t.appendChild(this.wC.e),this.vP=new kr(">>",null,null,!0),this.vP.h("click",this.aiJ,this),e.appendChild(this.vP.e),this.eq=hr.L("div"),this.eq.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);"),e.appendChild(this.eq),this.y3=hr.L("div"),this.y3.style.minHeight="14em",this.y3.style.marginBottom="1em",e.appendChild(this.y3),this.JE=hr.L("div","lpbody scrollable"),this.cK=hr.L("div","lpfoot"),e.appendChild(this.JE),e.appendChild(this.cK),this.h("click",this.aja,this),this.IQ=[],Vs.NE([[5,3],[5,4]],this.IQ,this.cK,this.tF.bind(this))},Ba.GEfc.prototype=new Ba,Ba.GEfc.prototype.kB=function(){return!0},Ba.GEfc.prototype.MU=function(t){this.eq.appendChild(t)},Ba.GEfc.prototype.v1=function(t,e){this.fd=t},Ba.GEfc.prototype.aiJ=function(t){var e="none"!=this.Rf.style.display;this.Rf.style.display=e?"none":"",this.vP.Uf(e?"<<":">>"),this.hi()},Ba.GEfc.prototype.a5F=function(t){this.JQ=!this.JQ,this.hi()},Ba.GEfc.prototype.hi=function(t,e){var n="none"!=this.Rf.style.display;null!=t?(this.vo=t,this.q$=e,(t<1e3&&n||1e3<=t&&!n)&&(this.aiJ(),n=!n),this.JQ=600<t):(t=this.vo,e=this.q$);n=this.JQ?240+(n?this.T6+10:0):0;hr.DH(this.cw)&&!this.JQ&&(this._0.removeChild(this.Rf),this._0.removeChild(this.cw)),!hr.DH(this.cw)&&this.JQ&&(this._0.appendChild(this.Rf),this._0.appendChild(this.cw)),this.Rf.style.height=e+"px",this.view.hi(t-n,e),this.JE.style.height=e-this.y3.getBoundingClientRect().height-96+"px",this.wC.e.setAttribute("style","position:absolute; top:46px;  right:"+(n+16)+"px")},Ba.GEfc.prototype.aqL=function(){var t=ai.Kn.get("img/beach",!0)[0],e=t.Tl,n=this.Rf,i=Math.floor(hr.F()*(this.T6-40)/3),r=~~(.7*i),a=new Fr(0,0,i,r),s=Rr.t(i*r*4),o=s.slice(0),l=Math.round(10*hr.F()),h=new ImageData(new Uint8ClampedArray(o.buffer),i,r);Rr.Ik(new Uint8Array(t.data),e,s,new Fr(Math.round((e.m-i)/2),Math.round((e.n-r)/2),i,r));var u=hr.L("canvas"),f=u.getContext("2d");u.width=i,u.height=r+Math.round(1.5*l),f.font=l+"px sans-serif",this.ZY={};for(var c=this.anb.bind(this),p=0;p<Zr.KF.length;p++){var d,v=Zr.KF[p],g=hr.L("div");for(d in n.appendChild(g),g.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px"),g.textContent=ri.get(v),Zr.names){var y=Zr.names[d];y[0]==p&&(Zr.O9(d,{rect:a,buffer:s},Zr.PD(d),{p:0,z:0,S:0},{p:255,z:255,S:255},{rect:a,buffer:o},{}),f.fillStyle="black",f.fillRect(0,0,500,500),f.putImageData(h,0,0),y=ri.get(y[1]),f.fillStyle="white",f.fillText(y,(i-f.measureText(y).width)/2,r+Math.round(1.1*l)),y=hr.L("div"),n.appendChild(y),y.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px"),y.addEventListener("click",c,!1),g=hr.L("img"),y.appendChild(g),g.setAttribute("src",u.toDataURL()),g.setAttribute("style","width:"+i/hr.F()+"px; margin-bottom:0px;"),this.ZY[d]=y)}}},Ba.GEfc.prototype.anb=function(t){for(var e in this.ZY)this.ZY[e]==t.currentTarget&&(this.A9=e);this.a8T()},Ba.GEfc.prototype.tF=function(t){var e=Vs.nX(this.IQ,t),t=this.Xd.GEfs.v;t[this.be].v;0==e?(t.push(JSON.parse(JSON.stringify(t[this.be]))),this.be=t.length-1):1<t.length&&(t.splice(this.be,1),this.be==t.length&&this.be--),this.zr(),this.yE()},Ba.GEfc.prototype.a8T=function(t){var e=this.A9,e=null==t?Zr.PD(e):this.Xk[e].M();this.Xd.GEfs.v[this.be].v=e,this.zr(),this.yE()},Ba.GEfc.prototype.f=function(t,e,n,i,r){null==this.ZY&&this.aqL();for(var a=(t=null==(t=this.Xd=JSON.parse(JSON.stringify(t))).GEfs?this.Xd={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:t}]}}:t).GEfs.v,s=0;s<a.length;s++)null==a[s].v.GELv&&(a[s].v.GELv={t:"bool",v:!0});this.be=a.length-1,this.zr(),n=n.clone(),null!=e&&(i.iy(n)||0==Zr.Qp(t).x||(t=n.hq(i),i=Rr.t(4*t.Z()),Rr.Ik(e,n,i,t),e=i,n=t),n.x=n.y=0,this.Zl=e,this.xw=e.slice(0),this.Ix=n,this.yE(),this.view.KZ())},Ba.GEfc.prototype.aja=function(t){var e=t.data,n=e.BT,t=this.Xd.GEfs.v;e.IH?(t[n].v.GELv.v=!t[n].v.GELv.v,this.yE()):this.be=n,this.zr()},Ba.GEfc.prototype.zr=function(){var t=this.Xd.GEfs.v,e=t[this.be].v,n=e.GEfk.v.GEft,i=this.y3;if(null==Zr.names[n])alert("Unsupported gallery filter"),hr.d5(i);else{for(var r in this.A9=n,this.ZY)hr.dj(this.ZY[r],"selected");hr.Yq(this.ZY[n],"selected");n=this.Xk[n];n.f(e),i.firstChild!=n.e&&(hr.d5(i),i.appendChild(n.e))}for(var a=[],s=0;s<t.length;s++){var o=t[s].v,l=Zr.names[o.GEfk.v.GEft],o=new Ws(s,!0,!0,null,l?l[1]:"Filter",s==this.be,o.GELv.v);o.parent=this,a.push(o.e)}hr.d5(this.JE),a.reverse();for(s=0;s<a.length;s++)this.JE.appendChild(a[s]);this.hi()},Ba.GEfc.prototype.M=function(){return JSON.parse(JSON.stringify(this.Xd))},Ba.GEfc.prototype.yE=function(t){var e=this.Ix,n=(this.Zl,this.xw),i=(this.A9,this.Xd),r=this.fd;function a(t){return{p:t>>>16,z:t>>>8&255,S:255&t}}Gr.O9("GEfc",{rect:this.Ix,buffer:this.Zl},i,a(r.k$),a(r.JH),{rect:this.Ix,buffer:this.xw},null),this.view.f([{Tl:e,data:n.buffer}])},Ba.GEfc.prototype.T=function(){for(var t in this.Xk)this.Xk[t].T();Vs.JS(this.IQ,["lrs/newlayer","lrs/bin"])},Ba.GEfc.BK=function(t){for(var e in Sr.call(this),this.xP=t,this.e=hr.L("div"),this.jd={},Zr.PD(t)){var n=null;"__name"!=e&&"classID"!=e&&"GEfk"!=e&&"GELv"!=e&&-1==["FlRs"].indexOf(e)&&("EdgW"==e?n=new Nr("Edge Width",1,14):"EdgB"==e?n=new Nr("Edge Brightness",0,"AccE"==t?50:20):"Smth"==e?n=new Nr([19,3,3],1,"Stmp"==t?50:15):"ClSz"==e?n=new Nr([12,61],3,100):"BrdT"==e?n=new Nr([7,9],1,20):"HghS"==e?n=new Nr([12,64],0,20):"HlSz"==e?n=new Nr([12,14,0],1,15):"Cntr"==e?n=new Nr([12,3,0],0,"WtrP"==t?100:50):"Shrp"==e?n=new Nr("Sharpness",0,40):"SprR"==e?n=new Nr("Spray Radius",0,25):"LgDr"==e?n=new Nr("Light/Dark Balance",0,"Stmp"==t?50:100):"Drkn"==e?n=new Nr("Darkness",1,50):"Dstr"==e?n=new Nr("Distortion",0,20):"Scln"==e?n=new Nr([12,38],50,200):"Rlf"==e?n=new Nr("Relief",0,"Ptch"==t||"NtPr"==t?25:50):"ChAm"==e?n=new Nr("Thickness",1,7):"Pncl"==e?n=new Nr([19,2,5],1,30):"StrP"==e?n=new Nr("Stroke Pressure",0,15):"PprB"==e?n=new Nr("Paper Brightness",0,50):"BrsS"==e?n=new Nr("Brush Size",0,10):"BrsD"==e?n=new Nr("Brush Detail",0,10):"Txtr"==e?n=new Nr([12,67],1,3):"Grn"==e?n=new Nr("Grain",0,20):"HghA"==e?n=new Nr("Highlight Area",0,20):"Intn"==e?n=new Nr("Intensity",0,10):"Brgh"==e?n=new Nr("Glow Brightness",0,"WtrP"==t?100:50):"StrS"==e?n=new Nr("Stroke Size",1,50):"StDt"==e?n=new Nr("Stroke Detail",1,3):"Sftn"==e?n=new Nr("Softness",0,10):"EdgT"==e?n=new Nr("Edge Thickness",0,10):"EdgI"==e?n=new Nr("Edge Intensity",0,10):"Pstr"==e?n=new Nr("Posterization",0,6):"Dfnt"==e?n=new Nr("Definition",0,25):"TxtC"==e?n=new Nr("Texture Coverage",0,50):"ShdI"==e?n=new Nr("Shadow Intensity",0,10):"DrcB"==e?n=new Nr("Direction Balance",0,100):"Strg"==e?n=new Nr([12,64],1,3):"Blnc"==e?n=new Nr("Balance",0,10):"BlcI"==e?n=new Nr("Black Intensity",0,10):"WhtI"==e?n=new Nr("White Intensity",0,10):"DrkI"==e?n=new Nr("Dark Intensity",0,50):"LghI"==e?n=new Nr("Light Intensity",0,50):"StrW"==e?n=new Nr("Stroke Width",3,15):"Grns"==e?n=new Nr("Graininess",0,"NtPr"==t?20:10):"GlwA"==e?n=new Nr("Glow Amount",0,20):"ClrA"==e?n=new Nr("Clear Amount",0,20):"ChrA"==e?n=new Nr("Charcoal Area",0,20):"ChlA"==e?n=new Nr("Chalk Area",0,20):"FrgL"==e?n=new Nr("Foreground Level",1,15):"BckL"==e?n=new Nr("Background Level",1,15):"WhtL"==e?n=new Nr("Background Level",0,50):"BlcL"==e?n=new Nr("Foreground Level",0,50):"ImgB"==e?n=new Nr("Image Balance",0,50):"Dnst"==e?n=new Nr([12,74],0,50):"FbrL"==e?n=new Nr("Fiber Length",3,50):"CrcS"==e?n=new Nr("Crack Sapcing",2,100):"CrcD"==e?n=new Nr("Crack Depth",0,10):"CrcB"==e?n=new Nr("Crack Brightness",0,10):"TlSz"==e?n=new Nr("Tile Size",2,100):"GrtW"==e?n=new Nr("Grout Width",1,15):"LghG"==e?n=new Nr("Lighten Grout",0,10):"SqrS"==e?n=new Nr("Square Size",0,10):"RplS"==e?n=new Nr("Ripple Size",1,15):"RplM"==e?n=new Nr("Ripple Magnitude",0,20):"NmbL"==e?n=new Nr("Number of Levels",2,8):"EdgS"==e?n=new Nr("Edge Simplicity",0,10):"EdgF"==e?n=new Nr("Edge Fidelity",1,3):"Sz"==e?n="NGlw"==t?new Nr("Glow Size",-24,24):new Nr("Brush Size",1,50):"Dtl"==e?n="Chrc"==t?new Nr("Detail",0,5):new Nr("Detail",1,15):"StrL"==e?n="InkO"==t?new Nr("Stroke Length",1,50):new Nr("Stroke Length",0,20):"TxtT"==e?n=new Ir([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(",")):"BrsT"==e?n=new Ir("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(",")):"Grnt"==e?n=new Ir("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" ")):"SDir"==e?n=new Ir([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]):"ScrT"==e?n=new Ir([12,62],["Circle","Dot",[10,35]]):"LghD"==e||"LghP"==e?n=new Ir("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(",")):"Clr"==e?n=new ea("Glow Color"):"InvT"==e?n=new Lr([4,11]):console.log(e),n.h(mr.E.o,this.g3,this),(n.parent=this).jd[e]=n,this.e.appendChild(n.e))}},Ba.GEfc.BK.prototype=new Sr,Ba.GEfc.BK.prototype.g3=function(t){this.c(new yr(mr.E.o,!1))},Ba.GEfc.anK="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" "),Ba.GEfc.BK.prototype.f=function(t){for(var e in this.jd){var n;-1!=Ba.GEfc.anK.indexOf(e)?n=t[e].v:"TxtT"==e?n=Zr.Ys.indexOf(t[e].v[e]):"BrsT"==e?n=Zr.WK.indexOf(t[e].v[e]):"LghD"==e?n=Zr.gS.indexOf(t[e].v[e]):"LghP"==e?n=Zr.yV.indexOf(t[e].v[e]):"Grnt"==e?n=Zr.QS.indexOf(t[e].v[e]):"ScrT"==e?n=Zr.jg.indexOf(t[e].v[e]):"SDir"==e&&(n=Zr.gg.indexOf(t[e].v.StrD)),this.jd[e].f(n)}},Ba.GEfc.BK.prototype.M=function(){var t,e=Zr.PD(this.xP);for(t in this.jd){var n=this.jd[t].M();-1!=Ba.GEfc.anK.indexOf(t)?e[t].v=n:"TxtT"==t?e[t].v[t]=Zr.Ys[n]:"BrsT"==t?e[t].v[t]=Zr.WK[n]:"LghD"==t?e[t].v[t]=Zr.gS[n]:"LghP"==t?e[t].v[t]=Zr.yV[n]:"Grnt"==t?e[t].v[t]=Zr.QS[n]:"ScrT"==t?e[t].v[t]=Zr.jg[n]:"SDir"==t&&(e[t].v.StrD=Zr.gg[n])}return e},Ba.GEfc.BK.prototype.T=function(){for(var t in this.jd)this.jd[t].T()},Ba.blnc=function(){Ba.call(this);var t=this.e;this.Dt=null,this.sf=new Ir([12,12],[[19,6,0],[19,6,1],[19,6,2]]),this.sf.h(mr.E.o,this.yE,this),t.appendChild(this.sf.e),this.VR=[];for(var e=0;e<3;e++){var n=new Nr(ji.fW[e],-100,100);n.h(mr.E.o,this.tN,this),this.VR.push(n),t.appendChild(n.e)}this.I2=new Lr([13,4]),this.I2.h(mr.E.o,this.tN,this),t.appendChild(this.I2.e)},Ba.blnc.prototype=new Ba,Ba.blnc.prototype.T=function(){this.sf.T();for(var t=0;t<3;t++)this.VR[t].T();this.I2.T()},Ba.blnc.prototype.f=function(t){this.Dt=JSON.parse(JSON.stringify(t)),this.yE()},Ba.blnc.prototype.M=function(t){for(var e=this.Dt[["ShdL","MdtL","HghL"][this.sf.M()]].v,n=0;n<3;n++)e[n].v=this.VR[n].M();return this.Dt.PrsL.v=this.I2.M(),JSON.parse(JSON.stringify(this.Dt))},Ba.blnc.prototype.yE=function(t){for(var e=this.Dt[["ShdL","MdtL","HghL"][this.sf.M()]].v,n=0;n<3;n++)this.VR[n].f(e[n].v);this.I2.f(this.Dt.PrsL.v)},Ba.brit=function(){Ba.call(this,"brit"),this.Cv.push(new Nr([12,2],-150,150,"")),this.Cv.push(new Nr([12,3,0],-100,100,"")),this.Cv.push(new Lr([12,3,1])),this.lf()},Ba.brit.prototype=new Ba,Ba.brit.prototype.jt=function(t,e){e[0]=t.Brgh?t.Brgh.v:0,e[1]=t.Cntr?t.Cntr.v:0,e[2]=!!t.useLegacy&&t.useLegacy.v},Ba.brit.prototype.oa=function(t,e){t.Brgh.v=e[0],t.Cntr.v=e[1],t.useLegacy.v=e[2]},Ba.curv=function(){Ba.call(this),this.value=null,this.F$=null;var t=this.e;this.EY=new Ir([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]),this.EY.h(mr.E.o,this.pX,this),t.appendChild(this.EY.e),this.m7=new Ir(null,["Spline","Sketch"]),this.m7.h(mr.E.o,this.aea,this),t.appendChild(this.m7.e),this.Wm=new Fa,(this.Wm.parent=this).Wm.h(mr.E.o,this.Rv,this),t.appendChild(this.Wm.e),hr.hw(t),this.Nd=new ha,this.Nd.h(mr.E.o,this.CM,this),t.appendChild(this.Nd.e),this.pS=null,this.a4f=0,this.bu=0,hr.hw(t),this.VX=new Vr("Sample from image",zr.wv(["-↕","#000000","#888888","#ffffff"]),!0,null,!0),this.VX.h(mr.E.o,this.jD,this),this.VX.e.style.marginRight="0",t.appendChild(this.VX.e)},Ba.curv.prototype=new Ba,Ba.curv.prototype.hi=function(t,e){this.Nd.hi(t,e)},Ba.curv.prototype.T=function(){this.EY.T()},Ba.curv.prototype.aea=function(t){var e=256==He.OD(this.value,0).length?1:0,n=this.m7.M();if(e!=n){e=Gr.PD("curv");if(1==n){for(var i=[],r=0;r<256;r++)i.push(r);He.nS(e,0,i)}this.f(e),this.tN()}},Ba.curv.prototype.CM=function(){He.nS(this.value,this.EY.M(),this.Nd.M()),this.tN()},Ba.curv.prototype.pX=function(){var t=this.EY.M(),e=He.OD(this.value,t),n=256==e.length?1:0;this.m7.f(n),this.F$&&this.Nd.ID(this.F$[t],this.F$[4]*[1,.33,.33,.33][t],["#ccc","#fcc","#cfc","#ccf"][t]),this.Nd.f(e)},Ba.curv.prototype.UX=function(){return!0},Ba.curv.prototype.CK=function(t,e,n,i,r){var a=this.value;this.value=Gr.PD("curv"),this.tN();var s=qr.dO.FT(t,r,1),t=this.pS=[s>>>16&255,s>>>8&255,255&s];if(this.a4f=r.y,0==this.VX.M().indexOf(!0)){for(var s=(t[0]+t[1]+t[2])/3,r=this.EY.M(),o=He.OD(a,r),l=0==r?s:t[r-1],h=-1,u=0;u<o.length;u++)o[u].v.Hrzn.v==l&&(h=u);-1==h?((t=JSON.parse(JSON.stringify(o[0]))).v.Hrzn.v=l,t.v.Vrtc.v=l,o.push(t),o.sort(function(t,e){return t.v.Hrzn.v-e.v.Hrzn.v}),He.nS(a,r,o),this.bu=o.indexOf(t)):this.bu=h}this.f(a),this.tN()},Ba.curv.prototype.wl=function(t,e,n,i,r){var a,s,o,l;null!=this.pS&&0==this.VX.M().indexOf(!0)&&(a=this.value,s=this.EY.M(),(l=(o=He.OD(a,s))[this.bu]).v.Vrtc.v=Math.max(0,Math.min(255,Math.round(l.v.Hrzn.v+(this.a4f-r.y)))),He.nS(a,s,o),this.f(a),this.tN())},Ba.curv.prototype.f9=function(t,e,n,i,r){var a=this.value,s=this.pS,o=(s[0]+s[1]+s[2])/3,l=this.VX.M().indexOf(!0)-1;if(!(l<=-1))for(var h=0;h<3;h++){var u,f=He.OD(a,1+h);0==l&&(f[0].v.Hrzn.v=s[h]),1==l&&(u=Math.log(s[h]/255)/Math.log(o/255),u=Math.min(999,Math.max(10,Math.round(100*u))),2==f.length&&f.splice(1,0,JSON.parse(JSON.stringify(f[0]))),f[1].v.Hrzn.v=127-127*Math.log(u/100),f[1].v.Vrtc.v=127),2==l&&(f[f.length-1].v.Hrzn.v=s[h]),He.nS(a,1+h,f)}this.f(a),this.tN(),this.pS=null},Ba.curv.prototype.f=function(t){this.value=t,this.pX()},Ba.curv.prototype.ID=function(t){this.F$=t,this.pX()},Ba.curv.prototype.M=function(t){return JSON.parse(JSON.stringify(this.value))},Ba.curv.prototype.Rv=function(){for(var t=this.Wm.M(),e=this.F$,n=this.value,i=Rr.jl(t,e),r=0;r<4;r++){var a=i[r][0],s=i[r][1],o=i[r][2],s=[Rr.Cj.sG(a,0,!0),Rr.Cj.sG(s,255,!0)];null!=o&&s.splice(1,0,Rr.Cj.sG(128,o,!0)),He.nS(n,r,s)}this.pX(),this.tN()},Ba.expA=function(){Ba.call(this,"expA"),this.Cv.push(new Nr([12,5],-20,20,null,3)),this.Cv.push(new Nr([12,6],-.5,.5,null,3)),this.Cv.push(new Nr([12,7],.01,6.99,null,3)),this.lf()},Ba.expA.prototype=new Ba,Ba.expA.prototype.jt=function(t,e){e[0]=t.Exps.v,e[1]=t.Ofst?t.Ofst.v:0,e[2]=t.gammaCorrection?t.gammaCorrection.v:1},Ba.expA.prototype.oa=function(t,e){t.Exps={t:"doub",v:e[0]},t.Ofst={t:"doub",v:e[1]},t.gammaCorrection={t:"doub",v:e[2]}},Ba.grdm=function(){Ba.call(this,"grdm"),this.Cv.push(new ga(!0,null,!0)),this.Cv.push(new Lr([12,23,0])),this.lf()},Ba.grdm.prototype=new Ba,Ba.grdm.prototype.jt=function(t,e){e[0]=t.Grad.v,e[1]=!!t.Rvrs&&t.Rvrs.v},Ba.grdm.prototype.oa=function(t,e){t.Grad.v=e[0],t.Rvrs={t:"bool",v:e[1]}},Ba.grdm.prototype.v1=function(t,e){this.Cv[0].$_(t.k$,t.JH),e!=Bi.MB&&e!=Bi.UB&&e!=Bi.kv||this.Cv[0].BF(t.pA)},Ba.selc=function(){Ba.call(this);var t=this.e;this.si=[],this.XA=null,this.sf=new Ir([12,82],ji.TW.concat([[13,1,8],[13,1,13],[13,1,10]])),this.sf.h(mr.E.o,this.g3,this),t.appendChild(this.sf.e),hr.hw(t);for(var e=0;e<4;e++){var n=new Nr(ji.apn[e],-100,100,"%");n.h(mr.E.o,this.g3,this),this.si.push(n),t.appendChild(n.e)}this.Ve=new Lr([13,3]),t.appendChild(this.Ve.e),this.Ve.h(mr.E.o,this.g3,this)},Ba.selc.prototype=new Ba,Ba.selc.prototype.T=function(){this.sf.T(),this.Ve.T();for(var t=0;t<4;t++)this.si[t].T()},Ba.selc.prototype.f=function(t){this.XA=JSON.parse(JSON.stringify(t)),this.yE()},Ba.selc.prototype.M=function(t){return JSON.parse(JSON.stringify(this.XA))},Ba.selc.prototype.g3=function(t){if(t.target!=this.sf){for(var t=this.XA,e=[],n=0;n<4;n++)e[n]=this.si[n].M();Ze.nS(t,this.sf.M(),e),t.Mthd={t:"enum",v:{CrcM:this.Ve.M()?"Absl":"Rltv"}}}this.yE(),this.tN()},Ba.selc.prototype.yE=function(){for(var t=this.XA,e=Ze.OD(t,this.sf.M()),n=0;n<4;n++)this.si[n].f(e[n]);this.Ve.f(!!t.Mthd&&"Absl"==t.Mthd.v.CrcM)},Ba.blwh=function(){Ba.call(this,"blwh"),this.Cv.push(new Lr([12,11])),this.Cv.push(new ea(!0));for(var t=0;t<6;t++)this.Cv.push(new Nr(ji.TW[t],-200,300));this.lf()},Ba.blwh.prototype=new Ba,Ba.blwh.prototype.jt=function(t,e){e[0]=t.useTint.v,e[1]=t.tintColor.v;for(var n="Rd Yllw Grn Cyn Bl Mgnt".split(" "),i=0;i<6;i++)e[2+i]=t[n[i]].v},Ba.blwh.prototype.oa=function(t,e){t.useTint.v=e[0],t.tintColor.v=e[1];for(var n="Rd Yllw Grn Cyn Bl Mgnt".split(" "),i=0;i<6;i++)t[n[i]].v=e[2+i]},Ba.hue2=function(){Ba.call(this),this.value=null,this.p3=null,this.a9E=null,this.AD=[[0,0,0],[0,50,0]];var t=this.e;this.VX=new Vr(null,["↔"],!0,["Click and drag in image to change saturation"],!0),this.VX.h(mr.E.o,this.af5,this),this.VX.h(mr.E.o,this.jD,this),t.appendChild(this.VX.e),this.sf=new Ir([12,12],["Master"].concat(ji.TW)),this.sf.h(mr.E.o,this.pX,this),t.appendChild(this.sf.e),this.nO=new Nr([12,8],-180,180),this.nO.h(mr.E.o,this.Db,this),t.appendChild(this.nO.e),this.IU=new Nr([12,9],-100,100),this.IU.h(mr.E.o,this.Db,this),t.appendChild(this.IU.e),this.Jl=new Nr([12,10],-100,100),this.Jl.h(mr.E.o,this.Db,this),t.appendChild(this.Jl.e),this.Cm=new Lr([12,11]),this.Cm.h(mr.E.o,this.Db,this),t.appendChild(this.Cm.e),this.Oz=new Vr("Sample Hue",['<img src="'+PIMG["tools/eyedropper"]+'" class="autoscale gsicon" />',"+","-"],!0,null,!0),this.Oz.h(mr.E.o,this.af5,this),this.Oz.h(mr.E.o,this.jD,this),this.Oz.e.style.marginLeft="20px",t.appendChild(this.Oz.e),this.uH=hr.L("div"),t.appendChild(this.uH),this.W5=this._g.bind(this),this.kP=this.Ag.bind(this),this.O=hr.L("canvas"),this.XN=this.O.getContext("2d"),this.fr=null,hr.HZ(this.O),hr.r9(this.O,282,18),t.appendChild(this.O),hr.rr(this.O,this.Bw.bind(this))},Ba.hue2.prototype=new Ba,Ba.hue2.prototype.hi=function(t,e){hr.r9(this.O,Math.round(t),18),this.value&&this.pX()},Ba.hue2.prototype.af5=function(t){-1!=t.target.M().indexOf(!0)&&(t.target==this.VX?this.Oz:this.VX).f([!1,!1,!1])},Ba.hue2.prototype.Bw=function(t){if(0!=this.sf.M()&&!this.Cm.M()){for(var e,n,i,r=hr.B6(t,this.O).x/(this.O.width/hr.F()),a=1e6,s=this.cO(),o=-1,l=0;l<4;l++){var h=Math.abs(r-(s[l]+1e-5*l));h<a&&(a=h,o=l)}.025<a&&(o=-1,e=s[0],n=s[1],i=s[2],t=s[3],u(e,r,n)&&(o=4),u(n,r,i)&&(o=5),u(i,r,t)&&(o=6)),-1!=o&&(this.fr=o,hr.Z3(document.body,this.W5),hr.MK(document.body,this.kP))}function u(t,e,n){return t<e&&e<n||n<t&&(t<e||e<n)}},Ba.hue2.prototype._g=function(t){for(var e=hr.B6(t,this.O).x/(this.O.width/hr.F()),n=this.cO(),i=this.fr,r=1;r<4;r++)n[r]<n[r-1]&&(n[r]+=1);if(i<4){for(var a=1e6,s=0,r=-20;r<20;r++){var o=Math.abs(n[i]-(e+r));o<a&&(a=o,s=r)}n[i]=e+=s;for(r=i+1;r<4;r++)n[r]<n[r-1]&&(n[r]=n[r-1]);for(r=i-1;0<=r;r--)n[r]>n[r+1]&&(n[r]=n[r+1])}else{var l=e-(n[i-4]+n[i-3])/2;if(l<-.5&&(l+=1),4==i&&(n[0]+=l,n[1]+=l,n[2]=Math.max(n[1],n[2]),n[3]=Math.max(n[1],n[3])),5==i)for(r=0;r<4;r++)n[r]+=l;6==i&&(n[2]+=l,n[3]+=l,n[0]=Math.min(n[0],n[2]),n[1]=Math.min(n[1],n[2]))}for(r=1;r<4;r++)if(n[r]<n[r-1])throw"e";this.arN(n),this.pX(),this.tN()},Ba.hue2.prototype.Ag=function(t){hr.l$(document.body,this.W5),hr.oV(document.body,this.kP)},Ba.hue2.prototype.T=function(){this.nO.T(),this.IU.T(),this.Jl.T(),this.Cm.T(),this.sf.T()},Ba.hue2.prototype.Db=function(t){var e=this.value.Clrz.v=this.Cm.M();e&&this.sf.f(0),t&&t.target==this.Cm&&(this.AD[1-(r=e?1:0)]=Je.OD(this.value,0),n=this.AD[r],Je.nS(this.value,0,n),0==this.sf.M()&&(this.nO.f(n[0]),this.IU.f(n[1]),this.Jl.f(n[2])));var n,i=this.sf.M(),t=Je.OD(this.value,i);(n=0==i?t:t.VR)[0]=this.nO.M();var r=this.IU.M();n[1]=e?Math.max(0,r):r,n[2]=this.Jl.M(),Je.nS(this.value,i,t),this.pX(),this.tN()},Ba.hue2.prototype.pX=function(){var t=this.sf.M(),e=!!this.value.Clrz&&this.value.Clrz.v;this.Cm.f(e),this.sf.dD(!e),this.Oz.dD(!e&&0!=t);var n=Je.OD(this.value,t),i=0==t?n:n.VR;this.nO.f(i[0]),this.IU.f(i[1]),this.Jl.f(i[2]);var r=this.O.width,i=this.O.height,a=this.XN;if(a.clearRect(0,0,r,i),e||0==t)this.uH.innerHTML="";else{n=n.tc;this.uH.innerHTML=n[0]+"° / "+n[1]+'°<span style="float:right">'+n[2]+"° \\ "+n[3]+"°</span>";n=Rr.t(4*r);fa.a6$(n,1,r,-1,.5);for(var s=new ImageData(new Uint8ClampedArray(n.buffer),r,1),o=Math.round(i/4),l=0;l<o;l++)a.putImageData(s,0,l);var h=this.cO();d(h[0],h[1],"#888888"),d(h[1],h[2],"#cccccc"),d(h[2],h[3],"#888888"),a.fillStyle="#ffffff",a.lineWidth=1,a.beginPath();for(var u=o+.5,f=4*o+.5,l=0;l<4;l++){var c=Math.floor(r*h[l])+.5,p=(l<2?-1:1)*o*(1==l||2==l?1:2);a.moveTo(c,u),a.lineTo(c,f),a.lineTo(c+p,f),a.lineTo(c+p,o+o+.5),a.closePath()}a.fill(),a.stroke()}function d(t,e,n){a.fillStyle=n;n=2*o;t<=e?a.fillRect(t*r,n,(e-t)*r,o):(a.fillRect(0,n,e*r,o),a.fillRect(t*r,n,(1-t)*r,o))}},Ba.hue2.prototype.cO=function(){for(var t=this.sf.M(),e=Je.OD(this.value,t).tc,n=0;n<4;n++)e[n]=(1000.5+e[n]/360)%1;return e},Ba.hue2.prototype.arN=function(t){for(var e=this.sf.M(),n=Je.OD(this.value,e),i=0;i<4;i++)n.tc[i]=Math.round(36e3+360*(t[i]-.5))%360;Je.nS(this.value,e,n)},Ba.hue2.prototype.UX=function(){return!0},Ba.hue2.prototype.a4V=function(){var t=this.VX.M().indexOf(!0),e=this.Oz.M().indexOf(!0);return-1!=t?t:-1!=e?e+1:-1},Ba.hue2.prototype.CK=function(t,e,n,i,r){var a,s,o,l,h=this.a4V();-1!=h&&(a=this.value,this.value=Gr.PD("hue2"),this.tN(),s=qr.dO.FT(t,r,1),this.f(a),l=Rr.IA((o=[s>>>16&255,s>>>8&255,255&s])[0]/255,o[1]/255,o[2]/255),0==h?this.sf.f(1+Math.round(6*l.kY)%6):(t=this.cO(),a=.5+l.kY,s=t[1],(o=t[2])<s&&(o++,a<s&&a+1-o<s-a&&a++),l=s<=a&&a<=o,1==h?(s=a-1/12/2,o=a+1/12/2):2!=h||l?3==h&&l&&(a-s<o-a?s=a:o=a):(s=Math.min(a,s),o=Math.max(a,o)),this.arN(t=[s-1/12,s,o,o+1/12])),this.tN(),this.p3=r.x,this.a9E=this.IU.M())},Ba.hue2.prototype.wl=function(t,e,n,i,r){var a=this.a4V();-1!=a&&0==a&&null!=this.p3&&(r=r.x-this.p3,r=Math.max(-100,Math.min(100,this.a9E+.5*r)),this.IU.f(r),this.Db())},Ba.hue2.prototype.f9=function(t,e,n,i,r){this.p3=null},Ba.hue2.prototype.f=function(t){this.value=JSON.parse(JSON.stringify(t));t=!!this.value.Clrz&&this.value.Clrz.v;this.AD[t?1:0]=Je.OD(this.value,0),this.pX()},Ba.hue2.prototype.M=function(t){return JSON.parse(JSON.stringify(this.value))},Ba.levl=((Ra.prototype=new Ba).Rv=function(){for(var t=this.Wm.M(),e=this.F$,n=this.value,i=Rr.jl(t,e),r=0;r<4;r++){var a=i[r][0],s=i[r][1],o=i[r][2],l=[Rr.Cj.sG(a,0,!0),Rr.Cj.sG(s,255,!0)];null!=o&&l.splice(1,0,Rr.Cj.sG(128,o,!0)),qe.nS(n,r,[~~a,~~s,0,255,null==o?100:~~(100+75*(o-128)/128)])}this.pX(),this.tN()},Ra.prototype.hi=function(t,e){this.ZR.x=this.nw.x=t+=6,hr.r9(this.O,t,this.ZR.y,this.XN),hr.r9(this.Sb,t,this.nw.y,this.GB);var n=this.cY;n[3].e.setAttribute("style","margin-left: "+(t-104)+"px"),n[4].e.setAttribute("style","margin: 0 "+(t/2-74)+"px"),this.value&&this.pX()},Ra.prototype.T=function(){this.EY.T()},Ra.prototype.a0M=function(t){for(var e=[],n=0;n<5;n++){var i=255,r=1;4==n&&(i=999,r=100);var a=parseFloat(this.cY[n].M());e[n]=Math.max(0,Math.min(i,a*r))}qe.nS(this.value,this.EY.M(),e),this.pX(),this.tN()},Ra.prototype.pX=function(t){var e=this.ZR.x,n=this.ZR.y,i=this.EY.M(),r=this.XN;if(r.clearRect(0,0,e,n),r.fillStyle="#cccccc",r.fillRect(8,8,e-16,n-16-8),this.F$){var a=this.F$[0].slice(0),s=0;if(0==i){a.fill(0);var o=JSON.parse(JSON.stringify(this.value));qe.nS(o,0,[0,255,0,255,100]);for(var o=ji.PJ("levl",o),l=[o.KW,o.zR,o.pW],h=0;h<3;h++)for(var u=this.F$[1+h],f=l[h],c=0;c<256;c++)a[f[c]]+=u[c]}for(var p=0==i?a:this.F$[i],c=0;c<p.length;c++)s+=p[c];r.fillStyle="#333333",r.beginPath(),r.moveTo(8,n-16);for(c=0;c<256;c++){var d=55*p[c]/s;r.lineTo(8+c/256*(e-16),Math.max(8,n-16-n*d))}r.lineTo(e-8,n-16),r.closePath(),r.fill()}for(var v=qe.OD(this.value,i),c=0;c<5;c++)this.cY[c].f(v[c]/(4==c?100:1));this.vE[0].R7(8+v[0]/255*(e-16),n-14),this.vE[1].R7(8+v[1]/255*(e-16),n-14);i=Math.log(v[4]/100)/Math.log(9.99);this.vE[4].R7(this.vE[0].x+(i=.5-i/2)*(this.vE[1].x-this.vE[0].x),n-14),this.RN(r,this.vE[0],"#000000"),this.RN(r,this.vE[1],"#ffffff"),this.RN(r,this.vE[4],"#777777");e=this.nw.x,n=this.nw.y;(r=this.GB).clearRect(0,0,e,n);i=r.createLinearGradient(0,0,e-16,0);i.addColorStop(0,"black"),i.addColorStop(1,"white"),r.fillStyle=i,r.fillRect(8,8,e-16,16),this.vE[2].R7(8+v[2]/255*(e-16),n-14),this.vE[3].R7(8+v[3]/255*(e-16),n-14),this.RN(r,this.vE[2],"#000000"),this.RN(r,this.vE[3],"#ffffff")},Ra.prototype.RN=function(t,e,n){t.fillStyle=n,t.fillRect(e.x-5,e.y,10,10)},Ra.prototype.Bw=function(t){t=hr.B6(t,this.O),t=this.ap2([0,1,4],t);-1!=t&&(this.sa=t),this.a4p()},Ra.prototype.ajv=function(t){t=hr.B6(t,this.Sb),t=this.ap2([2,3],t);-1!=t&&(this.sa=t),this.a4p()},Ra.prototype.ap2=function(t,e){for(var n=-1,i=1e9,r=0;r<t.length;r++){var a=Math.abs(this.vE[t[r]].x-e.x);a<i&&(i=a,n=t[r])}return i<16?n:-1},Ra.prototype.a4p=function(t){-1!=this.sa&&(hr.Z3(document.body,this.W5),hr.MK(document.body,this.kP))},Ra.prototype._g=function(t){var e=qe.OD(this.value,this.EY.M()),t=255*(hr.B6(t,2==this.sa&&3==this.sa?this.Sb:this.O).x-8)/(this.ZR.x-16),t=Math.max(0,Math.min(255,t));0==this.sa&&(t=Math.min(t,e[1]-2)),1==this.sa&&(t=Math.max(t,e[0]+2)),4!=this.sa?e[this.sa]=Math.round(t):(t=1-2*(t=(t-e[0])/(e[1]-e[0])),t=Math.pow(9.99,t),e[4]=Math.min(999,Math.max(10,Math.round(100*t)))),qe.nS(this.value,this.EY.M(),e),this.pX(),this.tN()},Ra.prototype.Ag=function(t){hr.l$(document.body,this.W5),hr.oV(document.body,this.kP),this.sa=-1},Ra.prototype.UX=function(){return!0},Ra.prototype.f9=function(t,e,n,i,r){var a=this.value,s=this.VX.M().indexOf(!0);if(-1!=s){this.value=Gr.PD("levl"),this.tN();for(var r=qr.dO.FT(t,r,1),o=[r>>>16&255,r>>>8&255,255&r],l=0;l<3;l++){var h,u=qe.OD(a,1+l);0==s&&(u[0]=o[l]),1==s&&(h=Math.log(o[l]/255)/Math.log(.333*(o[0]+o[1]+o[2])/255),u[4]=Math.min(999,Math.max(10,Math.round(100*h)))),2==s&&(u[1]=o[l]),qe.nS(a,1+l,u)}this.f(a),this.tN()}},Ra.prototype.f=function(t){this.value=t,this.pX()},Ra.prototype.ID=function(t){this.F$=t,this.pX()},Ra.prototype.M=function(t){return JSON.parse(JSON.stringify(this.value))},Ra),Ba.phfl=function(){Ba.call(this,"phfl"),this.Cv.push(new ea),this.Cv.push(new Nr([12,74],0,100,"%")),this.Cv.push(new Lr([13,4])),this.lf()},Ba.phfl.prototype=new Ba,Ba.phfl.prototype.jt=function(t,e){e[0]=t.Clr.v,e[1]=t.Dnst.v,e[2]=t.PrsL.v},Ba.phfl.prototype.oa=function(t,e){var n=Rr.I.Na(e[0]),i=t.Clr.v,n=Rr.rB(n.p,n.z,n.S);i.Lmnc.v=n.HH,i.A.v=n.q4,i.B.v=n.S,t.Dnst.v=e[1],t.PrsL.v=e[2]},Ba.vibA=function(){Ba.call(this,"vibA"),this.Cv.push(new Nr([12,13],-100,100,null)),this.Cv.push(new Nr([12,9],-100,100,null)),this.lf()},Ba.vibA.prototype=new Ba,Ba.vibA.prototype.jt=function(t,e){e[0]=t.vibrance?t.vibrance.v:0,e[1]=t.Strt?t.Strt.v:0},Ba.vibA.prototype.oa=function(t,e){t.vibrance.v=e[0],t.Strt.v=e[1]},Ba.thrs=function(){Ba.call(this,"thrs"),this.Cv.push(new Nr([4,13],1,255,null)),this.lf()},Ba.thrs.prototype=new Ba,Ba.thrs.prototype.jt=function(t,e){e[0]=t.Lvl.v},Ba.thrs.prototype.oa=function(t,e){t.Lvl.v=e[0]},Ba.mixr=function(){Ba.call(this);var t=this.e;this.si=[],this.XA=null,this.sf=new Ir([12,4],[[13,1,1],[13,1,4],[13,1,5]]),this.sf.h(mr.E.o,this.g3,this),t.appendChild(this.sf.e),hr.hw(t),this.hb=new Lr([12,60]),t.appendChild(this.hb.e),this.hb.h(mr.E.o,this.g3,this);for(var e=0;e<4;e++){var n=new Nr([[13,1,1],[13,1,4],[13,1,5],[13,2]][e],-200,200,"%");n.h(mr.E.o,this.g3,this),this.si.push(n),t.appendChild(n.e)}},Ba.mixr.prototype=new Ba,Ba.mixr.prototype.T=function(){this.sf.T(),this.hb.T();for(var t=0;t<4;t++)this.si[t].T()},Ba.mixr.prototype.f=function(t){this.XA=JSON.parse(JSON.stringify(t)),this.yE()},Ba.mixr.prototype.M=function(t){return JSON.parse(JSON.stringify(this.XA))},Ba.mixr.prototype.g3=function(t){var e,n,i;t.target!=this.sf&&(e=ji.hZ(this.XA),t.target==this.hb?(e.hb=this.hb.M(),e.hb?e.k=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]:e.k=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]):(n=5*(e.hb?0:this.sf.M()),i=this.si.indexOf(t.target),e.k[n+(i<3?i:4)]=t.target.M()),this.XA=ji.X1(e)),this.yE(),this.tN()},Ba.mixr.prototype.yE=function(){var t=ji.hZ(this.XA);this.hb.f(t.hb);for(var e=5*(t.hb?0:this.sf.M()),n=0;n<4;n++)this.si[n].f(t.k[e+(n<3?n:4)])};Ba.post=function(){Ba.call(this,"post"),this.Cv.push(new Nr([4,1],2,255,null)),this.lf()},Ba.post.prototype=new Ba,Ba.post.prototype.jt=function(t,e){e[0]=t.Lvls.v},Ba.post.prototype.oa=function(t,e){t.Lvls.v=e[0]},Ba.clrL=function(){Ba.call(this,"clrL"),this.Cv.push(new xa("LUTs")),this.lf()},Ba.clrL.prototype=new Ba,Ba.clrL.prototype.jt=function(t,e){e[0]=t},Ba.clrL.prototype.oa=function(t,e){var n,i=e[0];for(n in i)t[n]=i[n]},Ba.clrL.prototype.v1=function(t,e){e!=Bi.MB&&e!=Bi.Uk||this.Cv[0].BF(t.aqY)},Ba.rplc=function(){Ba.call(this,"rplc"),this.Cv.push(new Nr([12,92],0,200)),this.Cv.push(new ea),this.Cv.push(new Nr([12,8],-180,180)),this.Cv.push(new Nr([12,9],-100,100)),this.Cv.push(new Nr([12,10],-100,100)),this.lf()},Ba.rplc.prototype=new Ba,Ba.rplc.prototype.jt=function(t,e){e[0]=t.Fzns.v,e[1]=t.Mxm.v,e[2]=t.H.v,e[3]=t.Strt.v,e[4]=t.Lght.v},Ba.rplc.prototype.oa=function(t,e){function n(t,e){e.Lmnc.v=t.HH,e.A.v=t.q4,e.B.v=t.S}t.Fzns.v=e[0],t.H.v=e[2],t.Strt.v=e[3],t.Lght.v=e[4];e=Rr.I.Na(e[1]),e=Rr.rB(e.p,e.z,e.S);n(e,t.Mnm.v),n(e,t.Mxm.v)},Ba.fade=function(){Ba.call(this,"fade"),this.Cv.push(new Nr([12,0],0,100,"%")),this.Cv.push(new Ir([12,19,0],Ji.f$,!1,Ji.Kc)),this.lf()},Ba.fade.prototype=new Ba,Ba.fade.prototype.jt=function(t,e){e[0]=t.Opct.v.val,e[1]=Ji.q6.indexOf(t.Md.v.BlnM)},Ba.fade.prototype.oa=function(t,e){t.Opct.v.val=e[0],t.Md.v.BlnM=Ji.q6[e[1]]},Ba.aply=function(){var o=Ji.q6.concat(["Add","Sbtr"]);o.splice(21,1);var t=Ji.f$.concat([[15,10,28],[15,10,21]]);t.splice(21,1);var e=Ji.Kc.slice(0);function n(){Ba.call(this,"aply"),this.Cv.push(new Ir([0,3],[])),this.Cv.push(new Ir([12,4],["RGB"].concat(ji.fW).concat(["Transparency"]))),this.Cv.push(new Lr([4,11])),this.Cv.push(new Ir([12,19,0],t,!1,e)),this.Cv.push(new Nr([12,0],0,100,"%")),this.Cv.push(new Er([12,38],1,2,null,2)),this.Cv.push(new Er([12,6],-255,255)),this.Cv.push(new Lr([13,5])),this.lf([2]),this.yQ=null}return e[4]--,(n.prototype=new Ba).jt=function(t,e,n){if(n){for(var i=n[2].g,r=this.yQ=[],a=0;a<i.length;a++){var s=i[a].getName();r.push(s.length<30?s:s.slice(0,27)+"...")}r.reverse(),this.Cv[0].aE([[5,7]].concat(r),[1,r.length])}else r=this.yQ;n=(t=t.With.v).T.v;e[0]="name"==n[1].t?1+r.indexOf(n[1].v.val):0,e[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(n[0].v.enum),e[2]=t.Invr.v;n=t.Clcl.v.Clcn;e[3]=o.indexOf(n),e[4]=t.Opct.v.val,e[5]=t.Scl.v,e[6]=t.Ofst.v,e[7]=t.PrsT.v},n.prototype.oa=function(t,e){var n=(t=t.With.v).T.v;0==e[0]?n[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}:n[1]={t:"name",v:{classID:"Lyr",val:this.yQ[e[0]-1]}},n[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][e[1]],t.Invr.v=e[2];n=t.Clcl.v.Clcn=o[e[3]];t.Opct.v.val=e[4],t.Scl.v=e[5],t.Ofst.v=e[6],t.PrsT.v=e[7];n="Add"==n||"Sbtr"==n;this.Cv[5].dD(n),this.Cv[6].dD(n)},n}(),Ba.matc=(Mr=0,(Ua.prototype=new Ba).jt=function(t,e,n){e[Mr=0]=t.Lght.v,e[1]=t.ClrR.v,e[2]=t.Fade.v,e[3]=!!t.neutralizeColor&&t.neutralizeColor.v,e[4]=e[5]=0;t=(t=t.Srce)&&t.v;if(n){wr=[],br=[];for(var i=n[2],r=n[3],a=0;a<r.length;a++){var s=r[a];wr.push(s.name);var o=s.g,l=[];br.push(l);for(var h=0;h<o.length;h++)l.push(o[h].getName());l.reverse()}this.Cv[4].aE([[13,1,0]].concat(wr),[1,wr.length]);var i=r.indexOf(i);t&&(i=wr.indexOf(t[1].v.val)),ja(this,br[i])}t&&(i=wr.indexOf(t[1].v.val),e[3]=Mr=1+i,"name"==t[0].t&&(e[4]=1+br[i].indexOf(t[0].v.val)))},Ua.prototype.oa=function(t,e){var n,i;t.Lght.v=e[0],t.ClrR.v=e[1],t.Fade.v=e[2],t.neutralizeColor.v=e[3],0==e[4]?(t.noReference={t:"bool",v:!0},delete t.Srce):(e[4]!=Mr&&(Mr=e[4],ja(this,br[e[4]-1])),delete t.noReference,n={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},i=br[e[4]-1],0!=e[5]&&(n={t:"name",v:{classID:"Lyr",val:i[e[5]-1]}}),t.Srce={t:"obj ",v:[n,{t:"name",v:{classID:"Dcmn",val:wr[e[4]-1]}}]})},Ua),Ha.prototype=new Sr,Ha.prototype.L$=function(){return!1},Ha.prototype.UX=function(){return!1},Ha.prototype.T=function(){var t;null!=this.L5&&(this.alT.textContent=ri.get(this.L5),t=null==PIMG.__cross?"filter:invert(1);":"",this.bc.setAttribute("style","background-image:url("+PIMG.cross+");"+t))},Ha.prototype.CK=function(t,e,n,i,r){},Ha.prototype.w3=function(t,e,n,i,r){},Ha.prototype.wl=function(t,e,n,i,r){},Ha.prototype.f9=function(t,e,n,i,r){},Ha.prototype.Yp=function(t,e,n,i,r){},Ha.prototype.XL=function(t,e,n,i){var r;i.j(ii.C_)&&this.Wr&&this.Wr(),i.j(ii.NT)&&((r=new yr(mr.E.u)).y2=!0,qr.WD.Y7(i,r),r.data&&e.c(r))},Ha.prototype.XC=function(t){return!1},Ha.prototype.dE=function(t,e){return!0},Ha.prototype.Et=function(t,e,n,i){},Ha.prototype.v1=function(t,e){},Ha.prototype._3=function(t,e){return null},Ha.prototype.a68=function(t){return this.ae_},Ha.prototype.hi=function(){},Ha.prototype.close=function(){this.c(new yr(mr.E.Q7))},Ha.prototype.a8G=function(t){this.v_=hr.B6(t,this.e),hr.Z3(window,this.c7),hr.MK(window,this.dl)},Ha.prototype.agI=function(t){var e=this.e.parentNode,n=hr.B6(t,e),t=Math.round(n.x-this.v_.x),n=e.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(n.y-this.v_.y)));this.ae_=new Pr(t,n),this.e.style.left=t+"px",this.e.style.top=n+"px"},Ha.prototype.am6=function(t){hr.l$(window,this.c7),hr.oV(window,this.dl)},Ha.prototype.aic=function(t){this.c(new yr("closebtn")),this.close()},Ja.prototype=new Ha,Ja.prototype._3=function(t,e){return new Pr(0,0)},Ja.prototype.hi=function(t,e){var n=this.a8h,i=this.a0p,r=this.Sh;Math.sqrt((t-42)*(e-42));n.setAttribute("style","width:"+t/2+"px;height:"+e+"px;display:none;object-fit:cover"),i.setAttribute("style","width:30em;height:10em;padding:20px;font-size:18px"),r.setAttribute("style","position:absolute;display:none;bottom:10px;right:0px")},Ja.prototype.T=function(){},Ja.prototype.Et=function(t,e,n,i){this.a8h.setAttribute("src","promo/ivan_pp.webp")},Ja.UE="Photopea version 5.2",qa.prototype=new Ha,qa.prototype.hi=function(t,e){this.lM.setAttribute("style","width:"+Math.min(t-40,740)+"px;  height:"+(e-38)+"px;  padding:1.5em;"),this.hD[0].hi(t,e)},qa.prototype._3=function(t,e){return new Pr(Math.max(0,Math.min(150,(t-740)/2)),Math.max(0,Math.min(100,(e-500)/2)))},qa.prototype.a98=function(t){hr.d5(this.lM),this.lM.scrollTop=0,this.lM.appendChild(this.hD[t.data.BT].e)},qa.prototype.T=function(){Ha.prototype.T.call(this);for(var t=0;t<this.hD.length;t++)this.hD[t].T()},qa.prototype.Et=function(t,e,n){hr.d5(this.lM);var i=this.hD[0];this.lM.appendChild(i.e),i.Et(),this.T()},qa.prototype.v1=function(t,e){this.Et(null,null,null)},qa.Pm=function(){Sr.call(this),this.e=hr.L("div");var t=this.e,e='style="font-weight:bold; color:#00aa00; padding-right:4px;"',n='style="width:50%; vertical-align:top; padding:10px 20px;"',i=12;this.IT=hr.L("div"),t.appendChild(this.IT),this.Xz=new kr([0,11],!1,null,!0),this.Xz.e.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;"),this.Xz.h("click",this.KC,this),t.appendChild(this.Xz.e),this.pO=new kr([0,13,1],!1,null,!0),this.pO.h("click",this.abv,this),t.appendChild(this.pO.e),this.ro=new kr("Business Terms",!1,null,!0),this.ro.h("click",this.a9u,this),t.appendChild(this.ro.e);var r=hr.L("div");r.style.margin="20px 0",t.appendChild(r);var a=["Account Types","Go Premium","Distributors"],s=this.oB=[],o=this.a82=[],l=this.ct=hr.L("div");t.appendChild(l);for(var h=0;h<a.length;h++)(u=hr.L("span")).textContent=a[h],r.appendChild(u),s.push(u),u.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;"),u.addEventListener("click",this.nA.bind(this)),o.push(hr.L("div"));this.nA(0);var u,f=this.asu="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;",t=o[0],c='style=" text-align:center;font-size:1.25em; padding-bottom:20px;"';(l=hr.L("table")).innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+n+">\t\t\t\t\t<div "+c+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+e+">✓</span> All Features</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+n+">\t\t\t\t\t<div "+c+">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>3.33</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+e+">✓</span> All Features</li>\t\t\t\t\t\t\t<li><span "+e+'>✓</span> No Ads <a href="//www.photopea.com/promo/no_ads.png" target="_blank">👁</a></li>\t\t\t\t\t\t\t<li><span '+e+'>✓</span> 2× more steps in history</li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style="margin:10px 0 12px 0; font-size:0.75em;">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t',t.appendChild(l),(u=new kr("Go Premium")).e.setAttribute("style",f+"padding:10px 0;"),u.h("click",function(t){this.nA(1)},this),l.children[0].children[1].children[1].appendChild(u.e),this.OC=hr.L("div"),t.appendChild(this.OC),t=o[1];var p=this.acS=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[100,30,50],[200,90,50],[800,365,50],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];this.vv=[];for(h=0;h<p.length;h++)this.vv.push(new kr("Buy: $"+p[h][0],!1,null,!0));for(h=0;h<this.vv.length;h++)this.vv[h].h("click",this.ag7,this);this.tb=new kr("...",!0),this.tb.e.setAttribute("style",f),t.appendChild(this.tb.e),l=this.av8(4,["Single user",this.vv[0],this.vv[1],this.vv[2],"Team of 5",this.vv[3],this.vv[4],this.vv[5],"Team of 20",this.vv[6],this.vv[7],this.vv[8],"Team of 50",this.vv[9],this.vv[10],this.vv[11]]),t.appendChild(l),this.ajy=new Lr("I accept",!0,""),t.appendChild(this.ajy.e),this.EW=new kr([0,13,1],!1,null,!0),this.EW.h("click",this.abv,this),t.appendChild(this.EW.e),this.D$=new kr("I have a key",!1,null,!0),this.D$.e.setAttribute("style",f+" float:right; width:inherit;"),this.D$.h("click",this.ag7,this),t.appendChild(this.D$.e),(c=hr.L("h2")).textContent="Team Settings",t.appendChild(c),c.style.marginTop="40px",this.jo=new Lr("Join a team"),t.appendChild(this.jo.e),this.jo.h(mr.E.o,this.aqz,this),this.Pa=new Tr("Email of a leader",null,14),t.appendChild(this.Pa.e),hr.hw(t),this.CE=new Lr("Start a team"),t.appendChild(this.CE.e),this.CE.h(mr.E.o,this.aqz,this);e=new Dr("Emails of other members:");t.appendChild(e.e),hr.hw(t),this.wj=hr.L("textarea"),hr.v6(this.wj),this.wj.setAttribute("rows",3),this.wj.setAttribute("style","display:block;tab-size:4; width:100%"),t.appendChild(this.wj);c=new kr("Save Team Settings",!1,null,!0);t.appendChild(c.e),c.h("click",this.anZ,this);e=this.aj1=new kr("More about Teams",!1,null,!0);t.appendChild(e.e),e.h("click",this.a90,this),t=o[2],this.Ai=new kr("...",!0),this.Ai.e.setAttribute("style",f),t.appendChild(this.Ai.e),l=this.av8(3,["1000 views/mo",this.vv[i++],this.vv[i++],this.vv[i++],"5000 views/mo",this.vv[i++],this.vv[i++],this.vv[i++],"20000 views/mo",this.vv[i++],this.vv[+i],this.vv[20]]),t.appendChild(l);l=hr.L("p");l.innerHTML='Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href="https://www.photopea.com/api/accounts#distributors" target="_blank" style="color:inherit;">More</a>',t.appendChild(l),this.YE=new Tr("Domain name (e.g. domain.com)",null,14),t.appendChild(this.YE.e),(c=new kr("Save Domain Settings",!1,null,!0)).j4(),t.appendChild(c.e),c.h("click",this.a9V,this)},qa.Pm.prototype=new Sr,qa.Pm.prototype.nA=function(t){for(var t="number"==typeof t?t:this.oB.indexOf(t.target),e=0;e<3;e++)this.oB[e].style.opacity=.6;this.oB[t].style.opacity=1,hr.d5(this.ct),this.ct.appendChild(this.a82[t])},qa.Pm.prototype.hi=function(t,e){var n=["30 days","90 days","365 days"];t<600&&(n=["30d","90d","365d"]);for(var i=this.acS,r=0;r<i.length;r++)this.vv[r].Uf("<span>"+n[r%3]+": <sup>$</sup><big><b>"+i[r][0]+"</b></big></span>"),this.vv[r].e.setAttribute("style",this.asu)},qa.Pm.prototype.abv=function(t){var e=new yr("showpage",!0);e.data={BT:1},this.c(e)},qa.Pm.prototype.a9u=function(t){var e=new yr("showpage",!0);e.data={BT:2},this.c(e)},qa.Pm.prototype.T=function(){this.Xz.Uf($.WA()?ri.get([0,11]):ri.get([0,10])),this.EW.T(),this.pO.T(),this.ro.T()},qa.Pm.prototype.a90=function(t){var e=new yr(mr.E.W,!0);e.data={d:mr.J.Ih,link:"https://www.photopea.com/api/accounts#"+(t.target==this.aj1?"teams":"distributors")},this.c(e)},qa.Pm.prototype.aqz=function(t){t=t.currentTarget==this.jo;this.jo.f(t),this.CE.f(!t)},qa.Pm.prototype.anZ=function(t){var e,n=this.jo.M(),i=this.Pa.M().trim().toLowerCase(),r=this.wj.value.trim().toLowerCase();60<i.length?alert("Too long email address"):600<r.length?alert("Too many team members"):(r=""==(r=(r=r.split(",").join(" ").trim()).replace(/\s+/g," "))?[]:r.split(" "),null==(e=null==(e=$.X3())?{}:e).acc&&(e.acc={}),e.acc.team={jin:n,ldr:i,mmb:r},$.Z6(e,this.RT.bind(this)),alert("Saved!"),this.Et())},qa.Pm.prototype.a9V=function(t){var e,n=this.YE.M().trim();$.WA()?0!=$.Iv()?(null==(e=null==(e=$.X3())?{}:e).acc&&(e.acc={}),""==n?delete e.acc.dname:e.acc.dname=n,$.Z6(e,this.RT.bind(this)),alert("Saved!"),this.Et()):alert("Order a distributor account first."):alert("You have to log in first.")},qa.Pm.prototype.aaX=function(t){var e=$.aQ(),n=this.ln,i=$.X3();null==(i=null==i?{}:i).acc&&(i.acc={}),i.acc.bto=t,$.Z6(i,function(){});n=qa.afp(t.split("\n"),e.pmnts[n]);El.save(n,"photopea_invoice.pdf")},qa.Pm.prototype.a79=function(t){var e=$.aQ(),n=$.X3(),n=n.acc?n.acc.bto:null;null==n&&(n=e.name+"\n"+e.email);for(var i=-1,r=t.target.e.parentNode;null!=(r=r.previousSibling);)i++;this.ln=i;t=new yr(mr.E.W,!0);t.data={d:mr.J.go,RB:"billto",Zk:n,ky:this.aaX.bind(this)},this.c(t)},qa.Pm.prototype.Et=function(){if($.WA()){var t=$.aQ(),e=t.pmnts;if(null==t)return;if(this.IT.innerHTML='<span style="font-size:1.5em; margin-right:0.7em;">'+t.name+"</span> "+t.email+" <br/>",hr.d5(this.OC),e){for(var n="<h2>Payments</h2>",i=0;i<e.length;i++){var r=e[i],a=new Date(1e3*r[0]);n+='<div style="font-size:1.2em">'+a.getDate()+". "+(a.getMonth()+1)+". "+a.getFullYear()+" - "+qa.abX(r)+"</div>"}this.OC.innerHTML=n;for(i=0;i<e.length;i++){var s=new kr("Get Invoice",!1,null,!0);s.e.setAttribute("style","float:right"),s.h("click",this.a79,this),this.OC.children[i+1].appendChild(s.e)}}}var o=$.WA()&&$.T8();this.tb.e.style.display=o?"block":"none",o&&(h=parseInt(t[hr.qU("_^NSLUJ")])-.001*Date.now(),l=-1==(l=parseInt(t.ptype))?"member of a team":1==l?"Single user":"Team of "+l,this.tb.Uf("Premium active for "+Math.round(h/86400)+" more days! ("+l+")"));var l=$.WA()&&1e3*$.Iv()>Date.now();this.Ai.e.style.display=l?"block":"none",l&&(h=$.Iv()-Date.now()/1e3,this.Ai.Uf("Distributor active for "+Math.round(h/86400)+" more days!"));var h,l=$.X3();l&&l.acc&&l.acc.team?(h=l.acc.team,this.jo.f(h.jin),this.CE.f(!h.jin),this.Pa.f(h.ldr),this.wj.value=h.mmb.join(", ")):(this.jo.f(!0),this.CE.f(!1),this.Pa.f(""),this.wj.value=""),l&&l.acc&&l.acc.dname?this.YE.f(l.acc.dname):this.YE.f("")},qa.Pm.prototype.av8=function(t,e){for(var n=hr.L("table"),i="<table><tr>",r=0;r<t;r++)i+="<th>"+e[4*r]+"</th>";n.innerHTML=i+="</tr></table>";for(r=0;r<3;r++){var a,s=hr.L("tr");n.appendChild(s);for(var o=0;o<t;o++)(a=hr.L("td")).style.width=Math.round(100/t)+"%",s.appendChild(a),a.appendChild(e[4*o+1+r].e)}return n},qa.Pm.prototype.ag7=function(t){var e=this.vv.indexOf(t.currentTarget),n=30,i=1;if($.WA())if(0==this.ajy.M()&&e<12)alert("You must accept Terms of Service");else{var r,t=$.WA()&&$.T8();if(-1!=e&&(n=(r=this.acS[e])[1],i=r[2]),t&&i<1e3)alert("You already have premium.");else if(console.log(r,n,i),-1!=e){if(30==n&&1==i)if(!confirm("You can have a 90 days version for $10. Do you still want a 30 days version for $9?"))return;$.order(n,i,this.RT.bind(this)),this.C7()}else{i=prompt("Please enter your key");null!=i&&($.a4z(i,this.RT.bind(this)),this.C7())}}else alert("You must log in before buying Premium")},qa.Pm.prototype.RT=function(t){$.WA()&&$.aQ().msg&&alert($.aQ().msg),this.Et(),this.C7()},qa.Pm.prototype.KC=function(t){$.WA()?($._Q(),this.C7(),this.Et(null,null,null)):$.KC(this.auI.bind(this))},qa.Pm.prototype.auI=function(){var t=new yr(mr.E.W,!0);t.data={d:mr.J.aoe},this.c(t)},qa.Pm.prototype.C7=function(){var t=new yr(mr.E.W,!0);t.data={d:mr.J.aqM},this.c(t)},qa.Xg=function(t){Sr.call(this),this.e=hr.L("div");var e,n=this.e,i=this.atT=new kr([0,13,2],!1,null,!0);i.h("click",this.a4b,this),n.appendChild(i.e),t.startsWith("::")?((e=hr.L("iframe")).setAttribute("style","width:100%;height:1700px; background-color:white;"),e.setAttribute("src",t.slice(2))):(e=hr.L("div")).innerHTML=t,n.appendChild(e)},qa.Xg.prototype=new Sr,qa.Xg.prototype.a4b=function(t){var e=new yr("showpage",!0);e.data={BT:0},this.c(e)},qa.Xg.prototype.T=function(){this.atT.T()},qa.arE='\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (IČ 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: Hálkova 483, 517 41 Kostelec nad Orlicí, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style="color:white" href="https://www.comgate.cz/cz/platebni-brana">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Gočárova třída 1754 / 48b, Hradec Králové</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src="https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png" />\t',qa.abX=function(t){return"Photopea "+(t[1]<1e3?"Premium":"Distributor")+" ("+t[1]+" days, "+t[2]+" user"+(1==t[2]?"":"s")+")"},qa.afp=function(t,e){t=["Bill To:"].concat(t);var a=new ToPDF,n=0;function s(t,e,n,i,r){o.font.Tf=r?"Helvetica-Bold":"Helvetica",o.ctm=[1,0,0,1,e,n],o.font.Tfs=i||12,a.PutText(o,t,0)}function i(t,e,n,i){for(var r=0;r<t.length;r++)s(t[r],e,n-r*i,null,0==r)}var o=UDOC.getState();a.StartPage(0,0,595,842),s("INVOICE",415,772,30,!0),i(["Bill From:","Ivan Kuckir","Hálkova 483, 517 41 Kostelec nad Orlicí","Tax ID: CZ9011014309"],40,762,18);var r=new Date(1e3*e[0]);i(["Date: "+r.getDate()+". "+(r.getMonth()+1)+". "+r.getFullYear(),"Transaction ID: "+e[4]],415,726,18);for(var l=t.join(""),h=0;h<l.length;h++)n=Math.max(n,l.charCodeAt(h));if(256<n){var u=hr.L("canvas"),f=u.getContext("2d"),c=0;f.font="48px sans-serif";for(h=0;h<t.length;h++)c=Math.max(c,f.measureText(t[h]).width);var p=Math.round(c)+20,r=4*t.length*18+20;u.width=p,u.height=r,f.font="48px sans-serif";for(h=0;h<t.length;h++)f.font=(0==h?"bold ":"")+"48px sans-serif",f.fillText(t[h],10,4*(h+1)*18);document.body.appendChild(u);u=new Uint8Array(f.getImageData(0,0,p,r).data.buffer);o.ctm=[p/4,0,0,r/4,37.5,662-r/4],a.PutImage(o,u,p,r),o.ctm=[1,0,0,1,0,0]}else i(t,40,662,18);o.colr=[.8,.8,.8],o.pth={cmds:["M","L","L","L","Z"],crds:[40,500,555,500,555,482,40,482]},a.Fill(o),o.colr=[0,0,0];for(var d=[40,500,555,500,40,482,555,482,40,400,555,400,40,500,40,400,555,500,555,400,400,500,400,400],v=[],h=0;h<d.length;h+=4)v.push("M","L");return o.pth={cmds:v,crds:d},a.Stroke(o),s("Order details",44,486),s(qa.abX(e),44,468),s("TOTAL:",44,386,null,!0),s("Price",505,486),s(e[3]+" USD",495,468),s(e[3]+" USD",495,386,null,!0),s("www.Photopea.com",40,40),s("support@photopea.com",425,40),a.ShowPage(),a.Done(),a.buffer},Ga.prototype=new Ha,Ga.prototype.dE=function(t,e){return null!=t},Ga.prototype.L$=function(){return!0},Ga.prototype.T=function(){Ha.prototype.T.call(this),this.Le.T(),this.nY.T(),this.Jc.T(),this.qQ.T()},Ga.prototype.v1=function(t,e){t=t.jv.el;this.fd.jv.el=t,this.Jc.f(t)},Ga.prototype.Et=function(t,e){this.cb=t,this.wt=JSON.stringify(t.pt()),this.RQ()},Ga.prototype.RQ=function(){function t(t,e,n,i,r){for(var a=[],s=0;s<t.length;s++)t[s][0]==e&&a.push(Rr.IR.KQ(t[s][1],n.Mg,i,r));return a.sort(function(t,e){return t-e}),a.join(", ")}var e=this.cb,n=e.p6;this.Le.f(t(n,0,e,this.fd,e.m)),this.nY.f(t(n,1,e,this.fd,e.n))},Ga.prototype.cr=function(t){var e;t&&t.currentTarget==this.Jc?this.fd.jv.el=this.Jc.M():(e=this.aij(),(t=this.cb).Eq(e),t.Lj=!0),this.RQ()},Ga.prototype.aij=function(){for(var t=[],e=[],n=0;n<2;n++)for(var i=0==n?this.Le:this.nY,r=0==n?this.cb.m:this.cb.n,i=i.M().replace(/,/g," ").replace(/  +/g," ").trim(),a=""==i?[]:i.split(" "),s=0;s<a.length;s++)t.push([n,Rr.IR.atW(a[s],this.cb.Mg,this.fd,r)]),e.push(-1);return[t,e]},Ga.prototype.ae4=function(t){var e=this.cb;e.Eq(JSON.parse(this.wt)),e.Lj=!0,this.cb=null},Ga.prototype.Wr=function(t){this.cr(t);t=new yr(mr.E.u,!0);t.b=qr.AZ,t.data={d:"gids",ug:JSON.parse(this.wt),th:this.cb.pt()},this.cb=null,this.close(),this.c(t)},Za.prototype=new Ha,Za.prototype.L$=function(){return!0},Za.prototype.bv=function(){return null!=this.Nd&&this.Nd.kB()},Za.prototype._3=function(){return this.bv()?new Pr(0,0):Ha.prototype._3()},Za.prototype.UX=function(){return this.Nd.UX()},Za.prototype.CK=function(t,e,n,i,r){this.Nd.CK(t,e,n,i,r)},Za.prototype.wl=function(t,e,n,i,r){this.Nd.wl(t,e,n,i,r)},Za.prototype.f9=function(t,e,n,i,r){this.Nd.f9(t,e,n,i,r)},Za.prototype.dE=function(t,e){return"fade"!=this.Fa||Za.a18(t)},Za.prototype.HG=function(t){this.Nd.f(Gr.PD(this.Fa)),this.tN()},Za.prototype.tN=function(t){this.zQ({d:"edit",JL:this.Nd.M(),rd:!this.$f.M()})},Za.prototype.Hd=function(t){this.zQ({d:"cancel"})},Za.prototype.Wr=function(t){this.$f.M()||(this.$f.f(!0),this.tN()),this.gU=this.Nd.M(),this.bv()&&this.tN(),this.zQ({d:"confirm"}),this.close()},Za.prototype.T=function(){Ha.prototype.T.call(this),this.$f.T(),this.Nd&&this.Nd.T(),this.qQ.T()},Za.prototype.v1=function(t,e){this.Nd&&this.Nd.v1(t,e)},Za.prototype.XL=function(t,e,n,i){this.bv()?this.Nd.XL(i):Ha.prototype.XL.call(this,t,e,n,i)},Za.prototype.Et=function(t,e,n,i){this.jy=e.jy;var r=t.add.lnk2||[],a=new Fr(0,0,t.m,t.n),s=t.g[t.w[0]],o=null;h=s.buffer,u=s.rect,this.bv()&&(o=t.y5(t.w[0]-1));var l,h,u,f=Gr.PD(this.Fa),n=[r,t.En,t,n];null==e.jy?(this.Nd.f(f,h,u,a,o,n),ji.names[this.Fa]&&(i.j(ii.e$)&&this.gU&&this.Nd.f(this.gU),l=qr.YH.getData(t),l=Rr.Kk(l[0].lJ),this.Nd.ID(l))):(l=!1,(s=t.g[this.jy.i]).UG()&&(h=(t=s.ez(t)).buffer,u=t.rect,(s=s.add.SoLd.filterFX.v.filterFXList.v)[this.jy.index]&&(s=s[this.jy.index].v,this.Nd.f(("blendOptions"==this.Fa?s.blendOptions:s.Fltr).v,h,u,a,o,n),this.Nd.ID(Rr.Kk(h)),l=!0)),l||(this.Nd.f(f,h,u,a,o,n),this.Nd.ID(Rr.Kk(h)))),this.bv()||this.tN()},Za.prototype.zQ=function(t){var e=new yr(mr.E.u,!0);t.Fa=this.Fa,t.jy=this.jy,e.data=t,e.b=Gr.names[this.Fa]||this.jy?qr.Hu:qr.qH,e.y2=!0,this.c(e)},Za.prototype.hi=function(t,e){this.Nd.kB()&&(this.body.style.padding="0",this.Nd.hi(t,e))},Za.a18=function(t){if(null==t)return!1;var e=t.Ki();if(null==e||!(e.data instanceof Array)||e.data.length!=t.w.length)return!1;for(var n=0;n<e.data.length;n++){var i=e.data[n];if(i.i<0&&t.En[-1-i.i])return!0;if(null==i.i||null==t.g[i.i]||t.g[i.i].rq!=i.EK)return!1;if(-1==t.w.indexOf(i.i))return!1}return!0},za.prototype=new Ha,za.prototype.T=function(){Ha.prototype.T.call(this),this.ww.T(),this.KX.T(),this.hi(this.r2,this.kY)},za.prototype.y5=function(){var t=this.EA.videoWidth,e=this.EA.videoHeight,n=hr.L("canvas","");n.width=t,n.height=e;n=n.getContext("2d");n.drawImage(this.EA,0,0,t,e);n=n.getImageData(0,0,t,e);return{Tl:new Fr(0,0,t,e),data:n.data.buffer}},za.prototype.amO=function(t){0==this.ww.M()?this.a81():this.auf()},za.prototype.auf=function(){var t=this.y5(),e={buffer:new Uint8Array(t.data),rect:t.Tl},t=new yr(mr.E.u,!0);t.y2=!0,t.b=qr.ZD,t.data={d:qi.hO,bG:e},this.c(t),alert(ri.get([21,4]))},za.prototype.a81=function(){var t=this.y5(),e=ai.Om("camera",[t]),t=new yr(mr.E.W,!0);t.data={d:mr.J.Ro,Jt:e},this.c(t),alert(ri.get([21,5]))},za.prototype.Et=function(t,e,n){navigator.mediaDevices.enumerateDevices().then(this.ae1.bind(this))},za.prototype.ae1=function(t){for(var e=this.afa=[],n=[],i=0;i<t.length;i++)"videoinput"==t[i].kind&&(e.push(t[i]),n.push("Camera "+e.length));this.ai.aE(n),this.ai.f(0),this.aeh()},za.prototype.aeh=function(t){this.apZ();var e={video:{deviceId:this.afa[this.ai.M()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia(e).then(this.abp).catch(this.a7p):navigator.webkitGetUserMedia(e,this.abp,this.a7p)},za.prototype.a13=function(t){this.stream=t,this.EA.srcObject=t,this.EA.addEventListener("loadedmetadata",this.ar3,!1)},za.prototype.aev=function(t){this.EA.play(),this.hi(this.r2,this.kY)},za.prototype._3=function(t,e){return new Pr(0,0)},za.prototype.hi=function(t,e){var n=this.EA.videoWidth,i=this.EA.videoHeight;this._m.f(n+" x "+i+" px"),this._m.e.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;"),this.dG.R7(n,i);i=(this.r2=t)-28,t=(this.kY=e)-28-30,e=this.dG.x/this.dG.y;e<i/t?i=t*e:t=i/e,this.EA.setAttribute("style","display: block; width: "+Math.round(i)+"px; height:"+Math.round(t)+"px;")},za.prototype.acL=function(t){console.log("error",t),alert(ri.get([21,6])),this.close()},za.prototype.apZ=function(t){if(null!=this.stream){for(var e=this.stream.getTracks(),n=0;n<e.length;n++)e[n].stop();this.stream=null}},Va.prototype=new Ha,Va.prototype.dE=function(t,e){return null!=t},Va.prototype.UX=function(){return!0},Va.prototype.L$=function(){return!0},Va.prototype.adH=function(t){var e=this.Z4.M(),n=this.D8,i=this.UE,r=0,a=n.length,s=this.ar$;0==e?a=s:(n[(r=s)+1].f([0,100,190][e-1]),n[r+1].dD(1!=e),n[r+2].f([60,150,255][e-1]),n[r+2].dD(3!=e)),hr.d5(i);for(var o=r;o<a;o++)i.appendChild(n[o].e);this.yE()},Va.prototype.T=function(){Ha.prototype.T.call(this),this.qQ.T(),this.Z4.T();for(var t=0;t<this.D8.length;t++)this.D8[t].T()},Va.prototype.CK=function(t,e,n,i,r){r=t.s.Qi(r.x,r.y);this.arh(r.x,r.y)},Va.prototype.arh=function(t,e){var n=Math.min,i=Math.max,r=this.cb,a=i(0,n(r.m-1,Math.floor(t))),s=i(0,n(r.n-1,Math.floor(e))),o=r.y5(),t=4*(s*r.m+a),e=o[t],s=o[1+t],r=o[2+t],a=Rr.rB(e,s,r),o=this.D8[1].M(),t=this.sA,e=this.Dr;0==o?(this.sA=JSON.parse(JSON.stringify(a)),this.Dr=a):1==o?(t.HH=n(t.HH,a.HH),t.q4=n(t.q4,a.q4),t.S=n(t.S,a.S),e.HH=i(e.HH,a.HH),e.q4=i(e.q4,a.q4),e.S=i(e.S,a.S)):2==o&&(s=(t.HH+e.HH)/2,r=(t.q4+e.q4)/2,o=(t.S+e.S)/2,a.HH<s?t.HH=i(t.HH,a.HH+10):e.HH=n(e.HH,a.HH-10),a.q4<r?t.q4=i(t.q4,a.q4+1):e.q4=n(e.q4,a.q4-1),a.S<o?t.S=i(t.S,a.S+1):e.S=n(e.S,a.S-1)),this.yE()},Va.prototype.Wr=function(t){var e,n,i=this.Z4.M(),r=this.D8,a={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};0==i?(e=this.sA,n=this.Dr,a.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:e.HH},A:{t:"doub",v:e.q4},B:{t:"doub",v:e.S}}},a.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:n.HH},A:{t:"doub",v:n.q4},B:{t:"doub",v:n.S}}},a.Fzns={t:"long",v:r[0].M()}):(n=["shadows","midtones","highlights"][--i],a.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][i]}},0<i&&(a[n+"LowerLimit"]={t:"long",v:r[3].M()}),i<2&&(a[n+"UpperLimit"]={t:"long",v:r[4].M()}),a[n+"Fuzziness"]={t:"long",v:r[2].M()}),this.close();r=new yr(mr.E.n$,!0);r.data={YY:"colorRange",l5:a},this.c(r)},Va.prototype.Et=function(t,e){this.cb=t,this.arh(0,0),this.adH()},Va.prototype.yE=function(){var t=this.cb,e=this.Z4.M(),n=this.sA,i=this.Dr,r=this.D8,a=r[0].M()/200,s=!1;0<e&&(n=r[3].M(),(i=r[4].M())<=n&&(n=i-1),s=!0,a=r[2].M()/100);var t=qr.$S.ly(t,n,i,a,s),n=t.rect,o=t.channel,i=this.O,a=i.getContext("2d"),s=Math.floor(230*hr.F()),t=Math.floor(s*(n.n/n.m));i.width=s,i.height=t,hr.N2(i,s,t);var l=Rr.t(4*o.length);Rr.Bg(l,4294967295);for(var h=0;h<3;h++)Rr.al(o,l,h);t=qr.Q.xX([l,n],new _r(s/n.m,0,0,t/n.n,0,0)),n=t.rect,n=new ImageData(new Uint8ClampedArray(t.buffer.buffer),n.m,n.n);a.putImageData(n,0,0)},Wa.prototype=new Ha,Wa.prototype.Wr=function(t){this.Sr.a8m(this.Sr.adK,this.dg.M(),this.Le.M(),this.aL.M()),this.close()},Wa.prototype.T=function(){this.Sr&&(this.L5=ri.get([5,3])+": "+ri.get(this.Sr.asy)),Ha.prototype.T.call(this),this.qQ.T(),this.dg.T(),this.Le.T(),this.aL.T()},Wa.prototype.Et=function(t,e){this.Sr=e,this.T(),this.dg.Hj()},Xa.prototype=new Ha,Xa.prototype.UX=function(){return!0},Xa.prototype._3=function(t,e){return new Pr(Math.max(0,Math.min(150,(t-484)/2)),Math.max(0,Math.min(150,(e-316)/2)))},Xa.prototype.hi=function(t,e){this.Mv.hi(Math.min(256,t-226),e)},Xa.prototype.T=function(t,e){Ha.prototype.T.call(this),this.qQ.T()},Xa.prototype.SE=function(t){this.ia=this.Mv.M(),this.update()},Xa.prototype.CK=function(t,e,n,i,r){this.sR=!0,this.a1O(t,r)},Xa.prototype.wl=function(t,e,n,i,r){this.sR&&this.a1O(t,r)},Xa.prototype.f9=function(t,e,n,i,r){this.sR=!1},Xa.prototype.a1O=function(t,e){e=qr.dO.FT(t,e,1);this.ia={p:(e>>16&255)/255,z:(e>>8&255)/255,S:(255&e)/255},this.update()},Xa.prototype.akn=function(t){var e=this.XX,n=this.JX(parseInt(e[0].M())),i=this.JX(parseInt(e[1].M())),e=this.JX(parseInt(e[2].M()));this.ia={p:n/255,z:i/255,S:e/255},this.update()},Xa.prototype.afu=function(t){var e=this.AM,n=this.Xw(parseInt(e[0].M())/360),i=this.Xw(parseInt(e[1].M())/100),e=this.Xw(parseInt(e[2].M())/100);this.ia=Rr.ZW(n,i,e),this.update()},Xa.prototype.zP=function(t){var e=t.currentTarget==this.c3?this.c3.M():(3==(e="#"==(e=t.currentTarget==this.Le?this.Le.M():this.tY.value).charAt(0)?e.slice(1):e).length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),Rr.$x(e));this.ia={p:(e>>16&255)/255,z:(e>>8&255)/255,S:(255&e)/255},this.update()},Xa.prototype.lq=function(t){var e=t.p,n=t.z,t=t.S;return Math.round(255*e)<<16|Math.round(255*n)<<8|Math.round(255*t)},Xa.prototype.Wr=function(t){this.arS();var e=this.lq(this.ia);this.LF(e),this.close(),this.rT=!1,this.ia=null},Xa.prototype.Hd=function(t){this.arS(),this.hp&&this.LF(this.lq(this.EL)),this.rT=!1,this.ia=null},Xa.prototype.arS=function(t){var e=new yr(mr.E.W,!0);e.data={d:mr.J.a9_},this.c(e)},Xa.prototype.v1=function(t,e){e==Bi.UB&&(t=t.k$,this.c3.f(t),null!=this.ia&&(this.ia={p:(t>>16&255)/255,z:(t>>8&255)/255,S:(t>>0&255)/255},this.update()))},Xa.prototype.Et=function(t,e){var n,i=e.ZB,r={p:(i>>16&255)/255,z:(i>>8&255)/255,S:(i>>0&255)/255};null==this.ia&&((n=new yr(mr.E.W,!0)).data={d:mr.J.tW,Ek:"crosshair",push:!0},this.c(n),this.sR=!1,this.LF=e.a4,this.hp=!1,this.rT=e.rv,this.EL=JSON.parse(JSON.stringify(r)),this.a9q.setAttribute("style","height:3em;background-color:#"+Rr.zI(i)+";")),this.ia=r,this.update()},Xa.prototype.update=function(){var t=this.ia,e=this.lq(t),n=this.XX;n[0].f(Math.round(255*t.p)),n[1].f(Math.round(255*t.z)),n[2].f(Math.round(255*t.S)),this.Le.f(Rr.zI(e)),this.tY.value="#"+Rr.zI(e),this.ap3.setAttribute("style","height:3em;background-color:#"+Rr.zI(e)+";");e=Rr.IA(t.p,t.z,t.S);(n=this.AM)[0].f(Math.round(360*e.kY)),n[1].f(Math.round(100*e.gB)),n[2].f(Math.round(100*e.JL)),this.Mv.f(t),this.rT&&(this.LF(this.lq(this.ia)),this.hp=!0)},Xa.prototype.JX=function(t){return Math.max(0,Math.min(255,t))},Xa.prototype.Xw=function(t){return Math.max(0,Math.min(1,t))},Ya.prototype=new Ha,Ya.prototype.Wr=function(){this.close()},Ya.prototype.T=function(){Ha.prototype.T.call(this),this.qQ.T(),this.Nd.T()},Ya.prototype.CM=function(t){this.Nb.Crv.v=this.Nd.M(),this.response(this.Nb)},Ya.prototype.ga=function(t){this.response(this.abj)},Ya.prototype.Et=function(t,e){this.abj=JSON.parse(JSON.stringify(e.ct)),this.Nb=e.ct,this.response=e.response,this.Nd.f(this.Nb.Crv.v)},Ka.prototype=new Ha,Ka.prototype.dE=function(t,e){return null!=t},Ka.prototype.L$=function(){return!0},Ka.prototype.XC=function(t){return-1!=[ii.b4,ii.yo,ii.Rr,ii.QH].indexOf(t)},Ka.prototype.XL=function(t,e,n,i){this.cS.ao7(i.WJ())},Ka.prototype.anj=function(){var t=[this.cS.e,this.QF.e];this.lM.removeChild(t[this.hj]),this.hj=this.On.M(),this.lM.appendChild(t[this.hj])},Ka.prototype.T=function(){Ha.prototype.T.call(this),this.c_.T(),this.On.T(),this.cS.T(),this.QF.T(),this.qQ.T()},Ka.prototype.Wr=function(t){var e=this.c_.M(),n=e.x,i=e.y,e=new yr(mr.E.n$,!0);e.data=qr.B_.mR(n,i,this.cS.M()),this.close(),this.c(e)},Ka.prototype.Et=function(t,e){this.c_.f(new Pr(t.m,t.n),t.Mg),this.c_.Hj()},Qa.prototype=new Ha,Qa.prototype.L$=function(){return!0},Qa.prototype.T=function(){Ha.prototype.T.call(this),this.qQ.T(),this.Fd.T(),this.Qs.T()},Qa.prototype.g3=function(t){if(!t||t.target!=this.rh){for(var e=this.Fd.M(),t=this.R5[e],n=this.cm,i=null!=t&&null!=t.add.artd,r=0;r<n.w.length;r++)n.g[n.w[r]].add.artb&&(i=!1);if(this.Qs.dD(e==this.R5.length),this.rh.dD(i),i){for(var a=t.root.children,s=[],o=this.fA=[],r=0;r<a.length;r++){var l=a[r].i;l.add.artb&&s.push(l.getName()),o.push(a[r].index)}this.rh.aE(s),this.rh.f(0)}else this.fA=null}},Qa.prototype.Et=function(t,e,n){this.cm=t,this.R5=n,this.Qs.f(0==t.w.length?"Layer":t.g[t.w[0]].getName());for(var i=[],r=0;r<n.length;r++){var a=n[r].name;i.push(a.length<30?a:a.slice(0,27)+"...")}i.push([11,7]),this.Fd.aE(i),this.Fd.f(n.indexOf(t)),this.g3(null)},Qa.prototype.Wr=function(t){var e,n,i=this.Fd.M();i==this.R5.length&&(a=new zi(this.Qs.M()+".psd"),n=this.cm.m,r=this.cm.n,-1!=(e=this.cm.ak())&&(n=(e=this.cm.g[e].Gn()).m,r=e.n),a.m=n,a.n=r,a.buffer=Rr.t(a.m*a.n*4),(r=a.rL()).Zu("Background"),a.Gk([r]),(r=new yr(mr.E.W,!0)).y2=!0,r.data={d:mr.J.Ro,Jt:a},this.c(r));var r,a=this.cm.sE(null,this.cm!=this.R5[i]);(r=new yr(mr.E.u,!0)).data={d:qi.gn,g:a,Pt:this.cm,h_:this.R5[i]},this.fA&&(r.data.PH=this.fA[this.rh.M()]),r.b=qr.ZD,r.y2=!0,this.c(r),this.close()},$a.prototype=new Ha,$a.prototype.a3l=function(t){this.s8.aba(this.hI[this.xA.M()],!1,!1,!1,null!=this.yh.SP())},$a.prototype.kf=function(t){this.yh=null},$a.prototype.T=function(){Ha.prototype.T.call(this),this.xA.T(),this.mf.T(),this.qQ.T(),this.s8.T()},$a.prototype.Et=function(t,e,n){this.yh=t,this.RQ()},$a.prototype.RQ=function(t){var e="- - - "+this.acN().length+" exportable layers";this.c6.textContent=e,this.a3l(null)},$a.prototype.acN=function(){for(var t=this.eh[0].M(),e=[],n=this.yh,i=0;i<n.g.length;i++){var r=n.g[i],a=r.getName();(t||r.dH()||r.rect.mN())&&!a.startsWith("-e")||e.push(i)}return e},$a.prototype.v1=function(t,e){this.fd=t},$a.prototype.Wr=function(t){var e=this.yh,n=[this.hI[this.xA.M()]],i=[this.s8.M()],r=this.mf.M(),a={},s={},o=this.acN();if(0!=o.length){for(var l=[this.eh[1].M(),this.eh[2].M()],h=0;h<o.length;h++){var u=o[h],f=e.g[u],c=f.getName();null!=s[c]?(s[c]++,c+=" "+s[c]):s[c]=1;var p=f.SH();f.I9(!0);for(var d=0;d<r.length;d++)if(r[d])for(var v=d+1,g=qr.DD.Lk(e,n,v,this.fd,u,i,l),y=0;y<n.length;y++){var m=n[y],m=c.slice(c.startsWith("-e-")?3:0)+(1==v?"":"-"+v+"x")+"."+m.toLowerCase();g[y]&&(a[m]=new Uint8Array(g[y]))}f.I9(p)}var w=UZIP.encode(a),b=new yr(mr.E.W,!0);b.data={d:mr.J.Bx,data:w,name:"assets.zip"},this.c(b)}else alert("No layers to export.")},ts.prototype=new Ha,ts.prototype.dE=function(t,e){return Math.min(t.m,t.n)<16?(alert("The document must be at least 16 x 16 pixels.",3200),!1):!(t.g.length<2)||(alert("There must be a background layer and some adjustment layers.",3200),!1)},ts.prototype.kf=function(t){this.yh=null},ts.prototype.v1=function(t,e){this.fd=t},ts.prototype.Et=function(t,e,n){this.yh=t},ts.prototype.Wr=function(){var t=this.yh,e=this.eh[0].M(),n=[],i=new Fr(0,0,t.m,t.n),r=Rr.t(e*e*4),a=r.slice(0),s=new Fr(t.m-e>>>1,t.n-e>>>1,e,e),o=t.g[0],l=o.buffer,h=o.rect;o.rect=s,o.buffer=r;for(var u=0;u<e;u++){this.ao3(e,u,r),o.G(s),t.G(s);var f=t.y5();Rr.Ik(f,i,a,s);for(var c=0;c<e;c++)for(var p=0;p<e;p++){var d=c*e+p<<2;n.push(a[d]/255,a[1+d]/255,a[2+d]/255)}}var v=$e.a1w(n,e,t.name);El.save(v,t.name.split(".")[0]+".CUBE"),o.buffer=l,o.rect=h,o.G(),t.G()},ts.prototype.ao3=function(t,e,n){for(var i=255/(t-1),r=Math.round(e*i),a=0;a<t;a++)for(var s=0;s<t;s++){var o=a*t+s<<2;n[o]=Math.round(s*i),n[1+o]=Math.round(a*i),n[2+o]=r,n[3+o]=255}},ts.prototype.T=function(){Ha.prototype.T.call(this);for(var t=0;t<this.eh.length;t++)this.eh[t].T();this.qQ.T()},es.prototype=new Ha,es.prototype._3=function(t,e){return t<450||e<450?new Pr(0,0):new Pr(150,100)},es.prototype.mZ=function(t){var e,n;0!=this.Ul.length&&(e=this.Ul[this.wT.M()],(n=this.Ta())[e]=lr.NV[e][0],this.pr(n),this.Sg[e].e.scrollIntoView(),this.Sg[e].Hj())},es.prototype.Fc=function(t){var e=this.Ta();delete e[t.currentTarget.afO],this.pr(e)},es.prototype.iW=function(t){var e,n,i=this.Ta(),r=this.Wl,a=!0;for(e in r)JSON.stringify(r[e])!=JSON.stringify(i[e])&&(a=!1);for(e in i)JSON.stringify(r[e])!=JSON.stringify(i[e])&&(a=!1);a||((n=new yr(mr.E.u,!0)).b=qr.ZD,n.data={d:qi.iB,TE:i},this.c(n),this.Wl=i,this.pr(i))},es.a4F=function(t){function e(t){var e=t.toLowerCase();return t==e}for(var n=t.split(":").pop(),i=1;i<n.length-1;i++)n[i]==n[i].toUpperCase()&&(e(n[i+1])||e(n[i-1]))&&(n=n.slice(0,i)+" "+n.slice(i),i++);return n},es.prototype.Et=function(t,e){this.Wl=t._E,this.pr(t._E)},es.prototype.pr=function(t){var e=this.lM,n=0;hr.d5(e);var i,r=this.Sg={},a=["tiff","exif","exif:GPS"],s=this.Ul=[],o=[];for(i in lr.NV){var l=es.a4F(i),h=0,u=15,f=null;if(null!=t[i]){for(var c=0;c<a.length;c++)i.startsWith(a[c])&&(h=c);h!=n&&(hr.Oe(e),n=h),"tiff:ImageDescription"!=i&&"dc:Keywords"!=i||(u=18.5,f=3);var p=new Tr(l,null,u,f);r[i]=p;u=t[i];u instanceof Array&&(u=0==u[1]?"---":u[0]+"/"+u[1]);f=new kr("✖",null,ri.get([5,4]));e.appendChild(f.e),f.h("click",this.Fc,this),f.afO=i,p.f(u),e.appendChild(p.e),hr.hw(e),"exif:GPSLongitude"==i&&t["exif:GPSLatitude"]&&(this.a29=es.a8J(t["exif:GPSLatitude"])+","+es.a8J(t["exif:GPSLongitude"]),p=new kr("Show on map",!1,null,!0),e.appendChild(p.e),hr.hw(e),p.h("click",this.abD,this))}else 1==lr.NV[i].length&&"photoshop:Credit"!=i&&"photoshop:Source"!=i||(s.push(i),o.push(l))}this.wT.aE(o),this.wT.f(0)},es.prototype.Ta=function(){var t,e=this.Sg,n=lr.NV,i={};for(t in n){var r,a,s=n[t][0],o=typeof s;null!=s&&null!=e[t]&&(r=e[t].M(),a='The value of "'+es.a4F(t)+'" must ',"number"==o?(r=parseFloat(r),isNaN(r)&&(alert(a+"be a number."),r=s)):s instanceof Array&&2==s.length&&(-1==r.indexOf("/")?(alert(a+"be a fraction."),r=s.slice(0)):(r=r.split("/").map(parseFloat),(isNaN(r[0])||isNaN(r[1]))&&(r=s.slice(0)))),i[t]=r)}return i},es.a8J=function(t){var e=t.length,n=t.slice(0,e-1).split(",").map(parseFloat),e=t.slice(e-1),n=n[0]+n[1]/60+n[2]/3600;return n="N"!=e&&"E"!=e?-n:n},es.prototype.abD=function(t){window.open("https://maps.google.com?q="+this.a29,"Map")},ns.prototype=new Ha,ns.prototype.Hd=function(t){this.hp&&this.LF(this.EL)},ns.prototype.T=function(){Ha.prototype.T.call(this),this.qQ.T(),this.I3.T(),this.bV.T(),this.abu.T(),this.xn.T(),this.Qa.T(),this.cj.T(),this.wN.T(),this.Ck.T(),this.mG.T(),this.WM.T()},ns.prototype.v1=function(t,e){this.tZ=t},ns.prototype.Et=function(t,e){this.ia=JSON.parse(JSON.stringify(e.I)),this.EL=JSON.parse(JSON.stringify(e.I)),this.DB=this.Cl=null,this.LF=e.a4,this.hp=!1,this.rT=e.rv,this.pX(),this.BN()},ns.prototype.Wr=function(t){var e=this.ia;this.LF(e),this.close()},ns.prototype.XC=function(t){return t==ii.K1||t==ii.kn},ns.prototype.XL=function(t,e,n,i){(i.j(ii.K1)||i.j(ii.kn))&&(this.Cl&&this.a9p(),this.DB&&this.a6d())},ns.prototype.a9p=function(t){var e=this.ia.Trns.v;null!=this.Cl&&1!=e.length&&(e.splice(e.indexOf(this.Cl),1),this.Cl=null,this.pX(),this.BN())},ns.prototype.a6d=function(t){var e=this.ia.Clrs.v;null!=this.DB&&1!=e.length&&(e.splice(e.indexOf(this.DB),1),this.DB=null,this.pX(),this.BN())},ns.prototype.pX=function(){var t=this.O,e=this.XN,n=hr.F();t.width=Math.floor(410*n),t.height=Math.floor(70*n),hr.N2(t,t.width,t.height),t.style.marginTop="8px",this.fY=new Fr(0,0,Math.floor(380*n),Math.floor(32*n)),this.fY.x=Math.floor((t.width-this.fY.m)/2),this.fY.y=Math.floor((t.height-this.fY.n)/2);var i=this.fY,r=i.m,a=i.n,s=i.x,o=i.y,l=new Fr(0,0,r,a),h=e.getImageData(0,0,r,a),u=new Uint8Array(h.data.buffer);Rr.eU(u,r,a,8);n=Rr.t(r*a*4);Rr.I.Sq(this.ia,n,l,[1/r,0,0,1/a],r/2,a/2,!1,0,this.tZ.k$,this.tZ.JH),Rr.a.bW("norm",n,i,u,i,i,1),e.clearRect(0,0,t.width,t.height),e.putImageData(h,s,o);h=this.ia;if(h.Clrs){for(var f=h.Trns.v,c=h.Clrs.v,p=Rr.I.vG(c,this.tZ.k$,this.tZ.JH),d=Math.round(6*hr.F()),v=Math.round(14*hr.F()),g=this.Cl?this.Cl.v:null,y=this.DB?this.DB.v:null,m=0;m<f.length;m++){var w=f[m].v,b=Math.round(255-255*w.Opct.v.val/100);(w==g||f[m-1]&&f[m-1].v==g||m==this.TF)&&0!=m&&(e.fillStyle="#000000",e.fillRect(s-3+r*(f[m-1].v.Lctn.v+(w.Lctn.v-f[m-1].v.Lctn.v)*w.Mdpn.v/100)/4096,o-6-2,6,6)),w==g&&(e.fillStyle="#ffffff",e.fillRect(s-d+r*(w.Lctn.v/4096)-2,o-2-v-2,2*d+4,v+4)),e.fillStyle="rgb("+b+","+b+","+b+")",e.fillRect(s-d+r*(w.Lctn.v/4096),o-2-v,2*d,v)}for(m=0;m<c.length;m++){var M=c[m].v,S=p[m];(M==y||c[m-1]&&c[m-1].v==y||m==this.Zq)&&0!=m&&(e.fillStyle="#000000",e.fillRect(s-3+r*(c[m-1].v.Lctn.v+(M.Lctn.v-c[m-1].v.Lctn.v)*M.Mdpn.v/100)/4096,o+a+2,6,6)),M==y&&(e.fillStyle="#ffffff",e.fillRect(s-d+r*(M.Lctn.v/4096)-2,o+a+2-2,2*d+4,v+4)),e.fillStyle="rgb("+Math.round(S.p)+", "+Math.round(S.z)+","+Math.round(S.S)+")",e.fillRect(s-d+r*(M.Lctn.v/4096),o+a+2,2*d,v)}}this.rT&&(this.LF(this.ia),this.hp=!0)},ns.prototype.BN=function(){var t,e,n,i,r=this.ia,a=r.Clrs?0:1;this.G7.f(a),hr.DH(this.vD)&&this.body.removeChild(this.vD),hr.DH(this.ou)&&this.body.removeChild(this.ou),(0==a?this.afj:this.ah2).appendChild(this.O),0==a?(this.body.appendChild(this.vD),this.I3.f(Math.round(100*r.Intr.v/4096)),n=r.Trns.v,t=r.Clrs.v,i=null!=this.Cl,e=-1!=this.TF,this.cj.dD(i),this.wN.dD(i||e),this.xn.dD(i),i&&(this.eD.setAttribute("style",""),a=this.Cl.v,this.wN.f(Math.round(100*a.Lctn.v/4096)),this.cj.f(a.Opct.v.val)),e&&this.wN.f(n[this.TF].v.Mdpn.v),i=null!=this.DB,e=-1!=this.Zq,this.Ck.dD(i),this.KK.dD(i),this.mG.dD(i||e),this.Qa.dD(i),i&&(this.Xy.setAttribute("style",""),n=this.DB.v,this.mG.f(Math.round(100*n.Lctn.v/4096)),i=n.Type.v.Clry,this.Ck.f(["FrgC","BckC","UsrS"].indexOf(i)),"FrgC"==i&&this.KK.jn(this.tZ.k$),"BckC"==i&&this.KK.jn(this.tZ.JH),"UsrS"==i&&this.KK.f(n.Clr.v)),e&&this.mG.f(t[this.Zq].v.Mdpn.v)):(this.body.appendChild(this.ou),this.pJ.f(Math.round(100*r.Smth.v/4096))),this.body.appendChild(this.qQ.e)},ns.prototype.s_=function(t){var e,n,i=this.ia,r=i.Clrs?0:1;if(t.target==this.G7){var a=(0==r?JSON.parse(Wi.I6.a88):Gr.PD("grdm").Grad).v;return this.ia=a,this.BN(),void this.pX()}0==r?(i.Intr.v=Math.round(4096*this.I3.M()/100),e=i.Trns.v,a=i.Clrs.v,null!=this.Cl&&((n=this.Cl.v).Lctn.v=Math.round(this.wN.M()/100*4096),n.Opct.v.val=this.cj.M()),null!=this.DB&&((r=this.DB.v).Lctn.v=Math.round(this.mG.M()/100*4096),t.target==this.KK&&this.Ck.f(2),n=this.Ck.M(),r.Type.v.Clry=["FrgC","BckC","UsrS"][n],2==n?r.Clr={t:"Objc",v:this.KK.M()}:r.Clr&&delete r.Clr),-1!=this.TF&&(e[this.TF].v.Mdpn.v=this.wN.M()),-1!=this.Zq&&(a[this.Zq].v.Mdpn.v=this.mG.M())):(i.Smth.v=Math.round(4096*this.pJ.M()/100),t.target==this.WM&&(i.RndS.v=Math.floor(4294967295*Math.random()))),this.pX()},ns.prototype.Bw=function(t){var e=hr.B6(t,this.O),t=this.fY,n=(e.x*hr.F()-t.x)/t.m,t=(e.y*hr.F()-t.y)/t.n,i=this.ia.Trns.v,r=this.ia.Clrs.v,a=null,s=null,o=-1,l=-1;if(t<1)for(var h=0;h<i.length;h++){var u=i[h].v;Math.abs(u.Lctn.v/4096-n)<.02&&(a=i[h]),0<h&&Math.abs((i[h-1].v.Lctn.v+(u.Lctn.v-i[h-1].v.Lctn.v)*u.Mdpn.v/100)/4096-n)<.01&&(o=h)}if(0<t)for(h=0;h<r.length;h++){var f=r[h].v;Math.abs(f.Lctn.v/4096-n)<.02&&(s=r[h]),0<h&&Math.abs((r[h-1].v.Lctn.v+(f.Lctn.v-r[h-1].v.Lctn.v)*f.Mdpn.v/100)/4096-n)<.01&&(l=h)}null==s&&null==a&&-1==o&&-1==l&&(t<0&&((u={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}}).v.Lctn.v=Math.round(4096*n),i.push(u),i.sort(this.wR),a=u),1<t&&(r=this.ia.Clrs.v,t=Rr.I.vG(r,this.tZ.k$,this.tZ.JH),t=Rr.I.o_(this.ia,t,n),(f={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:Rr.I.wg({p:255&t,z:t>>8&255,S:t>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}}).v.Lctn.v=Math.round(4096*n),r.push(f),r.sort(this.wR),s=f)),null!=s&&(l=-1),null!=a&&(o=-1),(null!=s||null!=a||-1<o||-1<l)&&(this.Cl=a,this.DB=s,this.TF=o,this.Zq=l,this.BN(),this.pX(),hr.Z3(window,this.W5),hr.MK(window,this.kP))},ns.prototype._g=function(t){var e,n,i,r=hr.B6(t,this.O),a=this.fY,s=(r.x*hr.F()-a.x)/a.m,t=(r.y*hr.F()-a.y)/a.n,s=Math.max(0,Math.min(1,s)),r=this.ia.Trns.v,a=this.ia.Clrs.v;null!=this.Cl&&((n=this.Cl.v).Lctn.v=Math.round(4096*s),-1!=(e=r.indexOf(this.Cl))&&t<-1&&1<r.length&&r.splice(e,1),-1==e&&-1<t&&r.push(this.Cl),r.sort(this.wR)),null!=this.DB&&((i=this.DB.v).Lctn.v=Math.round(4096*s),-1!=(e=a.indexOf(this.DB))&&2<t&&1<a.length&&a.splice(e,1),-1==e&&t<2&&a.push(this.DB),a.sort(this.wR)),-1<this.TF&&((n=r[this.TF].v).Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(4096*s-r[this.TF-1].v.Lctn.v)/(n.Lctn.v-r[this.TF-1].v.Lctn.v))))),-1<this.Zq&&((i=a[this.Zq].v).Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(4096*s-a[this.Zq-1].v.Lctn.v)/(i.Lctn.v-a[this.Zq-1].v.Lctn.v))))),(null!=this.Cl||null!=this.DB||-1<this.TF||-1<this.Zq)&&(this.BN(),this.pX())},ns.prototype.Ag=function(t){hr.l$(window,this.W5),hr.oV(window,this.kP),Date.now()-this.Lf<300&&(-1!=this.Zq||-1!=this.TF?((-1!=this.Zq?this.ia.Clrs.v[this.Zq]:this.ia.Trns.v[this.TF]).v.Mdpn.v=50,this.BN(),this.pX()):null!=this.DB&&this.KK.al$()),this.Lf=Date.now()},ns.prototype.wR=function(t,e){return t.v.Lctn.v-e.v.Lctn.v},is.prototype=new Ha,is.prototype.dE=function(t,e){return null!=t},is.prototype.L$=function(){return!0},is.prototype.ahU=function(t){var e=this.kq.M(),n=this.c_,i=this.m7;e?i.S0():i.a6(),e?n.anN():n.alm()},is.prototype.T=function(){Ha.prototype.T.call(this),this.qQ.T(),this.m7.T(),this.c_.T()},is.prototype.Wr=function(t){this.close();var e=this.c_.M(),n=e.x,i=e.y,r=this.m7.M();this.kq.M()||(r=null);e=new yr(mr.E.n$,!0);e.data=qr.B_.mD(n,i,this.c_.Re(),r),this.c(e)},is.prototype.Et=function(t,e){this.c_.f(new Pr(t.m,t.n),t.Mg),this.c_.Hj()},rs.prototype=new Ha,rs.prototype.T=function(){Ha.prototype.T.call(this);var t=this.Wb;this.qQ.T();for(var e=0;e<t.length;e++)t[e].T()},rs.prototype.Wr=function(t){this.close();var e=this.Wb[0].M(),n=ai.Om(this.ajW,[{data:this.hk,Tl:new Fr(0,0,e.x,e.y)}]);this.qj&&(n.En=this.qj);e=new yr(mr.E.W,!0);e.data={d:mr.J.Ro,Jt:n},this.c(e)},rs.ss=[8,16],rs.prototype.Et=function(t,e){this.Sr=new Uint8Array(e._Z),this.ajW=e.s3;for(var n=this.Sr.length,i=[1,3,4],r=this.auu=[],a=0;a<3;a++)for(var s=0;s<2;s++){var o=rs.ss[s],l=i[a],h=l*o,u=Math.round(8*n/h);if(u==8*n/h)for(var f,c=0;c<=4e3;c++)for(var p=0;p<=4e3;p++)c*p==u&&(f=0,c==p&&(f+=64),Math.round(c/100)==c/100&&Math.round(p/100)==p/100&&(f+=32),Math.round(c/10)==c/10&&Math.round(p/10)==p/10&&(f+=16),Math.round(c/2)==c/2&&Math.round(p/2)==p/2&&(f+=8),r.push([c,p,l,o,f]))}r.sort(function(t,e){if(e[4]!=t[4])return e[4]-t[4];var n=Math.max(t[0],t[1])/Math.min(t[0],t[1]),i=Math.max(e[0],e[1])/Math.min(e[0],e[1]);return n!=i?n-i:e[0]-t[0]});for(var e=this.Wb,d=[],v=0;v<r.length;v++){var g=r[v];d.push(g[0]+" x "+g[1]+", "+g[2]+"ch, "+g[3]+"-bit")}e[5].aE(d),e[5].f(0),this.auY(null)},rs.prototype.auY=function(t){var e=this.Wb,n=this.auu[this.Wb[5].M()];e[0].f(new Pr(n[0],n[1]),72),e[1].f(n[2]),e[3].f(rs.ss.indexOf(n[3])),this.g3()},rs.prototype.g3=function(t){var e=this.Wb,n=e[0].M(),i=n.x,r=n.y,n=rs.ss[e[3].M()],a=this.Sr;if(16==n&&1==e[4].M())for(var a=a.slice(0),s=0;s<a.length;s+=2){var o=a[s];a[s]=a[s+1],a[s+1]=o}var l=this.hk=this.Ou(a,i,r,e[1].M(),n,e[2].M()),n=this.O,e=this.XN,h=[l,new Fr(0,0,i,r)];Rr.bb(h);for(s=0;s<h.length;s+=2)if(h[s+1].n<300){l=h[s],i=h[s+1].m,r=h[s+1].n;break}n.width=i,n.height=r,hr.N2(n,i,r);n=new ImageData(new Uint8ClampedArray(l.buffer),i,r);e.putImageData(n,0,0)},rs.prototype.Ou=function(t,e,n,i,r,a){this.qj=null;for(var s=[],o=e*n,l=0;l<i;l++){var h=Rr.t(o);if(s.push(h),8==r)for(var u=0;u<o;u++)h[u]=t[u*i+l];else if(16==r)for(u=0;u<o;u++)h[u]=Math.round((t[2*(u*i+l)]<<8|t[2*(u*i+l)+1])*(255/65535))}var f=Rr.t(4*o);if(new Uint32Array(f.buffer).fill(4278190080),a&&(Rr.al(s.pop(),f,3),i--),0!=i)if(1==i)Rr.PU(s[0],f);else if(Rr.al(s[0],f,0),Rr.al(s[1],f,1),2<i&&(Rr.al(s[2],f,2),3<i)){this.qj=[];for(u=3;u<i;u++){var c=new qi.vi;c.name="Alpha "+(u-2),c.rect=new Fr(0,0,e,n),c.channel=s[u],this.qj.push(c)}}return f},as.prototype=new Sr,as.prototype.CK=function(t,e,n,i,r){this.kW=r,this.acs=JSON.parse(JSON.stringify(this.Kt)),this.Oq.lagl&&(this.a7m=this.Oq.lagl.M()[0])},as.prototype.wl=function(t,e,n,i,r){var a,s,o=this.kW,l=this.q6,h=this.acs;null!=o&&(s=(r.x-o.x)/t.s.V,t=(r.y-o.y)/t.s.V,"GrFl"==l&&((a=JSON.parse(JSON.stringify(h.Ofst.v))).Hrzn.v.val+=.5*s,a.Vrtc.v.val+=.5*t,this.Oq.Ofst.f(a,!0)),"patternFill"==l&&((a=JSON.parse(JSON.stringify(h.phase.v))).Hrzn.v+=s,a.Vrtc.v+=t,this.Oq.phase.f(a,!0)),"DrSh"!=l&&"IrSh"!=l&&"ChFX"!=l||(l=h.Dstn.v.val,h=this.a7m*Math.PI/180,s=-Math.cos(h)*l+s,t=Math.sin(h)*l+t,this.Oq.Dstn.f(Math.sqrt(s*s+t*t),!0),this.Oq.lagl.f([180*Math.atan2(t,-s)/Math.PI],!0)))},as.prototype.f9=function(t,e,n,i,r){this.kW=null},as.prototype.a3X=function(){for(var t=0;t<this.YQ.length;t++)hr.dj(this.YQ[t],"selected"),this.mQ[t]instanceof Lr&&this.mQ[t].f(!1)},as.prototype.al7=function(t){for(var e=this.ad9.bind(this),n=0;n<this.mQ.length;n++){var i,r=hr.L("div","listitem");this.YQ.push(r),0<n&&(r.textContent=" "),r.appendChild(this.mQ[n].e),-1!=Wi.arL.indexOf(this.q6)&&((i=new kr("+")).j4(),i.e.style.float="right",r.appendChild(i.e),(i=new kr("⬍")).j4(),i.e.style.float="right",i.e.style["margin-right"]="2px",r.appendChild(i.e)),r.addEventListener("click",e,!1),t.appendChild(r)}},as.t0=function(t,e){e=e.getBoundingClientRect();return(t.clientY-e.top)/e.height},as.prototype.ad9=function(t){var e=t.target.tagName.toLowerCase();if("input"!=e){if("button"==e){var n=new yr(mr.E.u,!0),i="+"==t.target.textContent,e=i?0:as.t0(t,t.target)<.5?-1:1;return n.data=i?{d:"st_dupsingle",i:this.parent.data.i,r4:this.uq}:{d:"st_movsingle",i:this.parent.data.i,r4:this.uq,agO:e},n.b=qr.em,n.y2=!0,this.c(n),(n=new yr("redrawall",!0)).data={agO:e},void this.c(n)}hr.ga(t),this.kN(),this.XO=this.YQ.indexOf(t.currentTarget),this.c(new yr("showme"))}},as.prototype.kN=function(){this.Oq.enab&&0==this.Oq.enab.M()&&this.zQ({oE:"enab",k:!0})},as.prototype.aeU=function(){var t=this.YQ[this.XO];return t&&hr.Yq(t,"selected"),this.Dw[this.XO]},as.prototype.alR=function(t){for(var e={},n=0;n<t.length;n++){var i=t[n],r=null;"----"==i&&(r={e:hr.L("hr")}),"\n"==i&&(r={e:hr.L("br")}),"blOptions"==i&&(r=new Dr([14,10])),"brst"==i&&(r=new Vr([12,72],["R","G","B"])),"knko"==i&&(r=new Ir("Knockout",[[13,1,0],"Shallow","Deep"])),"enab"==i&&(r=new Lr(Wi.names[Wi.order.indexOf(this.q6)])),"lrMd"!=i&&"Md"!=i||(r=new Ir([12,19,0],Ji.f$,!1,Ji.Kc)),"Opct"==i&&(r=new Or([12,0],0,100,"%")),"iOpa"==i&&(r=new Or([12,26],0,100,"%")),"blIf"==i&&(r=new Yr),"ShdN"==i&&(r=new Or([12,68],0,100,"%")),"lagl"!=i&&"Angl"!=i||(r=new Qr([12,15],"ebbl"==this.q6)),"uglg"==i&&(r=new Lr([12,27])),"Dstn"==i&&(r=new Or([12,28],0,200,"px")),"Ckmt"==i&&(r=new Or([12,29],0,100,"%")),"blur"==i&&(r=new Or([12,14,0],0,200,"px")),"TrnS"!=i&&"MpgS"!=i||(r=new ra([12,21])),"Nose"==i&&(r=new Or([12,30],0,100,"%")),"layerConceals"==i&&(r=new Lr([12,31])),"AntA"!=i&&"antialiasGloss"!=i||(r=new Lr([12,25,1])),"GlwT"==i&&(r=new Ir([12,32],Wi.Ay.names)),"glwS"==i&&(r=new Ir([12,70],Wi.Ay.a9k)),"Inpr"==i&&(r=new Or([12,12],1,100,"%")),"bvlS"==i&&(r=new Ir([12,22],Wi.QK.style)),"bvlT"==i&&(r=new Ir([12,32],Wi.QK.aoU)),"bvlD"==i&&(r=new Ir(null,Wi.QK.dir)),"srgR"==i&&(r=new Or([12,34],0,1e3,"%")),"Sftn"==i&&(r=new Or([12,35],0,20,"px")),"Lald"==i&&(r=e.lagl),"hglM"!=i&&"sdwM"!=i||(r=new Ir([12,36],Ji.f$,!1,Ji.Kc)),"hglC"!=i&&"sdwC"!=i||(r=new ea),"hglO"!=i&&"sdwO"!=i||(r=new Or([12,0],0,100,"%")),"Invr"!=i&&"InvT"!=i||(r=new Lr([4,11])),"Sz"==i&&(r=new Or([12,14,0],1,200,"px")),"Styl"==i&&(r=new Ir([12,40],Wi.stroke.names)),"PntT"==i&&(r=new Ir([12,66],Wi.stroke.a0O)),"Clr"==i&&(r=new ea(!0)),"Grad"==i&&(r=new ga(!0,[12,37],!0)).f(JSON.parse(Wi.I6.afV).v),"Rvrs"==i&&(r=new Lr([12,23,0])),"Dthr"==i&&(r=new Lr([12,23,3])),"Type"==i&&(r=new Ir([12,22],Wi.I.names.slice(0,"FrFX"==this.q6?6:5))),"Ptrn"==i&&(r=new sa([12,62])),"Scl"==i&&(r=new Or([12,38],10,500,"%",0,!0)),"Algn"==i&&(r=new Lr([12,39])),"Ofst"==i&&(r=new Ma(!0)),"phase"==i&&(r=new Ma(!1)),"useShape"==i&&(r=new Lr([12,21])),"useTexture"==i&&(r=new Lr([12,67])),null!=(r="textureDepth"==i?new Or([12,34],-300,300,"%"):r)&&(e["----"==i||"\n"==i?i+n:i]=r)}return e},as.prototype.anX=function(t){for(var e=this.Dw[this.XO],n=0;n<t.length;n++){var i=this.Oq[t[n]];i&&e.contains(i.e)&&e.removeChild(i.e)}},as.prototype.ahu=function(t){for(var e=this.Dw[this.XO],n=0;n<t.length;n++){var i=this.Oq[t[n]];i&&!e.contains(i.e)&&e.appendChild(i.e)}},as.prototype.v1=function(t,e){var n;null!=this.Oq&&(n=e==Bi.MB,this.Oq.Grad&&(this.Oq.Grad.$_(t.k$,t.JH),!n&&e!=Bi.UB&&e!=Bi.kv||this.Oq.Grad.BF(t.pA)),this.Oq.Ptrn&&(!n&&e!=Bi.QM||this.Oq.Ptrn.BF(t.fC)),this.Oq.TrnS&&(!n&&e!=Bi.K0||this.Oq.TrnS.BF(t.Zt)),this.Oq.MpgS&&(!n&&e!=Bi.K0||this.Oq.MpgS.BF(t.Zt)))},as.prototype.T=function(){for(var t,e=0;e<this.az.length;e++)this.az[e].T();for(t in this.Oq)this.Oq[t]instanceof Sr&&this.Oq[t].T()},as.prototype.lf=function(){for(var t in this.Oq){var e,n=this.Oq[t];n.parent=this,n instanceof Sr&&n.h(mr.E.o,this.amN,this),0==this.Dw.length||"useShape"==t||"useTexture"==t?(e=new Dr(n.a78()),t=hr.L("div","bordered padded"),0==this.Mx&&(t.appendChild(e.e),t.appendChild(hr.L("hr",""))),this.az.push(e),this.Dw.push(t),this.mQ.push(n)):this.Dw[this.Dw.length-1].appendChild(n.e)}},as.prototype.update=function(t,e){if(null!=this.Oq)for(var n in this.Kt=JSON.parse(JSON.stringify(e)),e){var i,r,a;-1!="Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(n)&&this.Oq[n].f(e[n].v.val),-1!="enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(n)&&this.Oq[n].f(e[n].v,t),-1!=["Md","hglM","sdwM"].indexOf(n)&&this.Oq[n].f(Ji.q6.indexOf(e[n].v.BlnM)),"lrMd"==n&&(i=(e.dH?[[15,10,27]]:[]).concat(Ji.f$),a=(e.dH?[1]:[]).concat(Ji.Kc),this.Oq[n].aE(i,a),this.Oq[n].f(e[n].v)),"Angl"==n&&this.Oq[n].f([e[n].v.val]),"lagl"==n&&(r=e.uglg&&e.uglg.v?t.GT():e.lagl.v.val,this.Oq[n].f([r])),"Lald"==n&&(r=e.uglg&&e.uglg.v?t.e5():e.Lald.v.val,this.Oq[n].f([null,r])),"Type"==n&&this.Oq[n].f(Wi.I.types.indexOf(e.Type.v.GrdT)),"Styl"==n&&this.Oq[n].f(Wi.stroke.types.indexOf(e.Styl.v.FStl)),"PntT"==n&&(a=Wi.stroke.Hn.indexOf(e.PntT.v.FrFl),this.Oq[n].f(a),this.Mx||(this.anX(Wi.Di.concat(Wi.lK.concat(Wi.Gt))),this.ahu([Wi.Di,Wi.lK,Wi.Gt][a]))),"GlwT"==n&&this.Oq[n].f(Wi.Ay.types.indexOf(e.GlwT.v.BETE)),"glwS"==n&&this.Oq[n].f(Wi.Ay.asM.indexOf(e.glwS.v.IGSr)),"bvlS"==n&&this.Oq[n].f(Wi.QK.types.indexOf(e.bvlS.v.BESl)),"bvlT"==n&&this.Oq[n].f(Wi.QK.acj.indexOf(e.bvlT.v.bvlT)),"bvlD"==n&&this.Oq[n].f(["In","Out"].indexOf(e.bvlD.v.BESs))}},as.prototype.amN=function(t){for(var e in this.Oq){var n,i;this.Oq[e]==t.target&&(n=null,i=!1,-1!="Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(e)&&(n={type:"#Prc",val:t.target.M()}),-1!=["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(e)&&(n={type:"#Pxl",val:t.target.M()}),-1!=["Angl","lagl"].indexOf(e)&&(n={type:"#Ang",val:t.target.M()[0]}),-1!="enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(e)&&(n=t.target.M()),-1!=["Md","hglM","sdwM"].indexOf(e)&&(n={BlnM:Ji.q6[t.target.M()]}),"uglg"==e&&(n=t.target.M(),i=!0),"PntT"==e&&(n={FrFl:Wi.stroke.Hn[t.target.M()]},i=!0),"Lald"==e&&(n={type:"#Ang",val:t.target.M()[1]}),"Type"==e&&(n={GrdT:Wi.I.types[t.target.M()]}),"Styl"==e&&(n={FStl:Wi.stroke.types[t.target.M()]}),"GlwT"==e&&(n={BETE:Wi.Ay.types[t.target.M()]}),"glwS"==e&&(n={IGSr:Wi.Ay.asM[t.target.M()]}),"bvlS"==e&&(n={BESl:Wi.QK.types[t.target.M()]}),"bvlT"==e&&(n={bvlT:Wi.QK.acj[t.target.M()]}),"bvlD"==e&&(n={BESs:["In","Out"][t.target.M()]}),this.zQ({oE:e,k:n}),i&&(this.Mx?this.update(null,this.Kt):(n=(e=this.parent).Jt,i=this.uq,i=n.g[e.data.i].add.lmfx[Wi.Th[i[0]]].v[i[1]].v,this.update(n,i))))}},as.prototype.zQ=function(t){var e;this.Kt&&this.Kt[t.oE]&&(this.Kt[t.oE].v=t.k),this.Mx?this.c(new yr(mr.E.o)):(t.d="changeprop",t.i=this.parent.data.i,t.BT=this.uq,(e=new yr(mr.E.u,!0)).data=t,e.b=qr.em,e.y2=!0,this.c(e),this.c(new yr("afterchange",!0)))},as.prototype.M=function(){return JSON.parse(JSON.stringify(this.Kt))},as.YQ={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(Wi.Di),GrFl:["enab","Md","Opct"].concat(Wi.lK),patternFill:["enab","Md","Opct"].concat(Wi.Gt),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(Wi.Di.concat(Wi.lK.concat(Wi.Gt)))},ss.prototype=new Ha,ss.prototype.L$=function(){return!0},ss.prototype.UX=function(){return!0},ss.prototype.CK=function(t,e,n,i,r){var a=this.Sd();a&&a.CK(t,e,n,i,r)},ss.prototype.wl=function(t,e,n,i,r){var a=this.Sd();a&&a.wl(t,e,n,i,r)},ss.prototype.f9=function(t,e,n,i,r){var a=this.Sd();a&&a.f9(t,e,n,i,r)},ss.prototype.Sd=function(t){return null==(t=null==t?this.data.index:t)?null:0==t?this.aa[0]:this.fc[t[0]][t[1]]},ss.prototype.auC=function(t){var e=this.lj.M();this.zQ({d:"setstl",k:e.yu}),this.anQ(null)},ss.prototype.a7$=function(t){var e=this.Jt,n=this.data.i;null==n&&(n=e.w[0]);e=this.Jt.g[n],n=Xi.akB(e),e=new yr(mr.E.W,!0);e.data={d:mr.J.ot,tX:"add",jm:Bi.q2,dN:[JSON.parse(JSON.stringify(n))]},this.c(e)},ss.prototype.ait=function(t){this.data.index=t.currentTarget.uq,this.JZ(t.currentTarget.uq)},ss.prototype.anQ=function(t){this.Et(this.Jt,this.data)},ss.prototype.JZ=function(t,e){hr.d5(this.ba);for(var n=0;n<this.aa.length;n++)this.aa[n].a3X();var i=this.Sd(t);this.ba.appendChild(i.aeU()),e&&i.kN();var r=this.Jt;if(r){t=r.g[this.data.i];this.aa[0].update(r,qr.M6.FC(r,t));var a=t.add.lmfx;if(null==a)return;for(n=0;n<Wi.order.length;n++)for(var s=a[Wi.Th[n]].v,o=0;o<s.length;o++)this.fc[n][o].update(r,s[o].v)}e&&i.kN()},ss.prototype.T=function(){Ha.prototype.T.call(this),this.a2.T(),this.lj.T(),this.qQ.T();for(var t=0;t<this.aa.length;t++)this.aa[t].T()},ss.prototype.Et=function(t,e){var n=null==e.i;this.data.i=e.i,this.data.index=e.index,e=this.data,this.Jt=t,n&&(e.i=0==t.w.length?t.g.length-1:t.w[0]),hr.d5(this.ee);var i=t.g[e.i].add.lmfx;this.nV(),this.aa=[new as("bops",!1,0)],this.fc=[];for(var r=0;r<Wi.order.length;r++){this.fc.push([]);for(var a=null==i?[]:i[Wi.Th[r]].v,s=0;s<a.length;s++){var o=new as(Wi.order[r],!1,[r,s]);this.aa.push(o),this.fc[r].push(o)}0==a.length&&(o=new as(Wi.order[r],!1,[r,0]),this.aa.push(o),this.fc[r].push(o))}this.T(),this.abQ(this.fd,Bi.MB);for(r=0;r<this.aa.length;r++)(this.aa[r].parent=this).aa[r].al7(this.ee),this.aa[r].h("showme",this.ait,this);null==e.index||0==e.index||!n&&0==i[Wi.Th[e.index[0]]].v.length?this.JZ(0):this.JZ(e.index,n),this.h("afterchange",this.nV,this)},ss.prototype.nV=function(t){var e=this.Jt,n=this.data.i;null==n&&(n=e.w[0]);n=this.Jt.g[n],n=Xi.akB(n);this.lj.f(n,e.add.Patt||[],e.GT(),e.e5())},ss.prototype.v1=function(t,e){this.fd=t,this.abQ(t,e),e!=Bi.q2&&e!=Bi.MB||this.lj.BF([t.It,t.fC]),Bi.at},ss.prototype.abQ=function(t,e){for(var n=0;n<this.aa.length;n++)this.aa[n].v1(t,e)},ss.prototype.Hd=function(t){this.zQ({d:"cancel"})},ss.prototype.Wr=function(t){this.zQ({d:"confirm"}),this.close()},ss.prototype.zQ=function(t){t.i=this.data.i;var e=new yr(mr.E.u,!0);e.data=t,e.b=qr.em,e.y2=!0,this.c(e),this.nV()},ss.dR=function(t){for(var e=[{name:[14,10],jp:!0}],n=0;n<Wi.names.length;n++)e.push({name:Wi.names[n]});return t&&(e[e.length-1].jp=!0,e.push({name:"Scale Effects",K:function(t){return{K:null!=t&&0!=t.w.length&&t.g[t.w[0]].dI()}}}),e.push({name:["VAR0 VAR1",[12,49],[9,1]],K:function(t){return{K:null!=t&&0!=t.w.length&&null!=t.g[t.w[0]].add.lmfx}}})),e},ss.DQ=function(t){for(var e=[{_:mr.E.W,R:{d:mr.J.go,RB:"layerstyle"}}],n=0;n<Wi.names.length;n++)e.push({_:mr.E.W,R:{d:mr.J.go,RB:"layerstyle",index:[n,0]}});return t&&(e.push({_:mr.E.W,R:{d:mr.J.go,RB:"scaleeffects",Zk:100,zE:{_:mr.E.u,b:qr.em,R:{d:"scaleeffects"}}}}),t={classID:"Mk",null:Ui.S3("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}},e.push({_:mr.E.n$,R:{YY:"make",l5:t}})),e},ss.a6W=function(t){var e,n=[];for(e in t&&n.push({name:[6,48,0,0],ZN:!0},{name:[6,48,0,1],ZN:!0},{name:[6,48,0,2],ZN:!0,jp:!0}),ji.names)n.push({name:ji.names[e],jp:-1!=ji.lY.indexOf(e),ZN:null!=Ba[e]});return n},ss.vr=function(t){var e,n=[];if(t){n.push({_:mr.E.u,b:qr.gW,R:{d:"newfill",A2:0}});for(var i=1;i<3;i++)n.push({_:mr.E.n$,R:qr.zL.xq(i)})}for(e in ji.names){var r,a=Gr.PD(e);for(r in null==a&&(a={}),ji.kc)ji.kc[r]==e&&(a.classID=r);var s={YY:"make",l5:{classID:"Mk",null:Ui.S3("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:a}}}}};n.push({_:mr.E.n$,R:s})}return n},os.prototype=new Ha,os.prototype.T=function(){Ha.prototype.T.call(this),this.qQ.T();for(var t=0;t<3;t++)this.Wb[t].T()},os.prototype.Et=function(t,e,n,i){this.L6=n;for(var r=[],a=0;a<n.length;a++)r.push(n[a].name);for(a=0;a<3;a++){var s=this.Wb[a];s.aE(r),s.f(Math.min(a,n.length-1))}},os.prototype.Wr=function(t){var e=this.L6,n=e[0],i=new yr(mr.E.n$,!0);i.data=zi.sN(n.m,n.n,n.Mg,"Merged Document","Wht",!1),this.c(i);for(var r=[],a=0;a<3;a++)r.push(e[this.Wb[a].M()].y5());for(var i=(n=e[e.length-1]).g[0],s=i.buffer,a=0;a<s.length;a+=4)s[a]=r[0][a],s[a+1]=r[1][a],s[a+2]=r[2][a];i.G(),n.G(),this.close()},ls.prototype=new Ha,ls.prototype.T=function(){this.Gv.T()},ls.prototype.iW=function(){var t=this.ahE;null==t&&(t="script.jsx");var e=new yr(mr.E.W,!0);e.data={d:mr.J.go,RB:"namewindow",Zk:t.slice(0,t.length-4),ky:this.aj7.bind(this)},this.c(e)},ls.prototype.aj7=function(t){var e=this.wj.value,n=ln.u3(e),e=new yr(mr.E.W,!0);e.data={d:mr.J.s6,_Z:n.buffer,Tq:t+".jsx",av6:!0},this.c(e)},ls.prototype.aqT=function(t){t=this.DY.indexOf(t.target),t=this.ahE=this.qN[t],t=this.fd.MY.BW[t],t=new Uint8Array(t),t=ln.cP(t,0,t.length);this.wj.value=t},ls.prototype.Et=function(t,e,n){this.wj.value=ls.Dz[0].Xv,this.aiY()},ls.prototype.aiY=function(){var t,e,n=this.fd.MY,i=this.ae9;for(t in hr.d5(i),this.DY=[],this.qN=[],i.textContent="Saved scripts: ",n.BW)t.endsWith(".jsx")&&(e=new kr(t,!1,null,!0),this.DY.push(e),this.qN.push(t),e.h("click",this.aqT,this),i.appendChild(e.e))},ls.prototype.v1=function(t,e){this.fd=t,e==Bi.Gi&&this.aiY()},ls.prototype.apg=function(t){var e=new yr(mr.E.W,!0);e.data={d:mr.J.Ih,link:"https://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2019.pdf"},this.c(e)},ls.prototype.Wr=function(t){var e=new yr(mr.E.W,!0);e.data={d:mr.J.Um,zB:this.wj.value},this.c(e)},ls.prototype.a5E=function(t){t=this.ahX.indexOf(t.currentTarget);this.wj.value=ls.Dz[t].Xv},ls.Dz=[{me:"Hello",Xv:'\nalert("Hello Photopea!");\n'},{me:"Process Layers",Xv:'\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n\t//lays[i].visible = false;\n\t//lays[i].opacity = 50;\n\tlays[i].name = "My Layer "+i;\n}'},{me:"Clone Layers",Xv:"\nvar orig = app.activeDocument.activeLayer;\nvar cnt = 12;\nvar angle = Math.floor(360 / cnt);\n\nfor(var i=1; i<cnt; i++)\n{\n\tvar nlay = orig.duplicate();\n\t//nlay.translate(30*i, 20*i);\n\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n}"}],hs.prototype=new Ha,hs.prototype.v1=function(t,e){this.Vb.v1(t)},hs.prototype._3=function(t,e){return new Pr(Math.max(0,Math.min(70,(t-690)/2)),e<t?Math.max(0,Math.min(50,(e-400)/2)):0)},hs.prototype.hi=function(t,e){this.lM.setAttribute("style","width:"+Math.min(t-24,338)+"px"),this.Qh.e.style.height=e-276+"px";var n=this.Vb.e,i=n.parentNode;t<500?null!=i&&this.UE.removeChild(n):(null==i&&this.UE.appendChild(n),this.Vb.hi(t-378,e-28))},hs.prototype.$O=function(){this.Vb.f(this.c_.M())},hs.prototype.auv=function(t){var e=this.Qh.M()[0],n=hs.Sr[this.Md.M()].VR[e],i=n[4];0==i&&(i=72);var r=n[1],a=n[2],e=["px","%","mm","in"].indexOf(n[3]),n=[1,1,25.4/i,1/i][e];r/=n,a/=n,this.c_.f(new Pr(Math.round(r),Math.round(a)),i),this.c_.a22(e),this.$O()},hs.prototype.ajg=function(t){for(var e=hs.Sr[this.Md.M()].VR,n=[],i=[],r=Math.round(106*hr.F()),a=Math.round(106*hr.F()),s=0,o=0;o<e.length;o++)s=Math.max(s,e[o][1],e[o][2]);for(o=0;o<e.length;o++){var l=e[o],h=l[1]+" x "+l[2]+" "+l[3];"in"==l[3]&&(h=(25.4*l[1]).toFixed(0)+" x "+(25.4*l[2]).toFixed(0)+" mm"),"mm"==l[3]&&(h=(l[1]/25.4).toFixed(1)+" x "+(l[2]/25.4).toFixed(1)+" in"),l[4]&&(h=h+" @ "+l[4]+" ppi"),i.push(h),n.push(hs.sW(l,r,a,s))}this.Qh.MO(n,i,r,a)},hs.sW=function(t,e,n,i){var r=hr.L("canvas",""),a=r.getContext("2d");r.width=e,r.height=n;var s=Math.round(e/8),o=Math.floor(11*hr.F()),l=t[1],h=t[2];a.fillStyle="#000000",a.font=Math.round(.9*o)+'px "Open Sans", Sans-Serif';var u=l+" x "+h+" "+t[3],f=a.measureText(u);a.fillText(u,Math.round((e-f.width)/2),n-Math.round(s/2)),null!=t[0]&&(a.font="bold "+o+'px "Open Sans", Sans-Serif',u=t[0],f=a.measureText(u),a.fillText(u,Math.round((e-f.width)/2),n-Math.round(s/2)-Math.round(1.3*o))),n-=Math.round(2.5*o);s=Math.min((e-s)/l,(n-s)/h),i=(n-h*(s*=.5+Math.max(l,h)/i*.5))/2;return a.strokeRect(Math.round((e-l*s)/2)+.5,Math.round(i)+.5,Math.round(l*s),Math.round(h*s)),r.toDataURL()},hs.prototype.T=function(){Ha.prototype.T.call(this),this.c_.T(),this.Qs.T(),this.rQ.T(),this.qQ.T(),this.Qs.f(ri.get([11,7])),this.Md.T(),this.lw.T(),this.Vb.T()},hs.prototype.Wr=function(t){var e=this.c_.M(),n=e.x,i=e.y;this.close();var r=this.rQ.M(),a=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"][this.abY.M()],e=new yr(mr.E.n$,!0);e.data=zi.sN(n,i,this.c_.Re(),this.Qs.M(),["Wht","Blck","Trns","Clr"][r[0]],this.lw.M(),r[1],a),this.c(e),this.af8()},hs.prototype.a6K=function(t){var e=t.data.Jt;e.Mg=this.c_.Re();t=new yr(mr.E.W,!0);t.data={d:mr.J.Ro,Jt:e},this.c(t),this.close(),this.af8()},hs.prototype.af8=function(){var n=this.L6[this.L6.length-1],i=this.data.amZ;i&&f.x0(function(){var t=new XMLHttpRequest,e="https://www.googleapis.com/drive/v3/files?"+f.cE();t.open("POST",e,!0),t.setRequestHeader("Content-Type","application/json"),t.addEventListener("load",function(t){t=JSON.parse(t.target.response);n.cB={file:t,fH:"psd"},alert(n.name+" created in Google Drive")}),t.send(JSON.stringify({name:n.name,aab:[i]}))})},hs.prototype.Et=function(t,e,n,i){this.L6=n,null!=t&&null!=t.v&&(t=new Fr(0,0,t.m,t.n).BS(t.v.rect),this.c_.f(new Pr(t.m,t.n))),this.data=e,this.$O(),hr.lp()&&El.ahj(this.at0.bind(this))},hs.prototype.at0=function(t){"granted"==t&&El.S$(this,this.ase.bind(this))},hs.prototype.ase=function(t,e){this.c_.f(new Pr(e.m,e.n))},hs.Sr=[{name:"Social",VR:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],VR:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],VR:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],VR:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],VR:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],['iPad Pro 9.7"',1536,2048,"px",0],['iPad Pro 10.5"',1668,2224,"px",0],['iPad Pro 12.9"',2048,2732,"px",0]]},{name:[12,88,3],VR:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2ᴺ",VR:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}],us.prototype=new Ha,us.prototype.dE=function(t,e){if(null!=t)return null==t.v&&alert("No selection!"),null!=t.v},us.prototype.Wr=function(t){var e=new yr(mr.E.n$,!0);e.data=qr.$S.arU(this.d,this.Qs.M(),this.aso.M()),e.y2=!0,this.c(e),this.close()},us.prototype.T=function(){Ha.prototype.T.call(this),this.qQ.T(),this.Qs&&this.Qs.T()},us.prototype.Et=function(t,e){},fs.prototype=new Ha,fs.prototype._3=function(t,e){return new Pr(Math.max(0,Math.min(150,(t-250)/2)),Math.max(0,Math.min(150,(e-120)/2)))},fs.prototype.L$=function(){return this.a9l},fs.prototype.wV=function(t){var e=this.Qs.M();this.rT&&this.xy(e)},fs.prototype.Hd=function(t){this.rT&&this.xy("cancel")},fs.prototype.Wr=function(t){this.rT?this.xy("confirm"):this.xy(this.Qs.M()),this.close()},fs.prototype.xy=function(t){var e,n;this.Sr.ky?this.Sr.ky(t):this.Sr.zE&&(e=this.Sr.zE,(n=new yr(e._,!0)).b=e.b,n.data=e.R,n.data.k=t,n.y2=!0,this.c(n))},fs.prototype.T=function(){Ha.prototype.T.call(this),this.qQ.T(),this.Qs&&this.Qs.T()},fs.prototype.Et=function(t,e){this.Sr=e,this.Qs.f(e.Zk),this.Qs.Hj(),this.wV(null)},cs.prototype=new Ha,cs.prototype.T=function(){Ha.prototype.T.call(this),this.qQ.T(),this.$g.T()},cs.prototype.Et=function(t,e,n){this.Bm.Hj(),this.ln=null,t&&-1!=n.indexOf(t)&&(this.ln=n.indexOf(t))},cs.prototype.Wr=function(t){var e=new yr(mr.E.W,!0),n=this.Bm.M();e.data={d:mr.J.pu,jm:{url:n,n5:!0,ln:1==this.$g.M()?this.ln:null}},this.c(e),this.close()},ps.prototype=new Ha,ps.prototype.T=function(){Ha.prototype.T.call(this);for(var t=0;t<this.YQ.length;t++)this.YQ[t].T()},ps.prototype.Et=function(t,e,n){},ps.prototype.v1=function(t,e){this.fd=t,this.YQ[0].f(t.jv.p6),this.YQ[1].f(t.jv.NM),this.YQ[2].f(t.jv.gC),this.YQ[3].f(t.jv.Qz),this.YQ[4].f(t.jv.LS),this.YQ[5].f(t.jv.el),this.YQ[6].f(1==t.T9)},ps.prototype.cr=function(t){var e=this.YQ;t.target==e[6]&&(this.fd.T9=1-this.fd.T9);t=JSON.parse(JSON.stringify(this.fd.jv));t.p6=e[0].M(),t.NM=e[1].M(),t.gC=e[2].M(),t.Qz=e[3].M(),t.LS=e[4].M(),t.el=e[5].M(),4!=t.LS&&(t.Qz=Math.round(t.Qz));e=new yr(mr.E.W,!0);e.data={d:mr.J.ot,jm:Bi.TL,NL:t},this.c(e)},ds.prototype=new Ha,ds.prototype.dE=function(t,e){return null!=t},ds.prototype.T=function(){Ha.prototype.T.call(this),this.c_.T(),this.pl.T(),this.s8.T(),this.JF.T()},ds.prototype.Wr=function(t){var e=(n=this.Jt.name).lastIndexOf("."),n=-1==e?n:n.slice(0,e),i=ai.mX()[this.pl.M()],r="JPG"==i||"PNG"==i||"GIF"==i,a=ai.TN(i),s="."+i.toLowerCase(),o=this.FE,l=n+s,h=this.Jt,u=h.EQ,f=this.s8.M();if(h.SP()&&f.pop(),0!=u.length&&r&&f.pop()){for(var c="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",p=[],d={},v=new Fr(0,0,h.m,h.n),g=h.y5(),y=0;y<u.length;y++)p.push(qr.C0.r7(u,y));p.reverse();for(var m=Rr.rect.O4([0,0,h.m,h.n],p),y=0;y<m.length;y++){var w=m[y],b=new Fr(w[0],w[1],w[2]-w[0],w[3]-w[1]),M=5==w.length?u[w[4]].v:null,S=Rr.t(4*b.Z());Rr.Ik(g,v,S,b);w="img/img"+(y+1)+s;d[w]=new Uint8Array(a.D6([[S.buffer,0]],b.m,b.n,f)),c+="<div style=\"background-image:url('"+w+"'); left:"+b.x+"px; top:"+b.y+"px; width:"+b.m+"px; height:"+b.n+'px">',M&&""!=M.url.v&&(c+='\n\t<a href="'+M.url.v+'" target="'+M.null.v+'" style="display:block;width:100%;height:100%;"></a>\n'),c+="</div>\n"}c+="</body>\n</html>\n";e=Rr.t(Math.round(1.5*c.length)),i=ln._s(c,e,0);d["index.html"]=e.slice(0,i),o=UZIP.encode(d),l=n+".zip"}else if(h.add.artd&&1<h.add.artd.Cnt.v&&r&&f.pop()){for(var d={},v=new Fr(0,0,h.m,h.n),g=h.y5(),C=h.root.children,y=0;y<C.length;y++){var x,L,D=C[y].i;null!=D.add.artb&&D.SH()&&(x=D.Gn(),L=Rr.t(4*x.Z()),Rr.Ik(g,v,L,x),d[D.getName()+s]=new Uint8Array(a.D6([[L.buffer,0]],x.m,x.n,f)))}o=UZIP.encode(d),l=n+".zip"}h.o5&&((k=new XMLHttpRequest).open("GET","/papi/img/update.php?act=1&id="+h.o5+"&rnd="+Math.random()),k.send());var k=new yr(mr.E.W,!0);k.data={d:mr.J.Bx,data:o,name:l},this.c(k),this.qV.zV(),this.close()},ds.prototype.Et=function(t,e){null!=e.gw&&this.pl.f(e.gw);var n=(this.Jt=t).m+","+t.n;n!=this.aaK&&(this.aaK=n,this.c_.f(new Pr(t.m,t.n),t.Mg)),this.s8.a8_(),e.al5&&(this.c_.a22(3),this.s8.WX.PDF[2].iq.f(!0)),this.RQ(null,!0)},ds.prototype._3=function(t,e){return new Pr(Math.max(0,Math.min(150,(t-770)/2)),Math.max(0,Math.min(150,(e-590)/2)))},ds.prototype.hi=function(t,e){var n,i,r,a,s,o;this.r2=t,this.kY=e,this.xc.x=Math.min(512,t-26-214),this.xc.y=Math.min(512,e-45),null!=this.Jt&&(t=(r=this.c_.M()).x,e=r.y,o=ai.mX()[this.pl.M()],n='<span style="width:',i='display:inline-block; text-align:right;">',(r=ai.TN(o)).r1?(a=t,s=e,s="PDF"==o||r.rd?(a=this.xc.x,this.xc.y):(a=Math.min(t+20,this.xc.x),Math.min(e+20,this.xc.y)),this.Xy.firstChild.setAttribute("style","display:block; width:"+a+"px; height:"+s+"px;")):r.rd?(a=this.xc.x,s=this.xc.y):(a=(r=this.anW[0].Tl).m,s=r.n,this.qV.hi(Math.max(50,Math.min(a/hr.F(),this.xc.x)),Math.max(50,Math.min(s/hr.F(),this.xc.y)))),s=this.FE.byteLength,o=o+":"+n+"64px;"+i+ds.Dk(s)+"</span>",200<this.xc.x&&(o+=n+"90px; opacity:0.5;"+i+s.toLocaleString()+" B</span>"),this.sM.innerHTML=o)},ds.Dk=function(t){for(var e=t.toString(2),n=0;n+10<e.length;)n+=10;return(t/Math.pow(2,n)).toFixed(1)+" "+"B KB MB GB TB PB".split(" ")[Math.floor(n/10)]},ds.prototype.v1=function(t,e){this.fd=t},ds.prototype.RQ=function(t,e){var n=this.Jt,i=this.c_.M(),r=i.x,a=i.y,s=this.pl.M(),o=ai.mX()[s],l=ai.ma(n)[0].length,i=-1!=["GIF","PNG","WEBP"].indexOf(o)&&1<l,s="";if(i&&e&&(4<l&&1048576<r*a||32e6<r*a*l)){for(var h=1;800<Math.max(r>>>h,a>>>h);)h++;window.confirm("Your animation is large ("+r+" x "+a+' px). Press "OK" to scale it to '+(100>>>h)+'%. Press "Cancel" to keep the size.')&&(this.c_.f(new Pr(r>>>h,a>>>h),null,!0),r>>>=h,a>>>=h)}e=n.add.artd,l=null!=e&&1<e.Cnt.v,e=n.SP();this.s8.aba(o,i,0!=n.EQ.length,l,null!=e);e=this.s8.M();if(this.FE=ai._x(n,o,r,a,e,this.fd),null!=this.FE){hr.d5(this.Xy),this.qV.zV();n=ai.TN(o);if(n.rd)this.Xy.innerHTML="<div></div>",s+="width:0px";else if(n.r1){var u="PDF"==o?URL.createObjectURL(new Blob([this.FE],{type:"application/pdf"})):URL.createObjectURL(new Blob([this.FE],{type:"image/svg+xml"}));this.Xy.innerHTML='<iframe src="'+u+'"></iframe>'}else{var f=this.anW=n.Ou(this.FE),u=f[0],n=u.Tl;n.m,n.n;if(u.d1)for(var u=ICC.R(u.d1.buffer),c=ICC.U.sampleLUT(u,17),p=0;p<f.length;p++){var d=new Uint8Array(f[p].data);ICC.U.applyLUT(c,17,d,d)}this.qV.f(f,1<f.length?e[e.length-3]:0),this.Xy.appendChild(this.qV.e),s="background: rgba(0,0,0,0);"}this.Xy.setAttribute("style","display:block; background-size:"+16/hr.F()+"px;"+s),this.hi(this.r2,this.kY)}else this.Jt=null},vs.prototype=new Ha,vs.prototype.T=function(){Ha.prototype.T.call(this),this.asO()},vs.prototype.asO=function(){var t='<div style="line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;" class="">',e="",n=ii,i=n.NT,r=n.Ml,a=n.e$;e+='<h2 style="margin-top:0;">Main Menu</h2>',e+=t,e+=this.tQ([[0,0],"---",[1,0],[i,n.yy],[1,2],[i,n.ng],[1,3],[r,i,n.ng],[1,8],[a,r,i,n.ng],[0,1],"---",[2,0],[r,i,n.ZJ],[2,1],[i,n.ZJ],[5,0],[i,n.oL],[5,1],[i,n.eB],[5,2],[i,n.I_],[2,2],"Delete",[2,3],[a,n.kn],[10,16],[a,i,n.St],[12,79],[i,n.nW],[3],"---",[4,1],[i,n.HH],[4,2],[i,n.Hm],[4,5],[i,n.GR],[4,11],[i,n.uZ],[0,3],"---",[6,13],[r,i,n.bo],[6,49,0],[i,n.gG],[6,6,0],[a,i,n.wK],[6,9],[i,n.wK],[6,10],[i,n.E],[0,5],"---",[7,0],[i,n.J],[7,1],[i,n.FH],[7,2],[r,i,n.uZ],[0,7],"---",[8,0],[i,n.$t],[8,1],[i,n.gr],[8,3],[i,n.DG],[8,2],[i,n.kh],[8,4],[i,n.wa],[11,13],"?"]),e+="</div>",e+='<h2 style="margin-top:1.5em;">Navigation</h2>',e+=t,e+=this.tQ(["Vertical scroll","Wheel","Horizontal scroll",[i,"Wheel"],"Zooming",[a,"Wheel"]]),e+="</div>",e+='<h2 style="margin-top:1.5em;">Quick tools (press to enable, release to disable)</h2>',e+=t,e+=this.tQ([[10,11],[i],[10,7],"Space",[10,17],[i,n.QO]]),e+="</div>",e+='<h2 style="margin-top:1.5em;">Tools</h2>',e+=t;for(var s=vs.P,o=[],l=0;l<s.length;l+=3)s[l+1]&&o.push(s[l],s[l+1]);o=o.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[i,n.rM]]),e+=this.tQ(o),this.UE.innerHTML=e+="</div>"},vs.prototype.tQ=function(t){for(var e="",n=!0,i=0;i<t.length;i+=2){var r=t[i],a=ii.q8(t[i+1]);null!=a?(r=hr.ml(ri.get(r)),"---"==a?(n||(e+="<br/>"),e+='<div style="font-weight:bold; border-bottom: 1px solid;">'+r+"</div>"):e+="<div>"+r+' <span style="float:right; font-weight:bold;">'+a+"</span> </div>",n=!1):n=!1}return e},vs.P=[[10,11],"V",0,[10,50],"V",70,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,44],"W",3,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,45],"E",32,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61],gs.prototype=new Ha,gs.prototype.Et=function(t,e,n){var i,r=e.k;for(i in this.Xd=JSON.stringify(r),this.s1)r[i]&&this.YQ[i].f(r[i].v)},gs.prototype.Wr=function(t){var e,n=JSON.parse(this.Xd);for(e in this.s1){var i=this.YQ[e].M();n[e]={t:"TEXT",v:i}}var r=new yr(mr.E.u,!0);r.b=qr.bp,r.data=n,r.y2=!0,this.c(r),this.close()},gs.prototype.T=function(){Ha.prototype.T.call(this),this.qQ.T()},ys.prototype=new Ha,ys.prototype.dE=function(t,e){return null!=t},ys.prototype.L$=function(){return!0},ys.prototype.aiG=function(){var t=this.zu.M(),e=this.kL.e,n=this.u_.e,i=this.Xy;2==t?i.appendChild(e):i.contains(e)&&i.removeChild(e),7==t?i.appendChild(n):i.contains(n)&&i.removeChild(n)},ys.prototype.T=function(){Ha.prototype.T.call(this),this.zu.T(),this.CQ.T(),this.eM.T(),this.qQ.T()},ys.prototype.Wr=function(t){var e,n;this.cb._W()&&(e=new yr(mr.E.n$,!0),n=this.zu.M(),e.data=qr.Hp.xq(this.Ko[n],Ji.sp[this.CQ.M()],this.eM.M()/100,this.kL.M(),this.Tc.M(),this.u_.M()),this.close(),this.c(e))},ys.prototype.Et=function(t,e){this.cb=t},ys.prototype.v1=function(t,e){this.fd=t,e!=Bi.MB&&e!=Bi.QM||(this.u_.BF(t.fC),this.u_.f({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"c7acb22a-47a6-11de-919a-bf574370eaaf",t:"TEXT"}}))},ms.prototype=new Ha,ms.prototype.dE=function(t,e){return null!=t},ms.prototype.L$=function(){return!0},ms.prototype.T=function(){Ha.prototype.T.call(this),this.qQ.T(),this.hA.T()},ms.prototype.Wr=function(t){var e=new yr(mr.E.u,!0);e.b=qr.r0,e.data={d:"stroke",a6s:this.hA.M()},this.close(),this.c(e)},ms.prototype.Et=function(t,e){this.kp||(n=Wi.xs[Wi.order.indexOf("FrFX")],n=JSON.parse(n),this.hA.update(t,n),this.kp=!0);var n=this.hA.M(),i=this.fd.k$;n.Clr.v=Rr.I.wg({p:i>>16&255,z:i>>8&255,S:255&i}),this.hA.update(t,n)},ms.prototype.v1=function(t,e){this.fd=t},ws.prototype=new Ha,ws.prototype.L$=function(){return!0},ws.prototype.T=function(){Ha.prototype.T.call(this),this.qQ.T(),this.YQ.T()},ws.prototype.tN=function(t){var e=this.YQ.M();this.xy({d:"warp",oH:e})},ws.prototype.xy=function(t){var e=new yr(mr.E.u,!0);e.b=qr.iL,e.data=t,e.y2=!0,this.c(e)},ws.prototype.Hd=function(t){this.xy({d:"warpCancel"})},ws.prototype.Wr=function(t){this.xy({d:"warpConfirm"}),this.close()},ws.prototype.Et=function(t,e){t=t.g[t.w[0]];this.YQ.f(t.add.TySh.pZ)},bs.prototype=new Ha,bs.prototype.dE=function(t,e){return null!=t},bs.prototype.L$=function(){return!0},bs.prototype.T=function(){Ha.prototype.T.call(this),this.Z4.T(),this.Gd.T(),this.qQ.T()},bs.prototype.Wr=function(t){var e=this.Z4.M().indexOf(!0),n=this.Gd.M(),i=new yr(mr.E.n$,!0);i.data=qr.B_.ae(e,n),this.close(),this.c(i)},Ms.prototype=new Ha,Ms.prototype._3=function(){return new Pr(0,0)},Ms.prototype.hi=function(t,e){this.ads=t-274,this.aef=e-32,this.hk&&this.aqt()},Ms.prototype.T=function(){Ha.prototype.T.call(this),this.qQ.T();for(var t=0;t<this.jd.length;t++)this.jd[t].T()},Ms.prototype.aoT=function(t){var e=this.hk,n=this.Uz,i=Rr.t(e.width*e.height*4);Rr.Bg(i,4294967295),Rr.raw.KA(n,i,e,this.zw());i=ai.TN("JPG").D6([[i.buffer]],n.YO,n.Zv,[85]),n=new yr(mr.E.W,!0);n.data={d:mr.J.Bx,data:i,name:"photo.jpg"},this.c(n)},Ms.prototype.Wr=function(t){var e=this.hk,n=this.Uz,i=Rr.t(e.width*e.height*4);Rr.Bg(i,4294967295),Rr.raw.KA(n,i,e,this.zw());var r=lr.ym(e),e={Tl:new Fr(0,0,n.YO,n.Zv),data:i.buffer,_E:r},r=ai.Om("Raw Photo",[e]),e=new yr(mr.E.W,!0);e.data={d:mr.J.Ro,Jt:r},this.c(e),this.ii(),this.close()},Ms.prototype.ii=function(){this.hk=null,this.Uz=null,this.YM=null,this.He=null},Ms.prototype.Et=function(t,e,n,i){this.hk=e.vl,this.Uz=Rr.raw.af2(this.hk);var r=this.Uz;this.a5S.f(r.YO+" x "+r.Zv+", "+(r.YO*r.Zv/1e6).toFixed(1)+" MPx");e=Rr.raw.a0T(e.vl);this.xZ=fe.ZO(e),this.jd[0].f(this.xZ.Hw),this.jd[1].f(this.xZ.mr);for(var a=2;a<this.jd.length;a++)this.jd[a].f(0);this.aqt()},Ms.prototype.v1=function(t,e){this.bJ.jn(vr.Pc[t.t7]["--text-color"])},Ms.prototype.aqt=function(){for(var t=this.Uz,e=t.YO,n=t.Zv,i=1;e/i>this.ads*hr.F()||n/i>this.aef*hr.F();)i++;if(this.aar!=i||!this.YM){this.aar=i;var r=Math.floor(e/i),a=Math.floor(n/i);this.YM={L0:new Float32Array(r*a*3),YO:r,Zv:a};this.O.getContext("2d");this.He=Rr.t(r*a*4),Rr.Bg(this.He,4294967295);for(var s=1/(i*i),o=0;o<a;o++)for(var l=0;l<r;l++){for(var h=0,u=0,f=0,c=(l+1)*i,p=(o+1)*i,d=o*i;d<p;d++)for(var v=l*i;v<c;v++){var g=3*(d*e+v);h+=this.Uz.L0[g],u+=this.Uz.L0[1+g],f+=this.Uz.L0[2+g]}var y=3*(o*r+l);this.YM.L0[y]=h*s,this.YM.L0[1+y]=u*s,this.YM.L0[2+y]=f*s}this.yE()}},Ms.prototype.yE=function(){var t=this.hk,e=this.YM.YO,n=this.YM.Zv,i=this.O,r=i.getContext("2d");i.width=e,i.height=n,hr.N2(i,e,n),Rr.raw.KA(this.YM,this.He,t,this.zw()),r.putImageData(new ImageData(new Uint8ClampedArray(this.He.buffer),e,n),0,0);for(var a=Rr.Kk(this.He),s=0;s<4;s++)for(var o=1;o<256;o++)0==a[s][o]&&(a[s][o]=a[s][o-1]);for(s=0;s<4;s++)for(o=1;o<256;o++)0==a[s][o]&&(a[s][o]=a[s][o-1]);this.bJ.f(a)},Ms.prototype.zw=function(){for(var t=[],e=0;e<this.jd.length;e++)t.push(this.jd[e].M());return t},Ss.prototype=new Ha,Ss.prototype._3=function(){return new Pr(0,0)},Ss.prototype.L$=function(){return!0},Ss.prototype.hi=function(t,e){var n;this.r2=t,this.kY=e,e-=44,t<600&&(e-=29),null!=this.Sr&&(n=this.Sr.Tl,1==(n=Cs.acR(t,e,n.m,n.n))&&(e-=3),0==n?(t=Math.floor(t/2),hr.Yq(this.mq,"flexrow")):(e=Math.floor(e/2),hr.dj(this.mq,"flexrow")),hr.r9(this.O,t,e),this.o3.hi(t,e),this.Eu?this.QZ():this.Fj.hi(t,e))},Ss.prototype.XL=function(t,e,n,i){this.o3.XL(i)},Ss.prototype.T=function(){for(var t in Ha.prototype.T.call(this),this.uO)this.uO[t].T()},Ss.prototype.Et=function(t,e){this.yh=t,this.MV=null;var n=t.g[t.w[0]],i=Rr.$P.kt(n.buffer.buffer,n.rect.m,n.rect.n).a77/((n.rect.m-2)*(n.rect.n-2)),t=this.uO;t.cnum.f(20),t.nois.f(i<.75),t.mode.f(i<.75?1:0),t.segm.f(!1),t.poly.f(!1),t.polE.f(1);t=n.rect.clone();t.x=t.y=0,this.Sr={Tl:t,data:n.buffer.buffer.slice(0)},this.rJ=null,this.hi(this.r2,this.kY),this.o3.f([this.Sr]),this.o3.KZ(),setTimeout(this.tM,20)},Ss.prototype.pX=function(){var t=Date.now(),e=this.Sr,n=this.uO,i=n.cnum.M(),r=n.nois.M(),a=n.mode.M(),s=n.segm.M(),o=n.poly.M(),l=n.polE.M(),h=null;0==a&&(s=o=!1);var u=["cnum","nois","mode"];1==a&&(u.push("segm"),this.Eu&&(u.push("poly"),o&&u.push("polE"))),u.push("ok"),hr.d5(this.lM);for(var f=0;f<u.length;f++)this.lM.appendChild(n[u[f]].e);console.log("---------------------------------------");var c=r||s,p=r+","+s;if(c&&(null==this.rJ||this.Wb!=p)){this.Wb=p;var d=new Uint8Array(e.data),v=e.Tl.m,g=e.Tl.n;if(d=r?(null==this.MV&&(this.MV=d.slice(0),Rr.Hf.jh(this.MV,this.MV,v,g,15,Rr.Hf.GK,[35]),console.log("denoise",Date.now()-t),t=Date.now()),this.MV.slice(0)):d.slice(0),s){for(var y=Rr.$P.HQ(d,v,g,40,10),m=y.nW,w=new Uint8Array(4*m),f=0;f<m;f++){var b=4*f,M=6*f,S=1/y.Ct[5+M];w[b]=y.Ct[M]*S,w[1+b]=y.Ct[1+M]*S,w[2+b]=y.Ct[2+M]*S}for(f=0;f<d.length;f+=4){var C=4*y.EJ[f>>>2];d[f]=w[C],d[f+1]=w[1+C],d[f+2]=w[2+C]}console.log("segm",Date.now()-t),t=Date.now()}this.rJ={Tl:e.Tl.clone(),data:d.buffer}}c&&(e=this.rJ);for(d=new Uint8Array(e.data),v=e.Tl.m,g=e.Tl.n,f=0;f<d.length;f+=4)d[f+3]<10&&(d[f]=d[f+1]=d[f+2]=d[f+3]=0);if(0==a?(h=Rr.$P.as6(d,v,g,i,c?.1:2e-4),console.log("quantize",Date.now()-t),t=Date.now()):h=Zr.Gl(d.buffer,i,v,g),this.Eu){for(var x=h.EJ.slice(0),f=0;f<x.length;f++)x[f]++;var L,i=new Uint8Array((v+2)*(g+2));Rr.rR(x,new Fr(1,1,v,g),i,new Fr(0,0,v+2,g+2)),o?L=Rr.H.s9(i,v+2,g+2,l,!0):(l=Math.round((v+2)*(g+2)/1e4),I=Be.mT(i.slice(0),v+2,g+2,Math.min(12,l)),L=Be.l7(I),console.log("trace smooth",Date.now()-t),t=Date.now());for(var D=L.length,k=new _r(1,0,0,1,-1,-1),f=0;f<D;f++)Rr.H.A(L[f].path.U,k,L[f].path.U);this.Jo=L,this.ck=h;for(f=0;f<D;f++)for(var T=L[f],A=f+1;A<D;A++){var E=L[A];if(E.parent==f&&h.fS[E.color-1].est.q[3]<.05){(O=E.path.C.slice(1)).reverse();for(var O=["M"].concat(O),N=[],I=E.path.U.length,P=0;P<I;P+=2)N[P]=E.path.U[I-2-P],N[P+1]=E.path.U[I-2-P+1];Rr.H.concat(T.path,{U:N,C:O})}}console.log("finding holes",Date.now()-t);for(t=Date.now(),f=0;f<L.length;f++){T=L[f];h.fS[T.color-1].est.q[3]<=.05&&(L.splice(f,1),f--)}for(f=1;f<L.length;f++){var F=L[f-1],T=L[f];F.color!=T.color||(Rr.H.concat(F.path,T.path),L.splice(f,1),f--)}this.QZ()}else{for(var _=new Uint32Array(v*g),B=v*g,f=0;f<B;f++){var R=h.fS[h.EJ[f]];_[f]=R.est.rgba}this.alX=new Uint8Array(_.buffer),this.Fj.f([{Tl:e.Tl,data:_.buffer}])}},Ss.prototype.QZ=function(t){if(null!=this.Jo){var e=this.Sr.Tl.m,n=this.Sr.Tl.n,i=this.Jo,r=this.ck.fS,a=this.O,s=this.XN,o=this.o3.ve();s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,a.width,a.height),s.translate(a.width/2,a.height/2),s.scale(o.V,o.V),s.translate(o.r.x/o.V-e/2,o.r.y/o.V-n/2),s.scale(1/o.V,1/o.V),s.fillStyle=this.GE,s.fillRect(0,0,e*o.V,n*o.V),s.scale(o.V,o.V);for(var l=[],h=0;h<r.length;h++){var u=r[h].est.q;l.push({p:Math.round(255*u[0]),z:Math.round(255*u[1]),S:Math.round(255*u[2]),q4:Math.round(255*u[3])})}for(h=0;h<i.length;h++){var f=i[h];0!=(u=l[f.color-1]).q4&&(s.fillStyle="rgba("+u.p+","+u.z+","+u.S+","+u.q4/255+")",s.beginPath(),Typr.U.pathToContext({crds:f.path.U,cmds:f.path.C},s),s.fill())}}},Ss.prototype.Wr=function(t){var e=this.yh,n=e.w[0],i=e.g[n],r=new yr(mr.E.u,!0);if(r.y2=!0,r.b=qr.ZD,this.Eu){var a=this.Jo,s=1==a.length,o=e.g.slice(0,n);s||o.push(e.ne());for(var l=0;l<a.length;l++){var h=a[l],u=this.ck.fS[h.color-1].est.q;Rr.H.A(h.path.U,new _r(1,0,0,1,i.rect.x,i.rect.y),h.path.U),(p=e.rL()).Zu("Path "+l),o.push(p),p.opacity=Math.round(255*u[3]),p.OW|=16,p.add.SoCo={classID:"null",Clr:{t:"Objc",v:Rr.I.wg({p:255*u[0],z:255*u[1],S:255*u[2]})}},p.add.vmsk=new qi.g6,p.add.vstk=JSON.parse(JSON.stringify(Wi.XF.default)),p.add.vmsk.Y=Rr.H.z8(h.path,!1),p.add.vogk=[],p.Ky(),p.fF(e)}var f=o[o.length-1];s||((p=e.rL()).Zu(i.getName()),p.add.lsct=Gi.pb,p.SD="pass",p.OW=24,o.push(p),f=p);var c=i.add.lmfx;c&&(f.add.lmfx=JSON.parse(JSON.stringify(c)));for(l=n+1;l<e.g.length;l++)o.push(e.g[l]);r.data={d:qi.xC,V6:o,TB:[n+a.length+(s?-1:1)],rD:[11,11,0]}}else{var p,o=e.g.slice(0);(p=e.rL()).Zu(i.getName()),o.splice(e.w[0]+1,0,p),p.rect=i.rect.clone(),p.buffer=this.alX,p.G(),r.data={d:qi.xC,V6:o,TB:[e.w[0]+1],rD:[11,11,1]}}this.c(r),this.close()},Cs.prototype=new Ha,Cs.prototype.dE=function(t,e){t=null!=t&&!t.g[t.w[0]].rect.mN();return t||alert("The layer is empty."),t},Cs.prototype._3=function(){return new Pr(0,0)},Cs.prototype.L$=function(){return!0},Cs.prototype.hi=function(t,e){this.r2=t,e=(this.kY=e)-12-33,t<900?(this.a6b.setAttribute("style","display:block;  text-align:right;"),e-=29):this.a6b.setAttribute("style","position:absolute;  right:0px");var n=this.Sr.rect;n&&(0==Cs.acR(t,e,n.m,n.n)?(t=Math.floor(t/2),hr.Yq(this.mq,"flexrow")):(e=Math.floor(e/2),hr.dj(this.mq,"flexrow")),this.gb.hi(t,e),this.Xt.hi(t,e))},Cs.acR=function(t,e,n,i){var r=e/2,e=Math.min(t/2/n,e/i);return Math.min(t/n,r/i)<e?0:1},Cs.prototype.T=function(){Ha.prototype.T.call(this),this.kl.T(),this.A$.T(),this.qQ.T(),this.my.T(),this.M_.T(),this.atb.T(),this.a9w.T()},Cs.prototype.asa=function(t){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.Z4],"_blank")},Cs.prototype.v1=function(t,e){this.xv=t,e!=Bi.Gx&&e!=Bi.MB||(this.kl.BF(t.S9),this.kl.f(Yi.wP(),t.S9.x8,t.S9.u_))},Cs.prototype.XL=function(t,e,n,i){var r,a,s,o,l=this.T3.M();null!=i?(this.nJ=i,null!=(o=qr.Hp.Bl(this.kl.M(),i))?(this.kl.f(o),this.Lw()):i.j(ii.NT)&&i.j(ii.ZJ)?(r=this.dZ,a=0,i.j(ii.Ml)?this.eK+1<r.length&&(a=1):0<this.eK&&(a=-1),0!=a&&(this.eK+=a,s=this.eK,o=this.Sr,1==a?Rr.Ik(r[s][2],r[s][0],o.rw,o.rect):Rr.Ik(r[s+1][1],r[s+1][0],o.rw,o.rect),o.Zn=o.rect,this.pX())):l<3&&this.gb.XL(i)):this.gb.XL(Oa.a7o(l-3))},Cs.prototype.WY=function(t){var e=this.Sr,n=this.dZ,i=Rr.t(4*t.Z());Rr.Ik(e.qB,e.rect,i,t),e.qB=null;var r=Rr.t(4*t.Z());for(Rr.Ik(e.rw,e.rect,r,t),this.eK++,n[this.eK]=[t.clone(),i,r];n.length>this.eK+1;)n.pop();for(;50<n.length;)n=n.slice(1),this.eK--},Cs.prototype.Lw=function(){var t=this.xv,t=tr.Jr(this.kl.M(),t.S9.x8,this.gb.ve().V);this.gb.Ws(t)},Cs.prototype.Wv=function(t){var e=this.xv,n=this.Sr,i=this.nJ,r=this.kl.M(),a=this.gb.Js(),s=[16777215,8421504,0][this.T3.M()];this.Mi=new tr(r,e.S9.x8,e.S9.u_,{cj:1,Wn:!0},s,e.JH,n.rect),n.qB=n.rw.slice(0),null!=i&&i.j(ii.Ml)&&this.Ie?(this.Mi.moveTo(this.Ie.x,this.Ie.y),this.Mi.lineTo(a.x,a.y)):this.Mi.moveTo(a.x,a.y),this.apC()},Cs.prototype.Ij=function(t){this.Sr;var e=this.gb.Js();this.Mi.lineTo(e.x,e.y),this.apC()},Cs.prototype.KE=function(t){this.Ie=this.gb.Js(),this.WY(this.Mi.CY()),this.pX()},Cs.prototype.apC=function(){var t=this.Sr,e=this.Mi,n=e.aC();n.mN()||(t.Zn=n,Rr.a.bW("norm",e.Fy(),e.bZ(),t.rw,t.rect,n,1),this.a2U())},Cs.prototype.ii=function(t){var e=this.Sr;e.qB=e.rw.slice(0),e.Zn=e.rect,Rr.Bg(e.rw,[4278190080,4292730333][this.Z4]),this.WY(e.rect),this.pX()},Cs.prototype.Et=function(t,e){var n=(this.yh=t).g[t.w[0]],i=n.rect.clone(),r=i.m,a=i.n;this.A$.f(0==this.Z4||r*a<3e6?3:0),this.T3.f(null==t.v?0:1),this.A$.a6(),(0==this.Z4&&null!=t.v||1==this.Z4)&&this.A$.S0();var s=this.Z4,o=Rr.t(i.Z()),l=new Float32Array(i.Z());if(0==s&&t.v){Rr.rR(t.v.channel,t.v.rect,o,i);for(var h=Rr.t(i.Z()),u=0;u<a;u++)for(var f=0;f<r;f++){var c=u*r+f,p=o[c];(0<f&&o[c-1]!=p||f<r-1&&o[c+1]!=p||0<u&&o[c-r]!=p||u<a-1&&o[c+r]!=p)&&(h[c]=255)}Rr.style.In(h,l,r,a)}else l.fill(1e9);if(i.x=i.y=0,this.Sr={rect:i,L0:n.buffer,Xa:o,mW:l,Uq:Rr.t(4*i.Z()),HA:Rr.t(4*i.Z()),rw:Rr.t(4*i.Z()),qB:null,Zh:null,Zn:i,a43:{}},0==s)this.ak7();else{this.Sr.a43=qr.UI.hS(t);var d=this.Sr.rw;Rr.Bg(d,4287137928);for(var v=Rr.$o.getSelection(n.buffer,r,a),g=Math.round(r/60),y=Math.round(.7*a),u=0;u<a;u++)for(f=0;f<r;f++){var m=4*(u*r+f),w=128<(w=v[m>>>2])?255:128;d[m]=d[1+m]=d[2+m]=w=u<g||u<y&&(f<g||r-1-g<f)?0:w}this.pX()}this.dZ=[1],this.eK=0;n=this.kl.M();n.Brsh.v.Dmtr.v.val=Math.round(i.m/(0==s?10:20)),this.kl.f(n),this.Lw(),this.hi(this.r2,this.kY),this.gb.KZ()},Cs.prototype.ak7=function(){for(var t=this.Sr,e=t.rect.Z(),n=this.A$.M(),i=t.Xa.slice(0),r=0;r<e;r++)t.mW[r]<n&&(i[r]=128);Rr.Bg(t.rw,4294967295),Rr.al(i,t.rw,0),Rr.al(i,t.rw,1),Rr.al(i,t.rw,2),t.Zn=t.rect,this.pX()},Cs.prototype.pX=function(){var t,e,n=this.Sr,i=0,r=0,a=0;this.a2U();var s=n.rect,o=s.m,l=s.n,h=Rr.t(s.Z()),u=n.L0;Rr.VW(n.rw,h,0);for(var f,c=0;c<h.length;c++)255==u[3+(c<<2)]&&(0==(f=h[c])?i++:255==f?r++:a++);if(i*r*a!=0)if(0==this.Z4)e=Rr.Nv.Nv(s,u,h);else{this.T3.M();for(var p=1;p<l;p++)for(var d=1;d<o;d++){var v=h[c=p*o+d],g=h[c-1];if(0==v&&255==g||255==v&&0==g){t="The Red and Green should never touch! Erase it with Grey.";break}}Date.now();var y=this.Sr.a43;Rr.VO(h,y.fB),qr.UI.hm(y,!0);var m=Math.ceil(this.A$.M()/2);if(0==m)e=u.slice(0),Rr.al(y.v,e,3);else{for(var w=y.v.slice(0),b=y.v.slice(0),M=0;M<m;M++){for(p=1;p<l-1;p++)for(d=1;d<o-1;d++){var S=w[c=p*s.m+d];w[c-o]!=S||w[c-1]!=S||w[c+1]!=S||w[c+o]!=S?b[c]=128:b[c]=S}var C=w,w=b,b=C}e=Rr.Nv.Nv(s,u,w,20,!1)}}else e=u.slice(0),Rr.al(h,e,3);for(c=3;c<e.length;c+=4)e[c]>u[c]&&(e[c]=u[c]);s.iy(n.rect)?n.Zh=e:Rr.Ik(e,s,n.Zh,n.rect),this.a9D(),t&&alert(t,4e3)},Cs.prototype.a2U=function(t){var e=this.Sr,n=e.Zn;Rr.Ik(e.L0,e.rect,e.Uq,e.rect,n,!0);var i=e.rw;if(1==this.Z4){var r=new Uint32Array(256);r[0]=4278190335,r[255]=4278255360;for(var a=e.rect.Z(),i=i.slice(0),s=new Uint32Array(i.buffer),o=0;o<a;o+=2)s[o]=r[255&s[o]],s[o+1]=r[255&s[o+1]]}Rr.a.bW("norm",i,e.rect,e.Uq,e.rect,n,.3),this.gb.f([{Tl:e.rect,data:e.Uq.buffer}])},Cs.prototype.a9D=function(t){var e=this.Sr;Rr.Bg(e.HA,[0,4294967295,4278190080][this.my.M()]),Rr.a.bW("norm",e.Zh,e.rect,e.HA,e.rect,e.rect,1),this.Xt.f([{Tl:e.rect,data:e.HA.buffer}])},Cs.prototype.Wr=function(t){var e=this.yh,n=this.Sr,i=this.M_.M(),r=e.g[e.w[0]],a=new yr(mr.E.u,!0);a.y2=!0;var s,o,l=r.rect.clone();(0==i&&r.SH()||0!=i&&!r.SH())&&(a.b=qr.ZD,a.data={d:qi.hP,i:e.w[0]},this.c(a)),null!=e.v&&(a.b=qr.rZ,a.data={d:"fromAction",__:qr.$S.X0()},this.c(a)),0==i&&(o=e.g.slice(0),(s=e.rL()).Zu(r.getName()),o.splice(e.w[0]+1,0,s),s.rect=l,s.buffer=n.Zh,s.G(),a.b=qr.ZD,a.data={d:qi.xC,V6:o,TB:[e.w[0]+1],rD:[7,11]},this.c(a)),1==i&&(o=r.sL(),a.b=qr.ZD,a.data={d:qi.xo,an2:!0},this.c(a),(e=r.sL()).channel=Rr.t(l.Z()),e.rect=l,e.color=0,e.X$=!0,Rr.VW(n.Zh,e.channel,3),o&&(o=e.bR(o),e.rect=o.rect,e.channel=o.channel,e.color=o.color),e.Er(),r.fF()),2==i&&(l={rect:l,channel:Rr.t(l.Z())},Rr.VW(n.Zh,l.channel,3),a.b=qr.rZ,a.data={d:"setsel",v:l,rD:this.L5},this.c(a)),this.close()},xs.prototype=new Ha,xs.prototype.T=function(){Ha.prototype.T.call(this),this.dW.textContent=ri.get([13,2])+": "+ds.Dk(this.abd),this.Fc.T()},xs.prototype.v1=function(t,e){this.fd=t,e==Bi.Gi&&this.Et()},xs.prototype.Et=function(t,e){var n=this.fd.MY.BW,i=0;for(h in this.N0=[],n)this.N0.push(h);this.N0.sort(function(t,e){return t=t.split("."),e=e.split("."),t[1]==e[1]?t[0]<e[0]?-1:1:t[1]<e[1]?-1:1});for(var r=Math.floor(100*hr.F()),a=Math.floor(16*hr.F()),s=[],o=[],l=0;l<this.N0.length;l++){var h=this.N0[l],u=xs.sW(h,n[h],r,a);s.push(u),o.push(h),i+=n[h].byteLength}this.RC.MO(s,o,r,a),this.abd=i,this.T()},xs.prototype.a4_=function(t){var e=this.RC.M();if(0!=e.length){this.RC.f([]);for(var n=this.fd.MY.BW,i=0;i<e.length;i++)delete n[this.N0[e[i]]];var r=new yr(mr.E.W,!0);r.data={d:mr.J.ot,jm:Bi.Gi},this.c(r)}else alert("Select a file first.")},xs.prototype.iW=function(t){var e,n=this.fd.MY.BW,i={};for(e in n)i[e]=new Uint8Array(n[e]);var r=UZIP.encode(i);El.save(r,"resources.zip")},xs.sW=function(t,e,n,i){var r=hr.L("canvas"),a=0;r.width=n,r.height=i;for(var s=r.getContext("2d"),o=t.split(".").pop().toLowerCase(),l=0;l<o.length;l++)a+=613*o.charCodeAt(l)<<8*l;s.fillStyle="#"+Rr.zI(16777215&a),s.fillRect(0,0,20,i);var h=Math.floor(14*hr.F());s.fillStyle="#000000",s.font="bold "+h+"px sans-serif";t=(i-h)/2,h=ds.Dk(e.byteLength),e=s.measureText(h);return s.fillText(h,n-12-e.width,i-t),r.toDataURL()},Ls.prototype=new Ha,Ls.prototype.XC=function(t){return t==ii.K1||t==ii.kn},Ls.prototype.OM=function(t){t=this.$e.indexOf(t.target);this.DY[this.q3.M()].gT(t)},Ls.prototype.T=function(){Ha.prototype.T.call(this),this.q3.T();for(var t=0;t<this.DY.length;t++)this.DY[t].T();var e=this.$e,n=this.q3.M(),n=Bi.bU[this.apD[n]][0].toUpperCase();e[0].Uf([[23,6],"."+n]),e[1].Uf(["VAR0 ."+n,[1,8]]),e[2].Uf([6,37]),e[3].Uf([5,4])},Ls.prototype.v1=function(t,e){this.fd=t,this.Et()},Ls.prototype.Et=function(t,e){var n,i;hr.DH(this.e)&&(this.T(),hr.d5(this.a0t),this.a0t.appendChild(this.DY[this.q3.M()].N8),n=this.DY,null!=(i=this.fd)&&(n[0].BF(i.S9),n[1].$_(i.k$,i.JH),n[1].BF(i.pA),n[2].BF(i.fC),n[3].BF([i.It,i.fC]),n[4].BF(i.wF),n[5].BF(i.Zt)))},Ds.prototype=new Ha,Ds.prototype._3=function(t,e){return this.aft.clone()},ks.prototype=new Ha,ks.prototype._3=function(t,e){return new Pr(0,0)},ks.prototype.hi=function(t,e){this.r2=t,this.kY=e,this.cb=null,e-=4;var n=this.Wp;n.style.width=t-12+"px",n.style.height=e-12+"px",(n=this.Nd).style.width=t-12+"px",n.style.height=e-12+"px",(n=this.wf).style.width=t+"px",n.style.height=e+"px",this.OR()},ks.prototype.T=function(){Ha.prototype.T.call(this)},ks.prototype.Et=function(t,e,n,i){this.cb=t,this.aao(null,!1)},ks.prototype.aao=function(t,e){var n=null!=e?e:hr.DH(this.wf);if(n){if(!$.WA())return void alert("You need to log in first!");e=$.X3();this.m8=e.tpl?e.tpl.list:[],this.OR()}else this.wf.setAttribute("src",""),this.wf.setAttribute("src",CF.templatesURL);this.body.removeChild(this.body.children[this.body.children.length-1]),this.body.appendChild(n?this.Wp:this.wf),this.IV.Uf(n?"All Templates":"Add Templates")},ks.prototype.OR=function(){var t=this.m8;if(null!=t){var e=this.Wp;hr.d5(e);var n=hr.L("h1");e.appendChild(n),n.textContent="Share your PSD templates with the world!";var i=hr.L("ul");e.appendChild(i);n=hr.L("li");i.appendChild(n),n.textContent="By publishing your templates, you agree to let others use them for all kinds of purposes, even commercially.";n=hr.L("li");i.appendChild(n),n.textContent="Users won't be able to download a PSD, they can only export a JPG or a PNG after editing.",e.appendChild(this.akZ.e),e.appendChild(this.aok.e),hr.hw(e);for(var r="display:inline-block; width:"+((this.r2-20)/Math.max(1,Math.floor(this.r2/450))-42)+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;",a=t.length-1;0<=a;a--){var s=t[a],o=hr.L("div");e.appendChild(o),o.setAttribute("style",r);var l=hr.L("img");o.appendChild(l),l.setAttribute("src",s.thmb),l.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");l=hr.L("h3");o.appendChild(l),l.textContent=s.name,l.setAttribute("style","margin:0 0 10px 0");l=hr.L("p");o.appendChild(l),l.textContent=s.desc,l.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");for(var h=0;h<2;h++){var u=new kr(0==h?"Edit":"Delete",null,null,!0);u.a2x=a,u.HK=0==h,u.h("click",this.aqe,this),o.appendChild(u.e)}}}},ks.prototype.an0=function(t){var e;null!=this.cb?confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?")&&((e=new yr(mr.E.W,!0)).data={d:mr.J.Sp,gw:"psd",fK:this.alH.bind(this)},this.c(e)):alert("No document opened.")},ks.prototype.alH=function(t){this.aq3=t;t=new yr(mr.E.W,!0);t.data={d:mr.J.Sp,gw:"jpg",fK:this.aui.bind(this),alc:1400},this.c(t)},ks.prototype.aui=function(t){this.GW={catg:0,desc:"",file:this.aq3.split("#i").pop(),name:this.cb.name.split(".")[0],thmb:t,utme:""},this.HK()},ks.prototype.anD=function(t){this.GW={catg:0,desc:"",file:"",name:"",thmb:"",utme:""},this.HK()},ks.prototype.aqe=function(t){if(this.Qe=t.target.a2x,!t.target.HK)return this.m8.splice(this.Qe,1),this.iW(),void this.OR();this.HK()},ks.prototype.HK=function(){this.body.removeChild(this.Wp),this.body.appendChild(this.Nd);for(var t=["name","desc","file","thmb"],e=this.GW||this.m8[this.Qe],n=0;n<4;n++){var i=e[t[n]];""!=i&&2==n&&(i="https://photopea.com#i"+i),this.lt[n].f(i)}this.lt[4].f(this.Vw.indexOf(e.catg))},ks.prototype.a27=function(t){var e;6==this.lt.indexOf(t.target)?(e=this.lt[3].M().trim()).startsWith("http")&&(e.endsWith(".jpeg")||e.endsWith(".jpg")||e.endsWith(".png"))?((t=new XMLHttpRequest).open("GET",e),t.responseType="arraybuffer",t.onload=this.abW.bind(this),t.send()):alert("Thumbnail URL is incorrect."):this.ii()},ks.prototype.abW=function(t){t=t.target.response.byteLength;if(2e5<t)alert("Thumbnail is too large ("+ds.Dk(t)+"). Make it under 200 kB.");else{for(var e=["name","desc","file","thmb"],n=this.GW||this.m8[this.Qe],i=0;i<4;i++){var r=this.lt[i].M().trim();if(0==r.length)return void alert("One of values is empty.");if(2==i){var a=r.split("#i");if(2!=a.length||8!=a[1].length)return void alert("File ID is incorrect.");r=a.pop()}n[e[i]]=r}n.catg=this.Vw[this.lt[4].M()],0==n.utme.length&&(n.utme=""+Math.round(Date.now()/1e3)),this.GW&&this.m8.push(this.GW),this.iW(),this.ii()}},ks.prototype.ii=function(){this.GW=null,this.body.removeChild(this.Nd),this.body.appendChild(this.Wp),this.OR()},ks.prototype.iW=function(){var t=$.X3();0==this.m8.length?delete t.tpl:t.tpl={list:JSON.parse(JSON.stringify(this.m8))},$.Z6(t,function(){alert("Saved.")})},ks.KF={c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},Ts.prototype=new Ha,Ts.prototype.T=function(){Ha.prototype.T.call(this),this.pe.T(),this.h1.T(),this.qQ.T()},Ts.prototype.Wr=function(t){var e=new yr(mr.E.u,!0);e.b=qr.rZ,e.data={d:"frompath",Nn:[null,0,this.pe.M(),!this.h1.M()]},this.close(),this.c(e)},As.prototype=new Ha,As.prototype.Et=function(t,e,n,i){var r=hr.DH(this.Ip.e),a=null!=t.cB&&"psd"==t.cB.fH;a&&!r&&this.auD.appendChild(this.Ip.e),!a&&r&&this.auD.removeChild(this.Ip.e);for(var s=0;s<this.gx.length;s++)this.gx[s].f(!1);this.cb=t,this.RQ()},As.prototype.Wr=function(t){t.target==this.qQ?El.save(this.I6,this.Q1):this.gx[3].M()?alert("You should not save a ZIP as a PSD to Google Drive."):Nl.aah(this.cb,this.I6)},As.prototype.Hd=function(){this.cb=null,this.I6=null},As.prototype.RQ=function(){for(var t=this.cb,e=[!1,!1,!1,!1],n=0;n<3;n++)e[n]=this.gx[n].M();var i=this.gx[3].M(),r=e[3]=1==this.D0.M(),a=t.name.slice(0,t.name.length-3),t=this.I6=ai.TN("PSD").D6(t,0,0,e),r=this.Q1=a+"ps"+(r?"b":"d");i&&((i={})[r]=new Uint8Array(t),t=this.I6=UZIP.encode(i),r=this.Q1=a+"zip"),this.zN.f(r),this.Ec.f(ds.Dk(t.byteLength)),this.Ec.e.style["font-size"]="2em",this.aoK.f("   "+t.byteLength+" B"),this.qQ.Uf(ri.get([1,2])+' "'+r+'"')},As.prototype.T=function(){Ha.prototype.T.call(this),this.qQ.T(),this.Ip.T()},Es.prototype=new Ha,Es.prototype.Wr=function(t){this.ky(),this.close()},Es.prototype.Et=function(t,e){this.Qs.textContent=e.k,this.ky=e.ky},Es.prototype._3=function(t,e){return new Pr(Math.max(0,(t-500)/2),Math.max(0,Math.min(60,(e-100)/2)))},Es.prototype.hi=function(t,e){this.Qs.style.width=t-30+"px"},Os.prototype=new Ha,Os.prototype.dE=function(t,e){return null!=t},Os.prototype.Wr=function(t){var e=this.RC.M();this.U0.m=e.x,this.U0.n=e.y;e=new yr(mr.E.u,!0);e.b=qr.j8,e.data={aku:this.U0,Zx:this.Z4},this.c(e),this.close()},Os.prototype.T=function(){Ha.prototype.T.call(this),this.RC.T(),this.qQ.T()},Os.prototype.Et=function(t,e){this.Z4=e.Zx;var n,i=new Fr(0,0,t.m,t.n);0!=t.w.length&&((n=t.g[t.w[0]]).add.artb&&((i=n.Gn()).x+=i.m+100),1==e.Zx&&(i=qr.Q.bZ(t))),this.U0=i,this.RC.f(new Pr(i.m,i.n))},Ns.prototype=new Sr,Ns.prototype.rs=function(){return null},Ns.prototype.T=function(){var t=ri.get(this.name),e=0==this.r2?22:Math.round(2+this.r2/50),n=t.length>e;if(this.R0.textContent=n?t.slice(0,e-2):t,n)for(var i=0;i<2;i++){var r=hr.L("span");r.textContent=t.charAt(e-2+i),r.setAttribute("style","opacity:"+(.6-.4*i)),this.R0.appendChild(r)}var a=t.split(" "),n=2==a.length?a[0].substring(0,2)+a[1][0]:t.substring(0,3);11776<=n.charCodeAt(0)&&(n=n.substring(0,1));var s,a=this.a8n;null==a?this.Vs.Uf(n,t):(a.startsWith("---")?s='<img src="'+PIMG[a.slice(3)]+'" class="autoscale gsicon" style="margin:2px 4px;"/>':-1==a.indexOf('"')&&(s='<img src="'+a+'" alt="'+t+'" height="18" width="18" loading="lazy" style="margin:1px 3px;" />'),this.Vs.Uf(s,t))},Ns.prototype.enable=function(){this.Vz.setAttribute("class","pbody")},Ns.prototype.disable=function(){this.Vz.setAttribute("class","pbody disabled")},Ns.prototype.v1=function(t,e){},Ns.prototype.Et=function(t,e,n){},Ns.prototype.RY=function(t){},Ns.prototype.hi=function(t,e){},Ns.prototype.xk=function(t){this.name=t,this.T()},Ns.prototype.AC=function(){},Ns.prototype.ate=function(t){0==t.button&&this.c(new yr("select",!1))},Ns.prototype.a2I=function(t){var e,n;hr.ga(t),null!=this.lV&&isNaN(this.lV)||(e=hr.B6(t,document.body),(n=this.mH).update(null),n.T(),n.parent=this,(t=new yr(mr.E.W,!0)).data={d:mr.J.u9,IZ:n,x:e.x+1,y:e.y+1},this.c(t))},Ns.prototype.ll=function(){this.kf({})},Ns.prototype.kf=function(t){t.stopPropagation&&t.stopPropagation(),null==this.lV||isNaN(this.lV)?this.a5y()&&this.c(new yr(mr.E.Q7,!1)):((t=new yr(mr.E.W,!0)).data={d:mr.J.dv,IZ:this.mH},this.c(t),t.data={d:mr.J.ot,jm:Bi.Cp,k:parseFloat(this.lV),tX:"del"},this.c(t))},Ns.prototype.a5y=function(t){return!0},Ns.prototype.CK=function(t,e,n,i,r){},Ns.prototype.wl=function(t,e,n,i,r){},Ns.prototype.f9=function(t,e,n,i,r){},Ns.dk=function(t,e){var n;0==t.childElementCount&&(n=t.textContent,this.Al=this.ajz.bind(this),this.alx=this.ar6.bind(this),this.Lm=e,this.we=t,this.a73=n,(e=hr.L("input","")).setAttribute("type","text"),e.setAttribute("size","10"),e.setAttribute("value",n),hr.d5(t),t.appendChild(e),e.select(),e.focus(),hr.v6(t),t.addEventListener("keyup",this.Al,!1),document.body.addEventListener("mousedown",this.alx,!1))},Ns.dk.prototype.ajz=function(t){var e=ii.A7,n=e(t.code,ii.C_);(e(t.code,ii.Yh)||n)&&this.a3n(n)},Ns.dk.prototype.ar6=function(t){t=t.target;t.tagName&&"input"==t.tagName.toLowerCase()||this.a3n(!0)},Ns.dk.prototype.a3n=function(t){var e=this.we,n=e.firstChild.value;e.removeEventListener("keyup",this.Al),document.body.removeEventListener("mousedown",this.alx),t&&""!=n?this.Lm(n):(hr.d5(e),e.textContent=this.a73)},Ns.DG={bX:"0",a51:"1",ZD:"2",a7E:"3",a2d:"4",OX:"5",CSS:"6",Gx:"7",agU:"8",a7q:"9",ajH:"10",al2:"11",a3z:"12",UB:"13",Fg:"14",a0S:"15",alL:"16",Im:"17",a2E:"18",abb:"19",anF:"20",q2:"21",atu:"22"},Is.prototype=new Ns(""),Is.prototype.T=function(){Ns.prototype.T.call(this);for(var t=0;t<this.DY.length;t++)this.DY[t].T()},Is.prototype.ajG=function(t){var e=this.DY.indexOf(t.currentTarget),n=this.iz,i=this.fd,t=i.TD;if(0==e){var r,a=i.ud;0!=t.length?n.length<2?alert("Select a target action first."):(a=null==a?(r=this.ac8,this.iz):(r=this.atj,null),this.DY[0].Uf(r),i.ud=a):alert("Create an Action Set first.")}else if(1==e)this.aiV();else if(2==e||3==e){a={rD:"Action Set "+t.length,ct:[],exp:!0};2!=e&&0!=t.length||(n=[t.length],t.push(a)),3==e&&(a=t[n[0]].ct,n=[n[0],a.length],a.push({rD:"Action "+a.length,color:0,ct:[],a5Q:!1,shift:!1,exp:!0,BT:a.length})),this.iz=n,this.yE()}else if(4==e){var s=1==n.length?t:(2==n.length?t[n[0]]:t[n[0]].ct[n[1]]).ct,o=n.length-1;if(s.splice(n[o],1),0==s.length)n.pop();else for(;n[o]>=s.length;)n[o]--;0==n.length&&n.push(0),this.yE()}else 5==e&&(0!=t.length?((t=new yr(mr.E.W,!0)).data={d:mr.J.Hk,a6H:Bi.u,r4:n[0]},this.c(t)):alert("No Actions Present."))},Is.prototype.wV=function(t){var e,n=this.fd.TD,i=t.data.d,r=t.data.VC;"sel"==i&&(this.iz=r),"fold"==i&&(1==r.length?n[r[0]].exp=!n[r[0]].exp:n[r[0]].ct[r[1]].exp=!n[r[0]].ct[r[1]].exp),"enab"==i&&((e=n[r[0]].ct[r[1]].ct[r[2]]).K=!e.K),"nchange"==i&&(1==r.length?n[r[0]].rD=t.data.uD:n[r[0]].ct[r[1]].rD=t.data.uD),this.yE()},Is.prototype.v1=function(t,e){this.fd=t,e!=Bi.u&&e!=Bi.MB||this.yE()},Is.prototype.yE=function(){if(null!=this.fd){hr.d5(this.bQ);var t=this.fd.TD;if(0!=t.length)for(var e=JSON.stringify(this.iz),n=0;n<t.length;n++){var i=t[n];if(((o=new Is.Fw([n],e,i.exp,i.rD.split("=").pop())).parent=this).bQ.appendChild(o.e),i.exp)for(var r=0;r<i.ct.length;r++){var a=i.ct[r];if(((o=new Is.Fw([n,r],e,a.exp,a.rD.split("=").pop())).parent=this).bQ.appendChild(o.e),a.exp)for(var s=0;s<a.ct.length;s++){var o,l=a.ct[s];((o=new Is.Fw([n,r,s],e,null,ri.get(Ui.at4(l)),l.K)).parent=this).bQ.appendChild(o.e)}}}}},Is.prototype.aiV=function(){var t,e=this.fd.TD,n=this.iz;0!=e.length?1!=n.length?null==this.fd.ud?(1==n.length&&n.push(0),e=(t=e[n[0]]).ct[n[1]],(n=new yr(mr.E.W,!0)).data={d:mr.J.$u,Nn:[e.rD,t.rD]},this.c(n)):alert("You can not apply actions while recording actions"):alert("Select an Action first"):alert("No Actions Present")},Is.Fw=function(t,e,n,i,r){Sr.call(this),this.VC=t;var a,s=this.VC.length-1;this.e=hr.L("div","layeritem"+(JSON.stringify(t)==e?" selected":"")),this.d4=hr.L("div","head"),this.e.appendChild(this.d4),this.d4.setAttribute("style","height:24px"),this.Ts=hr.L("div","headL"),this.d4.appendChild(this.Ts),0!=s&&((e=hr.L("div")).style.width=20*s+"px",this.Ts.appendChild(e)),null!=n?(a=this.a8W=hr.L("div",n?"open":"closed"),this.Ts.appendChild(a)):((a=this.aks=hr.L("div","cmark")).setAttribute("style","background-size:12px 12px; opacity:"+(r?1:.3)),this.Ts.appendChild(a)),0==s&&(o=hr.L("div","folder"),this.Ts.appendChild(o));var o=this.R0=hr.L("div","label");o.textContent=i,this.Ts.appendChild(o),this.e.addEventListener("mouseup",this.k9.bind(this),!1)},Is.Fw.prototype=new Sr,Is.Fw.prototype.k9=function(t){var e;1==t.detail&&"input"!=t.target.tagName.toLowerCase()?(e="sel",t.target==this.a8W&&(e="fold"),t.target==this.aks&&(e="enab"),(t=new yr(mr.E.o,!0)).data={d:e,VC:this.VC},this.c(t)):this.VC.length<3&&new Ns.dk(this.R0,this.Lm.bind(this))},Is.Fw.prototype.Lm=function(t){var e=new yr(mr.E.o,!0);e.data={d:"nchange",uD:t,VC:this.VC},this.c(e)},Ps.prototype=new Ns(""),Ps.prototype.T=function(){Ns.prototype.T.call(this);for(var t=0;t<this.DY.length;t++)this.DY[t].T()},Ps.prototype.aua=function(t){var e=this.DY.indexOf(t.target),t=ss.vr()[e],e=new yr(t._,!0);e.data=t.R,this.c(e)},Fs.prototype=new Ns(""),Fs.prototype.Px=function(t){var e=this.lj.M(),n=new yr(mr.E.u,!0);n.data={d:"setstl",k:e.yu},n.b=qr.em,this.c(n),n.data={d:"confirm"},this.c(n)},Fs.prototype.v1=function(t,e){e!=Bi.q2&&e!=Bi.MB||this.lj.BF([t.It,t.fC])};var _s=((Bs.prototype=new Ns("")).z_=function(){var t=hr.L("div","");this.Vz.appendChild(t),this.ee=hr.L("div","bordered cell"),this.ee.setAttribute("style","width:10em; height:28.5em;"),t.appendChild(this.ee),this.YQ=[],this.Yi=null,this.By=[];var e=this.ale.bind(this);this.aa=[new Us,new js,new Hs,new Js];for(var n=0;n<this.aa.length;n++){var i=hr.L("div","listitem"),r=this.aa[n]._8,a=null;0==n?(this.Yi=new Dr(r),i.appendChild(this.Yi.e)):((a=new Lr(r,!1)).h(mr.E.o,this.a6z,this),i.appendChild(a.e)),this.By.push(a),this.ee.appendChild(i),this.YQ.push(i),i.addEventListener("click",e,!1)}this.ba=hr.L("div","cell padded"),t.appendChild(this.ba);for(n=0;n<this.aa.length;n++)this.aa[n].h("brushchange",this.a8x,this);this.setItem(0),this.O=hr.L("canvas"),this.O.height=10,t.appendChild(this.O),this.XN=this.O.getContext("2d"),this.pX()},Bs.prototype.hi=function(t,e){this.r2!=t&&(this.r2=t,this.kY=e,this.pX())},Bs.prototype.AC=function(){hr.DH(this.Vz)&&(this.ee?this.pX():(this.z_(),this.T(),this.v1(this.fd,Bi.MB)))},Bs.prototype.T=function(){if(Ns.prototype.T.call(this),null!=this.ee){this.Yi.T();for(var t=1;t<this.By.length;t++)this.By[t].T();for(t=0;t<this.aa.length;t++)this.aa[t].T()}},Bs.prototype.a8x=function(t){var e=this.aa.indexOf(t.currentTarget),t=JSON.parse(JSON.stringify(this.aa[e].Mt)),e=new yr(mr.E.W,!0);e.data={d:mr.J.ot,jm:Bi.qX,Mt:t},this.c(e)},Bs.prototype.a6z=function(t){this.ao9(this.By.indexOf(t.currentTarget),t.currentTarget.wI())},Bs.prototype.ale=function(t){var e=this.YQ.indexOf(t.currentTarget);"input"!=t.target.tagName.toLowerCase()&&(this.By[e]&&!this.By[e].wI()&&(this.By[e].j4(),this.ao9(e,!0)),this.setItem(e))},Bs.prototype.ao9=function(t,e){this.aa[t].c4(e)},Bs.prototype.setItem=function(t){for(var e=0;e<this.aa.length;e++)this.YQ[e].setAttribute("class","listitem");this.ba.firstChild&&this.ba.removeChild(this.ba.firstChild),this.YQ[t].setAttribute("class","listitem selected"),this.ba.appendChild(this.aa[t].e)},Bs.prototype.v1=function(t,e){if(this.fd=t,null!=this.ee){if(e==Bi.Gx||e==Bi.MB){this.ua=t.S9;for(var n=0;n<this.aa.length;n++)this.aa[n].BF(this.ua)}e!=Bi.qX&&e!=Bi.MB||(this.Mt=t.S9.Ej,this.pX()),e==Bi.UB&&this.pX()}},Bs.prototype.pX=function(){if(this.Mt){if(this.enable(),hr.DH(this.Vz)){for(var t=this.fd,e=0;e<this.aa.length;e++)this.aa[e].f(this.Mt),this.By[e]&&this.By[e].f(this.aa[e].wI());var n=JSON.parse(JSON.stringify(this.Mt));n.Brsh.v.Dmtr.v.val=Math.min(n.Brsh.v.Dmtr.v.val,50),hr.r9(this.O,this.r2,80);var i=new Fr(0,0,this.O.width,this.O.height),r=new tr(n,this.ua?this.ua.x8:null,this.ua?this.ua.u_:null,{cj:1},t.k$,t.JH,i,null,0),a=i.n/2,s=i.m-2*a;r.moveTo(a,a);for(e=0;e<=s;e+=10)r.lineTo(a+e,a+20*Math.sin(2*Math.PI*e/s));r.finish();t=this.XN.createImageData(i.m,i.n);Rr.Ik(r.Fy(),r.bZ(),t.data,i),this.XN.putImageData(t,0,0)}}else this.disable()},(Rs.prototype=new Sr).BF=function(t){},Rs.prototype.f=function(t){this.Mt=JSON.parse(JSON.stringify(t)),this.e.setAttribute("class",this.wI()?"":"disabled"),this.pX()},Rs.prototype.c4=function(t){},Rs.prototype.wI=function(){return!1},Rs.prototype.T=function(){},Rs.prototype.pX=function(){},Rs.prototype.Jg=function(){this.c(new yr("brushchange"))},(Us.prototype=new Rs).T=function(){this.ke.T(),this._y.T(),this.D1.T(),this.ei.T(),this.wG.T()},Us.prototype.wI=function(){return!0},Us.prototype.BF=function(t){this.ua=t;for(var e=[],n=Math.floor(30*hr.F()),i=Math.floor(40*hr.F()),r=0;r<t.list.length;r++){var a=t.list[r].v,a=tr.sW(a,t.x8,t.u_,n,i);e.push(a)}this.yv.MO(e,null,n,i)},Us.prototype.pX=function(){var t=this.Mt.Brsh.v,e=t.classID!=this.a8V;if(this.a8V=t.classID,e)for(var n=0;n<this.YQ.length;n++)this.e.contains(this.YQ[n].e)&&this.e.removeChild(this.YQ[n].e);this.ke.f(t.Dmtr.v.val),e&&this.e.appendChild(this.ke.e),this._y.f(t.Angl.v.val),e&&this.e.appendChild(this._y.e),"computedBrush"!=t.classID&&"sampledBrush"!=t.classID||(this.D1.f(t.Rndn.v.val),e&&this.e.appendChild(this.D1.e)),"computedBrush"==t.classID&&(this.ei.f(t.Hrdn.v.val),e&&this.e.appendChild(this.ei.e)),this.wG.f(t.Spcn.v.val),e&&this.e.appendChild(this.wG.e)},Us.prototype.alB=function(t){this.Mt=this.ua.list[this.yv.M()[0]].v,this.Jg()},Us.prototype.al4=function(t){this.Mt.Brsh.v.Dmtr.v.val=t.target.M(),this.Jg()},Us.prototype.aei=function(t){this.Mt.Brsh.v.Angl.v.val=t.target.M(),this.Jg()},Us.prototype.a6t=function(t){this.Mt.Brsh.v.Rndn.v.val=t.target.M(),this.Jg()},Us.prototype.aew=function(t){this.Mt.Brsh.v.Hrdn.v.val=t.target.M(),this.Jg()},Us.prototype.asF=function(t){this.Mt.Brsh.v.Spcn.v.val=t.target.M(),this.Jg()},(js.prototype=new Rs).T=function(){this.rA.T(),this.tA.T(),this._b.T(),this.UZ.T(),this.$$.T()},js.prototype.wI=function(){return this.Mt.useTipDynamics.v},js.prototype.c4=function(t){this.Mt.useTipDynamics.v=t,Yi.JX.Ri(this.Mt),this.Jg()},js.prototype.pX=function(){var t=this.Mt;0!=t.useTipDynamics.v&&(this.rA.f(t.szVr.v.jitter.v.val),this.tA.f(t.minimumDiameter.v.val),this._b.f(t.angleDynamics.v.jitter.v.val),this.HB.f(0==t.angleDynamics.v.bVTy.v?0:1),this.UZ.f(t.roundnessDynamics.v.jitter.v.val),this.$$.f(t.minimumRoundness.v.val))},js.prototype.agN=function(t){this.Mt.szVr.v.jitter.v.val=t.target.M(),this.Jg()},js.prototype.a1d=function(t){this.Mt.minimumDiameter.v.val=t.target.M(),this.Jg()},js.prototype.a0u=function(t){this.Mt.angleDynamics.v.jitter.v.val=t.target.M(),this.Jg()},js.prototype.akt=function(t){this.Mt.angleDynamics.v.bVTy.v=0==t.target.M()?0:6,this.Jg()},js.prototype.anw=function(t){this.Mt.roundnessDynamics.v.jitter.v.val=t.target.M(),this.Jg()},js.prototype.a9i=function(t){this.Mt.minimumRoundness.v.val=t.target.M(),this.Jg()},(Hs.prototype=new Rs).T=function(){this.OG.T(),this.VJ.T(),this.H4.T()},Hs.prototype.wI=function(){return this.Mt.useScatter.v},Hs.prototype.c4=function(t){this.Mt.useScatter.v=t,Yi.JX.Ri(this.Mt),this.Jg()},Hs.prototype.pX=function(){var t=this.Mt;0!=t.useScatter.v&&(this.OG.f(t.scatterDynamics.v.jitter.v.val),this.VJ.f(t.Cnt.v),this.H4.f(t.countDynamics.v.jitter.v.val))},Hs.prototype.a37=function(t){this.Mt.scatterDynamics.v.jitter.v.val=t.target.M(),this.Jg()},Hs.prototype.acD=function(t){this.Mt.Cnt.v=t.target.M(),this.Jg()},Hs.prototype.ajr=function(t){this.Mt.countDynamics.v.jitter.v.val=t.target.M(),this.Jg()},(Js.prototype=new Rs).T=function(){this.ni.T(),this.nO.T(),this.m2.T(),this.ef.T()},Js.prototype.wI=function(){return this.Mt.useColorDynamics.v},Js.prototype.c4=function(t){this.Mt.useColorDynamics.v=t,Yi.JX.Ri(this.Mt),this.Jg()},Js.prototype.pX=function(){var t=this.Mt;0!=t.useColorDynamics.v&&(this.ni.f(t.clVr.v.jitter.v.val),this.nO.f(t.H.v.val),this.m2.f(t.Strt.v.val),this.ef.f(t.Brgh.v.val))},Js.prototype.aoP=function(t){this.Mt.clVr.v.jitter.v.val=t.target.M(),this.Jg()},Js.prototype.alZ=function(t){this.Mt.H.v.val=t.target.M(),this.Jg()},Js.prototype.anC=function(t){this.Mt.Strt.v.val=t.target.M(),this.Jg()},Js.prototype.amC=function(t){this.Mt.Brgh.v.val=t.target.M(),this.Jg()},Bs);function Bs(){Ns.call(this,[9,3],!1,"---panels/brush",Ns.DG.Gx),this.ua=null,this.Mt=null,this.fd=null}function Rs(t){Sr.call(this),this._8=t,this.e=hr.L("div",""),this.Mt=null}function Us(){Rs.call(this,[15,0]),this.ua=null,this.a8V=null,this.yv=new Wr(!0),this.e.appendChild(this.yv.e),this.yv.h(mr.E.o,this.alB,this),this.yv.e.style.height="10.7em",this.ke=new Nr([12,14,0],1,1e3," px",0,!0),this.ke.h(mr.E.o,this.al4,this),this._y=new Nr([12,15],0,359," °"),this._y.h(mr.E.o,this.aei,this),this.D1=new Nr([12,16],0,100," %"),this.D1.h(mr.E.o,this.a6t,this),this.ei=new Nr([12,17],0,100," %"),this.ei.h(mr.E.o,this.aew,this),this.wG=new Nr([12,18],1,300," %"),this.wG.h(mr.E.o,this.asF,this),this.YQ=[this.ke,this._y,this.D1,this.ei,this.wG]}function js(){Rs.call(this,[15,1]),this.rA=new Nr([15,4,0],0,100,"%"),this.rA.h(mr.E.o,this.agN,this),this.e.appendChild(this.rA.e),this.tA=new Nr([15,4,1],0,100,"%"),this.tA.h(mr.E.o,this.a1d,this),this.e.appendChild(this.tA.e),this._b=new Nr([15,4,2],0,100,"%"),this._b.h(mr.E.o,this.a0u,this),this.e.appendChild(this._b.e),this.HB=new Ir("Control",["Off","Direction"]),this.HB.h(mr.E.o,this.akt,this),this.e.appendChild(this.HB.e),this.UZ=new Nr([15,4,3],0,100,"%"),this.UZ.h(mr.E.o,this.anw,this),this.e.appendChild(this.UZ.e),this.$$=new Nr([15,4,4],1,100,"%"),this.$$.h(mr.E.o,this.a9i,this),this.e.appendChild(this.$$.e)}function Hs(){Rs.call(this,[15,2]),this.OG=new Nr([15,5,0],0,1e3," %"),this.OG.h(mr.E.o,this.a37,this),this.e.appendChild(this.OG.e),this.VJ=new Nr([15,5,1],1,20),this.VJ.h(mr.E.o,this.acD,this),this.e.appendChild(this.VJ.e),this.H4=new Nr([15,5,2],0,100," %"),this.H4.h(mr.E.o,this.ajr,this),this.e.appendChild(this.H4.e)}function Js(){Rs.call(this,[15,3]),this.ni=new Nr([15,6,0],0,100," %"),this.ni.h(mr.E.o,this.aoP,this),this.e.appendChild(this.ni.e),this.nO=new Nr([15,6,1],0,100," %"),this.nO.h(mr.E.o,this.alZ,this),this.e.appendChild(this.nO.e),this.m2=new Nr([15,6,2],0,100," %"),this.m2.h(mr.E.o,this.anC,this),this.e.appendChild(this.m2.e),this.ef=new Nr([15,6,3],0,100," %"),this.ef.h(mr.E.o,this.amC,this),this.e.appendChild(this.ef.e)}function qs(){Ns.call(this,[9,0],!1,null,Ns.DG.bX),this.Vz.setAttribute("style","min-width:200px;"),this._0=hr.L("div","hpbody scrollable"),this._0.style.height="160px",this.Vz.appendChild(this._0),this.arI=-1,this.GS=[],this.k0="",this.Vq=new xr([{name:"Clear History"}],[{_:mr.E.u,b:qr.bX,R:{d:"h_clear"}}])}function Gs(t,e,n){Sr.call(this),this.index=e,this.e=hr.L("div",e==n?"listitem selected":"listitem"),this.mS=t.name,this.T(),n<e&&(this.e.style.opacity=.4),this.e.addEventListener("click",this.CK.bind(this),!1)}function Zs(){Ns.call(this,[9,10],!1,"---panels/histogram",Ns.DG.a2d);var t=hr.L("div","padded");this.Vz.appendChild(t),this.bJ=new ua(256,!0),t.appendChild(this.bJ.e),this.cb=null}function zs(){Ns.call(this,[9,8],!1,null,Ns.DG.a51),this.bQ=hr.L("div","padded"),this.Vz.appendChild(this.bQ),this.tO=new ta(10),this.bQ.appendChild(this.tO.e),this.bQ.appendChild(hr.L("hr")),this.OV=new ya,(this.OV.parent=this).bQ.appendChild(this.OV.N8),this.tO.h(mr.E.o,this.adc,this),this.OV.h(mr.E.o,this.adc,this)}function Vs(){Ns.call(this,[12,72],!1,"---adj/mixr",Ns.DG.alL),this.kK=null,this.je=null,this._0=hr.L("div","lpbody scrollable"),this.cK=hr.L("div","lpfoot"),this.Vz.appendChild(this._0),this.Vz.appendChild(this.cK),this.UT=[],this.h("click",this.ja,this),this.IQ=[],Vs.NE([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.IQ,this.cK,this.tF.bind(this),this.VK.bind(this)),this.Vq=new xr([{name:"Merge Channels",ZN:!0}],[{_:mr.E.W,R:{d:mr.J.go,RB:"mergechannels"}}])}function Ws(t,e,n,i,r,a,s,o,l){Sr.call(this),this.e=hr.L("div","layeritem"),this.aey=t,this.aeA=e,this.XN=i,this.akQ=o,this.a9H=l,this.d4=hr.L("div",a?"head selected":"head"),this.d4.setAttribute("style","height: 40px");o=hr.L("div","headL"),l=hr.L("div","headR"),a=15;this.e.appendChild(this.d4),this.d4.appendChild(o),this.d4.appendChild(l),this.O$=hr.L("div","eye"),1<hr.F()&&hr.F()<1.5&&(a/=hr.F()),this.O$.setAttribute("style","background-size: "+a+"px "+a+"px;"),this.O$.style.opacity=s?1:.2,e&&o.appendChild(this.O$),this.TK=hr.L("div","thumb"),i&&this.TK.appendChild(i.canvas),o.appendChild(this.TK),this.K8=hr.L("div","label"),n&&(this.K8.style.fontStyle="italic"),this.K8.textContent=ri.get(r),o.appendChild(this.K8);o=this.d4;o.setAttribute("draggable","true"),o.addEventListener("dragstart",function(t){t.dataTransfer.setData("Text","")},!1),hr.rr(this.d4,this.abN.bind(this)),n||this.d4.addEventListener("mouseup",this.aa4.bind(this),!1)}function Xs(){Ns.call(this,[8,9],!1,"---panels/paths",Ns.DG.Im),this.kK=null,this.je=null,this._0=hr.L("div","lpbody scrollable"),this.cK=hr.L("div","lpfoot"),this.Vz.appendChild(this._0),this.Vz.appendChild(this.cK),this.Vz.addEventListener("click",this.ao_.bind(this),!1),this.UT=[],this.h("click",this.ja,this),this.IQ=[],Vs.NE(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.IQ,this.cK,this.tF.bind(this),this.VK.bind(this))}function Ys(t){Ns.call(this,[9,t?4:5],!1,"---panels/"+(t?"character":"paragraph"),t?Ns.DG.a7q:Ns.DG.ajH),this.Vz.setAttribute("style","min-width:240px;"),this.a48=t,this.vm=null,this.fd=null}function Ks(){Ns.call(this,[9,13],!1,"---panels/glyphs",Ns.DG.abb),this.vm=new pa,(this.vm.parent=this).fd=null,this.aqN=null,this.agv=null,this.c0=null,this.amt=null,this.Gc=Math.round(290*hr.F()),this.bg=45,this.a1g=4,this.a3R=this.yE.bind(this),this.anA=0,this.TS=new Ir(null,["Hi","Hello"]),this.TS.h(mr.E.o,this.yE,this);var t=this.Rb=new kr("-",null,null,!0);t.h("click",this.aas,this);var e=this.amj=new kr("+",null,null,!0);e.h("click",this.aas,this),this.SA=new Wr(!1),this.SA.h(mr.E.o,this.Ym,this),this.SA.e.style.height="250px";var n=this.wH=hr.L("div","form padded");this.Vz.appendChild(n),n.appendChild(this.vm.h2.e),hr.hw(n),n.appendChild(this.TS.e),n.appendChild(t.e),n.appendChild(e.e),this.Vz.appendChild(this.SA.e)}function Qs(){Ns.call(this,[13,0],!1,null,Ns.DG.UB),this.vR=0,this.a0a=0,this.fd=null;var t=hr.L("div","flexrow padded");this.Vz.appendChild(t);var e=hr.L("div");t.appendChild(e),this.Y0=[];for(var n=0;n<2;n++){var i=new ea;this.Y0.push(i),i.h("click",this.au6,this),e.appendChild(i.e)}this.Mv=new fa(192),this.Mv.h(mr.E.o,this.SE,this),t.appendChild(this.Mv.e)}function $s(){Ns.call(this,"CSS",!1,"---panels/css",Ns.DG.CSS),this.cb=null;var t=hr.L("div","padded");this.Vz.appendChild(t),this.wj=hr.L("textarea"),hr.v6(this.wj),t.appendChild(this.wj)}function to(){Ns.call(this,[9,6],!1,"---panels/info",Ns.DG.a7E),this.Vz.setAttribute("style","min-width:240px;"),this.cb=null,this.fd=null;var t=hr.L("div","marged row");this.Vz.appendChild(t);var e=hr.L("div","cell");e.setAttribute("style","width:10em"),t.appendChild(e);var n=hr.L("div","cell");n.setAttribute("style","width:10em"),t.appendChild(n),this.atV=[];for(var i=0;i<4;i++){var r=new Dr("");this.atV.push(r),e.appendChild(r.e),hr.hw(e)}this.Vz.appendChild(hr.L("hr",""));t=hr.L("div","marged row");this.Vz.appendChild(t),(e=hr.L("div","cell")).setAttribute("style","width:10em"),(n=hr.L("div","cell")).setAttribute("style","width:10em"),t.appendChild(e),t.appendChild(n),this.OA=new Dr(""),e.appendChild(this.OA.e),hr.hw(e),this.FV=new Dr(""),e.appendChild(this.FV.e),this.dg=new Dr(""),n.appendChild(this.dg.e),hr.hw(n),this.Le=new Dr(""),n.appendChild(this.Le.e),this.OA.f("X: 100 px"),this.FV.f("Y: 100 px"),this.dg.f("W: 0"),this.Le.f("H: 0")}function eo(){Ns.call(this,[9,1],!1,"---panels/layers",Ns.DG.ZD),this.jc=null,this.Jt=null,this.R5=null,this.d4=hr.L("div","lphead"),this._0=hr.L("div","lpbody scrollable"),this.cK=hr.L("div","lpfoot"),this.Yz=new Lr([0,6]),this.Yz.h(mr.E.o,this.ar,this),this.d4.appendChild(this.Yz.e),this.aN=hr.L("span","disabled"),this.aN.setAttribute("style","display:inline-block; height:26px"),this.d4.appendChild(this.aN),this.Sf=new Ir(null,["Kind",[12,48]],!1,[]),this.Sf.h(mr.E.o,this.ar,this);var t=this.Dm=[new Vr(null,['<img src="'+PIMG.pix_layer+'" class="autoscale gsicon" />','<img src="'+PIMG["lrs/adj"]+'" class="autoscale gsicon" />','<img src="'+PIMG["tools/htype"]+'" class="autoscale gsicon" />','<img src="'+PIMG.shape_layer+'" class="autoscale gsicon" />','<img src="'+PIMG.so_layer+'" class="autoscale gsicon" />'],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new Tr(null,null,8)];t[0].h(mr.E.o,this.ar,this),t[1].h("input",this.ar,this),this.aoO(),this.pj=new Ir(null,Ji.f$,!1,Ji.Kc),this.pj.h(mr.E.o,this.adB,this),this.d4.appendChild(this.pj.e),this.eG=new Er([12,0],0,100,"%",0),this.eG.h(mr.E.o,this.a7w,this),(this.eG.parent=this).d4.appendChild(this.eG.e),this.HO=new Vr([6,57,2],['<img src="'+PIMG.trsp3+'" class="autoscale gsicon" />','<img src="'+PIMG["tools/brush"]+'" class="autoscale gsicon" />','<img src="'+PIMG.pos+'" class="autoscale gsicon" />','<img src="'+PIMG["lrs/lock"]+'" class="autoscale gsicon" />'],!0,["Transparency",[12,76,2],[12,40],[7,0]]),this.HO.h(mr.E.o,this.ajX,this),this.d4.appendChild(this.HO.e),this.U_=new Er([12,26],0,100,"%",0),this.U_.h(mr.E.o,this.aq1,this),(this.U_.parent=this).d4.appendChild(this.U_.e),this.IQ=[],this.NE(),this.Vz.appendChild(this.d4),this.Vz.appendChild(this._0),this._0.addEventListener("dragover",function(t){t.preventDefault()},!1),this._0.addEventListener("dragenter",hr.ga,!1),this._0.addEventListener("drop",this.a5M.bind(this),!1),this.Vz.appendChild(this.cK),this.Vz.addEventListener("contextmenu",hr.ga,!1);var e=ss.dR(!0),t=ss.DQ(!0);this.ajd=new xr(e,t);e=[{name:[14,10]},{name:[14,11],jp:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],jp:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",K:function(t){return{K:null!=t.g[t.w[0]].add.SoLd}},jp:!0},{name:[6,8],K:eo.aqB},{name:[6,34],K:function(t){t=t.g[t.w[0]];return{K:null!=t.add.lmfx&&!t.dH()}}},{name:[6,40],jp:!0,K:function(t){return{K:null!=t.g[t.w[0]].add.TySh}}},{name:"",jp:!0,K:function(t){var e=t.g[t.w[0]].add.TySh,t=e?e.nx:null;return{K:null!=e&&null==t.Curve,yU:ri.get(e&&0==ir.R_(t)?[16,3,1]:[16,3,0])}}},eo.a2Q(!1),{name:[11,6],jp:!0,sub:[{name:[5,1],K:function(t){return{K:null!=t.g[t.w[0]].add.lmfx}}},{name:[5,2]},{name:[2,2],K:function(t){return{K:null!=t.g[t.w[0]].add.lmfx}}}]},{name:[6,12,0],K:function(t){var e=null==t?0:t.w.length;return{K:0!=e,yU:ri.get(1<e||1==e&&t.g[t.w[0]].dH()?[6,12,0]:[6,10])}}},{name:[6,12,1],jp:!0},{name:[13,0],sub:function(){for(var t=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],e=[],n=0;n<t.length;n++)e.push({name:t[n]});return e}()}],t=[{_:mr.E.W,R:{d:mr.J.go,RB:"layerstyle"}},{_:mr.E.u,b:qr.rZ,R:{d:"fromlayer",Nn:[null,0,0]}},{_:mr.E.u,b:qr.ZD,R:{d:qi.PR}},{_:mr.E.W,R:{d:mr.J.go,RB:"duplinto"}},{_:mr.E.u,b:qr.ZD,R:{d:qi.hL}},{_:mr.E.n$,R:{YY:"newPlacedLayer"}},{_:mr.E.u,b:qr.ZD,R:{d:qi.RZ}},{_:mr.E.n$,R:{YY:"rasterizeLayer",l5:{classID:"rasterizeLayer",null:Ui.S3("Lyr",!0)}}},{_:mr.E.u,b:qr.ZD,R:{d:qi.DM}},{_:mr.E.u,b:qr.ZD,R:{d:qi.a2k}},{_:mr.E.u,b:qr.iL,R:{d:"switchPntPrgr"}},{_:mr.E.u,b:qr.ZD,R:{d:qi.io}},{sub:[{_:mr.E.u,b:qr.em,R:{d:"st_copy"}},{_:mr.E.u,b:qr.em,R:{d:"st_paste"}},{_:mr.E.u,b:qr.em,R:{d:"st_clear"}}]},{_:mr.E.n$,R:{YY:"mergeLayersNew",l5:{__name:"Merge Layers",classID:"Mrg2"}}},{_:mr.E.n$,R:{YY:"flattenImage"}},{sub:function(){for(var t=[],e=0;e<8;e++)t.push({_:mr.E.u,b:qr.ZD,R:{d:qi.Pj,arX:e}});return t}()}];this.ba=new xr(e,t);t=[{_:mr.E.u,b:qr.ZD,R:{d:qi.lz}},{_:mr.E.u,b:qr.ZD,R:{d:qi.WW}}];this.a53=new xr(e=[{name:[6,45],K:function(t){return{K:null==t.g[t.w[0]].ez(t).q}}},{name:[6,47]}],t);t=[{_:mr.E.u,b:qr.ZD,R:{d:qi._v}},{_:mr.E.u,b:qr.ZD,R:{d:qi.BY}},{_:mr.E.u,b:qr.ZD,R:{d:qi.PN}}];this.ahe=new xr(e=[{name:"enab/disab",K:function(t){return{yU:ri.get(t.g[t.w[0]].sL().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],K:function(t){return{K:t._W(!1,!0)}}}],t);t=[{_:mr.E.u,b:qr.ZD,R:{d:qi.MG}},{_:mr.E.u,b:qr.ZD,R:{d:qi.fs}}];this.akD=new xr(e=[{name:"enab/disab",K:function(t){return{yU:ri.get(t.g[t.w[0]].ez(t).q.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],t);t=[{_:mr.E.u,b:qr.ZD,R:{d:qi.ds}},{_:mr.E.u,b:qr.ZD,R:{d:qi.m0}},{_:mr.E.u,b:qr.ZD,R:{d:qi.e8}}];this.a2c=new xr(e=[{name:"enab/disab",K:function(t){return{yU:ri.get(t.g[t.w[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],t),this.a8y=new xr(ss.a6W(!0),ss.vr(!0)),this.arf=new xr(ss.dR(),ss.DQ()),this.h("rclick",this.arw,this)}function no(t,e,n,i,r){Sr.call(this),this.parent=e,this.we=t,this.F0=[],this.e=hr.L("div","layeritem");var a=r.adl&&!this.ave(),s=t.i,o=-1!=n.w.indexOf(t.index),l=15,h=!1;this.d4=hr.L("div",o?"head selected":"head"),null!=t.i.add.artb&&hr.Yq(this.d4,"artb");var u="height: "+(s.dH()?26:Math.floor(10+s.a5x/hr.F()))+"px;";o&&r.a3K&&(u+="background-color:rgba(255,50,50,0.4);"),this.d4.setAttribute("style",u);var f=hr.L("div","headL"),c=hr.L("div","headR"),p=hr.L("div","lpineck");this._0=hr.L("div","lpibody"),this.d4.appendChild(f),this.d4.appendChild(c),a||(this.e.appendChild(this.d4),(s.dI()||s.UG())&&s.W3()&&this.e.appendChild(p));var d=this.d4;d.setAttribute("draggable","true"),d.addEventListener("dragstart",this.Mu.bind(this),!1),d.addEventListener("drop",this.$R.bind(this),!1),d.addEventListener("dragover",this.Yg.bind(this),!1),d.addEventListener("dragenter",hr.ga,!1),d.addEventListener("dragleave",this.lg.bind(this),!1);var v=[],g=[null,null,null,null],o=hr.L("div");this.O$=hr.L("div","eye"),o.appendChild(this.O$);u=hr.L("div","space");this.K8=hr.L("div","label"),this.K8.setAttribute("style","max-width:calc(100% - "+(96+20*t.depth)+"px)"),this.K8.textContent=s.getName(),this.wS=hr.L("div","lock"),this.ass=hr.L("div","lrfx"),this.wc=hr.L("div","arfx");a=this.aha.bind(this),d=this.a14.bind(this);this.d4.addEventListener("click",d,!1),this.d4.addEventListener("contextmenu",a,!1);for(var y=null==s.add.lclr?0:[0,16711680,16748544,16763904,4513024,22015,11141375,7829367][s.add.lclr],m=[(y=0==y?i.ZB:y)>>16,y>>8&255,255&y],w=0;w<3;w++)m[w]=Math.round(.5*m[w]+110);1<hr.F()&&hr.F()<1.5&&(l/=hr.F()),o.setAttribute("style","background-color:rgba("+m.join(",")+","+(0==y?0:1)+");"),this.O$.setAttribute("style","background-size: "+l+"px "+l+"px;");l=this.a0e.bind(this);function b(t,e,n){e=e.canvas;hr.FF(e),n&&t.setAttribute("draggable","true"),t.appendChild(e),e.setAttribute("style",e.getAttribute("style")+"; pointer-events:none")}if(o.addEventListener("mousedown",l,!1),o.addEventListener("mouseover",l,!1),this.wc.addEventListener("click",this.a2S.bind(this),!1),v[0]=o,v[1]=u,v[10]=this.K8,s.dH()){var M=hr.L("div","arrow"),S=hr.L("div","folder");if(M.addEventListener("click",this.att.bind(this),!1),v[2]=M,v[3]=S,s.add.lsct==Gi.pb||r.adl){for(w=t.children.length-1;0<=w;w--){var C=new no(t.children[w],e,n,{ZB:y},r);this.F0.push(C),this._0.appendChild(C.e)}this.e.appendChild(this._0)}M.setAttribute("class",s.add.lsct==Gi.pb?"open":"closed")}else this.TK=hr.L("div","thumb"),v[5]=this.TK,b(this.TK,s.f1),ji.get(s.add)&&hr.Yq(s.f1.canvas,"gsicon");S=s.sL();S&&(this.fQ=hr.L("div","chain"),this.nH=hr.L("div","thumb"),b(this.nH,t.i.acA,!0),this.fQ.style.opacity=S.$j?1:0,this.fQ.addEventListener("click",this.au1.bind(this),!1));var x,M=s.D5()&&s.add.vmsk;if(s.add.vmsk&&!M&&(this.nf=hr.L("div","chain"),this.$y=hr.L("div","thumb"),b(this.$y,t.i.a2e,!0),this.nf.style.opacity=s.add.vmsk.$j?1:0,this.nf.addEventListener("click",this.a5s.bind(this),!1)),s.UG()&&s.ez(n).q&&(this.TV=hr.L("div","thumb"),b(this.TV,t.i.ast,!1),this.TV.addEventListener("click",d,!1),this.TV.addEventListener("contextmenu",a,!1)),s.dI()){(this.atv=p).addEventListener("contextmenu",a,!1),(N=new eo.Eb(ri.get([12,1]),"sm","layerstyle",t.depth,0,null)).parent=this,p.appendChild(N.e);var L=(T=s.add.lmfx).masterFXSwitch.v;N.I9(L);for(w=0;w<Wi.order.length;w++){var D=T[Wi.Th[w]].v;if(0!=D.length)for(var k=0;k<D.length;k++)(N=new eo.Eb(ri.get(Wi.names[w]),"s","layerstyle",t.depth,1,[w,k])).I9(L&&D[k].v.enab.v),N.parent=this,p.appendChild(N.e)}}if(s.UG()){(N=new eo.Eb(ri.get([12,55]),"fm",null,t.depth,0,-1,s.ez(n).q?this.TV:null)).parent=this,p.appendChild(N.e),this.aeS=N.e,this.aeS.addEventListener("contextmenu",a,!1);var T,A=(T=s.add.SoLd.filterFX.v).filterFXList.v,L=T.enab.v;N.I9(L);for(w=A.length-1;0<=w;w--){var E=A[w].v,O=Gr.vO(E);ji.Hv[O]&&(O=ji.Hv[O]);var N,I=E.Nm.v;Gr.names[O]&&(I=ri.get(Gr.names[O])),ji.names[O]&&(I=ri.get(ji.names[O])),(N=new eo.Eb(I,"f","afw_"+O,t.depth,1,w)).I9(L&&E.enab.v),N.parent=this,p.appendChild(N.e)}}t.index==n.w[0]&&((a=s.rq)<=0?x=this.TK:1==a?x=this.nH:3==a&&(x=this.TV),x&&x.setAttribute("class","thumb active"),s.Vj&&this.$y&&this.$y.setAttribute("class","thumb active")),o.style.opacity=s.SH()?1:.25,u.setAttribute("style","width:"+18*Math.max(0,t.depth-1)+"px");u=null!=s.add.lspf&&0!=s.add.lspf;this.wS.style.opacity=s.zC(31)?1:.5,v[4]=s.jF?hr.L("div","clipp"):null,v[6]=S?this.fQ:null,v[7]=S?this.nH:null,v[8]=s.add.vmsk&&!M?this.nf:null,v[9]=s.add.vmsk&&!M?this.$y:null;var P=s.au,F=n.w;if(0!=P)for(w=0;w<F.length;w++)if(n.g[F[w]].au==P){h=!0;break}h&&(g[0]=hr.L("div",s.KN?"link":"linkX"),g[0].addEventListener("click",this.ake.bind(this),!1)),g[1]=u?this.wS:null,g[2]=s.dI()?this.ass:null,g[3]=s.dI()||s.UG()?this.wc:null,this.wc.setAttribute("class",s.W3()?"arfx open  gsicon":"arfx closed  gsicon");for(var _=v,w=0;w<_.length;w++)_[w]&&f.appendChild(_[w]);for(_=g,w=0;w<_.length;w++)_[w]&&c.appendChild(_[w])}function io(){Ns.call(this,"Guide Guy",!1,"---panels/guideguy",Ns.DG.a0S),this.cb=null,this.e1=[];var t=hr.L("div","form padded");this.Vz.appendChild(t),t.setAttribute("style","width:200px"),this.Vz.appendChild(t);for(var e=hr.L("canvas"),n=e.getContext("2d"),i=[32,0,16,e.width=e.height=160,0,32,160,16,0,112,160,16],r="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),a=[0,0,0,0,0,0,0,0,0,0],s=0;s<10;s++){if(n.clearRect(0,0,160,160),n.setTransform(1,0,0,1,80,80),n.rotate((3&s)*Math.PI/2),n.translate(-80,-80),n.fillStyle="rgba(0,0,0,0.3)",s<4)for(var o=0;o<12;o+=4)n.fillStyle=0==o?"#000000":"rgba(0,0,0,0.3)",n.fillRect(i[o],i[o+1],i[o+2],i[o+3]);else s<6?(n.fillRect(0,0,48,160),n.fillRect(56,0,48,160),n.fillStyle="#000000",n.fillRect(112,0,48,160)):s<8?(n.fillRect(0,0,16,160),n.fillRect(144,0,16,160),n.fillRect(32,0,96,160),n.fillStyle="#000000",n.fillRect(32,72,96,8)):(n.fillRect(0,0,56,160),n.fillRect(104,0,160,160),n.fillStyle="#000000",n.fillRect(56,72,48,8));var l=new Er('<img src="'+e.toDataURL()+'" class="autoscale gsicon" /> ',0,200,4==s||5==s?null:"px",null,null,null,4,r[s]);l.parent=this,l.h(mr.E.o,this.a9s,this),l.f(a[s]),l.T(),this.e1.push(l),t.appendChild(l.e)}var h=[[11,14],[11,15,0]];this.DY=[];for(s=0;s<h.length;s++){var u=new kr(h[s],!0,null,!0);this.DY.push(u),u.h("click",this.OM,this),t.appendChild(u.e)}for(s=0;s<6;s++){n.setTransform(1,0,0,1,80,80),n.rotate(Math.floor(s/3)*Math.PI/2),n.translate(-80,-80),n.clearRect(0,0,160,160),n.fillStyle="rgba(0,0,0,0.3)",n.fillRect(0,0,160,160),n.clearRect(16,16,128,128),n.fillStyle="#000000",n.fillRect(8*[0,9,18][s%3],0,16,160);u=new kr('<img src="'+e.toDataURL()+'" class="autoscale gsicon" /> ',!1,null,!1);this.DY.push(u),u.h("click",this.OM,this),t.appendChild(u.e)}}function ro(){Ns.call(this,[9,2],!1,"---panels/properties",Ns.DG.OX),this.atr=null,this.yh=null,this.fd=null,this.a04=-1,this.bQ=null}function ao(t){Ns.call(this,t.name,!0),this.Jt=t,this.xv=null,this.zH=document.createElement("canvas"),this.JN=this.zH.getContext("2d"),this.Az=document.createElement("canvas"),this.ct=this.Az.getContext("2d");t=Rr.t(1024);Rr.eU(t,16,16,8),this.GE=Rr.scale.mm(t,16,16),this.QG=new Cr(this.Vz),(this.QG.parent=this).tp=0,this.apH="",this.sk=4}function so(){Ns.call(this,[9,7],!1,"---panels/layercomps",Ns.DG.agU),this.Vz.setAttribute("style","min-width:240px;"),this.yh=null,this.zs=-1,this.adg=[],this._0=hr.L("div","scrollable"),this._0.style.height="160px",this.Vz.appendChild(this._0),this.cK=hr.L("div","lpfoot"),this.Vz.appendChild(this.cK),this.DY=[];for(var t=['<svg  class="autoscale gsicon" viewBox="0 0 14 18" width="14" height="18" fill="black"><path d="M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z" /></svg>',"reload","lrs/newlayer","lrs/bin"],e=["Layer Comps to Files",[5,10],[5,3],[5,4]],n=0;n<t.length;n++){var i=t[n],i=new kr(i=0<n?'<img src="'+PIMG[t[n]]+'" class="gsicon" />':i,!1,e[n]);i.h("click",this.ao0,this),this.cK.appendChild(i.e),this.DY.push(i)}}function oo(t,e,n,i,r){Sr.call(this),this.BT=e,this.e=hr.L("div","head listitem"+(e==r?" selected":""));r=e==i,i=new kr(r?"✓":"—");r&&i.j4(),this.e.appendChild(i.e),i.h("click",this.w7,this);i=this.R0=hr.L("span");if(i.textContent=t,this.e.appendChild(i),this.DY=[],0!=e){this.e.addEventListener("mouseup",this.k9.bind(this),!1),this.alI=hr.L("span","headR"),this.e.appendChild(this.alI);for(var a=["lrs/eye","pos","lrs/fx"],s=["Visibility","Position","Appearance"],o=0;o<a.length;o++){var l=new kr('<img src="'+PIMG[a[o]]+'" class="autoscale gsicon" />',!1,s[o]);0==(n>>o&1)&&l.e.setAttribute("style","opacity:0.3"),l.h("click",this.acZ,this),this.alI.appendChild(l.e),this.DY.push(l)}}}function lo(){Ns.call(this,[9,11],!1,"---panels/navigator",Ns.DG.a3z);var t=hr.L("div","padded");t.setAttribute("style","min-width:15em"),this.Vz.appendChild(t);var e=hr.L("div");t.appendChild(e),e.setAttribute("style","cursor:grab;"),this.O=hr.L("canvas"),this.O.width=100,e.appendChild(this.O),hr.HZ(this.O),hr.rr(this.O,this.UK.bind(this)),this.Qo=new Or(null,2,6400,"%",null,!0),this.Qo.h(mr.E.o,this.aqx,this),t.appendChild(this.Qo.e),this.a8H=this.c7.bind(this),this.aa2=this.dl.bind(this),this.cb=null}function ho(t,e){null!=t?(Ns.call(this,t.name,!1,t.icon,e),e=this.uP=hr.L("iframe"),"plugins/gallery.html"===t.url&&e.setAttribute("id","pluginsGallery"),e.setAttribute("src",t.url),e.setAttribute("style","width:"+t.width+"px; height:"+t.height+"px"),this.Vz.appendChild(e)):Ns.call(this)}function uo(){Ns.call(this,[9,12],!1,"---panels/tpreset",Ns.DG.Fg),this.fd=null,this.XU=new la(qr.Gx),this.XU.parent=this;var t=hr.L("div","padded");t.setAttribute("style","width:20em"),this.Vz.appendChild(t),t.appendChild(this.XU.N8)}qs.prototype=new Ns(""),qs.prototype.rs=function(){return this.Vq},qs.prototype.Et=function(t){if(null==t)return hr.d5(this._0),void(this.k0="");hr.d5(this._0);for(var e=0,n=0;n<t.history.length;n++)n<=t.i_&&!t.history[n].nt&&(e=n);for(n=0;n<t.history.length;n++){var i=t.history[n];i.nt||(((i=new Gs(i,n,e)).parent=this)._0.appendChild(i.e),this.GS.push(i))}t.i_==t.history.length-1&&this.AC()},qs.prototype.AC=function(){this._0.scrollTop=this._0.scrollHeight},qs.prototype.T=function(){Ns.prototype.T.call(this);for(var t=0;t<this.GS.length;t++)this.GS[t].T()},Gs.prototype=new Sr,Gs.prototype.T=function(){this.e.textContent=ri.get(this.mS)},Gs.prototype.CK=function(t){this.index!=this.parent.arI&&this.zQ({d:"h_itemchange",index:this.index})},Gs.prototype.zQ=function(t){var e=new yr(mr.E.u,!0);e.data=t,e.b=qr.bX,this.c(e)},Zs.prototype=new Ns(""),Zs.prototype.Et=function(t){this.cb=t,this.yE()},Zs.prototype.yE=function(){var t=this.cb;if(hr.DH(this.Vz))if(null!=t&&0!=t.w.length){var e=t.y5(),n=(a=new Fr(0,0,t.m,t.n)).Z();if(t.v){var i=t.v.rect,r=Rr.t(4*i.Z());Rr.Ik(e,a,r,i),Rr.Lx(t.v.channel,r);for(var e=r,a=i,s=t.v.channel,n=0,o=0;o<s.length;o++)n+=s[o];n=Math.round(n/255)}var l=Rr.Kk(e);l[0][255]+=3*(n-l[5]);for(o=1;o<4;o++)l[o][255]+=n-l[5];this.bJ.f(l,n)}else this.bJ.f(Rr.Kk(Rr.t(4)))},Zs.prototype.v1=function(t,e){this.bJ.jn(vr.Pc[t.t7]["--text-color"])},Zs.prototype.T=function(){Ns.prototype.T.call(this),this.bJ.T()},Zs.prototype.AC=function(){this.yE()},zs.prototype=new Ns(""),zs.prototype.adc=function(t){t=t.target==this.tO?this.tO.M():(e=this.OV.M(),Math.round(e.p)<<16|Math.round(e.z)<<8|Math.round(e.S));var e=new yr(mr.E.W,!0);e.data={d:mr.J.ot,jm:Bi.UB,wp:0,k:t},this.c(e)},zs.prototype.v1=function(t,e){var n=t.k$,i=e==Bi.MB;e!=Bi.UB&&!i||(this.tO.f(n),this.OV.f({p:n>>>16&255,z:n>>>8&255,S:n>>>0&255,_l:"Color #"+Rr.zI(n)})),e!=Bi.nj&&!i||(t=t.asJ,this.OV.BF(t))},Vs.prototype=new Ns(""),Vs.prototype.rs=function(){return this.Vq},Vs.NE=function(t,e,n,i,r){for(var a=0;a<t.length;a++){var s=new kr("W",!1,t[a]);e.push(s),hr.rr(s.e,i),n.appendChild(s.e);s=s.e;s.addEventListener("drop",r,!1),s.addEventListener("dragover",function(t){t.preventDefault()},!1),s.addEventListener("dragenter",hr.ga,!1)}},Vs.nX=function(t,e){for(var n=0;n<t.length;n++)if(t[n].e==e.currentTarget)return n},Vs.prototype.tF=function(t){var e,n=Vs.nX(this.IQ,t);0==n?this.c(Ws.yT(!0,null,t)):(n--,e=new yr(mr.E.n$,!0),t={classID:"null"},0==n?t.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}:1==n?t.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}}:t.null=Ui.S3("Chnl",!0),e.data={YY:["duplicate","make","delete"][n],l5:t},this.c(e))},Vs.prototype.VK=function(t){var e,n;2==Vs.nX(this.IQ,t)?(e=new yr(mr.E.n$,!0),(n={classID:"null"}).null=Ui.S3("Chnl",!0),e.data={YY:"duplicate",l5:n},this.c(e)):this.tF(t)},Vs.prototype.J2=function(t){var e=this.UT,t=e[t];return null==t&&(t=hr.L("canvas").getContext("2d"),e.push(t)),t},Vs.prototype.ja=function(t){var e=this.kK.slice(0),n=t.data.BT,i=e[0]+e[1]+e[2],r=this.je;if(-5<n&&n<0){var a=-n-1;t.data.IH?0==a?e=3==i?[0,0,0]:[1,1,1]:0==e[a-1]?e[a-1]=1:e[a-1]=0:(0==a?e=[1,1,1]:(e=[0,0,0])[a-1]=1,r.kx=[]);a=new yr(mr.E.u,!0);return a.b=qr.f0,a.data={d:"setcls",DF:e},void this.c(a)}if(-1<n){var s=r.g[n],s=1==s.rq?s.sL():s.ez(r).q;if(t.data.IH)s.KT=!s.KT;else{for(var o=0;o<r.En.length;o++)r.En[o].KT=!1;r.kx=[]}}else{n=-n-5,s=r.En[n];if(t.data.IH)s.KT=!s.KT;else{for(o=0;o<r.En.length;o++)r.En[o].KT=!1;s.KT=!0,r.kx=[n]}}r.Lj=r.iM=!0},Vs.prototype.AC=function(){this.RQ()},Vs.prototype.Et=function(t){this.je=t,this.RQ()},Vs.prototype.RQ=function(){var t=this.je,e=this._0,n=4;if(hr.d5(e),null!=t&&hr.DH(e)){var i=t.m,r=t.n,a=new Fr(0,0,i,r),s=this.kK=t.s.DF.slice(0),o=s[0]+s[1]+s[2],l=Math.round(34*hr.F()),h=l;r<i?h=Math.round(h*r/i):l=Math.round(l*i/r);for(var u=["RGB"].concat(ji.fW),f=0;f<4;f++){var c=this.J2(f);Rr.qm.BJ(c,l,h,a,t.y5(),a,!1,0==f?null:f-1);var p=0==f?3==o:1==s[f-1];(g=new Ws(-1-f,!0,!0,c,u[f],p,p)).parent=this,e.appendChild(g.e),hr.FF(c.canvas)}for(f=0;f<t.w.length;f++){var d=t.g[t.w[f]],v=d.rq;1!=v&&3!=v||(y=1==v?d.sL():d.ez(t).q,c=this.J2(n+f),n++,Rr.qm.Ti(c,l,h,a,y),(g=new Ws(t.w[f],!0,!0,c,d.getName()+(1==v?"":" Filter")+" Mask",!0,y.KT)).parent=this,e.appendChild(g.e),hr.FF(c.canvas))}for(f=0;f<t.En.length;f++){var g,y=t.En[f],c=this.J2(n+f);Rr.qm.Ti(c,l,h,a,y),(g=new Ws(-5-f,!0,"Quick Mask"==y.name,c,y.name,-1!=t.kx.indexOf(f),y.KT,qr.ZD,{d:qi.lB,wp:"rnm",BT:f})).parent=this,e.appendChild(g.e),hr.FF(c.canvas)}}},Vs.prototype.hi=function(t,e){this._0.style.height=e-9-26+"px",this._0.style.width=t+"px"},Vs.prototype.T=function(){Ns.prototype.T.call(this),this.RQ(),Vs.JS(this.IQ,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])},Vs.JS=function(t,e){for(var e=zr.wv(e),n=0;n<t.length;n++)t[n].Uf(e[n])},Ws.prototype=new Sr,Ws.prototype.Lm=function(t){var e=new yr(mr.E.u,!0);e.b=this.akQ,e.data=this.a9H,e.data.name=t,this.c(e)},Ws.prototype.abN=function(t){var e,n=t.ctrlKey||t.metaKey,i=this.aey;n&&t.target==this.XN.canvas?this.c(Ws.yT(this.aeA,i,t)):((e=new yr("click",!0)).data={BT:i,IH:t.target==this.O$,AB:n},this.c(e))},Ws.prototype.aa4=function(t){2==t.detail&&t.target==this.K8&&new Ns.dk(this.K8,this.Lm.bind(this))},Ws.yT=function(t,e,n){var i=0;n.shiftKey&&i++,n.altKey&&(i+=2);n=new yr(mr.E.u,!0);return n.b=qr.rZ,t?-5<e&&e<0?(n=new yr(mr.E.n$,!0)).data=qr.$S.sj(i,["RGB","Rd","Grn","Bl"][-1-e]):n.data={d:"fromchannel",Nn:[e,0,i]}:n.data={d:"frompath",Nn:[e,0,i]},n},Xs.prototype=new Ns(""),Xs.prototype.tF=function(t,e){var n,i=Vs.nX(this.IQ,t);i<2?(n=new yr(mr.E.n$,!0)).data=qr.iT.Of(i):2==i?n=Ws.yT(!1,null,t):3==i?(n=new yr(mr.E.n$,!0)).data={YY:"make",l5:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}:3<i&&((n=new yr(mr.E.u,!0)).b=qr.es,n.data={d:"pathedit",wp:["new","del"][i-4],alE:e}),this.c(n)},Xs.prototype.VK=function(t){this.tF(t,!0)},Xs.prototype.J2=function(t){var e=this.UT,t=e[t];return null==t&&(t=hr.L("canvas").getContext("2d"),e.push(t)),t},Xs.prototype.ao_=function(t){t.target==this._0&&((t=this.je).B0=[],t.Ae=[],t.iM=!0,t.Lj=!0)},Xs.prototype.ja=function(t){var e,n,i=t.data.BT,r=this.je,t=t.data.AB,a=0;if(i<0)a=-1-i,e=r.B0,n=r.Ae;else{for(var s=r.l7()[0],o=0;o<s.length;o++){var l=s[o].BT;if(l==i)break;0<=l&&a++}e=r.Ae,n=r.B0}if(t){t=e.indexOf(a);-1==t?e.push(a):e.splice(t,1)}else{for(;0!=e.length;)e.pop();for(;0!=n.length;)n.pop();e.push(a)}r.iM=!0,r.Lj=!0},Xs.prototype.AC=function(){this.RQ()},Xs.prototype.Et=function(t){this.je=t,this.RQ()},Xs.prototype.RQ=function(){var t=this.je,e=this._0;if(hr.d5(e),null!=t&&hr.DH(e)){var n=t.m,i=t.n,r=new Fr(0,0,n,i),a=this.kK=t.s.DF.slice(0),s=(a[0],a[1],a[2],Math.round(34*hr.F())),o=s;i<n?o=Math.round(o*i/n):s=Math.round(s*n/i);for(var l=t.l7(),h=l[0],u=0;u<h.length;u++){var f=h[u],c=this.J2(u);Rr.qm.alS(c,s,o,r,f.add.vmsk);f=new Ws(f.BT,!1,0<=f.BT,c,f.name,-1!=l[1].indexOf(u),!1,qr.es,{d:"pathedit",wp:"rnm",BT:f.BT});f.parent=this,e.appendChild(f.e),hr.FF(c.canvas)}}},Xs.prototype.hi=function(t,e){this._0.style.height=e-9-26+"px",this._0.style.width=t+"px"},Xs.prototype.T=function(){Ns.prototype.T.call(this),this.RQ(),Vs.JS(this.IQ,"-⬤ -◯ lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))},Ys.prototype=new Ns(""),Ys.prototype.z_=function(){this.vm=new pa;var t,e,n,i,r=this.vm,a=this.Vz;(r.parent=this).a48?(e=hr.L("div","marged"),a.appendChild(e),e.appendChild(r.h2.e),a.appendChild(hr.L("hr")),n=hr.L("div","marged"),a.appendChild(n),n.appendChild(r.XR.e),n.appendChild(r.OY.e),i=hr.L("div","marged"),a.appendChild(i),i.appendChild(r.oF.e),i.appendChild(r.md.e),a.appendChild(hr.L("hr")),t=hr.L("div","marged"),a.appendChild(t),t.appendChild(r.o0.e),t.appendChild(r.eH.e),t=hr.L("div","marged"),a.appendChild(t),t.appendChild(r.z1.e),t.appendChild(r.Mz.e),t.appendChild(r.eY.e),a.appendChild(hr.L("hr")),t=hr.L("div","marged"),a.appendChild(t),t.appendChild(r.OL.e),t.appendChild(r.Qy.e),t.appendChild(r.am.e),t.appendChild(r.qb.e),t.appendChild(r.o7.e),t.appendChild(r.WL.e),t.appendChild(r.QI.e),t.appendChild(r.V0.e)):(e=hr.L("div","marged"),a.appendChild(e),e.appendChild(r.JJ.e),e.appendChild(r.Rn.e),e.appendChild(r.AN.e),e.appendChild(r.a5_.e),e.appendChild(r.auO.e),e.appendChild(r.aoa.e),e.appendChild(r.a1L.e),a.appendChild(hr.L("hr")),n=hr.L("div","marged"),a.appendChild(n),n.appendChild(r.mo.e),n.appendChild(r.rX.e),n.appendChild(r.O5.e),a.appendChild(hr.L("hr")),i=hr.L("div","marged"),a.appendChild(i),i.appendChild(r.rW.e),i.appendChild(r.lo.e),i.appendChild(r.hR.e),i.appendChild(r.IM.e))},Ys.prototype.AC=function(){var t;hr.DH(this.Vz)&&null==this.vm&&(this.z_(),(t=this.fd)&&this.vm.f(t.wO,t.PG,t.Xi),this.vm.T())},Ys.prototype.T=function(){Ns.prototype.T.call(this),this.vm&&this.vm.T()},Ys.prototype.v1=function(t,e){this.fd=t,e!=Bi.MB&&e!=Bi.qq&&e!=Bi.eE&&e!=Bi.aR||this.vm&&this.vm.f(t.wO,t.PG,t.Xi)},Ks.prototype=new Ns(""),Ks.prototype.hi=function(t,e){this.r2!=t&&(this.r2=t,this.Gc=Math.floor((t-13)*hr.F()),this.wH.setAttribute("style","width:"+this.Gc/hr.F()+"px;"),this.SA.e.style.height=e-73+"px",this.yE())},Ks.prototype.Ym=function(t){var e=this.aeN(),n=Math.round(this.Gc/e);e/=hr.F();var i=this.SA.M()[0]*n*this.a1g,r=this.SA.a7f();i+=Math.floor(r.y/e)*n,i+=Math.floor(r.x/e);r=this.c0[this.TS.M()];i>=r.length||(e=r[i],r=this.amt[e],(e=new yr(mr.E.u,!0)).b=qr.iL,0==r.hJ.length?e.data={d:"insertGlyph",k:i+1}:e.data={d:"insertText",k:String.fromCodePoint(r.hJ[0])},this.c(e))},Ks.prototype.aas=function(t){t.target==this.Rb?20<this.bg&&(this.bg/=1.2):this.bg<100&&(this.bg*=1.2),this.yE()},Ks.prototype.AC=function(){this.v1(this.fd)},Ks.prototype.v1=function(t,e){if(this.fd=t,hr.DH(this.Vz)){this.vm.f(t.wO,t.PG,t.Xi);var n=t.wO;if(null!=(i=n.hy.Font)){var i,n=n.CV[i].Name;if(this.aqN!=n)if(null!=(i=t.PG.Jf(n))){for(var r=i.maxp.numGlyphs,a=this.amt=new Array(r),s=0;s<r;s++)a[s]={hJ:[]};Date.now();for(var o=new Uint8Array(1048575),s=0;s<1048575;s++)0!=(u=Typr.U.codeToGlyph(i,s))&&u<r&&(o[s]=1,0==a[u].hJ.length&&0,a[u].hJ.push(s));for(var l=Ks.KF,h=[],s=0;s<l.length;s++)h.push([]);for(var u=1;u<r;u++){h[0].push(u);var f=a[u].hJ[0];if(null!=f)for(var c=1;c<l.length;c++)for(var p=l[c].aS,s=0;s<p.length;s+=2)if(p[s]<=f&&f<=p[s+1]){h[c].push(u);break}}this.c0=h;for(var d=[],s=0;s<l.length;s++)d.push(l[s].me+" ("+h[s].length+")");t=this.TS.M();this.TS.aE(d),this.TS.f(t),this.aqN=n,this.agv=i,this.yE()}}}},Ks.prototype.aeN=function(t){var e=Math.floor(this.Gc/this.bg);return Math.floor(this.Gc/e)},Ks.prototype.yE=function(t){if(hr.DH(this.Vz)&&null!=this.c0){for(var e=this.c0[this.TS.M()],n=e.length,i=this.agv,r=Typr.U,a=this.aeN(),s=a,o=.8*s,l=.8*s/i.head.unitsPerEm,h=[],u=Math.floor(this.Gc/a),f=Math.ceil(n/u),c=this.a1g,p=(Date.now(),0);p<f;p+=c){var d=hr.L("canvas"),v=d.getContext("2d");d.width=a*u,d.height=s*c,v.strokeStyle="rgba(0,0,0,0.3)",v.fillStyle="white",v.fillRect(0,0,u*a,s*c);for(var g=0;g<c;g++)for(var y=0;y<u;y++){var m=e[(p+g)*u+y];if(null==m)break;var w=r.glyphToPath(i,m),b=Rr.H.UP(w.crds);b.mN()||(v.fillStyle="#252525",v.beginPath(),m=y*a+.5*(a-b.m*l)-b.x*l,v.translate(m,b=g*s+o),v.scale(l,-l),r.pathToContext(w,v),v.scale(1/l,-1/l),v.translate(-m,-b),v.fill())}v.beginPath();for(y=0;y<u;y++){var M=y*a+a+.5;v.moveTo(M,0),v.lineTo(M,s*c)}for(g=0;g<c;g++){var S=g*s+s+.5;v.moveTo(0,S),v.lineTo(u*a,S)}v.stroke(),h.push(d)}this.SA.MO(h,null,a*u,s*c)}},Ks.KF=[{me:"All Glyphs"},{me:"Basic Latin, Latin 1",aS:[0,127,128,143]},{me:"Latin Extended-A",aS:[256,383]},{me:"Latin Extended-B",aS:[384,591]},{me:"Punctuations",aS:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{me:"Greek",aS:[880,1023]},{me:"Cyrillic",aS:[1024,1279]},{me:"Hebrew",aS:[1424,1535]},{me:"Arabic",aS:[1536,1791]},{me:"Emoji",aS:[9728,10095,127744,129535]}],Qs.prototype=new Ns(""),Qs.prototype.au6=function(t){this.vR=this.Y0.indexOf(t.currentTarget),this.yE()},Qs.prototype.SE=function(t){var e=this.Mv.M();this.Mv.f(e);var n=Math.round(255*e.p)<<16|Math.round(255*e.z)<<8|Math.round(255*e.S),e=new yr(mr.E.W,!0);e.data={d:mr.J.ot,jm:Bi.UB,wp:this.vR,k:n},this.c(e),this.a0a=Date.now()},Qs.prototype.yE=function(){for(var t=this.fd,e=this.vR,n=[t.k$,t.JH],i=0;i<2;i++){var r=this.Y0[i],a=r.e.style;r.jn(n[i]),i==e&&(a.filter="drop-shadow(0 0 1px #000000)")}t=n[e];100<Date.now()-this.a0a&&this.Mv.f({p:(t>>>16)/255,z:(t>>>8&255)/255,S:(255&t)/255})},Qs.prototype.v1=function(t,e){this.fd=t,e!=Bi.MB&&e!=Bi.UB||this.yE()},Qs.prototype.AC=function(){this.yE()},$s.prototype=new Ns(""),$s.prototype.hi=function(t,e){this.r2!=t&&(this.r2=t,this.wj.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(t-10)+"px; height:"+(e-10)+"px"))},$s.prototype.Et=function(t){this.cb=t,this.yE()},$s.prototype.v1=function(t,e){e==Bi.eE&&this.yE()},$s.prototype.yE=function(){var t,e=this.cb;null!=e&&0!=e.w.length&&hr.DH(this.Vz)&&(t=e.g[e.w[0]],0!=(e=sr.a44(t,e)).length?this.wj.value=e.join(";\n")+";":this.wj.value="")},$s.prototype.AC=function(){this.yE()},to.prototype=new Ns(""),to.prototype.wl=function(t,e,n,i,r){var a,s,o,l,h,u,f;hr.DH(this.Vz)&&null!=t&&(o=t.s.Qi(r.x,r.y),a=new Pr(Math.floor(o.x),Math.floor(o.y)),r.nK||(f=u=h=l=0,s=this.atV,r.nK||t.aof()||!new Fr(0,0,t.m-1,t.n-1).tl(a)||(l=(o=t.y5())[r=t.m*a.y+a.x<<2],h=o[1+r],u=o[2+r],f=o[3+r]),s[0].f("R: "+l),s[1].f("G: "+h),s[2].f("B: "+u),s[3].f("A: "+f)),this.OA.f("X: "+Rr.IR.KQ(a.x,t.Mg,n,t.m)),this.FV.f("Y: "+Rr.IR.KQ(a.y,t.Mg,n,t.n)),this.Ot())},to.prototype.Ot=function(){var t=this.cb,e=this.fd,n=0,i=0;t&&e&&(t.s.Ht?(n=t.s.Ht.m,i=t.s.Ht.n):t.v&&(n=t.v.rect.m,i=t.v.rect.n),n=Rr.IR.KQ(Math.abs(n),t.Mg,e,t.m),i=Rr.IR.KQ(Math.abs(i),t.Mg,e,t.n)),this.dg.f(ri.get([12,41]).charAt(0)+": "+n),this.Le.f(ri.get([12,42]).charAt(0)+": "+i)},to.prototype.T=function(){Ns.prototype.T.call(this),this.Ot()},to.prototype.Et=function(t,e,n){this.cb=t,this.fd=n,this.Ot()},eo.prototype=new Ns(""),eo.prototype.aow=function(){if(this.Yz.M()){var t=this.Sf.M(),e=this.Dm[t].M();if(0==t)return-1!=e.indexOf(!0);if(1==t)return""!=e}return!1},eo.a2Q=function(t){var e={name:[6,6,0],jp:!0,K:function(t){var e=null!=t&&0!=t.w.length&&t.g[t.w[0]].jF;return{Cc:e,K:null!=t&&t.gt(t.w[0]),R:{_:mr.E.n$,R:{YY:e?"ungroup":"groupEvent",l5:{classID:e?"Ungr":"GrpL",null:Ui.S3("Lyr",!0)}}}}}};return t&&(e.DO=[ii.e$,ii.NT,ii.wK]),e},eo.aqB=function(t,e){if(t)for(var n=0;n<t.w.length;n++){var i=t.g[t.w[n]];if(i.add.TySh||i.add.SoLd||i.add.SoCo||i.add.GdFl||i.add.PtFl)return{K:!0}}return{K:!1}},eo.prototype.a5M=function(t){hr.ga(t);var e=t.dataTransfer.getData("Text");""==e?hr.LO(t,this,this.R5.indexOf(this.Jt),0):"--panel"!=e&&"l"==(e=JSON.parse(e)).A2&&this.zQ({d:qi.Mp,source:e.r4,target:0,zD:1})},eo.prototype.arw=function(t){var e,n=this.Jt,i=t.data;-1==n.w.indexOf(i.i)&&(e={d:qi.vW,i:t.target.we.index,nn:i.rq},this.zQ(e)),-1!=n.w.indexOf(i.i)&&((e=1==i.rq?this.ahe:2==i.rq?this.a2c:3==i.rq?this.akD:4==i.rq?this.a53:5==i.rq?this.ajd:this.ba).T(),e.update(n),e.parent=this,(n=new yr(mr.E.W,!0)).data={d:mr.J.u9,IZ:e,x:i.zM.x+1,y:i.zM.y+1},this.c(n))},eo.prototype.T=function(){Ns.prototype.T.call(this),this.pj.T(),this.eG.T(),this.HO.T(),this.U_.T(),this.Jt&&this.Et(this.Jt);for(var t="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" "),e=0;e<this.IQ.length;e++)this.IQ[e].Uf(hr.R4(t[e]))},eo.prototype.Et=function(t,e){if((!t||t.hu)&&(null==t?hr.Yq(this.Vz,"disabled"):hr.dj(this.Vz,"disabled"),this.Jt=t,this.R5=e,null!=this.jc&&(this._0.removeChild(this.jc._0),this.jc=null),null!=t)){for(var n,i=!1,r=0;r<t.En.length;r++)t.En[r].KT&&(i=!0);this.jc=new no(t.root,this,t,{ZB:0},{a3K:i,adl:this.aow()}),this._0.appendChild(this.jc._0),0==t.w.length||null==t.g[t.w[0]]?hr.Yq(this.d4,"disabled"):(hr.dj(this.d4,"disabled"),1==t.w.length&&t.b6&&this.jc.aeE(t.w),(e=t.g[t.w[0]]).dH()?(this.pj.aE([[15,10,27]].concat(Ji.f$),[1].concat(Ji.Kc)),n=Ji.sp.indexOf(e.SD),this.pj.f(n+1)):(this.pj.aE(Ji.f$,Ji.Kc),n=Ji.sp.indexOf(e.SD),this.pj.f(n)),this.eG.f(Math.round(100*e.opacity/255)),this.HO.f([e.zC(0),e.zC(1),e.zC(2),e.zC(31)]),this.U_.f(Math.round(100*(null!=e.add.iOpa?e.add.iOpa/255:1))))}},eo.prototype.hi=function(t,e){var n=this.d4.getBoundingClientRect().height,n=120<n?128:100<n?108:70<n?84:59;this._0.style.height=e-(n+37)+"px",this._0.style.width=t+"px"},eo.prototype.adB=function(t){this.zQ({d:qi.Lu,NL:this.pj.M()})},eo.prototype.a7w=function(t){this.zQ({d:qi.t$,NL:Math.round(255*this.eG.M()/100)})},eo.prototype.ajX=function(t){this.zQ({d:qi.N1,NL:[this.HO.M(),[0,1,2,31]]})},eo.prototype.aq1=function(t){this.zQ({d:qi.qn,NL:Math.round(255*this.U_.M()/100)})},eo.prototype.ar=function(t){t.target==this.Sf&&this.aoO(),this.Yz.M()?hr.dj(this.aN,"disabled"):hr.Yq(this.aN,"disabled"),this.T(),this.Jt.hu=!0,this.Et(this.Jt),this.Jt.hu=!1},eo.prototype.aoO=function(){hr.d5(this.aN),this.aN.appendChild(this.Sf.e),this.aN.appendChild(this.Dm[this.Sf.M()].e)},eo.prototype.aqf=function(t){this.adY(t,this.a8y)},eo.prototype.agV=function(t){this.adY(t,this.arf)},eo.prototype.adY=function(t,e){var n=t.currentTarget;hr.DH(e.e)||(t.stopPropagation(),t=n.getBoundingClientRect(),e.T(),e.update(this.Jt),e.parent=this,(n=new yr(mr.E.W,!0)).data={d:mr.J.u9,IZ:e,x:t.left,y:t.top,afe:!0},this.c(n))},eo.prototype.a3O=function(t){this.zQ({d:qi.ak1})},eo.prototype.am4=function(t){this.zQ({d:1<this.Jt.w.length?qi.t8:qi.rk})},eo.prototype.aep=function(t){this.zQ({d:qi.cD})},eo.prototype.aiK=function(t){var e,n=this.Jt;0!=n.w.length&&(n=(e=n.g[n.w[0]]).rq,this.zQ({d:n<=0?e.Vj?qi.m0:qi.hL:3==n?qi.fs:qi.BY}))},eo.prototype.aoY=function(t){this.zQ({d:qi.jI})},eo.prototype.zQ=function(t){var e=new yr(mr.E.u,!0);e.data=t,e.b=qr.ZD,this.c(e)},eo.prototype.NE=function(){for(var t=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[5,4]],e=[this.aoY,this.agV,this.aqf,this.a3O,this.am4,this.aep,this.aiK],n=this.apR.bind(this),i=0;i<t.length;i++){var r=new kr("W",!1,t[i]);this.IQ.push(r),hr.rr(r.e,e[i].bind(this)),this.cK.appendChild(r.e),t.length-3<=i&&((r=r.e).addEventListener("drop",n,!1),r.addEventListener("dragover",function(t){t.preventDefault()},!1),r.addEventListener("dragenter",hr.ga,!1))}},eo.prototype.apR=function(t){hr.ga(t);for(var e=0,n=this.IQ;n[e].e!=t.currentTarget;)e++;n[e].x7();var i,r=t.dataTransfer.getData("Text");""!=r&&("l"==(r=JSON.parse(r)).A2&&(i={d:[qi.t8,qi.PR,qi.hL][e-4]},-1==this.Jt.w.indexOf(r.r4)&&(i.i=r.r4),this.zQ(i)),6==e&&("sm"!=r.A2&&"s"!=r.A2||((i=new yr(mr.E.u,!0)).b=qr.em,i.data={d:"sm"==r.A2?"st_clear":"st_delsingle",i:r.r4,r4:r.cW},this.c(i)),"fm"!=r.A2&&"f"!=r.A2||this.zQ({d:"fm"==r.A2?qi.WW:qi.Go,src:r.r4,cW:r.cW}),"m"!=r.A2&&"vm"!=r.A2||this.zQ({d:"m"==r.A2?qi.BY:qi.m0,i:r.r4})))},no.prototype=new Sr,no.prototype.aeE=function(t){var e=this.we.index;-1!=t.indexOf(e)&&this.e.scrollIntoView&&this.e.scrollIntoView({block:"nearest"});for(var n=0;n<this.F0.length;n++)this.F0[n].aeE(t)},no.t0=function(t,e){e=e.getBoundingClientRect();return(t.clientY-e.top)/e.height},no.prototype.Mu=function(t){t.stopPropagation();var e=t.target==this.nH?"m":t.target==this.$y?"vm":"l";t.dataTransfer.setData("Text",JSON.stringify({A2:e,r4:this.we.index}))},no.prototype.lg=function(t){hr.ga(t),this.g7()},no.prototype.$R=function(t){hr.ga(t),this.g7();var e=t.dataTransfer.getData("Text"),n=this.parent.Jt,i=no.t0(t,this.d4),r=this.we.index;if(.8<i){for(var a=!0,s=n.root.eu(r);null!=s.parent;)0!=s.parent.children.indexOf(s)&&(a=!1),s=s.parent;a&&(r=0,i=1)}""==e?hr.LO(t,this,this.parent.R5.indexOf(n),r+(.5<i?0:1)):"--panel"!=e&&("l"==(n=(e=JSON.parse(e)).A2)?this.zQ({d:qi.Mp,source:e.r4,target:r,zD:i}):"m"==n||"vm"==n?this.zQ({d:"m"==n?qi.al6:qi.kD,src:e.r4,BV:r}):no.a0Y(t,e,this))},no.a0Y=function(t,e,n,i){var r=e.A2,a=n.we.index,s=e.r4;"s"!=r&&"sm"!=r||n.zQ({d:qi.Nt,src:s,BV:a,cW:e.cW}),"f"!=r&&"fm"!=r||n.zQ({d:qi.asP,src:s,BV:a,cW:e.cW,a5:null==i?0:i})},no.prototype.Yg=function(t){hr.ga(t);var e=no.t0(t,this.d4),t=this.we.i.dH()&&.5<e&&e<.8;this.g7(),this.d4.style.boxShadow="inset 0 "+(t?0:.5<e?-3:3)+"px "+(t?"5px black":"0 rgba(0,0,0,0.5)")},no.prototype.g7=function(t){this.d4.style.boxShadow=""},no.af0=-1,no.FA=!1,no.a6A=function(t){no.FA=!1,document.body.removeEventListener("mouseup",no.a6A)},no.prototype.a0e=function(t){0==t.button&&("mousedown"==t.type&&(no.FA=!0,document.body.addEventListener("mouseup",no.a6A,!1)),("mouseover"!=t.type||no.FA&&no.af0!=this.we.index)&&(hr.ga(t),this.zQ({d:qi.hP,i:this.we.index}),no.af0=this.we.index))},no.prototype.att=function(t){hr.ga(t),this.zQ({d:qi.a55,i:this.we.index})},no.prototype.au1=function(t){this.zQ({d:qi.sC,i:this.we.index})},no.prototype.a5s=function(t){this.zQ({d:qi.dq,i:this.we.index})},no.D4=0,no.prototype.Lm=function(t){this.zQ({d:qi.Rq,i:this.we.index,name:t})},no.prototype.a2S=function(t){this.zQ({d:qi.anR,i:this.we.index})},no.prototype.ake=function(t){this.zQ({d:qi.EU,i:this.we.index})},no.prototype.aha=function(t){var e,n=(n=t.sourceCapabilities)&&n.firesTouchEvents;2!=t.button&&1!=n||(3!=(e=this.rq(t))&&t.currentTarget==this.aeS&&(e=4),t.target!=this.ass&&t.currentTarget!=this.atv||(e=5),(n=new yr("rclick",!0)).data={i:this.we.index,rq:e,zM:hr.B6(t,document.body)},this.c(n))},no.prototype.rq=function(t){t=t.target;return t==this.$y?2:t==this.nH?1:t==this.TK?0:t==this.TV?3:-1},no.prototype.a14=function(t){var e=t.target;if(!(e==this.O$||e==this.wc||e==this.fQ||e==this.nf||e.tagName&&"input"==e.tagName.toLowerCase())){var n,i=this.rq(t),r=this.parent.Jt,a=this.we.index,s=r.g[a];if(e!=this.wS){if(e==this.K8&&(h=no.D4,no.D4=Date.now(),Date.now()-h<300&&(this.d4.setAttribute("draggable","false"),new Ns.dk(this.K8,this.Lm.bind(this)))),0==t.button&&2==t.detail){if(e==this.K8)return;var o=new yr(mr.E.u,!0),l=new yr(mr.E.W,!0),h=new yr(mr.E.n$,!0);return 0==i&&s.add.SoCo?(e=Rr.I.Na(s.add.SoCo.Clr.v),l.data={d:mr.J.go,RB:"colorpicker",ZB:e.p<<16|e.z<<8|e.S,a4:function(t){var e={classID:"null",Clr:{t:"Objc",v:e=Rr.I.wg({S:255&t,z:t>>>8&255,p:t>>16&255})}},t=new yr(mr.E.u,!0);t.b=qr.ZD,t.data={d:qi.cU,wy:[a],At:!0,k:{SB:1,k4:e}},this.c(t)}.bind(this),rv:!0}):0==i&&(ji.get(s.add)||s.add.SoCo||s.add.GdFl||s.add.PtFl)||0!=i&&-1!=i?l.data={d:mr.J.R$,RB:Ns.DG.OX}:0==i&&s.add.SoLd?h.data={YY:"placedLayerEditContents",l5:{classID:"placedLayerEditContents"}}:0==i&&s.add.TySh?(o.b=qr.iL,o.data={d:"editCurr",CB:a}):l.data={d:mr.J.go,RB:"layerstyle",i:a},void this.c(h.data?h:l.data?l:o)}0==t.button&&(1!=i&&3!=i||(n=(3==i?s.ez(r).q:s.sL()).KT?"111"==r.s.DF.join("")?1:2:0),n={d:qi.vW,i:a,nn:i,a5g:n,acx:!0},this.zQ(n))}else this.zQ({d:qi.N1,i:a,NL:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]})}},no.prototype.zQ=function(t){var e=new yr(mr.E.u,!0);e.data=t,e.b=qr.ZD,this.c(e)},no.prototype.ave=function(){var t=this.we.i,e=t.add,n=this.parent.Sf.M(),i=this.parent.Dm[n].M();return 0==n?!(!i[0]||null!=e.SoLd||null!=e.TySh||!t.Z1())||(!(!i[1]||null==ji.get(e))||(!(!i[2]||null==e.TySh)||(!(!i[3]||null==e.vstk)||!(!i[4]||null==e.SoLd)))):1==n?-1!=t.getName().toLowerCase().indexOf(i.toLowerCase()):void 0},eo.Eb=function(t,e,n,i,r,a,s){Sr.call(this),this.acY=e,this.ty=n,this.index=a,this.e=hr.L("div","styleitem"),this.d4=hr.L("div","head"),this.anT=null,"f"==e&&((e=this.anT=hr.L("div","headR")).textContent="⚙",this.d4.appendChild(e)),this.so=hr.L("div","eye gsicon"),this.K8=hr.L("div","label"),this.e.appendChild(this.d4),this.d4.appendChild(this.so),s&&(this.nH=s,this.d4.appendChild(this.nH),this.d4.setAttribute("style","height: "+(s.firstChild.height/hr.F()+10)+"px")),this.K8.innerHTML=t,this.e.setAttribute("style","margin-left: "+(24+16*i+22*r)+"px"),this.d4.appendChild(this.K8),this.so.addEventListener("click",this.a85.bind(this),!1);r=this.e;r.setAttribute("draggable","true"),r.addEventListener("dragstart",this.Mu.bind(this),!1),r.addEventListener("drop",this.$R.bind(this),!1),r.addEventListener("dragover",this.Yg.bind(this),!1),r.addEventListener("dragenter",hr.ga,!1),r.addEventListener("dragleave",this.lg.bind(this),!1),this.e.addEventListener("click",this.f9.bind(this),!1)},eo.Eb.prototype=new Sr,eo.Eb.prototype.Mu=function(t){t.stopPropagation(),t.dataTransfer.setData("Text",JSON.stringify({A2:this.acY,r4:this.parent.we.index,cW:this.index}))},eo.Eb.prototype.lg=function(t){hr.ga(t),this.g7()},eo.Eb.prototype.$R=function(t){hr.ga(t),this.g7();var e=t.dataTransfer.getData("Text");""!=e&&(e=JSON.parse(e),no.a0Y(t,e,this.parent,this.index+(.5<no.t0(t,this.d4)?0:1)))},eo.Eb.prototype.Yg=function(t){hr.ga(t);t=.5<no.t0(t,this.d4);this.g7(),this.d4.style["border-"+(t?"bottom":"top")]="0.2em solid rgba(0,0,0,0.5)"},eo.Eb.prototype.g7=function(t){this.d4.style.border="none"},eo.Eb.prototype.I9=function(t){var e=15;1<hr.F()&&hr.F()<1.5&&(e/=hr.F()),this.so.setAttribute("style","background-size: "+e+"px "+e+"px;"),this.so.style.opacity=t?1:.2},eo.Eb.prototype.f9=function(t){if(t.target!=this.so){var e=this.parent.we.index;if(1!=t.detail&&null!=this.ty){var e=this.parent.we.index,n=new yr(mr.E.W,!0);if(0==this.ty.indexOf("afw_")){var i=this.ty.slice(4),r=Ba[i]||Gr.P[i],a=t.target==this.anT;if(!a&&!r)return;n.data=qr.DZ.X6(a?"blendOptions":i,{i:e,index:this.index})}else n.data={d:mr.J.go,RB:this.ty,i:e,index:this.index};this.c(n)}else"thumb"!=t.target.getAttribute("class")&&this.parent.zQ({d:qi.vW,i:e,nn:0})}},eo.Eb.prototype.a85=function(t){var e={fm:qi.g2,f:qi.Rj,sm:qi.kS,s:qi.Ug}[this.acY];this.parent.zQ({d:e,i:this.parent.we.index,index:this.index})},io.prototype=new Ns(""),io.prototype.T=function(){Ns.prototype.T.call(this);for(var t=0;t<this.DY.length;t++)this.DY[t].T()},io.prototype.a9s=function(t){for(var e=this.e1,n=e.indexOf(t.target),t=Math.floor(n/2),i=1&n,r=[],a=0;a<4;a++)r.push(e[2*a+i].M());n=-1;2==t&&0!=r[2]&&0!=r[3]&&0!=r[4]&&(n=4),3==t&&0!=r[3]&&0!=r[2]&&0!=r[4]&&(n=4),-1!=(n=4==t&&0!=r[4]&&0!=r[2]&&0!=r[3]?3:n)&&e[2*n+i].f(0)},io.prototype.OM=function(t){var e=this.cb,n=this.DY.indexOf(t.target),i=[[],[]];if(null!=e){var r=e.v?e.v.rect:new Fr(0,0,e.m,e.n),a=r.m,t=r.n;if(0==n){for(var s=[[],[]],o=0;o<this.e1.length;o++)s[1&o].push(this.e1[o].M());var l=[io.a3Q(s[0],r.x,r.x+a),io.a3Q(s[1],r.y,r.y+t)],i=io.a2X(l);qr.DD.rC(i,e.pt())}else 1==n||(n-=2,(l=[[],[]])[Math.floor(n/3)].push([r.x,r.x+a/2,r.x+a,r.y,r.y+t/2,r.y+t][n]),i=io.a2X(l),qr.DD.rC(i,e.pt()));this.auH(i)}},io.a2X=function(t){for(var e=[],n=[],i=0;i<2;i++)for(var r=0;r<t[i].length;r++)e.push([i,t[i][r]]),n.push(-1);return[e,n]},io.prototype.aue=function(t){this.auN.indexOf(t.target)},io.prototype.auH=function(t){var e=new yr(mr.E.u,!0);e.b=qr.AZ,e.data={d:"gids",th:t},this.c(e)},io.a3Q=function(t,e,n){var i=[],r=t[2],a=t[3],s=t[4],o=0;if(0==r&&o++,0==a&&o++,0==s&&o++,1<o&&0==r&&0==a)return 0!=t[0]&&i.push(e+t[0]),0!=t[1]&&i.push(n-t[1]),i;var l=n-e-t[0]-t[1];if(0==r)if(0==s)s=(l-(r=Math.floor(l/a))*a)/(r-1);else for(r=1;a*r+s*(r-1)+a+s<=l;)r++;else 0!=r&&0!=a&&(s=(l-(r=l<r*a?Math.floor(l/a):r)*a)/(r-1));i.push(e+t[0],n-t[1]);for(var a=(l-s*(r-1))/r,h=1;h<r;h++)0==s?i.push(e+t[0]+h*a):i.push(e+t[0]+h*a+(h-1)*s,e+t[0]+h*a+h*s);return i},io.prototype.Et=function(t){this.cb=t},ro.prototype=new Ns(""),ro.prototype.hi=function(t,e){this.r2=t,this.kY=e,t-=16,e-=12;var n=this.bQ;if(n){n.style.width=t+"px",n.style.height=e+"px";for(var i=0;i<3;i++)this.EC[i].hi(t-12,e)}},ro.prototype.z_=function(){this.bQ=hr.L("div","padded scrollable"),this.Vz.appendChild(this.bQ);var t=hr.L("span");this.bQ.appendChild(t),this.VB=[new kr([0,3]),new kr([12,73]),new kr([12,91,0])];for(var e=0;e<this.VB.length;e++){var n=this.VB[e];n.h("click",this.amJ,this),t.appendChild(n.e),2==e&&(n.e.style.marginRight="0")}this.bQ.appendChild(hr.L("hr")),this.e0=new ro.Cx,(this.e0.parent=this).aW=new ro.yD,(this.aW.parent=this).qw=new ro.aX,(this.qw.parent=this).EC=[this.e0,this.aW,this.qw],this.bQ.appendChild(this.e0.e),this.hi(this.r2,this.kY)},ro.prototype.amJ=function(t){t=this.VB.indexOf(t.currentTarget);this.Ty(t),this.ari(1==t?this.aW.vt:-1)},ro.prototype.Ty=function(t){for(var e=0;e<3;e++){this.VB[e].x7();var n=this.EC[e].e;n.parentNode==this.bQ&&e!=t&&this.bQ.removeChild(n),n.parentNode!=this.bQ&&e==t&&this.bQ.appendChild(n)}this.VB[t].j4()},ro.prototype.ari=function(t){var e,n=this.yh.w[0],i=this.yh.g[n],r=t+1;1==t&&i.Vj||((e=new yr(mr.E.u,!0)).b=qr.ZD,1!=t&&i.Vj&&(e.data={d:qi.vW,i:n,nn:2},this.c(e)),e.data={d:qi.vW,i:n,nn:r},this.c(e))},ro.prototype.T=function(){if(Ns.prototype.T.call(this),null!=this.bQ){this.Et(this.yh);for(var t=0;t<3;t++)this.VB[t].T(),this.EC[t].T()}},ro.prototype.AC=function(){hr.DH(this.Vz)&&null==this.bQ&&(this.z_(),this.v1(this.fd,Bi.MB),this.Et(this.atr),this.T())},ro.prototype.Et=function(t){if(this.atr=t,null!=this.bQ){if(this.e0.Et(t),this.aW.Et(t),this.qw.Et(t),null==t||0==t.w.length||null==t.g[t.w[0]])return hr.Yq(this.Vz,"disabled"),void(this.yh=null);hr.dj(this.Vz,"disabled");var e=t.w[0],n=t.g[e],i=t.l7(),r=i[0],i=i[1];if(0!=i.length){var a=r[i[0]],s=a.add.vogk,o=!1;if(s)for(var l=0;l<s.length;l++){var h=s[l].v;Rr.UY.nP(h)&&(o=!0,e=a.BT)}}e+=","+o,t==this.yh&&this.a04==e||(this.yh=t,this.a04=e,o?this.Ty(2):n.rq<1&&!n.Vj||ji.get(n.add)?this.Ty(0):this.Ty(1)),this.VB[1].dD(-1!=this.aW.vt),this.VB[2].dD(o)}},ro.prototype.v1=function(t,e){this.fd=t,this.e0&&this.e0.v1(t,e),this.qw&&this.qw.v1(t,e)},ro.Cx=function(){Sr.call(this),this.e=hr.L("div","form"),this.aoZ=new Dr("Hello"),this.eJ=new kr([1,12,2],null,null,!0),this.eJ.e.style.a1X="right",this.eJ.h("click",this.HG,this),this.e.appendChild(this.aoZ.e),this.e.appendChild(this.eJ.e),this.Tj=null,this.Dg=null,this.yh=null,this.fd=null,this.aor=-1,this.agS=null,this.qE=new ea(!0),(this.qE.parent=this).qE.h(mr.E.o,this.a5X,this),this.GN=hr.L("div","marged hiline"),this.GN.appendChild(this.qE.e),this.Sw=new as("GrFl",!0),(this.Sw.parent=this).Sw.h(mr.E.o,this.a5p,this),this.d8=hr.L("div","marged hiline");for(var t="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" "),e=0;e<t.length;e++){var n=this.Sw.Oq[t[e]].e;this.d8.appendChild(n)}this.Or=new as("patternFill",!0),(this.Or.parent=this).Or.h(mr.E.o,this.ajw,this),this.qg=hr.L("div","marged hiline");for(var i,t=["Ptrn","Angl","Scl","Algn","phase"],e=0;e<t.length;e++){n=this.Or.Oq[t[e]].e;this.qg.appendChild(n)}for(i in this.XH={},ji.names)null!=Ba[i]&&(this.XH[i]=new Ba[i],this.XH[i].h(mr.E.o,this.anS,this),this.XH[i].parent=this);var r=this.a0x=hr.L("div","marged hiline");this.Ex=new wa(0,!0),r.appendChild(this.Ex.e),this.Ex.h(mr.E.o,this.X8,this),this.aa5=null,this.i4=new _a,(this.i4.parent=this).i4.h(mr.E.o,this.X8,this),r.appendChild(this.i4.e)},ro.Cx.prototype=new Sr,ro.Cx.prototype.hi=function(t,e){var n,i=this.XH;for(n in i)i[n].hi(t,e)},ro.Cx.prototype.HG=function(t){var e=this.yh,e=e.g[e.w[0]],e=ji.get(e.add);this.Dg.f(Gr.PD(e)),this.anS()},ro.Cx.prototype.T=function(){for(var t in this.XH)this.XH[t].T();this.Sw.T(),this.Or.T(),this.i4.T(),this.Ex.T(),this.eJ.T()},ro.Cx.prototype.X8=function(t){var e=new yr(mr.E.u,!0),n=this.Ex.M(),i=this.aa5;t.target==this.Ex&&n[2]==i[2]&&n[3]==i[3]?(e.b=qr.AZ,e.data={d:"trsl",Bc:n[0]-i[0],fJ:n[1]-i[1]}):(i=qi.Qx(new Fr(n[0],n[1],n[2],n[3])),(n=this.i4.ami()).artboardRect={t:"Objc",v:i},e.b=qr.ZD,e.data={d:qi.VL,E3:n}),this.c(e)},ro.Cx.prototype.a5X=function(t){var e=this.yh,n=e.w[0];null!=e.g[n].add.SoCo&&((n=JSON.parse(JSON.stringify(e.g[n].add.SoCo))).Clr.v=this.qE.M(),this.qf({SB:1,k4:n}))},ro.Cx.prototype.a5p=function(t){var e=this.yh,n=e.w[0];null!=e.g[n].add.GdFl&&this.qf({SB:2,k4:this.Sw.M()})},ro.Cx.prototype.ajw=function(t){this.qf({SB:3,k4:this.Or.M()})},ro.Cx.prototype.qf=function(t){this.a5R(qr.ZD,{d:qi.cU,wy:[this.yh.w[0]],At:!0,k:t})},ro.Cx.prototype.anS=function(t){this.a5R(qr.qH,{d:"edit_layer",k:this.Dg.M()})},ro.Cx.prototype.a5R=function(t,e){var n=new yr(mr.E.u,!0);n.b=t,n.data=e,this.c(n)},ro.Cx.prototype.Et=function(t,e){var n,i,r,a=ri.get([0,3]),s=!1,o=null;(this.yh=t)&&0<t.g.length&&0!=t.w.length&&t.g[t.w[0]]&&(r=t.g[t.w[0]],null!=(i=ji.get(r.add))&&null!=this.XH[i]&&(o=this.XH[i].e,this.Dg=this.XH[i],this.XH[i].f(JSON.parse(JSON.stringify(r.add[i]))),t.w[0]!=this.aor&&(n=t.y5(t.w[0]-1),this.agS=Rr.Kk(n)),this.XH[i].ID(this.agS),a=ri.get(ji.names[i]),s=!0),r.add.SoCo&&(o=this.GN,this.qE.f(r.add.SoCo.Clr.v),a=ri.get([6,48,0,0])),r.add.GdFl&&(o=this.d8,this.Sw.update(t,r.add.GdFl),a=ri.get([6,48,0,1])),r.add.PtFl&&(o=this.qg,this.Or.update(t,r.add.PtFl),a=ri.get([6,48,0,2])),r.add.artb&&(i=r.add.artb,r=r.Gn(),o=this.a0x,this.i4.agz(i),r=this.aa5=[r.x,r.y,r.m,r.n],this.Ex.f(r,[t.Mg,t.m,this.fd.jv.el]),a="Artboard"),this.aor=t.w[0]),o!=this.Tj&&(this.Tj&&this.e.removeChild(this.Tj),null!=o&&this.e.appendChild(o),this.Tj=o),this.aoZ.f(a),this.eJ.e.style.display=s?"":"none"},ro.Cx.prototype.v1=function(t,e){for(var n in this.fd=t,this.Sw.v1(t,e),this.Or.v1(t,e),e==Bi.TL&&this.Et(this.yh,t),this.XH)this.XH[n].v1(t,e)},ro.yD=function(){Sr.call(this),this.e=hr.L("div","form"),this.yh=null,this.vt=0;var t=hr.L("span","fitem");this.e.appendChild(t),this.VB=[new kr([6,2]),new kr([6,3]),new kr([6,50])];for(var e=0;e<this.VB.length;e++){var n=this.VB[e];n.h("click",this.afR,this),t.appendChild(n.e)}this.vn=new Nr([12,74],0,255),this.vn.h(mr.E.o,this.g3,this),this.e.appendChild(this.vn.e),this.Ac=new Nr([7,6],0,500,"px",2,!0),this.Ac.h(mr.E.o,this.g3,this),this.e.appendChild(this.Ac.e),this.$l=new kr([4,11],null,null,!0),this.$l.h("click",this.ap5,this)},ro.yD.prototype=new Sr,ro.yD.prototype.ap5=function(){var t=new yr(mr.E.u,!0);t.b=qr.qH,t.data={d:"start",ac:"nvrt"},this.c(t)},ro.yD.prototype.g3=function(t){var e=this.vn.M(),n=this.Ac.M(),i=new yr(mr.E.u,!0);i.b=qr.ZD,i.data={d:qi.Bj,Nh:this.yh.w[0],Xd:{E6:this.vt,vn:e,Ac:n}},this.c(i)},ro.yD.prototype.T=function(){for(var t=0;t<this.VB.length;t++)this.VB[t].T();this.vn.T(),this.Ac.T(),this.$l.T()},ro.yD.prototype.Et=function(t){this.yh=t,this.RQ()},ro.yD.prototype.afR=function(t){this.RQ(this.VB.indexOf(t.currentTarget)),this.parent.ari(this.vt)},ro.yD.prototype.RQ=function(t){for(var e=this.yh,n=this.VB,i=0;i<3;i++){var r=n[i];r.x7(),r.a6()}if(null!=e&&0!=e.g.length&&0!=e.w.length&&null!=e.g[e.w[0]]){var a=-1,s=e.g[e.w[0]];if(s.UG()&&null!=s.ez(e).q&&(n[2].S0(),a=2),s.add.vmsk&&(n[1].S0(),a=1),s.sL()&&(n[0].S0(),a=0),null!=t?a=t:s.Vj?a=1:3==s.rq?a=2:1==s.rq&&(a=0),-1==(this.vt=a))return this.vn.a6(),void this.Ac.a6();s=s.Cd(a);this.vn.S0(),this.Ac.S0(),this.vn.f(s.vn),this.Ac.f(s.Ac),n[a].j4();s=this.$l.e;0==a?this.e.appendChild(s):s.parentNode==this.e&&this.e.removeChild(s)}},ro.aX=function(){Sr.call(this),this.e=hr.L("div","form"),this.cb=null,this.fd=null,this.tO=-1,this.kl=new wa(0,!1),this.Iw=new Nr([12,15],-180,180,"°",2),this.Uy=new wa(1,!0),this.oN=new Nr([12,94,0],0,100,null,2),this._I=new Nr([12,78],3,30),this.kl.h(mr.E.o,this.mV,this),this.Iw.h(mr.E.o,this.mV,this),this.Uy.h(mr.E.o,this.mV,this),this.oN.h(mr.E.o,this.mV,this),this._I.h(mr.E.o,this.mV,this)},ro.aX.prototype=new Sr,ro.aX.prototype.T=function(){this.kl.T(),this.Iw.T(),this.Uy.T(),this.oN.T(),this._I.T()},ro.aX.prototype.mV=function(t){var e=this.cb,n=Rr.UY.zw(e),i=t.target.M(),e=[this.kl,this.Iw,this.Uy,this.oN,this._I].indexOf(t.target);0==e&&((t=[])[0]=i[0],t[1]=i[1],t[2]=t[0]+i[2],t[3]=t[1]+i[3],i=t),1==e&&(i=i*Math.PI/180),n[{0:1,1:2,2:3,3:3,4:4}[e]]=i;i=new yr(mr.E.u,!0);i.b=qr.ZD,i.data={d:qi.a_,k:n},this.c(i)},ro.aX.prototype.Et=function(t){var e,n,i,r,a=this.e;null!=(this.cb=t)&&(r=this.fd,e=[t.Mg,t.m,r.jv.el],i=(n=Rr.UY.zw(t))[0],null!=(r=n[1])&&(t=i!=this.tO,this.tO=i,t&&hr.d5(a),t&&a.appendChild(this.kl.e),t&&a.appendChild(this.Iw.e),this.kl.f([r[0],r[1],r[2]-r[0],r[3]-r[1]],e),this.Iw.f(180*n[2]/Math.PI),2==i&&(t&&a.appendChild(this.Uy.e),r=n[3],this.Uy.f(r,e)),7!=i&&8!=i||(t&&a.appendChild(this.oN.e),this.oN.f(n[3])),8==i&&(t&&a.appendChild(this._I.e),this._I.f(n[4]))))},ro.aX.prototype.v1=function(t,e){this.fd=t,this.Et(this.cb)},ao.prototype=new Ns,ao.prototype.a5y=function(){return!this.Jt.iD()||window.confirm(ri.get([22,6,3])+" "+this.Jt.name+". "+ri.get([22,6,4]))},ao.prototype.v1=function(t,e){this.xv=t},ao.prototype.Et=function(t){this.AC(),this.yE()},ao.prototype.hi=function(t,e){var n,i;t<=0||e<=0||(this.r2=t,this.kY=e,n=this.Jt,i=hr.F(),n.s.ct.m=Math.floor(t*i),n.s.ct.n=Math.floor(e*i),hr.r9(this.Az,t,e),hr.r9(this.zH,t,e),hr.r9(Br.XQ(),t,e),0==n.s.V&&(n.s.V=qr.WD.VY(n.m,n.n,t*i,e*i)),this.yE())},ao.prototype.AC=function(){var t=this.Vz.firstChild;(!Br.jR&&t==Br.XQ()||Br.jR&&t==this.Az)&&this.Vz.removeChild(t);t=Br.jR?Br.XQ():this.Az;hr.DH(t)||this.Vz.appendChild(t)},ao.prototype.yE=function(){var t;Br.jR!=this.sk&&(this.tp=0,this.apH=""),this.sk=Br.jR,null!=this.xv&&(Br.jR?this.a0j():this.tM(),t=this.Jt,this.tp=t.s.V,this.apH=JSON.stringify(t.s.DF))},ao.prototype.a0j=function(){if(Br.jR&&null==ao.zh)for(var t=ao.zh=[],e=[0,2,8,32,128],n=0;n<5;n++)t[n]=[new ao.$0(!1,e[n]),new ao.$0(!0,e[n])];var i,r,a,s=this.Jt,o=0;if(null!=s.aU){var l=s.s,h=l.ct.m,u=l.ct.n,f=Br.XN;this.ct.clearRect(0,0,h,u);var c=this.aqG(s);null==l._o&&(l._o=new Br.vs(h,u)),c?l._o.set(this.Az):(Br._9(l._o),Br.k3(1));var p=l.d$(0,0),d=new _r;d.scale(h,u),d.concat(l.Us(!0)),d.scale(1/s.m,1/s.n);c=[d.q4,d.S,0,d.yH,d.DR,0,d.E_,d.Qq,1];null==ao.afF&&(ao.afF=new Float32Array(4096));var d=[0,0,0,0],v=ao.afF;if(s.add.artd){v.fill(0);for(var d=ao.o8(s),g=s.m,y=s.n,m=0,n=0;n<s.g.length;n++){var w=s.g[n];if(null!=w.add.artb&&w.SH()){w=w.Gn();if(v[o]=w.x/g,v[o+1]=w.y/y,v[o+2]=w.m/g,v[o+3]=w.n/y,(o+=4)==v.length)break}}8<o&&m++,32<o&&m++,128<o&&m++,i=ao.zh[m+1],v=new Float32Array(v.buffer,0,4*[2,8,32,128][m])}else i=ao.zh[0];m=s.a5K();null==m?i=i[0]:(i=i[1],a=m[1==s.add.fcmy?6:4],r=m[2]),Br.Ds(h,u),Br.k3(0),Br.Ds(h,u),i.K7(),i.x3(l._o.I8,s.aU.I8,new Float32Array(c),new Float32Array([h/8,u/8,p.x/h,p.y/u]),s.m,s.n,1/s.s.V,h,u,new Float32Array(d),v,new Float32Array(Rr.i8.$Y(Rr.i8.RK(l.DF))),a,r),f.drawArrays(f.TRIANGLES,0,6)}},ao.o8=function(t){return[0,0,0,0]},ao.arp=function(t){for(var t=Rr.I.Na(t.v),e=[t.p/255,t.z/255,t.S/255,1],n=0;n<4;n++)e[n]=Math.min(1,e[n]);return e},ao.lS=function(t,e){var n=255*t[2];return Br.jR&&(n=e?0:Math.max(1,n)),"rgba("+255*t[0]+","+255*t[1]+","+n+","+t[3]+")"},ao.L7=function(t){if(Br.jR)for(var e=0;e<t.length;e+=4)0==t[e+2]&&(t[e+2]=3)},ao.prototype.tM=function(){var t=this.Jt;if(null!=t.buffer){var e=t.s,n=e.ct,i=n.m,r=n.n,a=new Fr(0,0,t.m,t.n);this.JN.clearRect(0,0,i,r),this.ct.clearRect(0,0,i,r);var s=e.Us(!0),o=s.clone();if(o.tU(),null==t.add.artd){this.ct.save();var l=o.iX(new Pr(0,0));o.translate(-l.x,-l.y),this.ct.translate(Math.round(l.x),Math.round(l.y)),this.ct.fillStyle=this.GE,this.pC(Rr.H.UQ(a),o,this.ct),this.ct.fill(),this.ct.restore()}else{this.ct.fillStyle=ao.lS(ao.o8(t)),this.ct.fillRect(0,0,i,r),this.ct.save(),this.ct.setTransform(o.q4,o.S,o.yH,o.DR,o.E_,o.Qq);for(var h=t.root.children,u=0;u<h.length;u++){var f,c=h[u].i;null!=c.add.artb&&c.SH()&&(f=c.Gn(),0==c.Ha()&&(this.ct.fillStyle=this.GE,this.ct.save(),this.ct.scale(1/e.V,1/e.V),this.ct.fillRect(e.V*f.x,e.V*f.y,f.m*e.V,f.n*e.V),this.ct.restore()))}this.ct.restore()}e.vw.length!=n.Z()&&(e.vw=Rr.t(n.Z()),e.wY=Rr.t(4*n.Z())),e.wY.fill(0),Rr.scale.I0(t.buffer,a,s,e.wY,n);s=t.a5K();s&&ICC.U.applyLUT(s[1==t.add.fcmy?5:3],s[2],e.wY,e.wY),e.DF[0]+e.DF[1]+e.DF[2]!=3&&Rr.i8.To(e.wY,e.wY,Rr.i8.RK(e.DF)),this.JN.putImageData(new ImageData(new Uint8ClampedArray(e.wY.buffer),n.m,n.n),0,0),this.ct.drawImage(this.zH,0,0),this.ct.getImageData(0,0,1,1),this.aqG(t)}},ao.prototype.aqG=function(t){for(var e=t.s,n=e.DF[0]+e.DF[1]+e.DF[2],i=!1,r=[],a=0;a<t.w.length;a++){var s,o=t.g[t.w[a]];null!=o&&(1!=(s=o.rq)&&3!=s||(l=1==s?o.sL():o.ez(t).q).KT&&r.push(l))}for(a=0;a<t.En.length;a++)t.En[a].KT&&r.push(t.En[a]);for(a=0;a<r.length;a++){var l=r[a];this.amL(l,e,1==r.length&&0==n?2:1,l.color,l.ZB),i=!0}var h=this.xv,i=this.a06(t,this.ct,e)||i;return t.v&&h.Me&&h.jv.dm&&(this.amL(t.v,e,0,0,null),i=!0),i},ao.prototype.amL=function(t,e,n,i,r){var a,s,o=0;r&&(o=Math.round(r.S)<<16|Math.round(r.z)<<8|Math.round(r.p));var l=e.Us(!0),h=e.ct,r=new Fr(0,0,e.Jt.m,e.Jt.n);e.vw.length!=h.Z()&&(e.vw=Rr.t(h.Z()),e.wY=Rr.t(4*h.Z())),e.vw.fill(i),e.wY.fill(0);i=t.channel,t=t.rect;Rr.scale.A(i,t,l,e.vw,h),0==n?Rr.v.apJ(e.vw,e.wY,h,h):Rr.v.a3S(e.vw,e.wY,h,h,n,o),ao.L7(e.wY);e=new ImageData(new Uint8ClampedArray(e.wY.buffer),h.m,h.n);this.JN.putImageData(e,0,0),this.ct.save(),0==n?((a=h.clone()).bA(-1,-1),s=new _r):(a=new Fr(0,0,r.m,r.n),(s=l.clone()).tU()),this.pC(Rr.H.UQ(a),s,this.ct),this.ct.clip(),this.ct.drawImage(this.zH,0,0),this.ct.restore()},ao.prototype.a06=function(t,e,n){var i=null!=t.D.jb||null!=t.D.h7||null!=t.D.LA||0!=t.D.xp.length||0!=t.D.po.length,r=this.xv,a=r.jv,s=vr.Pc[r.t7],o=Math.round(12*hr.F())/t.s.V,l=n.Us(!0);if(l.tU(),e.save(),e.setTransform(l.q4,l.S,l.yH,l.DR,l.E_,l.Qq),t.add.artd){var h=(h=ao.o8(t)[0])<.5?h+.5:h-.5;for(h=""+Math.round(255*h).toString(16);h.length<2;)h="0"+h;e.fillStyle="#"+h+h+h,e.font=o+"px sans-serif";for(var u=0;u<t.g.length;u++)null!=(m=t.g[u]).add.artb&&m.SH()&&(j=m.Gn(),e.fillText(m.getName(),j.x+2,j.y-.7*o),i=!0)}function f(t){return 1==t||2==t||4==t||5==t}var c=ao.lS([.1,.5,1,1]),p=ao.lS([1,1,1,1]);if(r.Me&&a.Y3){e.fillStyle=e.strokeStyle=c,e.lineWidth=1.5/n.V;for(var d=t.l7(),v=d[0],g=d[1],y=0;y<g.length;y++){var m,w=(m=v[g[y]]).add.vmsk,b=w.Y,M=Rr.H.x4(b);this.pC(M,null,e),e.stroke();for(var S,i=!0,C=3*hr.F()/n.V,u=(b.length,0);u<w.Xo.length;u++)null!=(E=Rr.$.IB(b,w.Xo[u]))&&(O=E.x,N=E.y,e.beginPath(),S=0==u,(S=w.Iy?!S:S)?(e.moveTo(O-C,N-C),e.lineTo(O+C,N+C),e.moveTo(O-C,N+C),e.lineTo(O+C,N-C),e.stroke()):(e.arc(O,N,+C,0,2*Math.PI),e.fill()),i=!0);if(1==t.w.length)for(var x=-1,u=0;u<b.length;u++)if(!(5<b[u].type))if(0!=b[u].type&&3!=b[u].type){if(-1!=w.w.indexOf(x)&&(O=b[u].B.x,N=b[u].B.y,e.fillRect(O-.8*C,N-.8*C,2*C*.8,2*C*.8)),-1!=w.nZ.indexOf(u)){var L=b[u],D=[L.B];e.beginPath(),e.moveTo(L.Sm.x,L.Sm.y),e.lineTo(L.B.x,L.B.y),e.lineTo(L.Pv.x,L.Pv.y);var k=b[u-1],T=b[u+1];k&&f(k.type)&&-1==w.nZ.indexOf(u-1)&&(e.moveTo(k.B.x,k.B.y),e.lineTo(k.Pv.x,k.Pv.y),D.push(k.Pv)),T&&f(T.type)&&-1==w.nZ.indexOf(u+1)&&(e.moveTo(T.B.x,T.B.y),e.lineTo(T.Sm.x,T.Sm.y),D.push(T.Sm)),e.stroke(),L.B.iy(L.Sm)||D.push(L.Sm),L.B.iy(L.Pv)||D.push(L.Pv);for(var A=0;A<D.length;A++){var E,O=(E=D[A]).x,N=E.y;0!=A||2!=L.type&&5!=L.type?(e.beginPath(),e.arc(O,N,1.2*C,0,2*Math.PI),e.fill(),0!=A&&(e.fillStyle=p),e.beginPath(),e.arc(O,N,.8*C,0,2*Math.PI),e.fill(),e.fillStyle=c):e.fillRect(O-1.2*C,N-1.2*C,2.4*C,2.4*C)}}i=!0}else-1!=b[u].Gw&&x++}}if(e.lineWidth=1/n.V,t.D._f){e.fillStyle=e.strokeStyle=c;T={U:[],C:[]};if(null==(I=ao.ag$)){for(var I=ao.ag$={U:[1,0],C:["M"]},u=1;u<30;u++){var P=2*Math.PI*u/30;I.U.push(Math.cos(P),Math.sin(P)),I.C.push("L")}I.C.push("Z","M","L","M","L"),I.U.push(-.5,0,.5,0,0,-.5,0,.5)}for(u=0;u<t.D._f.length;u++){var F=new _r((k=qr.kE.HY(t.D._f[u],n))[0],0,0,k[0],k[1],k[2]);Rr.H.concat(T,I,F)}this.pC(T,null,e),e.stroke(),i=!0}e.fillStyle=e.strokeStyle=ao.lS([0,0,0,1],!0);var _,B=new _r(1,0,0,1,.5/n.V,.5/n.V);for(_ in t.D.jb&&(this.pC(t.D.jb,null,e),e.fill()),t.D.h7&&(this.pC(t.D.h7,B,e),e.stroke()),t.D.ca)t.D.ca[_].h7&&(this.pC(t.D.ca[_].h7,null,e),e.stroke(),i=!0);e.beginPath();for(var C=(4*hr.F()+.5)/n.V,R=t.D.us,u=0;u<R.length;u+=2){i=!0;O=R[u],N=R[u+1];e.rect(O-C,N-C,2*C,2*C)}e.stroke();R=t.D.auB;e.beginPath();for(C=4*hr.F()/n.V,u=0;u<R.length;u+=2){i=!0;O=R[u],N=R[u+1];e.moveTo(O+C,N),e.arc(O,N,C,0,2*Math.PI)}e.fill();R=t.D.SF;e.fillStyle=ao.lS([1,1,1,1]),e.beginPath();for(C=6*hr.F()/n.V,u=0;u<R.length;u+=2){i=!0;O=R[u],N=R[u+1];e.moveTo(O+C,N),e.arc(O,N,C,0,2*Math.PI)}e.fill();for(C=4*hr.F()/n.V,u=0;u<R.length;u+=2){i=!0;O=R[u],N=R[u+1];e.fillStyle=ao.lS(-1!=t.D.x2.indexOf(u>>>1)?[0,.6,1,1]:[.7,.7,.7,1]),e.beginPath(),e.moveTo(O+C,N),e.arc(O,N,C,0,2*Math.PI),e.fill()}if(0!=t.D.xp.length)for(u=0;u<t.D.xp.length;u++){var U=(xt=t.D.xp[u])[1];e.putImageData(new ImageData(new Uint8ClampedArray(xt[0].buffer),U.m,U.n),U.x,U.y)}var j,H,J,q,G,Z,z=.5/n.V;if(e.lineWidth=1/n.V,t.D.mW){i=!0;for(var V=t.D.mW,W=V.zz,M={C:[],U:[]},u=0;u<V.oJ.length;u++)Rr.H.concat(M,Rr.H.UQ(V.oJ[u]));M.U=M.U.concat(W);for(u=0;u<W.length;u+=4)M.C.push("M","L");for(u=0;u<M.U.length;u++)M.U[u]+=z;e.strokeStyle=ao.lS([.9,.2,.2,1]),this.pC(M,null,e),e.stroke();var X=hr.F(),Y=2/n.V;e.font=.9*o+"px sans-serif";for(u=0;u<W.length;u+=4){var O=W[u],N=W[u+1],K=W[u+2],Q=W[u+3],$=Math.sqrt((Q-N)*(Q-N)+(K-O)*(K-O)),$=Rr.IR.KQ($,t.Mg,r,N==Q?t.m:t.n),tt=new Pr((O+K)/2,(N+Q)/2);e.fillStyle=ao.lS([.9,.2,.2,1]);var et=e.measureText($).width;e.fillRect(tt.x-et/2-Y*X,tt.y-3.5*Y*X,et+2*Y*X,7*Y*X),e.fillStyle=ao.lS([1,1,1,1]),e.save(),e.translate(tt.x-et/2,tt.y+2*Y*X),e.scale(.1,.1),e.font=9*o+"px sans-serif",e.fillText($,0,0),e.restore()}}if(r.Me){if(a.NM&&(Z=G=Rr.IR.GX(a.Qz,t.Mg,t.m,a.LS),4==a.LS&&(Z*=t.n/t.m),this.eU(t,e,G,Z,1,a.gC),i=!0),a.HD&&7<t.s.V&&(this.eU(t,e,1,1,.5,a.gC),i=!0),a.p6){var nt=t.pt(),it=t.ak(),rt=Math.max(t.s.ct.m,t.s.ct.n)/t.s.V,rt=Math.max(2*Math.max(t.m,t.n),rt);e.beginPath(),e.strokeStyle=ao.lS([0,1,1,1]);for(u=0;u<nt[0].length;u++){var at=nt[0][u],st=nt[1][u];-1!=st&&st!=it||(st=n.d$(at[1],at[1]),st=n.Qi(Math.floor(st.x)+.5,Math.floor(st.y)+.5),0==at[0]?(gt=st.x,e.moveTo(gt,-rt),e.lineTo(gt,rt)):(yt=st.x,e.moveTo(-rt,yt),e.lineTo(rt,yt)),i=!0)}e.stroke()}var ot=t.EQ;if(a.EQ&&0!=ot.length){e.font=.8*o+"px sans-serif";for(var lt=[],ht=[],u=0;u<ot.length;u++){var ut=qr.C0.r7(ot,u);lt.push(ut),-1!=t.jU.indexOf(u)&&ht.push(ut)}lt.reverse();Date.now();for(lt=Rr.rect.O4([0,0,t.m,t.n],lt),A=0;A<2;A++)for(u=0;u<lt.length;u++){var ft=null!=(x=(pt=lt[u])[4])?ot[x]:null;ft&&0==A||null==ft&&1==A||(O=Math.round(pt[0]),N=Math.round(pt[1]),K=Math.round(pt[2]),Q=Math.round(pt[3]),e.strokeStyle=e.fillStyle=ao.lS(ft?[0,.7,.7,1]:[.8,.8,.8,1]),e.strokeRect(O+z,N+z,K-O,Q-N),et=e.measureText(ft=u+1).width,e.fillRect(O,N,et+o/2,o),e.fillStyle=ao.lS([1,1,1,1]),e.fillText(ft,O+o/4,N+.8*o))}for(var ct=2*(Y=2/t.s.V),u=0;u<ht.length;u++){var pt=ht[u],O=Math.round(pt[0]),N=Math.round(pt[1]),K=Math.round(pt[2]),Q=Math.round(pt[3]);e.strokeStyle=e.fillStyle=ao.lS([1,.6,0,1]),e.strokeRect(O+z,N+z,K-O,Q-N);for(var dt=[O,N,K,N,K,Q,O,Q],vt=0;vt<dt.length;vt+=2){var gt=dt[vt],yt=dt[vt+1],mt=dt[vt+2&7],wt=dt[vt+3&7];e.fillRect(gt-Y,yt-Y,ct,ct),e.fillRect(Math.round((gt+mt)/2)-Y,Math.round((yt+wt)/2)-Y,ct,ct)}}i=!0}var bt=t.add.Anno;if(bt&&0!=bt.length)for(u=0;u<bt.length;u++){var Mt=bt[u],St=Mt[2],gt=Mt[0]-z,yt=Mt[1]-z,Ct=.4*(ct=30/n.Pd),Mt=.6*ct;e.beginPath(),e.moveTo(gt,yt+Mt),e.lineTo(gt,yt),e.lineTo(gt+ct,yt),e.lineTo(gt+ct,yt+ct),e.lineTo(gt+Ct,yt+ct),e.closePath(),e.lineTo(gt+Ct,yt+Mt),e.lineTo(gt+Ct,yt+ct),u==t.s.LB&&(e.lineWidth*=5,e.strokeStyle=ao.lS([0,0,0,.5]),e.stroke(),e.lineWidth/=5),e.fillStyle=ao.lS([St.p/255,St.z/255,St.S/255,1]),e.fill(),e.strokeStyle=ao.lS([0,0,0,1]),e.stroke()}}if(e.strokeStyle=ao.lS([1,0,0,1]),t.D.LA&&(this.pC(t.D.LA,B,e),e.stroke()),e.restore(),r.CO&&(null!=t.s.IK&&t.s.IK.width==t.s.ct.m&&t.s.uG.height==t.s.ct.n||(t.s.IK=e.createImageData(t.s.ct.m,Rr.IR.jC),t.s.uG=e.createImageData(Rr.IR.jC,t.s.ct.n)),s=vr.Pc[r.t7],J=H=0,q=t.m,l=t.n,-1!=t.ak()&&(H=(j=t.g[t.ak()].Gn()).x,J=j.y,q=j.m,l=j.n),H*=n.V,J*=n.V,n=t.s,d=[1,t.Mg,t.Mg/2.54,t.Mg/25.4,q/100][a.el],G=n.V*t.m/2,Z=n.V*t.n/2,B=[n.V*d,new Pr(n.r.x+(H+G*d-G),n.r.y+(J+Z*d-Z))],4==a.el&&(d*=l/q),d=[n.V*d,new Pr(n.r.x+(H+G*d-G),n.r.y+(J+Z*d-Z))],Z=this.QG.Q4,Rr.IR.ald(n,s["--text-color"],s["--bg-input"],Math.floor(Z.x),Math.floor(Z.y),B,d),d=Oa.asU(n.V,ao.lS([1,1,1,1])),ao.L7(t.s.uG.data),ao.L7(t.s.IK.data),e.putImageData(t.s.uG,0,0),e.putImageData(t.s.IK,0,0),e.putImageData(d,0,t.s.ct.n-d.height)),0!=t.D.po.length)for(u=0;u<t.D.po.length;u++){var xt,U=(xt=t.D.po[u])[1];e.putImageData(new ImageData(new Uint8ClampedArray(xt[0].buffer),U.m,U.n),U.x,U.y)}return i||r.CO},ao.prototype.eU=function(t,e,n,i,r,a){for(;n*t.s.V<4;)n*=2,i*=2;var s=t.m,o=t.n,l=.5/t.s.V;e.strokeStyle=ao.lS([.5,.5,.5,r],!0),e.save(),e.rect(0,0,s,o),e.clip(),e.beginPath();for(var h=0;h<=s;h+=n)e.moveTo(h+l,0),e.lineTo(h+l,o);if(0==a)for(var u=0;u<=o;u+=i)e.moveTo(0,u+l),e.lineTo(s,u+l);else for(var f=(i*=Math.sqrt(4/3))*Math.floor(s/i),c=s*(i/(2*n)),u=-f;u<=o+f;u+=i)e.moveTo(0,u),e.lineTo(s,u-c),e.moveTo(0,u),e.lineTo(s,u+c);e.stroke(),e.restore()},ao.prototype.pC=function(t,e,n){n.beginPath();t=Rr.H.clone(t);e&&Rr.H.A(t.U,e,t.U),Typr.U.pathToContext({cmds:t.C,crds:t.U},n)},ao.$0=function(t,e){Br.I7.call(this);var n=0!=e,e="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\t"+(t?"uniform sampler2D lut;  uniform float N;  "+Br.j2.pM:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(n?"uniform vec4 bgClr;  uniform vec4 ars["+e+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+Br.j2.xF+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord); \t\t\t\t"+(t?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(n?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+e+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}";this.lf(e,"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}")},ao.$0.prototype=new Br.I7,ao.$0.prototype.x3=function(t,e,n,i,r,a,s,o,l,h,u,f,c,p){this.NW("tmat gsize source target lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));var d=Br.XN,v=this.GR;d.uniformMatrix3fv(v.tmat,!1,n),d.uniform4fv(v.gsize,i),d.uniform3f(v.contSizeZoom,r,a,s),d.uniform2f(v.cnvSize,o,l),d.uniformMatrix4fv(v.ctrn,!1,f),this.a6_&&(d.uniform4fv(v.ars,u),d.uniform4fv(v.bgClr,h)),d.uniform1i(v.source,0),d.uniform1i(v.target,1),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,t),d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,e),c&&(d.uniform1f(v.N,p),d.uniform1i(v.lut,2),d.activeTexture(d.TEXTURE2),d.bindTexture(d.TEXTURE_2D,c.I8),c=d.LINEAR,d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,c),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,c)),d.activeTexture(d.TEXTURE0)},so.prototype=new Ns(""),so.prototype.hi=function(t,e){this.Vz.setAttribute("style","width:"+(t-2)+"px;"),this._0.style.height=e-28+"px"},so.prototype.zQ=function(t){var e=new yr(mr.E.u,!0);e.data=t,e.b=qr.z2,this.c(e)},so.ah9='var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert("No layer comps."); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+".png");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}',so.prototype.ao0=function(t){var e=this.DY.indexOf(t.currentTarget)-1;if(-1==e){t=new yr(mr.E.W,!0);return t.data={d:mr.J.Um,zB:so.ah9},void this.c(t)}1!=e&&-1==this.zs||(this.zQ({d:["updLC","addLC","delLC"][e],BT:this.zs}),2==e&&(this.zs=-1))},so.prototype.T=function(){Ns.prototype.T.call(this);for(var t=0;t<this.DY.length;t++)this.DY[t].T()},so.prototype.Et=function(t){if(null==t?hr.Yq(this.Vz,"disabled"):hr.dj(this.Vz,"disabled"),this.yh=t,hr.d5(this._0),null!=t){var e=t.HE.lastAppliedComp?t.HE.lastAppliedComp.v:0,n=t.HE.list.v.slice(0);n.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var i=0;i<n.length;i++){var r=n[i].v,r=new oo(r.Nm.v,r.compID.v,r.capturedInfo.v,e,this.zs);r.h("activate",this.k9,this),(r.parent=this)._0.appendChild(r.e),this.adg.push(r)}}},so.prototype.k9=function(t){this.zs=t.currentTarget.BT,this.Et(this.yh)},oo.prototype=new Sr,oo.prototype.k9=function(t){t.target!=this.R0&&t.target!=this.e||(1==t.detail?this.c(new yr("activate",!1)):new Ns.dk(this.R0,this.Lm.bind(this)))},oo.prototype.acZ=function(t){t=this.DY.indexOf(t.currentTarget);this.zQ({d:"editLC",auL:t,BT:this.BT})},oo.prototype.Lm=function(t){this.zQ({d:"editLC",uD:t,BT:this.BT})},oo.prototype.w7=function(t){this.zQ({d:"setLC",BT:this.BT})},oo.prototype.zQ=function(t){var e=new yr(mr.E.u,!0);e.data=t,e.b=qr.z2,this.c(e)},lo.prototype=new Ns(""),lo.prototype.hi=function(t,e){this.yE()},lo.prototype.aqx=function(t){var e=this.Qo.M(),n=(this.cb,e/100);.8<n&&n<1.2?n=1:1.8<n&&(n=Math.round(n));e=new yr(mr.E.u,!0);e.b=qr.fz,e.data={d:"zoom",V:n},this.c(e)},lo.prototype.UK=function(t){null!=this.cb&&(hr.Z3(window,this.a8H),hr.MK(window,this.aa2))},lo.prototype.c7=function(t){var e=hr.B6(t,this.O),n=this.cb,i=this.O.width,t=this.O.height,i=(e.x*hr.F()-i/2)/i,t=(e.y*hr.F()-t/2)/t,i=(hr.F(),n.s.V,Math.round(-n.s.V*n.m*i)),t=Math.round(-n.s.V*n.n*t);qr.oo.IO(n,i,t)},lo.prototype.dl=function(t){hr.l$(window,this.a8H),hr.oV(window,this.aa2)},lo.prototype.Et=function(t){null==t&&null!=this.cb&&(this.O.width=100),this.cb=t,this.yE()},lo.prototype.yE=function(){var t=this.cb,e=0;if(null!=t&&0!=t.s.V){var n=t.s;if(hr.DH(this.Vz)){this.Qo.f(100*n.V);var i=300*hr.F(),r=[t.y5(),new Fr(0,0,t.m,t.n)];for(Rr.bb(r);Math.max(r[e+1].m,r[e+1].n)>i;)e+=2;var a=r[e],s=r[e+1],o=s.m,l=s.n,s=this.O;s.width=o,s.height=l,hr.N2(s,o,l);s=s.getContext("2d"),l=s.createImageData(o,l);Rr.VO(a,l.data),s.putImageData(l,0,0);a=n.ct,l=n.Qi(a.x,a.y),a=n.Qi(a.x+a.m,a.y+a.n),t=o/t.m;s.scale(t,t),s.lineWidth=4/t,s.strokeStyle="#ff0000",s.strokeRect(l.x,l.y,a.x-l.x,a.y-l.y)}}},lo.prototype.v1=function(t,e){},lo.prototype.AC=function(){this.yE()},ho.prototype=new Ns(""),ho.prototype.RY=function(t){hr.DH(this.uP)&&this.uP.contentWindow.postMessage(t,"*")},ho.prototype.hi=function(t,e){this.uP.setAttribute("style","width:"+t+"px; height:"+e+"px")},uo.prototype=new Ns(""),uo.prototype.AC=function(){this.XU.BF(this.fd.zp)},uo.prototype.v1=function(t,e){this.fd=t,e!=Bi.MB&&e!=Bi.Fg||this.XU.BF(t.zp)},uo.prototype.hi=function(t,e){this.XU.aiZ(this.fd.No)},uo.prototype.T=function(){Ns.prototype.T.call(this),this.XU.T()};var fo=(co=[],po=null,vo=null,go=null,yo=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200]],(mo.prototype=new Ns("")).Et=function(t,e,n){go=e,this.AC()},mo.prototype.AC=function(){if(vo.dD(!1),hr.DH(po)){for(var t={Tq:"Total:",AQ:[]},e=0;e<go.length;e++)t.AQ.push(function(t){var e={Tq:t.name,AQ:[],A2:0},n=Br.jR?1:0,n={Tq:"Final Image",uC:[t.m*t.n*4,n*t.m*t.n*4],A2:2};e.AQ.push(n);for(var i=0;i<t.g.length;i++)0!=(a=function(t){var e={Tq:t.getName(),AQ:[],A2:1},n=Br.jR?1:0,i=1-n,r=t.rect.Z();0!=r&&e.AQ.push({Tq:"Layer pixels",uC:[4*r,n*r*4]});if(t.add.lmfx&&t.St.It.type){var a,s=t.St.It.type,o=0;for(a in s){for(var l=0,h=0;h<s[a].length;h++)"ebbl"==a?(s[a][h].Nu&&(l+=s[a][h].Nu.HI.Z()),s[a][h].rg&&(l+=s[a][h].rg.HI.Z()),s[a][h].HL&&(l+=s[a][h].HL.HI.Z()),s[a][h].JU&&(l+=s[a][h].JU.HI.Z())):l+=s[a][h].HI.Z();0!=l&&e.AQ.push({Tq:ri.get(Wi.names[Wi.order.indexOf(a)]),uC:[i*l*4,n*l*4],A2:3})}t.St.Uq&&(o+=r),t.St.HA&&(o+=r),t.St.V7&&(o+=r),t.St.V7&&(o+=r),t.St.di&&(o+=r),t.St.E7&&(o+=r);var u=t.St.K2?t.St.K2.length:0;o+u!=0&&e.AQ.push({Tq:"Additional Blending Data",uC:[i*o*4+u,n*o*4]})}o=(u=t.sL())?u.rect.Z():0;0!=o&&e.AQ.push({Tq:"Raster Mask",uC:[o,0]});u=t.add.vmsk;0!=(o=u&&u._n?u._n.rect.Z():0)&&e.AQ.push({Tq:"Vector Mask",uC:[o,0]});return So(e),e}(t.g[i])).AQ.length&&e.AQ.push(a);var r=t.add.lnk2;if(r)for(i=0;i<r.length;i++){var a,s={Tq:(a=r[i]).s3,AQ:[],A2:4},o=0;if(s.AQ.push({Tq:"Raw file",uC:[a.raw.length,0]}),a.y9)for(var l=0;l<a.y9.length;l+=2)o+=a.y9[l].length;0!=o&&s.AQ.push({Tq:"Decoded pixels",uC:[o,0]}),So(s),e.AQ.push(s)}return So(e),e}(go[e]));So(t),co=[t],bo()}},mo.prototype.T=function(){Ns.prototype.T.call(this),vo.T()},mo),co,po,vo,go,yo;function mo(){Ns.call(this,"Memory",!1,null,Ns.DG.anF);var t=hr.L("div","padded");this.Vz.appendChild(t),(vo=new kr(["<< VAR0",[0,13,2]],!1,null,!0)).addEventListener("click",function(t){co.pop(),bo()}),t.appendChild(vo.e),(po=hr.L("div","scrollable")).setAttribute("style","width:20em;  height:26em; margin-top:8px;"),t.appendChild(po)}function wo(t){for(var e=t.currentTarget,n=0;null!=(e=e.previousSibling);)n++;co.push(co[co.length-1].AQ[n-1]),bo()}function bo(){vo.dD(1<co.length);var t=co[co.length-1];hr.d5(po),Mo(t,po,0),t.AQ.sort(function(t,e){return e.uC[0]-t.uC[0]});for(var e=0;e<t.AQ.length;e++)Mo(t.AQ[e],po,1)}function Mo(t,e,n){var i=ds.Dk,r=0!=n&&t.AQ,a="margin-left:"+10*n+"px; margin-bottom:8px; padding:3px 5px;";r&&(a+="cursor:pointer;"),null!=t.A2&&(a+="background-color:rgba("+yo[t.A2].join(",")+",0.2);");n=hr.L("div");e.appendChild(n),n.setAttribute("style",a),n.innerHTML=hr.ml(t.Tq)+"<br />RAM: <b>"+i(t.uC[0])+"</b> GPU: <b>"+i(t.uC[1])+"</b>",r&&n.addEventListener("click",wo,!1)}function So(t){t.uC=[0,0];for(var e=0;e<t.AQ.length;e++)t.uC[0]+=t.AQ[e].uC[0],t.uC[1]+=t.AQ[e].uC[1]}function Co(){Ns.call(this,[9,14],!1,null,Ns.DG.atu),this.Vz.setAttribute("style","min-width:240px;");var t=hr.L("div","padded");this.Vz.appendChild(t),this.SV=new Tr("Author"),t.appendChild(this.SV.e),this.wj=hr.L("textarea"),hr.v6(this.wj),t.appendChild(this.wj);var e=new kr("<<",null,null,!0);t.appendChild(e.e),this.aoj=e;var n=new kr(">>",null,null,!0);t.appendChild(n.e),e.h("click",this.jB,this),n.h("click",this.jB,this);n=this.a6h=new Dr("");t.appendChild(n.e)}function xo(){Sr.call(this),this.b=0,this.QU=null,this.e=hr.L("div","toolconf"),this.XU=null,this.p8=null,this.body=new hr.L("div","body")}function Lo(){xo.call(this),this.i4=new _a,this.i4.h(mr.E.o,this.X8,this),this.body.appendChild(this.i4.e)}function Do(t){if(xo.call(this),null!=t){this.fd=null,this.e1={},-1!=t.indexOf("brush")&&-1==t.indexOf("prsr")&&t.push("prsr");for(var e=0;e<t.length;e++){var n=t[e],i=null;"brush"==n&&(i=new ia),"bmode"==n&&(i=new Ir([12,19,0],Ji.f$,!1,Ji.Kc)),"bmode0"==n&&(i=new Ir([12,19,0],Ji.f$.slice(23),!1)),"emode"==n&&(i=new Ir([12,36],[[9,3],[10,38]])),"opacity"==n&&(i=new Er([12,0],0,100,"%")).f(100),"flow"==n&&(i=new Er([12,63],0,100,"%")).f(100),"smth"==n&&(i=new Er([19,3,0],0,100,"%")).f(0),"samp"==n&&(i=new Ir([12,36],[[12,25,4],[12,25,5],[12,46]])),"wconf"==n&&(i=new Ta).f([40,!0,!0]),"sall"==n&&(i=new Lr([12,25,2])),"strn"==n&&(i=new Er([12,64],1,100,"%")).f(50),"smode"==n&&(i=new Ir([12,36],[[19,7,0],[19,7,1]])).f(1),"pdetail"==n&&(i=new Lr([12,65])).j4(),"rng"==n&&(i=new Ir([12,12],[[19,6,0],[19,6,1],[19,6,2]])).f(1),"expo"==n&&(i=new Er([12,5],0,100,"%")).f(50),"algnd"==n&&(i=new Lr([12,75])).f(!1),"sfrom"==n&&(i=new Ir([12,70],[[17,1],[17,3],[17,0]])),"alt"==n&&(i=new Vr(null,["Alt"],!0,["Select Source"])),"qsmode"==n&&(i=new zr([12,36],['<img src="'+PIMG["set/front"]+'" class="autoscale gsicon" />','<img src="'+PIMG.zoomIn+'" class="autoscale gsicon" />','<img src="'+PIMG.zoomOut+'" class="autoscale gsicon" />'],[[5,3],[18,1],[18,2]])),"redge"==n&&(i=new kr([7,11],!1,null,!0)),"setop"==n&&(i=new Da),"patch"==n&&(i=new zr(null,[[12,70],[12,71]])),"prsr"==n&&(i=new Vr(null,['<img src="'+PIMG.prsO+'" class="autoscale gsicon" />','<img src="'+PIMG.prsS+'" class="autoscale gsicon" />'],!0,[[15,9,0],[15,9,1]])).f([!1,!1]),(i.parent=this).body.appendChild(i.e),this.e1[n]=i,"brush"==n?i.h(mr.E.o,this.ask,this):"redge"==n?i.h("click",this.Y$,this):i.h(mr.E.o,this.bl,this)}}}function ko(t,e){if(xo.call(this),!t){this.e1={};for(var n=0;n<e.length;n++){var i=e[n],r=null;"binop"==i&&(r=new Da),"feat"==i&&(r=new Er([7,6],0,100,"px")).f(0),"redge"==i&&(r=new kr([7,11],!1,null,!0)),"wconf"==i&&(r=new Ta),"cstr"==i&&(r=new ba),"anta"==i&&(r=new Lr([12,25,1])).f(!0),"sall"==i&&(r=new Lr([12,25,2])),"redge"==i?r.h("click",this.Y$,this):r.h(mr.E.o,this.bl,this),(r.parent=this).body.appendChild(r.e),this.e1[i]=r}}}function To(){Do.call(this,["brush","strn"])}function Ao(){Do.call(this,"brush bmode opacity flow smth prsr".split(" "))}function Eo(){Do.call(this,["brush","bmode0","samp","wconf"])}function Oo(){Do.call(this,["brush"])}function No(){Do.call(this,["brush","bmode","opacity","smth","prsr"])}function Io(){Do.call(this,["brush","rng","expo"])}function Po(){Do.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}function Fo(t){if(xo.call(this),null!=t){var e=hr.L("span","fitem");this.body.appendChild(e);var n=[[17,0],[17,1],[11,12,0],[17,2]];this.VB=[];for(var i=0;i<n.length;i++){var r=new kr(n[i],!1,null,!0);this.VB.push(r),r.h("click",this.atE,this),t&&1!=i||e.appendChild(r.e)}this.nL=new ba,this.nL.h(mr.E.o,this.a26,this),t||this.body.appendChild(this.nL.e),this.rU=new kr([15,7,6],!1,null,!0),this.rU.h("click",this.atE,this),t||this.body.appendChild(this.rU.e),this.kV=new Lr([15,7,10]),this.kV.h(mr.E.o,this.a26,this),t||this.body.appendChild(this.kV.e),this.hB=new Pa,this.hB.h("click",this.JD,this)}}function _o(){Fo.call(this,!1)}function Bo(){Fo.call(this,!0)}function Ro(){Do.call(this,["brush","rng","expo"])}function Uo(){Do.call(this,"brush emode opacity flow smth prsr".split(" "))}function jo(){Do.call(this,["brush","samp","wconf"])}function Ho(){ko.call(this,!1,["binop","feat","anta","redge","cstr"])}function Jo(){xo.call(this);var t=this.e1=[new Ir([12,20],["1x1","3x3","5x5","11x11","31x31"]),new Ir([12,70],[[17,1],[17,3],[17,0]]),new Lr("Sampling Ring"),new Lr("Zoom")];t[1].f(2),t[2].f(!0);for(var e=0;e<t.length;e++){var n=t[e];n.h(mr.E.o,this.bl,this),this.body.appendChild(n.e)}}function qo(){xo.call(this),this.ew=new ga(!1),(this.ew.parent=this).ew.h(mr.E.o,this.g3,this),this.body.appendChild(this.ew.e),this.ew.f(JSON.parse(Wi.I6.a76).v),this.gQ=new Ir(null,Wi.I.names.slice(0,5)),this.gQ.h(mr.E.o,this.g3,this),this.body.appendChild(this.gQ.e),this.lx=new Ir([12,19,0],Ji.f$,null,Ji.Kc),this.lx.h(mr.E.o,this.g3,this),this.body.appendChild(this.lx.e),this.bV=new Er([12,0],0,100,"%"),(this.bV.parent=this).bV.h(mr.E.o,this.g3,this),this.body.appendChild(this.bV.e),this.bV.f(100),this.Td=new Lr([12,23,0]),this.Td.h(mr.E.o,this.g3,this),this.body.appendChild(this.Td.e),this.Q_=new Lr([12,23,3]),this.Q_.h(mr.E.o,this.g3,this),this.body.appendChild(this.Q_.e)}function Go(){xo.call(this)}function Zo(){xo.call(this);var t=hr.L("span","fitem");this.body.appendChild(t),this.eW=[new Er([12,15],-180,180,"°"),new kr([1,12,2],null,null,!0)];for(var e=0;e<this.eW.length;e++){var n=this.eW[e];n.parent=this,t.appendChild(n.e),n.h(1==e?"click":mr.E.o,this.wV,this)}}function zo(){Do.call(this,["brush","algnd","sfrom","alt"])}function Vo(){xo.call(this),this.CH=new pa,(this.CH.parent=this).body.appendChild(this.CH.h2.e),this.body.appendChild(this.CH.XR.e),this.body.appendChild(this.CH.Mz.e),this.body.appendChild(this.CH.eY.e);var t=hr.L("span","fitem");this.body.appendChild(t),t.appendChild(this.CH.JJ.e),t.appendChild(this.CH.Rn.e),t.appendChild(this.CH.AN.e),this._p=new Ir("Aa",[[22,5,0],"Sharp","Crisp","Strong","Smooth"]),this._p.h(mr.E.o,this.JD,this),this.body.appendChild(this._p.e),this.eV=new kr([11,9],!1,null,!0),this.eV.h("click",this.a9N,this),this.body.appendChild(this.eV.e),this.hB=new Pa,this.hB.h("click",this.JD,this)}function Wo(){ko.call(this,!1,["binop","feat","anta","redge"])}function Xo(){xo.call(this);var t=[],e='<svg  class="autoscale gsicon" viewBox="0 0 14 18" width="14" height="18" fill="black"><path d="M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z" /></svg>';this.R6=new Lr([12,85]),this.R6.h(mr.E.o,this.bl,this),t.push(this.R6.e),this.Vr=new Lr([20,1]),this.Vr.h(mr.E.o,this.bl,this),t.push(this.Vr.e),this.lR=new Lr([12,83]),this.lR.h(mr.E.o,this.bl,this),t.push(this.lR.e);var n=hr.L("span","fitem");t.push(n),this.a7R=new Ir("Scale for exported files",["1x","2x","3x","4x"],!0),n.appendChild(this.a7R.e),this.uS=new kr(e+" PNG",!1,"Save selected layers as PNG",!0),n.appendChild(this.uS.e),this.uS.h("click",this.UO,this),this.asb=new kr(e+" SVG",!1,"Save selected layers as SVG",!0),n.appendChild(this.asb.e),this.asb.h("click",this.UO,this);var i=hr.L("span","fitem");t.push(i);var r=hr.L("span","fitem");t.push(r),this.DY=[];for(var a=0;a<8;a++){var s=new kr("Hi",!1,3==a||7==a?[20,4,6]:[20,4,a<3?a:a-1]);(a<4?i:r).appendChild(s.e),s.h("click",this.UO,this),this.DY.push(s)}for(a=0;a<t.length;a++)this.body.appendChild(t[a]);this.a7k=t}function Yo(){ko.call(this,!1,["binop","feat","redge","wconf","sall"])}function Ko(){Do.call(this,["setop","patch"])}function Qo(){Do.call(this,["setop"])}function $o(){Do.call(this,["bmode","opacity","wconf","sall"])}function tl(){ko.call(this,!1,["binop","feat","anta","redge"])}function el(){ko.call(this,!1,["binop","feat","anta","redge"])}function nl(){ko.call(this,!1,["binop","feat","redge","cstr"])}function il(){xo.call(this),this.fd=null,this.fh=null,this.gL=[new Tr("X",null,3.2,null,!0),new Tr("Y",null,3.2,null,!0),new Tr("W",null,3.2,null,!0),new Tr("H",null,3.2,null,!0),new Tr([12,15],"°",3.7,null,!0),new Tr(["VAR0 1",[12,80,0]],null,3.5,null,!0),new Tr(["VAR0 2",[12,80,0]],null,3.5,null,!0),new kr([15,7,6],!1,null,!0),new kr([2,2],!1,null,!0)];for(var t=0;t<this.gL.length;t++){var e=this.gL[t];this.body.appendChild(e.e),6<t&&e.h("click",this.uT,this)}this.eR=0}function rl(){Do.call(this,["brush","strn","pdetail"])}function al(){Do.call(this,["brush","sfrom"]),this.a4Z=[];for(var t=[[7,12]],e=0;e<t.length;e++){var n=new kr(t[e],!1,null,!0);this.a4Z.push(n),(n.parent=this).body.appendChild(n.e),n.h("click",this.a24,this)}}function sl(){Do.call(this,["brush","strn"])}function ol(){Do.call(this,["brush","flow","smode"])}function ll(){xo.call(this),this.tU=!1;var t=hr.L("span","fitem");this.body.appendChild(t),this.y4=new zr(null,['<img src="'+PIMG.zoomIn+'" class="autoscale gsicon" />','<img src="'+PIMG.zoomOut+'" class="autoscale gsicon" />']),t.appendChild(this.y4.e),this.y4.h(mr.E.o,this.bl,this),this.vq=new kr([20,2]),this.body.appendChild(this.vq.e),this.vq.h("click",this.a75,this),this.cg=new kr([20,3]),this.body.appendChild(this.cg.e),this.cg.h("click",this.a75,this)}function hl(t,e){if(xo.call(this),null!=t){this.Wb=t,this.uO={},this.ap9=e;for(var n=0;n<t.length;n++){var i=t[n],r=null;"tmode"==i&&((r=new Ir(null,[[12,76,1],[12,76,0],[12,76,2]])).f(0),e&&r.ai9(2)),"make"==i&&(r=new zr("Make",[[17,2],[12,76,1]],null,!0)),"anta"==i&&(r=new Lr([12,25,1])).f(!0),"binop"==i&&(r=new Ir(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])),"pshape"==i&&(r=new Ir(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]])),"shape"==i&&(r=new Ca([12,76,1])),"crad"==i&&(r=new Er([12,94,0],0,50,"px")).f(0),"cstr"==i&&(r=new ba),"irad"==i&&(r=new Er([12,94,1],0,100,"%")).f(40),"length"==i&&(r=new Er([12,80,0],4,40)).f(4),"sides"==i&&(r=new Er([12,78],3,30)).f(5),"width"==i&&(r=new Er([12,41],1,100,"px")).f(5),"tolr"==i&&(r=new Er([12,24],0,100)).f(5),"fstyle"==i&&(r=new aa([12,26])),"sstyle"==i&&(r=new La),"psnap"==i&&(r=new Lr([8,10])),"crnr"==i&&(r=new kr("⌒",!1,[12,94,0],!0)),"aopts"==i&&(r=new ka).f([!1,!1,50,60,0]),(r.parent=this).body.appendChild(r.e),(this.uO[i]=r).h("crnr"==i?"click":mr.E.o,this.bl,this)}}}function ul(){hl.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}function fl(){hl.call(this,"tmode make anta fstyle sstyle binop tolr".split(" "))}function cl(){hl.call(this,["fstyle","sstyle"]),this.a3Y=null,this.ahd=null,this.acw=null,this.Zy=new Ir([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]),this.AW=new kr("▼"),this.AW.j4(),this.nM=new kr("▲"),this.nM.j4(),this.jP=[this.Zy,this.AW,this.nM];for(var t=0;t<this.jP.length;t++){var e=this.jP[t];this.body.appendChild(e.e),e.parent=this,e.h(0==t?mr.E.o:"click",this.Px,this)}}function pl(){hl.call(this,["fstyle","sstyle","crnr","psnap"])}function dl(){hl.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}function vl(){hl.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}function gl(){hl.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" ")),this.uO.aopts.f([!1,!0,50,60,0])}function yl(){hl.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}function ml(){hl.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}function wl(){ko.call(this,!1,["binop","feat","redge"])}function bl(){Do.call(this,["brush","qsmode","redge"])}function Ml(){xo.call(this);var t=new kr("Slices From Guides",null,null,!0);t.h("click",this.Px,this),this.body.appendChild(t.e)}function Sl(){xo.call(this);for(var t=this.a9o=[new kr("▼",null,null,!0),new kr("▲",null,null,!0),new kr([5,4],null,null,!0)],e=0;e<3;e++){var n=t[e];this.body.appendChild(n.e),n.h("click",this.Px,this)}}function Cl(t,e){if(xo.call(this),null!=window.Typr&&!t){this.a5c=e,this.wn=null,this.a6m=hr.L("span",""),this.ael=hr.L("span","");for(var n in this.P4={cv:new $r(null,24),OA:new Er("X",0,0,"px",0,!1,!0,4),FV:new Er("Y",0,0,"px",0,!1,!0,4),dg:new Er("W",0,0,["%","px"],2,!1,!0,5),l6:new kr('<img src="'+PIMG["lrs/link"]+'" class="autoscale gsicon" />',null,[12,51],null),Le:new Er("H",0,0,["%","px"],2,!1,!0,5),afm:new Er("∡",0,0,"°",1,!1,!0),a7A:new Er("▱ H",-85,85,"°",1,!1,!0),a5k:new Er("▱ V",-85,85,"°",1,!1,!0),m7:new Ir(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])},this.P4.m7.f(1),this.P4){var i=this.P4[n];e&&(i==this.P4.afm||i==this.P4.a7A||i==this.P4.a5k||i==this.P4.m7)||this.a6m.appendChild(i.e);var r=i==this.P4.l6?"click":mr.E.o;i.h(r,this.a7v,this)}this.vg=new Ea(!0,!0,!0),this.vg.h(mr.E.o,this.aiC,this);var a=(this.vg.parent=this).ael,t=this.vg;a.appendChild(t.Wi.e),a.appendChild(t.C1.e),a.appendChild(t.As.e),a.appendChild(t.rV.e),a.appendChild(t.u6.e),this.eV=new kr([11,9]),this.eV.h("click",this.a3P,this),this.hB=new Pa,this.hB.h("click",this.JD,this)}}function xl(){Cl.call(this)}function Ll(){Cl.call(this)}function Dl(){Cl.call(this,!1,!0)}function kl(){xo.call(this);for(var t=this.Wb=[new Ir([12,36],["Rigid",[15,10,0],[24,4]]),new Ir([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new Er([7,4],0,100,"px"),new Lr("Show Mesh"),new kr("▼",null,null,!0),new kr("▲",null,null,!0)],e=0;e<t.length;e++){var n=t[e];(n.parent=this).body.appendChild(n.e),n.h(e<4?mr.E.o:"click",this.agM,this)}this.hB=new Pa,this.hB.h("click",this.JD,this),this.body.appendChild(this.hB.e)}function Tl(){Sr.call(this),this.e=hr.L("div","cmanager"),window.alert=function(t,e){this.ahl(t,e),console.log("Alert: "+t)}.bind(this),window.onblur=function(t){this.sw()}.bind(this),this.r2=0,this.kY=0,this.vH=[],this.NK={},this.Ir=hr.L("div","alertcont"),this.e.appendChild(this.Ir),this.adw=hr.L("div","alertcont"),this.e.appendChild(this.adw),this.qu=hr.L("div","alertcont"),this.ahQ=0,this.Fo=-1,this.a8Z=null,this.D8=null;var t=this.a7Y=hr.L("div","alertpanel");t.setAttribute("style","padding:0.7em 1em 0.1em 1em;"),this.qu.appendChild(t);var e=this.Nz=hr.L("input");e.setAttribute("type","text"),hr.v6(e),e.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;"),e.addEventListener("input",this.a9e.bind(this),!1),e.addEventListener("keydown",this.aph.bind(this),!1),t.appendChild(e);e=this.agH=hr.L("div","contextpanel scrollable");e.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;"),e.addEventListener("click",this.a36.bind(this),!1),t.appendChild(e),hr.rr(document.body,this.ajB.bind(this))}function Al(){Sr.call(this),this.e=hr.L("div","confbar"),this.e.setAttribute("id","idConfbar")}function El(t){Sr.call(this),El.WQ=t,this.fd=null,this.C8=hr.L("input",""),this.C8.setAttribute("type","file"),this.C8.setAttribute("multiple",""),this.C8.addEventListener("change",function(t){this.zA(t.target.files,null,this.ti,null),this.ti=null}.bind(this),!1),document.body.appendChild(this.C8),this.C8.setAttribute("style","display:none"),this.alU=[],this.SW=!1,this.au2={},this.ti=null}function Ol(){this.size=16,this.data=Rr.t(16)}Co.prototype=new Ns(""),Co.prototype.jB=function(t){var e=t.target==this.aoj?-1:1,n=this.cb,i=n.add.Anno.length,t=n.s.LB;n.s.LB=(t+e+i)%i,n.iM=!0,this.yE()},Co.prototype.yE=function(){var t,e,n=this.cb;null==n||null!=(t=n.add.Anno)&&0!=t.length&&(n=t[e=n.s.LB],this.wj.value=n[4],this.a6h.f(e+1+" / "+t.length),this.SV.f(n[3]))},Co.prototype.hi=function(t,e){this.r2!=t&&(this.r2=t,e=Math.min(e,200),this.wj.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(t-10)+"px; height:"+(e-66)+"px"))},Co.prototype.Et=function(t,e,n){this.cb=t,this.yE()},xo.prototype=new Sr,xo.prototype.a5a=function(t,e){this.b=t,this.QU=e,qr.J7[t]?(t=this.XU=new la(t),this.e.appendChild(t.e),t.parent=this):(this.p8=hr.L("div"),this.e.appendChild(this.p8)),this.e.appendChild(this.body),this.T()},xo.prototype.a3u=function(t,e){},xo.prototype.aeZ=function(t){},xo.prototype.v1=function(t,e){e!=Bi.MB&&e!=Bi.Fg||this.XU&&this.XU.BF(t.zp)},xo.prototype.m5=function(t){},xo.prototype.T=function(){this.XU?this.XU.T():this.p8.innerHTML=hr.R4(this.QU,null,"toolicon"),this._4()},xo.prototype._4=function(){},Lo.prototype=new xo,Lo.prototype._4=function(){this.i4.T()},Lo.prototype.X8=function(t){var e=new yr(mr.E.W,!0);e.data={d:mr.J.hg,b:this.b,jm:this.i4.ami()},this.c(e)},Lo.prototype.m5=function(t){this.i4.agz(t.VU)},Do.prototype=new xo,Do.prototype.a3u=function(t,e){t=t[1];var n=this.e1;t.Md&&n.bmode.f(Ji.q6.indexOf(t.Md.v.BlnM)),t.Opct&&n.opacity.f(t.Opct.v),t.flow&&n.flow.f(t.flow.v),t.Brsh&&n.brush.f(t,e.S9.x8,e.S9.u_),t.FrgC&&(e=Rr.I.Na(t.FrgC.v),(t=new yr(mr.E.W,!0)).data={d:mr.J.ot,jm:Bi.UB,wp:0,k:e.p<<16|e.z<<8|e.S},this.c(t)),this.ask(),this.bl()},Do.prototype.aeZ=function(){if(null==qr.J7[this.b])return null;var t=this.e1,e=JSON.parse(JSON.stringify(t.brush.M()));e.classID=qr.J7[this.b][1][0],t.bmode&&(e.Md={t:"enum",v:{BlnM:Ji.q6[t.bmode.M()]}}),t.opacity&&(e.Opct={t:"long",v:t.opacity.M()}),t.flow&&(e.flow={t:"long",v:t.flow.M()});t=this.fd.k$;return e.FrgC={t:"Objc",v:Rr.I.wg(t={p:t>>>16,z:t>>>8&255,S:255&t})},["Brush Preset "+e.Brsh.v.Dmtr.v.val,e]},Do.prototype.Y$=function(){var t=new yr(mr.E.W,!0);t.data={d:mr.J.go,RB:"redge"},this.c(t)},Do.prototype._4=function(){for(var t in this.e1)this.e1[t].T()},Do.prototype.m5=function(t){for(var e in"showBrushOpts"==t.am2&&this.e1.brush.abe(t.zM.x,t.zM.y),t.Ue){var n=t.Ue[e];"qsmode"!=e&&(n*=100),this.e1[e]&&this.e1[e].f(n)}},Do.prototype.v1=function(t,e){xo.prototype.v1.call(this,t,e),this.fd=t;var n=this.e1.brush;null!=n&&(e!=Bi.MB&&e!=Bi.Gx||n.BF(t.S9),e==Bi.qX&&n.f(t.S9.Ej,t.S9.x8,t.S9.u_))},Do.prototype.ask=function(){var t=new yr(mr.E.W,!0);t.data={d:mr.J.ot,jm:Bi.qX,Mt:this.e1.brush.M()},this.c(t)},Do.prototype.bl=function(){var t,e,n=new yr(mr.E.W,!0);for(t in n.data={d:mr.J.hg,b:this.b},this.e1)"brush"!=t&&"redge"!=t&&(e=this.e1[t].M(),-1!=["opacity","flow","smth","strn","expo"].indexOf(t)?n.data[t]=e/100:"bmode"==t?n.data.bmode=Ji.sp[e]:"bmode0"==t?n.data.bmode=Ji.sp[23+e]:n.data[t]=e);this.c(n)},ko.prototype=new xo,ko.prototype.m5=function(t){if(null!=t.WS)this.e1.binop.f(t.WS);else if(t.sH)for(var e in t.sH)this.e1[e]&&this.e1[e].f(t.sH[e]);else{var n=ko.CD;null==n&&(i=ql.a5J(!0),n=ko.CD=new xr(i.items,i.Au)),n.T(),n.parent=this,n.update(t.Dl,t.xv);var i=new yr(mr.E.W,!0);i.data={d:mr.J.u9,IZ:n,x:t.Pw.TR+2,y:t.Pw.KY+1},this.c(i)}},ko.prototype._4=function(){for(var t in this.e1)this.e1[t].T()},ko.prototype.Y$=function(){var t=new yr(mr.E.W,!0);t.data={d:mr.J.go,RB:"redge"},this.c(t)},ko.prototype.bl=function(){var t,e=new yr(mr.E.W,!0);for(t in e.data={d:mr.J.hg,b:this.b,sH:{}},this.e1)e.data.sH[t]=this.e1[t].M();this.c(e)},To.prototype=new Do,Ao.prototype=new Do,Eo.prototype=new Do,Oo.prototype=new Do,No.prototype=new Do,Io.prototype=new Do,Po.prototype=new Do,Fo.prototype=new xo,Fo.prototype._4=function(){this.hB.T();for(var t=0;t<this.VB.length;t++)this.VB[t].T();this.nL.T(),this.kV.T(),this.rU.T()},Fo.prototype.m5=function(t){var e=this.hB.e;t.as?this.body.appendChild(e):this.body.contains(e)&&this.body.removeChild(e),t.nL&&this.nL.f(t.nL)},Fo.prototype.JD=function(t){var e={d:mr.J.hg,b:this.b,_u:this.hB.M()?"commit":"cancel"},n=new yr(mr.E.W,!0);n.data=e,this.c(n)},Fo.prototype.atE=function(t){t.target.e.blur();var e={d:mr.J.hg,b:this.b,_u:"cropby",a4e:this.VB.indexOf(t.target)};t.target==this.rU&&(e._u="straighten");t=new yr(mr.E.W,!0);t.data=e,this.c(t)},Fo.prototype.a26=function(t){var e={d:mr.J.hg,b:this.b,_u:"config",$V:{du:this.nL.M(),RA:this.kV.M()},ahO:t.target==this.nL},t=new yr(mr.E.W,!0);t.data=e,this.c(t)},_o.prototype=new Fo,Bo.prototype=new Fo,Ro.prototype=new Do,Uo.prototype=new Do,jo.prototype=new Do,Ho.prototype=new ko(!0),Jo.prototype=new xo,Jo.prototype.bl=function(t){for(var e=this.e1,n=[],i=0;i<e.length;i++)n[i]=e[i].M();var r=new yr(mr.E.W,!0);r.data={d:mr.J.hg,b:this.b,sH:n},this.c(r)},Jo.prototype._4=function(){for(var t=0;t<this.e1.length;t++)this.e1[t].T()},qo.prototype=new xo,qo.prototype._4=function(){this.gQ.T(),this.lx.T(),this.bV.T(),this.Td.T(),this.Q_.T()},qo.prototype.v1=function(t,e){xo.prototype.v1.call(this,t,e);var n=e==Bi.UB;this.ew.$_(t.k$,t.JH),!n&&e!=Bi.kv&&e!=Bi.MB||this.ew.BF(t.pA)},qo.prototype.g3=function(){var t=new yr(mr.E.W,!0);t.data={d:mr.J.hg,b:this.b},t.data.jm={I:this.ew.M(),yu:Wi.I.types[this.gQ.M()],Iy:this.Td.wI(),a0V:this.Q_.wI(),adU:Ji.sp[this.lx.M()],cj:this.bV.M()/100},this.c(t)},Go.prototype=new xo,Zo.prototype=new xo,Zo.prototype._4=function(){for(var t=0;t<this.eW.length;t++)this.eW[t].T()},Zo.prototype.m5=function(t){this.eW[0].f(180*t.LY/Math.PI)},Zo.prototype.wV=function(t){var e=this.eW.indexOf(t.target),n=new yr(mr.E.W,!0);n.data={d:mr.J.hg,b:this.b,LY:1==e?0:t.target.M()*Math.PI/180},this.c(n)},zo.prototype=new Do,Vo.prototype=new xo,Vo.prototype._4=function(){this.hB.T(),this.CH.T(),this.eV.T()},Vo.prototype.a9N=function(t){var e={d:mr.J.hg,b:this.b,_u:"showwarp"},n=new yr(mr.E.W,!0);n.data=e,this.c(n)},Vo.prototype.m5=function(t){"showactive"==t._u&&this.body.appendChild(this.hB.e),"hideactive"==t._u&&this.body.removeChild(this.hB.e),"changeAA"==t._u&&this._p.f(t.NL)},Vo.prototype.v1=function(t,e){xo.prototype.v1.call(this,t,e),e!=Bi.MB&&e!=Bi.qq&&e!=Bi.eE&&e!=Bi.aR||this.CH.f(t.wO,t.PG,t.Xi)},Vo.prototype.JD=function(t){var e={d:mr.J.hg,b:this.b,_u:this.hB.M()?"commit":"cancel"};t.target==this._p&&(e._u="changeAA",e.NL=this._p.M());t=new yr(mr.E.W,!0);t.data=e,this.c(t)},Wo.prototype=new ko(!0),Xo.prototype=new xo,Xo.prototype.m5=function(t){var e=t.VU,n=t.a4A;if(this.R6.f(e.BU),this.Vr.f(e.dL),this.lR.f(e.mW),n){hr.d5(this.body);for(var i=0;i<n.length;i++)1==n[i]&&this.a7k[i]&&this.body.appendChild(this.a7k[i])}},Xo.prototype.UO=function(t){var e,n=this.DY.indexOf(t.target);-1==n?(e=new yr(mr.E.W,!0)).data={d:mr.J.hg,b:this.b,wp:t.target==this.uS?"getPNG":"getSVG",Bo:this.a7R.M()+1}:((e=new yr(mr.E.u,!0)).b=qr.AZ,e.data={d:"algn",k:n}),this.c(e)},Xo.prototype.bl=function(t){var e=new yr(mr.E.W,!0);e.data={d:mr.J.hg,b:this.b,wp:"prms",BU:this.R6.wI(),dL:this.Vr.wI(),mW:this.lR.wI()},this.c(e)},Xo.prototype._4=function(){this.R6.T(),this.Vr.T(),this.lR.T();for(var t="h0 h1 h2 hG v0 v1 v2 vG".split(" "),e=0;e<8;e++)this.DY[e].Uf(hr.R4("align/"+t[e],null,"autoscale"))},Yo.prototype=new ko(!0),Ko.prototype=new Do,Qo.prototype=new Do,$o.prototype=new Do,tl.prototype=new ko(!0),el.prototype=new ko(!0),nl.prototype=new ko(!0),il.prototype=new xo,il.prototype.uT=function(t){var e=7==this.gL.indexOf(t.target),t=new yr(mr.E.u,!0);if(e){if(0==this.eR)return;t.b=qr.gc,t.data={d:"rot",rD:[2,5],k:-this.eR}}else{t.b=qr.yg;for(var n=0;n<6;n++)this.gL[n].f(null)}this.c(t)},il.prototype.m5=function(t){var e,n,i,r,a,s,o,l,h;null!=t&&(e=(this.fh=t).a4W,i=(n=t.DI).x-e.x,r=n.y-e.y,this.eR=-Math.atan2(r,i),t.C6&&(this.eR=(a=n,s=e,o=t.C6,l=Math.sqrt(Math.pow(s.x-a.x,2)+Math.pow(s.y-a.y,2)),s=Math.sqrt(Math.pow(s.x-o.x,2)+Math.pow(s.y-o.y,2)),a=Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2)),Math.acos((s*s+l*l-a*a)/(2*s*l)))),(h=this.gL)[0].f(this.kz(t,e.x)),h[1].f(this.kz(t,e.y)),h[2].f(this.kz(t,i)),h[3].f(this.kz(t,r)),h[4].f((180*this.eR/Math.PI).toFixed(2)),h[5].f(this.kz(t,Pr.Tn(e,n))),t.C6?h[6].f(this.kz(t,Pr.Tn(e,t.C6))):h[6].f(""))},il.prototype.kz=function(t,e){t=Rr.IR.KQ(e,t.Mg,this.fd,t.a4J,!1);return parseFloat(t).toFixed(2)},il.prototype.v1=function(t,e){this.fd=t,this.m5(this.fh)},il.prototype._4=function(){for(var t=this.gL,e=0;e<t.length;e++)t[e].T();hr.Yu(t[2],t[3])},rl.prototype=new Do,al.prototype=new Do,al.prototype.a24=function(t){this.a4Z.indexOf(t.currentTarget);t=new yr(mr.E.n$,!0);t.data=qr.Hp.xq("contentAware"),this.c(t)},sl.prototype=new Do,ol.prototype=new Do,ll.prototype=new xo,ll.prototype._4=function(){this.vq.T(),this.cg.T()},ll.prototype.bl=function(){var t={d:mr.J.hg,b:this.b,qo:0==this.y4.M()},e=new yr(mr.E.W,!0);e.data=t,this.c(e)},ll.prototype.m5=function(t){this.tU!=t.tU&&this.y4.f(1-this.y4.M()),this.tU=t.tU},ll.prototype.a75=function(t){var e=new yr(mr.E.u,!0);e.b=qr.fz,e.data={d:"adapt",k:t.target==this.vq?"pixel":"fitscr"},this.c(e)},hl.prototype=new xo,hl.prototype.m5=function(t){if(null!=t.WS)this.uO.binop.f(t.WS);else if("vals"==t.wp)for(var e in t.acp)this.uO[e].f(t.acp[e]);else{var n=hl.CD;(n=null==n?hl.CD=new xr([{name:"Remove Anchor Point",K:function(t){var e=t?t.l7():null;return{K:t&&0!=e[1].length&&0!=e[0][e[1][0]].add.vmsk.nZ.length}}},{name:"Remove Path",K:function(t){var e=t?t.l7():null;return{K:t&&0!=e[1].length&&0!=e[0][e[1][0]].add.vmsk.w.length}},jp:!0},{name:"Make Selection"},{name:[2,3]},{name:[14,9]}],[{_:mr.E.u,b:qr.zj,R:{d:"remove",Vd:!0}},{_:mr.E.u,b:qr.es,R:{d:"remove"}},{_:mr.E.W,R:{d:mr.J.go,RB:"makesel"}},{_:mr.E.n$,R:qr.iT.Of(0)},{_:mr.E.n$,R:qr.iT.Of(1)}]):n).parent=this,n.update(t.Dl,t.xv);var i=new yr(mr.E.W,!0);i.data={d:mr.J.u9,IZ:n,x:t.Pw.TR+2,y:t.Pw.KY+1},this.c(i)}},hl.prototype.ago=function(t){return null},hl.prototype._4=function(){for(var t in this.uO)this.uO[t].T()},hl.prototype.bl=function(t){var e=new yr(mr.E.W,!0),n=this.uO;if(t.target==n.crnr)(e=new yr(mr.E.u,!0)).b=qr.zj,e.data={d:"crnr"};else if(t.target==n.make){var i=t.target.M();console.log(i),0==i?e.data={d:mr.J.go,RB:"makesel"}:((e=new yr(mr.E.u,!0)).b=qr.gW,e.data={d:"newfill",A2:0})}else if(t.target==n.fstyle)e.data={d:mr.J.ot,jm:Bi.bj,k:n.fstyle.M()};else if(t.target==n.sstyle)e.data={d:mr.J.ot,jm:Bi.c9,k:n.sstyle.M()};else if(t.target==n.tmode)e.data={d:mr.J.ot,jm:Bi.Cf,k:n.tmode.M()};else for(var r in n.pshape&&this.B9(),e.data={d:mr.J.hg,b:this.b},n)e.data[r]=n[r].M();this.c(e)},hl.prototype.B9=function(){var t,e=this.uO,n=e.tmode.M(),i=e.pshape?this.ago(e.pshape.M()):this.Wb;0==n&&(t=["anta","make"]),1==n&&(t=["anta","fstyle","sstyle"]),2==n&&(t=["make","binop","fstyle","sstyle"]);var r,a=e.binop;a&&(r=a.M(),0==n?a.aff(0):(a.ai9(0),0==r&&(a.f(1),this.bl({target:a})))),hr.d5(this.body);for(var s=0;s<i.length;s++){var o=i[s];-1==t.indexOf(o)&&this.body.appendChild(e[o].e)}},hl.prototype.v1=function(t,e){xo.prototype.v1.call(this,t,e);var n=this.uO.fstyle,i=this.uO.sstyle,r=this.uO.tmode;n&&n.v1(t,e),i&&i.v1(t,e),e!=Bi.MB&&e!=Bi.at||0!=t.wF.length&&this.uO.shape&&this.uO.shape.BF(t.wF),e!=Bi.MB&&e!=Bi.bj||n&&n.f(null,t.f6,t.ahq),e!=Bi.MB&&e!=Bi.c9||i&&i.f(null,t.vF,t.a1p),e!=Bi.MB&&e!=Bi.Cf||(t=t.YA,this.ap9&&2==t&&(t=0),r&&(r.f(t),this.B9()))},ul.prototype=new hl,fl.prototype=new hl,cl.prototype=new hl,cl.prototype.m5=function(t){if("main"==t._u){var e=this.jP,n=t.ue;if(n){this.ahd=n.clone(),this.acw=JSON.stringify(t.UY);for(var i=n.w.slice(0),r=i.length,a=0;a<i.length;a++)i[a]++;i.sort(function(t,e){return t-e}),e[0].S0(),e[1].dD(0!=r),e[2].dD(0!=r),e[0].Uf(0==r?"No Paths":1==r?"Path "+i[0]:"Paths "+i.slice(0,3).join(",")+(3<r?"..":"")),0!=r&&(r=n.w[0],r=Rr.$.PX(n.Y,r),r=n.Y[r],this.Zy.f([3,0,1,2][r.Gw]))}else for(a=0;a<e.length;a++)e[a].a6()}else hl.prototype.m5.call(this,t)},cl.prototype._4=function(){hl.prototype._4.call(this),this.Zy.T()},cl.prototype.Px=function(t){if(t.target==this.Zy||t.target==this.AW||t.target==this.nM){var e={},n=this.ahd,i=n.Y,r=n.w,a=Rr.$.M$(i),s=JSON.parse(this.acw);if(r.sort(function(t,e){return t-e}),t.target==this.Zy){var o=this.Zy.M();if(o<4)for(var l=0;l<r.length;l++)i[Rr.$.PX(i,r[l])].Gw=[1,2,3,0][o];else{if(a<=1)return;n.Y=Rr.$.rf(i),n.w=2==n.Y.length?[]:[0],n.nZ=[],s=[Rr.UY.lk()]}}else{for(var h=t.target==this.AW?-1:1,u=[],l=0;l<a;l++){var f=(p=Rr.$.PX(i,l))+1+i[p].length;u.push(i.slice(p,f))}for(var c=r.slice(0),l=0;l<r.length;l++)c[l]=Math.max(l,Math.min(a-1-(r.length-1-l),c[l]+h));if(r.join(",")==c.join(","))return;for(l=0;l<r.length;l++){var p,d=-1==h?l:r.length-1-l;(p=r[d])!=(f=c[d])&&(d=u[p],u[p]=u[f],u[f]=d)}for(var v=i.slice(0,2),l=0;l<u.length;l++)v=v.concat(u[l]);n.Y=v,n.w=c}e.ue=n,e.UY=s;s=new yr(mr.E.W,!0);s.data={d:mr.J.hg,b:this.b,Nn:e},this.c(s)}},pl.prototype=new hl,dl.prototype=new hl,vl.prototype=new hl,gl.prototype=new hl,gl.prototype.ago=function(t){return"tmode make fstyle sstyle binop pshape".split(" ").concat([["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]][t])},yl.prototype=new hl,ml.prototype=new hl,wl.prototype=new ko(!0),bl.prototype=new Do,Ml.prototype=new xo,Ml.prototype.Px=function(t){var e=new yr(mr.E.n$,!0);e.data={YY:"make",l5:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}},this.c(e)},Sl.prototype=new xo,Sl.prototype.Px=function(t){var e=this.a9o.indexOf(t.target),t=new yr(mr.E.u,!0);t.b=qr.bp,t.data={d:2==e?"delete":"reorder",dir:0==e?-1:1},this.c(t)},Sl.prototype.T=function(){xo.prototype.T.call(this);for(var t=0;t<3;t++)this.a9o[t].T()},Cl.prototype=new xo,Cl.prototype.m5=function(t){if(t.Pw){var e=Cl,n=this.CD;(n=null==n?this.CD=new xr(e.aeb(),e.a00(this.b)):n).T(),n.parent=this,n.update(t.Dl,t.xv);var i=new yr(mr.E.W,!0);return i.data={d:mr.J.u9,IZ:n,x:t.Pw.TR+2,y:t.Pw.KY+1},void this.c(i)}var r;hr.d5(this.body),(this.wn=t).P4&&(r=t.P4.Ni,e=t.P4.Cq.clone(),n=Math.atan2(-e.S,e.q4),(i=new _r).rotate(-n),e.concat(i),(i=this.P4).cv.f(t.P4.Gj),i.OA.f(t.P4.bM.x),i.FV.f(t.P4.bM.y),i.dg.f(e.q4*("%"==i.dg.R8()?100:r.m)),i.Le.f(e.DR*("%"==i.Le.R8()?100:r.n)),i.afm.f(180*-n/Math.PI),i.a7A.f(0/Math.PI),i.a5k.f(180*Math.atan(e.yH)/Math.PI),this.body.appendChild(this.a6m),this.eV.x7()),t.sv&&(this.vg.f(t.sv),this.body.appendChild(this.ael),this.eV.j4()),this.body.appendChild(this.hB.e),t.a4$&&!this.a5c&&this.body.appendChild(this.eV.e)},Cl.prototype.a7v=function(t){var e,n,i=this.P4,r=this.wn.P4.Ni;t.target==i.l6&&i.l6.f(!i.l6.M()),i.l6.wI()&&(e=i.Le,l=i.dg,n=r.n,h=r.m,t.target==i.dg&&(e=i.dg,l=i.Le,n=r.m,h=r.n),s=e.M()/("%"==e.R8()?100:n),s*="%"==l.R8()?100:h,l.f(s));var a,s,o=[];for(a in i)i[a]!=i.l6&&i[a]!=i.cv&&(s=i[a].M(),i[a]!=i.dg&&i[a]!=i.Le||0!=s||i[a].f(s=.1),i[a]==i.dg&&"px"==i[a].R8()&&(s/=r.m/100),i[a]==i.Le&&"px"==i[a].R8()&&(s/=r.n/100),o.push(s));var l,h=new Pr(o[0],o[1]);t.target==i.cv?this.kG({_u:"ctyp",Gj:i.cv.M()}):t.target==i.OA||t.target==i.FV?this.kG({_u:"cen",bM:h}):(t=(l=this.wn.P4.Cq.clone()).clone(),l=Math.atan2(-l.S,l.q4),t.translate(-h.x,-h.y),t.rotate(-l),(l=new _r(t.q4,t.S,t.yH,t.DR,0,0)).tU(),t.concat(l),t.concat(new _r(o[2]/100,Math.tan(o[5]*Math.PI/180),Math.tan(o[6]*Math.PI/180),o[3]/100,0,0)),t.rotate(-o[4]*Math.PI/180),t.translate(h.x,h.y),this.wn.P4.Cq=t,this.kG({_u:"trn",P4:t,Cb:this.P4.m7.M()}))},Cl.prototype.aiC=function(t){this.kG({_u:"wrp",sv:this.vg.M()})},Cl.prototype.a3P=function(t){this.kG({_u:"switchWarp"})},Cl.prototype.JD=function(t){this.kG({_u:this.hB.M()?"commit":"cancel"})},Cl.prototype.kG=function(t){t.d=mr.J.hg,t.b=this.b;var e=new yr(mr.E.W,!0);e.data=t,this.c(e)},Cl.prototype._4=function(){var t,e=this.P4;for(t in e)e[t].T();hr.Yu(e.dg,e.Le),this.hB.T(),this.vg.T(),this.eV.T()},Cl.aeb=function(){return[{name:[5,9],DO:"Shift+Alt+Ctrl + T",jp:!0},{name:[12,38]},{name:[2,5]},{name:[24,4]},{name:[2,9]},{name:[11,9],K:function(t){if(null==t||1!=t.w.length)return{K:!1};t=t.g[t.w[0]];return{K:null==t.add.TySh&&!t.dH()}},jp:!0},{name:["VAR0 90° ↻",[2,5]]},{name:["VAR0 90° ↺",[2,5]]},{name:["VAR0 180°",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},Cl.a00=function(t){return null==t&&(t=qr.gc),[{_:mr.E.u,b:t,R:{d:"again"}},{_:mr.E.W,R:{d:mr.J.ms,b:t,VU:{Zx:3}}},{_:mr.E.W,R:{d:mr.J.ms,b:t,VU:{Zx:4}}},{_:mr.E.W,R:{d:mr.J.ms,b:t,VU:{Zx:2}}},{_:mr.E.W,R:{d:mr.J.ms,b:t,VU:{Zx:1}}},{_:mr.E.W,R:{d:mr.J.ms,b:t,VU:{Zx:-1}}},{_:mr.E.u,b:t,R:{d:"rot",rD:[2,5],k:-Math.PI/2}},{_:mr.E.u,b:t,R:{d:"rot",rD:[2,5],k:-3*Math.PI/2}},{_:mr.E.u,b:t,R:{d:"rot",rD:[2,5],k:Math.PI}},{_:mr.E.u,b:t,R:{d:"scl",rD:[[2,6],[22,4,2]],k:new Pr(-1,1)}},{_:mr.E.u,b:t,R:{d:"scl",rD:[[2,6],[22,4,3]],k:new Pr(1,-1)}}]},xl.prototype=new Cl(!0),Ll.prototype=new Cl(!0),Dl.prototype=new Cl(!0),kl.prototype=new xo,kl.prototype._4=function(){for(var t=this.Wb,e=0;e<4;e++)t[e].T();this.hB.T()},kl.prototype.m5=function(t){for(var t=t.jm,e=0;e<4;e++)this.Wb[e].f(t[e])},kl.prototype.agM=function(t){for(var e=[],n=0;n<4;n++)e[n]=this.Wb[n].M();t=this.Wb.indexOf(t.target);t<4?this.kG({_u:"prm",jm:e}):this.kG({_u:"moveDepth",adm:5==t})},kl.prototype.JD=function(t){this.kG({_u:this.hB.M()?"commit":"cancel"})},kl.prototype.kG=function(t){t.d=mr.J.hg,t.b=this.b;var e=new yr(mr.E.W,!0);e.data=t,this.c(e)},Tl.prototype=new Sr,Tl.prototype.nc=function(){hr.DH(this.qu)&&this.e.removeChild(this.qu)},Tl.prototype.a45=function(t,e){for(var n=this.a8Z=[],i=0;i<ql.data.length;i++){var r=ql.data[i],a=[ri.get(r.name)];Tl.agZ(r.items,a,[i],n,t,e)}for(var s=vs.P,i=0;i<s.length;i+=3)n.push([["Tools",ri.get(s[i])],[-1,s[i+2]],s[i+1]]);this.e.appendChild(this.qu);var o=this.Nz;o.focus(),o.select(),this.yE()},Tl.prototype.a9e=function(t){this.Fo=-1,this.yE()},Tl.prototype.yE=function(){var t=this.Nz.value.toLowerCase().trim().replace(/  +/g," "),e=this.a8Z,n=[],i=[],r=t.split(" ");if(""!=t)for(var a=0;a<e.length;a++){for(var s=e[a][0],o=[],l=0,h=0;h<s.length;h++)o[h]=-1;for(var u=0;u<r.length;u++)for(h=0;h<s.length;h++)if(-1!=(v=s[h].toLowerCase().indexOf(r[u]))){o[h]=[v,v+r[u].length],l++;break}l==r.length&&(n.push(e[a]),i.push(o))}var f=[],c=this.agH;hr.d5(c);for(a=0;a<n.length;a++){var p=n[a],d=p[0],v=i[a],g="enab",y="";a==this.Fo&&(g+=" active");g=hr.L("div",g);f.push(g),c.appendChild(g);for(h=0;h<d.length;h++){var m=v[h],w=(r[h],d[h]);y+=w=-1!=m?w.slice(0,m[0])+'<span style="color:black">'+w.slice(m[0],m[1])+"</span>"+w.slice(m[1]):w,h<d.length-1&&(y+=" ﹥ ")}!p[2]||"string"==typeof p[2]&&1!=p[2].length||(y+=' <span style="border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;">'+ii.q8(p[2])+"</span>"),g.innerHTML=y}this.D8=[n,f]},Tl.prototype.aph=function(t){var e=ii.A7,n=t.code;e(n,ii.Yh)&&this.nc();var i=e(n,ii.Rr),t=e(n,ii.QH),n=e(n,ii.C_);(i||t)&&(this.Fo=Math.max(0,Math.min(this.D8[0].length-1,this.Fo+(i?-1:1))),this.yE()),n&&-1!=this.Fo&&this.a9J(this.Fo)},Tl.agZ=function(t,e,n,i,r,a){for(var s=0;s<t.length;s++){var o=t[s],l=e.slice(0),h=n.slice(0),u=ri.get(o.name);if(o.K){var f=o.K(r,a,s);if(f.yU&&(u=f.yU),0==f.K)continue}l.push(u),h.push(s),o.sub?Tl.agZ(o.sub,l,h,i,r,a):i.push([l,h,o.DO])}},Tl.prototype.a36=function(t){t=t.target;"span"==t.tagName.toLowerCase()&&(t=t.parentNode);t=this.D8[1].indexOf(t);-1!=t&&this.a9J(t)},Tl.prototype.a9J=function(t){var e=this.D8[0][t][1];if(-1==e[0]){var n=new yr(mr.E.W,!0);n.data={d:mr.J.ms,b:e[1]},this.c(n)}else{for(var i=ql.data[e[0]].Au[e[1]],r=2;r<e.length;r++)i=i.sub[e[r]];n=new yr(i._,!0);n.b=i.b,n.data=i.R,this.c(n)}this.nc()},Tl.prototype.hi=function(t,e){this.r2=t,this.kY=e,this.agH.style["max-height"]=e-120+"px"},Tl.prototype.a6r=function(t){var e=hr.L("div","alertpanel");e.textContent=ri.get(t),this.Ir.appendChild(e),this.NK[JSON.stringify(t)]=e},Tl.prototype.a4k=function(t){var e=this.NK[JSON.stringify(t)];this.Ir.removeChild(e),delete this.NK[JSON.stringify(t)]},Tl.prototype.ahl=function(t,e){for(var n=this.adw,i=0;i<n.children.length;i++)if(n.children[i].textContent==t)return;var r=hr.L("div","alertpanel tpanel");r.textContent=t,r.setAttribute("style","opacity:0.5; transform:scale(0.9)\t"),n.appendChild(r);e=null==e?1500:e,e=Math.max(Date.now()+e,this.ahQ+e);setTimeout(function(){r.setAttribute("style","transform:scale(1); opacity:1;")},10),setTimeout(function(){n.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},e-Date.now()-30),setTimeout(function(){n.removeChild(n.firstChild),n.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},e-Date.now()),this.ahQ=e},Tl.prototype.ajB=function(t){for(var e=this.vH,n=e.length-1;0<=n;n--)for(var i=e[n],r=t.target;null!=r;){if(r==i.e)return void this.sw(i);r=r.parentNode}this.sw();for(var a=t.target;a!=this.qu&&a!=document.body;)a=a.parentNode;a!=this.qu&&this.nc()},Tl.prototype.sw=function(t){for(var e,n=this.vH,i=0;i<n.length;i++)t&&t.a2q(n[i])||((e=n[i].e).style.height="auto",hr.dj(e,"scrollable"),this.e.removeChild(e),n.splice(i,1),i--)},Tl.prototype.ahy=function(t){this.sw(t.IZ);var e,n,i,r,a,s,o,l,h,u,f=t.IZ,c=f.e;-1==this.vH.indexOf(f)&&(this.vH.push(f),this.e.appendChild(f.e),e=this.r2,o=this.kY,n=t.x,h=t.y,u=this.e.getBoundingClientRect(),l=-1,i=o-2,((s=f instanceof xr)||t.Wq)&&(r=f.RF(),a=f.a58(),s=e-(r=s?Math.min(r,200):r)-2,l=h<(o=o-a-2)?2:n<s?1:0<h-a-2?0:3,t.afe&&(l=0),2==(l=t.auR?2:l)?n=Math.min(n,s):1==l?h=Math.min(h,o):0==l?(h=h-a-2,n=Math.min(n,s),i=t.y):3==l&&(n=n-r-2,h=Math.min(h,o))),h=Math.max(2,h),u=Math.round(h-u.y+this.e.offsetTop),c.style.position="absolute",c.style["z-index"]=10,h+f.a58()>i&&(c.style.height=i-h+"px",hr.Yq(c,"scrollable"),3==l&&(n-=10)),c.style.left=Math.round(n)+"px",c.style.top=u+"px")},Tl.prototype.arF=function(t){var e=t.IZ,t=this.vH.indexOf(e);-1!=t&&(this.vH.splice(t,1),e.e,this.e.removeChild(e.e))},Tl.prototype.NF=function(){var t=this.vH;return 0==t.length?null:t[t.length-1]},Tl.prototype.a41=function(){this.arF({IZ:this.NF()})},Al.prototype=new Sr,Al.prototype.a2F=function(t){t.parent=this,hr.d5(this.e),this.e.appendChild(t.e)},El.prototype=new Sr,El.WQ=null,El.GL=function(t){try{var e={};e[t.type]=t,navigator.clipboard.write([new ClipboardItem(e)])}catch(t){console.error(t,t.message)}},El.S$=function(l,h){navigator.clipboard.read().then(function(t){for(var e=0;e<t.length;e++)try{for(var n=t[e],i={},r=0,a=0,s=0;s<n.types.length;s++){var o=n.types[s];r++,n.getType(o).then(function(t){new Response(t).arrayBuffer().then(function(t){i[this.A2]=t,++a==r&&El.ad4(i,l,h)}.bind({A2:this.A2}))}.bind({A2:o}))}}catch(t){console.error(t,t.message)}}).catch(function(t){alert("Clipboard error: ("+t.message+")")})},El.ahj=function(e){navigator.permissions.query({name:"clipboard-read"}).then(function(t){e(t.state)})},El.ad4=function(t,e,n){var i,r=["text/plain","image/png","text/html","text/plain"];for(i in t)console.log(i,i.startsWith("text")?ln.cP(new Uint8Array(t[i])).slice(0,100)+"...":t[i]);for(var a=0;a<r.length;a++){var s=r[a],o=t[s];if(null!=o){if("image/png"==s)return void El.WQ({name:"image.png"},o,e,n);if("text/plain"==s){var l=ln.cP(new Uint8Array(o));if(0==a&&!l.startsWith("\x3c!--")&&!l.startsWith("<svg"))continue;var h=new yr(mr.E.W,!0);return h.data={d:mr.J.anl,k:l},void e.c(h)}if("text/html"==s){o=(l=ln.cP(new Uint8Array(o))).indexOf('src="');if(-1!=o&&"http"!=l.slice(o+5,o+9)){for(var u=o+10;'"'!=l[u];)u++;o=l.slice(o+5,u);return void El.WQ({name:"chart.png"},ai.l4(o).buffer,e,n)}}}}},El.prototype.os=function(t){null==t&&(t=[23,5]);var e,n=JSON.stringify(t),i=this.au2;null==i[n]&&(i[n]=0),0==i[n]&&((e=new yr(mr.E.W,!0)).data={d:mr.J.yd,c6:t},this.c(e)),i[n]++},El.prototype.hF=function(t){null==t&&(t=[23,5]);var e=JSON.stringify(t),n=this.au2;null==n[e]&&(n[e]=0),n[e]--,0==n[e]&&((e=new yr(mr.E.W,!0)).data={d:mr.J.xJ,c6:t},this.c(e))},El.prototype.aoH=function(t,e){this.ti=t;var r,t=window.showOpenFilePicker;t&&window.self==window.top?(r=this,t({multiple:!0}).then(function(n){var i=[];n[i.length].getFile().then(function t(e){i.push(e),i.length==n.length?(r.zA(i,null,r.ti,null,n),r.ti=null):n[i.length].getFile().then(t)})})):(t=this.C8,e?t.setAttribute("accept",e):t.removeAttribute("accept"),(e=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null),t.dispatchEvent(e))},El.prototype.rG=function(t){-1==t.url.indexOf("photopea.com#i")&&-1==t.url.indexOf("photopea.com/#i")?(this.alU.push(t),this.a0Q()):this.Fq(t.url.split("#i").pop())},El.prototype.a0Q=function(){var t=this.alU;if(0!=t.length&&!this.SW){this.SW=!0;var e=t.shift();this.os(),null==e.tX&&(e.tX={});var n=new XMLHttpRequest,t=(n.eL=e).url;if(e.n5&&t.startsWith("data:image"),n.open("GET",t),e.Yw)for(var i in e.Yw)n.setRequestHeader(i,e.Yw[i]);n.responseType="arraybuffer",n.onload=this.a0d.bind(this),n.send()}},El.prototype.zA=function(t,e,n,i,r){for(var a=0;a<t.length;a++){this.os();var s=t[a],o=new FileReader;o.eL=s,o.eL.ln=n,o.eL.MT=i,o.ar4=e,r&&(o.eL.Dj=r[a]),o.onload=this.a0d.bind(this),o.onerror=function(t){this.hF()}.bind(this),o.readAsArrayBuffer(s)}this.C8.value=null},El.prototype.a5D=function(t,e,n){this.os("Saving ..."),this.fd=e,setTimeout(n.bind({cm:t,caller:this}),50)},El.qz=function(t){for(var e,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(t),r=i.length,t=r%3,a=r-t,s=[],o=0,l=0,h=0;h<a;h+=3)o=i[h],l=i[h+1],e=i[h+2],s.push(n[o>>2]+n[(3&o)<<4|l>>4]+n[(15&l)<<2|e>>6]+n[63&e]);return 1==t&&(o=i[a],s.push(n[o>>2]+n[(3&o)<<4]+"==")),2==t&&(o=i[a],l=i[1+a],s.push(n[o>>2]+n[(3&o)<<4|l>>4]+n[(15&l)<<2]+"=")),s.join("")},El.acg=function(t,e){for(var n,i=new Uint8Array(64),r=0,a=0,s=0,o=0;o<64;o++)i[o]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(o);for(var l=new Uint8Array(t),t=e%3,h=e-t,u=new Uint8Array(4*Math.floor(e/3)+(0==t?0:4)),o=0;o<h;o+=3)r=l[o],a=l[o+1],n=l[o+2],u[s]=i[r>>>2],u[s+1]=i[(3&r)<<4|a>>>4],u[s+2]=i[(15&a)<<2|n>>>6],u[s+3]=i[63&n],s+=4;return 1==t&&(r=l[h],u[s]=i[r>>2],u[s+1]=i[(3&r)<<4],u[s+2]=61,u[s+3]=61),2==t&&(r=l[h],a=l[1+h],u[s]=i[r>>2],u[s+1]=i[(3&r)<<4|a>>4],u[s+2]=i[(15&a)<<2],u[s+3]=61),u},El.prototype.a0d=function(t){var e=t.target.eL,n=t.target instanceof XMLHttpRequest?t.target.response:t.target.result;El.WQ(e,n,this,t.target.ar4),this.hF(),t.target instanceof XMLHttpRequest&&(this.SW=!1,this.a0Q())},El.aoL=function(t,e){var n=new XMLHttpRequest;n.open("POST","https://api.imgur.com/3/image",!0),n.fK=e,n.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219"),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.setRequestHeader("Accept","application/json"),n.addEventListener("load",El.a56),n.send("type=base64&image="+encodeURIComponent(El.qz(t))),alert("Saving to Imgur ...",4e3)},El.a56=function(t){var e=JSON.parse(t.target.response);e.success&&(t.target.fK?t.target.fK(e.data.link):window.open(e.data.link,"Imgur"))},El.prototype.Fq=function(t,e){this.os();var n=new XMLHttpRequest;n.responseType="arraybuffer",n.open("GET",t),n.onload=this.ard.bind(this),n.send(),El.aod=Date.now(),El.aqK=t,El.akR=e?t:null},El.prototype.ard=function(t){var e=new Uint8Array(t.target.response);console.log(e.length,Date.now()-El.aod);for(var n=0;n<e.length;n++)e[n]=255-e[n];e=pako.inflateRaw(e),t=JSON.parse(ln.cP(e,0,2e3));El.WQ({name:t.name,o5:El.akR},e.slice(2e3).buffer,this),this.hF()},El.prototype.arR=function(t,e,n){if(!(t instanceof ArrayBuffer))throw"e";t=new Uint8Array(t);for(var i=new Uint8Array(t.length+2e3),r="",a=0;a<2e3;a++)i[a]=32;ln._s(JSON.stringify({name:e}),i,0),i.set(t,2e3),t=i,t=pako.deflateRaw(t);for(a=0;a<t.length;a++)t[a]=255-t[a];var s=(t=t.buffer).byteLength,o=ds.Dk(s);if(3045e4<s)confirm("Your file is "+o+". Our limit is "+ds.Dk(3045e4)+". Delete some layers and try again.");else{if(1045e4<s)if(!confirm("Your file is quite large ("+o+"). Opening it will take a lot of time. Do you still want to proceed?"))return;for(var l=sha1(t),h=[],a=0;a<20;a++){var u=parseInt(l.slice(2*a,2*a+2),16);h.push(u),r+=String.fromCharCode(u)}e=btoa(r).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(El.a4P(e))return console.log("file already exists"),void(n?n("https://www.photopea.com#i"+e):window.open("https://www.photopea.com#i"+e));this.os("Publishing ...");o=new XMLHttpRequest;o.fh=[t,l,e,n],o.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+e+"&size="+s),o.onload=this.a3C.bind(this),o.send()}},El.a4P=function(t){try{var e=new XMLHttpRequest;if(e.open("HEAD","https://f000.backblazeb2.com/file/psdshared/"+t,!1),e.send(),200==e.status)return!0}catch(t){return!1}return!1},El.prototype.a3C=function(t){var e=JSON.parse(t.target.response),n=t.target.fh,t=new XMLHttpRequest;t.open("POST",e.uploadUrl),t.setRequestHeader("Authorization",e.authorizationToken),t.setRequestHeader("X-Bz-File-Name",n[2]),t.setRequestHeader("Content-Type","b2/x-auto"),t.setRequestHeader("X-Bz-Content-Sha1",n[1]),t.send(new Blob([n[0]])),t.onload=this.aio.bind({_a:this,fh:n})},El.prototype.aio=function(t){this._a.hF("Publishing ..."),this.fh[3]?this.fh[3]("https://www.photopea.com#i"+this.fh[2]):window.open("https://www.photopea.com#i"+this.fh[2]);var e=new XMLHttpRequest;e.open("GET","/papi/img/update.php?act=2&id="+this.fh[2]+"&fileId="+JSON.parse(t.target.response).fileId+"&rnd="+Math.random()),e.send()},El.save=function(t,e){var n=new Uint8Array(t),i=document.createElement("a");"string"==typeof i.download?(n=new Blob([n]),n=window.URL.createObjectURL(n),i.href=n,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i)):(t="data:application/octet-stream;base64,"+El.qz(t),window.open(t))},Ol.prototype.ib=function(t,e){if(!(t+e<=this.size)){for(var n=this.size;t+e>this.size;)this.size*=2;for(var i=Rr.t(this.size),r=0;r<n;r++)i[r]=this.data[r];this.data=i}};var Nl={};function Il(t){Sr.call(this),this.by=Il.by++,this.af=t,this.apU=this.am_.bind(this),this.a4C=this.aed.bind(this),this.amY=this.dK.bind(this),this.a9t=this.ar1.bind(this),this.aeg=this.apV.bind(this),this.a4y=this.ahn.bind(this),this.x9=0,this.aj3=0,this.ahx=0,this.e=hr.L("div","panelblock"),this.N_=hr.L("div","block"),this.ep=hr.L("div","collapsed"),this.e.appendChild(this.N_),this.DS=-1,this.cp=!0,this.R2=hr.L("div","panelhead"),this.N_.appendChild(this.R2),this.ho(this.R2),this.ZQ=new kr("≡"),this.ZQ.e.setAttribute("style","position:absolute; right:0;"),this.ZQ.h("click",this.an9,this),this._0=hr.L("div",""),this.N_.appendChild(this._0),this.YQ=[],this.s5=null,this.X4=null}function Pl(t){Il.call(this,t),this.r2=0,this.kY=0,hr.MK(this.R2,this.adG.bind(this)),this.W0=0,this.aib=this.aer.bind(this),this.ho(this._0),this.Ii=hr.L("div","intro"),this.Ma=["default;"],this.vd=new hr.ht(this._0);var e=this.afZ=hr.L("ul");e.setAttribute("style","margin:0;  padding:146px 0px 0 113px; font-size:1.8em;"),this.Ii.appendChild(e),this.DY=[];var n=[[11,7],[1,6],["PSD VAR0",[25,0]],"pea.psd","milk.sketch"];1==(new Date).getDate()&&3==(new Date).getMonth()&&n.push("Go to 2013");for(var i=hr.L("li"),r=0;r<n.length;r++){3==r&&(a=new kr("Demo: "),i.appendChild(a.e));var a=new kr(n[r]);a.h("click",this.ad8,this),i.appendChild(a.e),this.DY.push(a),0!=r&&1!=r&&2!=r&&r!=n.length-1||(e.appendChild(i),i=hr.L("li"))}t=hr.L("div");t.setAttribute("style","margin:0;  padding:28px 25px 0 25px; font-size:1.1em"),this.Ii.appendChild(t),this.a2v={};var s=["en"],o=navigator.languages;if(o)for(r=0;r<o.length;r++){var l=o[r].split("-")[0].toLowerCase();-1==s.indexOf(l)&&s.push(l)}}function Fl(t){Sr.call(this),t||(vr.aq_(1),this.e=hr.L("div","flexrow app"),this._R=hr.L("div"),this.e.appendChild(this._R),setTimeout(function(){var t=window.hideCap;t&&t()},25e3),this.gR=new ii,window.addEventListener("blur",function(t){this.gR.reset()}.bind(this),!1),window.addEventListener("resize",this.mK.bind(this),!1),t=this._R,this.KV=new Gl,this.KV.parent=this,t.appendChild(this.KV.e),this.pV=new Tl,this.pV.parent=this,t.appendChild(this.pV.e),this.LT=new Ul(!0),this.LT.parent=this,t.appendChild(this.LT.e),this.h(mr.E.W,this.iV,this),this.a8r=this.a5I.bind(this),window.requestAnimationFrame(this.a8r))}function _l(){Fl.call(this),this.Q4={x:0,y:0,nK:!1},this.Nf=!1,this.ZU=!1,this.Mk=null,this.aoy=0,this.aht=!1,this.Tg=0,window.onmessage=function(t){var e;t.data instanceof ArrayBuffer?(e=ai.Am(t.data),e=ai.TN(e),El.WQ({url:"file"},t.data,this),null==e&&this.gp()):t.data instanceof Object||t.data.startsWith("{")||t.data.startsWith("amp-")||t.data.startsWith("0=goog")||t.data.startsWith("3PCoo")||(t.data.startsWith("--ot ")?"close_window"!==t.data.split(" ")[1]?(this.KV.NF().close(),this.Sz.Fq(t.data.split(" ").pop(),!0)):this.KV.NF().close():((e=new yr(mr.E.W,!0)).data={d:mr.J.Um,zB:t.data},this.c(e),this.gp()))}.bind(this),window.onunload=window.onbeforeunload=function(t){for(var e=0;e<this.$c.length;e++)if(this.$c[e].iD())return this.$c[e].name}.bind(this),window.setInterval(function(){var t,e=this.JK();null!=e&&(t=(Date.now()-e.oS)/6e4,1==this.jz.T9&&e.i_!=e.vJ&&60<t&&(e="You haven't saved your work ("+e.name+") for "+Math.round(t)+" minutes. Would you like to save it now? You can disable this message in Edit > Preferences.",(t=new yr(mr.E.W)).data={d:mr.J.go,RB:"confirm"},t.data.k=e,t.data.ky=function(){var t=new yr(mr.E.W);t.data={d:mr.J.B4},this.c(t)}.bind(this),this.c(t)))}.bind(this),18e5);var i=this;!window.indexedDB||N.Z8()&&null!=document.hasStorageAccess||((f={ib:window.indexedDB.open("pp",1)}).ib.onupgradeneeded=function(t){t.target.result.createObjectStore("rsrc",{keyPath:"k"})},f.ib.onsuccess=function(t){(i.jz.MY.KG=t.target.result).transaction(["rsrc"],"readwrite").objectStore("rsrc").get("fs0").onsuccess=function(t){if(t.target.result){var e,n=i.jz.MY.BW=t.target.result.fset;for(e in n)e.endsWith(".jsx")||El.WQ({url:e,afG:!0},n[e],i)}}});for(var t=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO"],e=hr.se[O.Yo][O.Fx],n=0;n<t.length;n++){var r=hr.kF(t[n]);if(-1!=e.indexOf(r)){var a=hr.se[O.Yo][O._0],r=hr.kF("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");return hr.d5(a),void(a[O.aik]=r)}}this.P={aun:[{b:qr.fz,qJ:!1,DO:[ii.aig,ii.QO]},{b:qr.f0,qJ:!1,DO:[ii.QO]},{b:qr.bp,qJ:!0,DO:[ii.NT],bE:[qr.qi]},{b:qr.qi,qJ:!0,DO:[ii.NT],bE:[qr.bp]},{b:qr.zj,qJ:!0,DO:[ii.NT],bE:[qr.es,qr._V,qr.m_]},{b:qr.es,qJ:!0,DO:[ii.NT],bE:[qr.zj,qr.gW,qr.vL,qr.ih,qr.iA,qr.xx]},{b:qr.AZ,qJ:!0,DO:[ii.NT]}],AK:[[{b:new qr.DD,VS:Xo},{b:new qr.kE,VS:Lo}],[{b:new qr.d6,VS:nl},{b:new qr.iE,VS:Ho}],[{b:new qr.aF,VS:Wo},{b:new qr.S7,VS:tl},{b:new qr.Km,VS:el}],[{b:new qr.yt,VS:Yo},{b:new qr.UI,VS:bl},{b:new qr.Jd,VS:wl}],[{b:new qr.Wz,VS:_o},{b:new qr.TM,VS:Bo},{b:new qr.C0,VS:Ml},{b:new qr.il,VS:Sl}],[{b:new qr.dO,VS:Jo},{b:new qr.De,VS:il}],[{b:new qr.Z$,VS:al},{b:new qr.lG,VS:zo},{b:new qr.gf,VS:Ko},{b:new qr.NI,VS:Qo},{b:new qr.J9,VS:Oo}],[{b:new qr.UH,VS:Ao},{b:new qr.Ax,VS:No},{b:new qr.sZ,VS:Eo}],[{b:new qr.aG,VS:Po}],[{b:new qr.Ur,VS:Uo},{b:new qr.$Q,VS:jo}],[{b:new qr.iU,VS:qo},{b:new qr.XZ,VS:$o}],[{b:new qr.vp,VS:To},{b:new qr.sb,VS:rl},{b:new qr.YJ,VS:sl}],[{b:new qr.ap,VS:Ro},{b:new qr.bd,VS:Io},{b:new qr.py,VS:ol}],[{b:new qr.on,VS:Vo},{b:new qr.OI,VS:Vo}],[{b:new qr.Tf,VS:ul},{b:new qr.oi,VS:fl}],[{b:new qr.v7,VS:cl},{b:new qr.vI,VS:pl}],[{b:new qr.Rect,VS:dl},{b:new qr._D,VS:vl},{b:new qr.Ca,VS:yl},{b:new qr.ao,VS:gl},{b:new qr.ps,VS:ml}],[{b:new qr.oo,VS:Go},{b:new qr.Ql,VS:Zo}],[{b:new qr.WD,VS:ll}]],og:[],keys:[ii.I_,ii.Hm,ii.HH,ii.ku,ii.eB,ii.uZ,ii.gG,ii.tr,ii.ng,ii.E,ii.wK,null,ii.yy,ii.St,ii.My,ii.J,ii.GR,ii.tK,ii.ZJ],Tk:[{b:new qr.nI,VS:xl},{b:new qr.ji,VS:Ll},{b:new qr.xQ,VS:Dl},{b:new qr.dO(!0),VS:Jo},{b:new qr.Tw,VS:kl}],Hl:[{b:new qr.Ap},{b:new qr.History},{b:new qr.iZ},{b:new qr.M6},{b:new qr.YH},{b:new qr.DZ}],map:{},Bz:null,Dh:null,cF:null};for(n=0;n<this.P.AK.length;n++){var s=this.P.AK[n];if("---"!=s){for(var o=this.P.keys[n],l=0;l<s.length;l++){this.P.map[s[l].b.id]=s[l],s[l].A4=n,s[l].a5n=l;var h=ri.get(s[l].b.name);s[l].b.id,JSON.stringify(s[l].b.name),o&&o.me,s[l].b.id}this.P.og[n]=0}}for(n=0;n<this.P.Tk.length;n++)this.P.map[this.P.Tk[n].b.id]=this.P.Tk[n];for(n=0;n<this.P.Hl.length;n++)this.P.map[this.P.Hl[n].b.id]=this.P.Hl[n];this.jz={apW:!1,No:null,lc:0,S9:{u_:[],x8:[],list:[],Ej:null},zp:[],aqY:[],pA:[],Zt:[],fC:[],asJ:[],a6g:[],ag5:[],wF:[ze.PD()],It:[],TD:[],ud:null,YA:0,f6:{SB:1,k4:JSON.parse(JSON.stringify(Wi.iP[0]))},vF:JSON.parse(JSON.stringify(Wi.XF.default)),ahq:[null].concat(Wi.iP),a1p:[null].concat(Wi.iP),PG:new v(function(t){var e=new yr(mr.E.W,!0);e.data={d:mr.J.pu,jm:{url:"rsrc/fonts/"+t}},this.c(e)}.bind(this)),wO:{CV:[],hy:null,eS:null},font:null,Xi:[],k$:16711680,JH:0,CO:!1,Me:!0,jv:{p6:!0,NM:!1,dm:!0,Y3:!0,HD:!0,EQ:!0,Qz:20,LS:0,gC:0,el:0},Wo:!0,cd:[!0,!0,!1,!0,!0],aa:[0,1,2,3,5,6,7,9,10,16,17,100],t7:1,oc:!0,tm:{},pn:!0,amP:!1,compact:!1,T9:1,Ii:!0,it:null,MY:{ava:!1,a9L:!1,BW:{},KG:null},aon:0,a9Q:null,bG:null,a38:null,f3:null},this.anP={Ni:new Fr,EX:new Pr},this.jz.wO=ir.a4r(),this.mc=new ql,this.n7=new Al,this.l_=new Hl(this.P,!0),this.dF=new jl,this.NN=new Pl(this),this.Vc=hr.L("div"),this.MH=!1,this.a1=this.a1u.bind(this),hr.Yq(this.NN.e,"mainblock"),(this.LT.parent=this.mc.parent=this.n7.parent=this.l_.parent=this.dF.parent=this.NN.parent=this).NN.h(mr.E.o,this.$U,this),this.NN.h(mr.E.Q7,this.a9C,this),this.NN.h("shuffleItems",this.a5v,this),this.NN.h(mr.E.anc,this.am8,this),this.h("mouse",this.afg,this),this.h(mr.E.u,this.gT,this),this.h(mr.E.n$,this.agx,this),document.body.addEventListener("keydown",this.Ez.bind(this),!1),window.addEventListener("keyup",this.Al.bind(this),!1),window.addEventListener("paste",this.a6q.bind(this),!1),window.addEventListener("copy",this.a9R.bind(this),!1),window.addEventListener("wheel",function(t){t.ctrlKey&&t.preventDefault()},{passive:!1}),window.addEventListener("beforeinstallprompt",function(t){400<window.innerWidth&&t.preventDefault(),this.jz.it=t}.bind(this)),-1!=window.location.href.indexOf("photopea.com")&&"serviceWorker"in navigator&&navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(t){t.am9?console.log("Service worker installing"):t.aa7?console.log("Service worker installed"):t.active&&console.log("Service worker active")}).catch(function(t){console.log("Registration failed with "+t)}),this.O7=0,this.$c=[],this.Sz=new El(Nl.WQ);var u=(this.Sz.parent=this)._R,f=this.IT=hr.L("div");f.appendChild(this.mc.e),f.appendChild(this.n7.e),this.LT.aaE(f);f=this.alv=hr.L("div","flexrow");u.appendChild(f),f.appendChild(this.l_.e),f.appendChild(this.NN.e),f.appendChild(this.dF.e),this.Sz.rG({url:"rsrc/basic/basic.zip"}),this.ZM(qr.AZ),$.lf(this.ag_.bind(this))}function Bl(t){Sr.call(this),null!=t&&(this.r2=null,this.kY=null,this.e=hr.L("div","sbar "+t),this.aY=new hr.L("div","top"),this.aY.innerHTML="> <",this.e.appendChild(this.aY),this.qd=1,this.aY.addEventListener("click",this.ab0.bind(this),!1))}function Rl(t,e){Bl.call(this,"vcolumn"),this.EF=t,this.ajM=e,this.H8(),this.UE=hr.L("div"),this.UE.setAttribute("style","cursor:default;"),this.amM=this.a8j.bind(this),this.aeQ=this.a7t.bind(this),this.asr=this.a7j.bind(this),hr.rr(this.e,this.amM),this.e.appendChild(this.UE),this.bY=hr.L("div"),this.UE.appendChild(this.bY),this.ik=-1,this.JP=hr.L("div","float");e=this.t2=hr.L("canvas");e.width=e.height=12;e=e.getContext("2d");e.fillStyle="rgba(0,0,0,0.5)",e.moveTo(0,0),e.lineTo(12,12),e.lineTo(0,12),e.fill(),this.t2.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;"),hr.HZ(this.t2),hr.rr(this.t2,this.amM),this.GC=[],this.Jx=[],this.ao5=null,this.VH=null,this.a8O=0}function Ul(t){Sr.call(this),this.e=hr.L("div"),this.e.setAttribute("id","head_menubar"),this.UE=null,this.vo=0,this.q$=0,this.a5d=t,this.aqh=this.Wv.bind(this),this.ani=this.Ij.bind(this),this.asV=this.KE.bind(this),this.lW=null,this.nF=null,this.fL=null,hr.rr(this.e,this.aqh);var e='<svg class="gsicon" width="20" height="20" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">';this.e.addEventListener("touchmove",hr.a7,!1),this.apT=!0,this.DY=[];t=this.a1h=hr.L("div");t.setAttribute("id","head_menubar_right"),t.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;"),this.e.appendChild(t);for(var n=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",e+'<path d="m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z"/>',e+'<path d="M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z"/></svg>',e+'<path d="M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z"/></svg>'],i=0;i<n.length;i++);}function jl(){Sr.call(this),this.fd=null,this.Gb=jl.My,this.acJ="",this.e=hr.L("div","rightbar"),this.Jp=[new Rl(300),new Rl(268,!0)],this.GC=[new Il,new Il,new Il,new Il,new Il,new Il,new Il],this.asf=[]}function Hl(t,e){Bl.call(this,"toolbar"),this.J0=null,this.EO=hr.L("div","tools"),this.e.appendChild(this.EO),this.sH=null,this.aoA=e,this.nJ=null,this.a2M=-1,this.a3h={},this.P=null,this.YQ=null,this.WZ=null,this.rS=null,this.fa(t),this.Vq=new na,this.Vq.e.style.marginTop="5px",this.Vq.e.style.marginBottom="3px",(this.Vq.parent=this).y7=new kr(hr.R4("lrs/mask"),!1,[6,6,1]),this.y7.h("click",function(t){var e=new yr(mr.E.u,!0);e.b=qr.rZ,e.data={d:"qmask"},this.c(e)},this);t=new Vr(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);t.h(mr.E.o,this.aje,this);var n=hr.L("span","rangecont form padded");n.appendChild(t.e);var i=document.body;this.a7G=[!1,!1,!1,!1],this.H6=new kr("⌨",!1,"Virtual Keys"),this.H6.h("click",function(t){var e=this.H6.e.getBoundingClientRect();n.setAttribute("style","position:absolute; top:"+(e.top-40)+"px; left: "+(e.left+e.width+4)+"px; width:120px; z-index:2; "),hr.DH(n)?i.removeChild(n):i.appendChild(n)},this)}function Jl(t,e,n,i,r,a){Sr.call(this),this.x9=0,this.QG=this.a4w.bind(this),this.A4=r,this.VC=i,this.mS=t,this.amB=e,this.aqA=a,this.QU=n,this.e=hr.L("button",""),this.e.innerHTML=hr.R4(this.QU),this.aqA&&((n=hr.L("img","gsicon")).setAttribute("src",PIMG["tools/corner"]),n.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;"),this.e.appendChild(n)),this.T(),hr.rr(this.e,this.Wv.bind(this)),this.e.addEventListener("click",this.KE.bind(this),!1),this.e.addEventListener("contextmenu",Jl.ga,!1)}function ql(){Sr.call(this),this.e=hr.L("div","topbar"),this.e.setAttribute("id","idTopbar"),this.MJ=hr.L("span",""),this.a0X=0,this.e.appendChild(this.MJ),this.je=null,this.Y5=null,this.oB=[],this.aa=[];for(var t=this.Wv.bind(this),e=0;e<ql.data.length;e++){var n=hr.L("button");n.setAttribute("id","topbarMenu"+e),this.oB.push(n),this.MJ.appendChild(n),n.addEventListener("mouseover",t,!1),hr.rr(n,t)}this.OJ=new kr([0,13,0],!1,null,!0),this.OJ.h("click",this.Da,this),this.OJ.e.setAttribute("id","btnAccountId"),this.e.appendChild(this.OJ.e),this.fn=new kr(hr.R4("tools/zoom",null,"autoscale"),!1,[12,86]),this.fn.h("click",this.Da,this),this.fn.e.setAttribute("id","btnFindId"),this.e.appendChild(this.fn.e),this.gX=new kr('<svg class="gsicon" version="1.1"  width="20" height="20" viewBox="8 8 20 20"><path d="m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z"></path><path d="m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z"></path><path d="m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z"></path><path d="M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z"></path></svg>',!1,"Fullscreen"),this.gX.h("click",this.Da,this),this.gX.e.setAttribute("id","btnFullscreenId"),this.e.appendChild(this.gX.e)}function Gl(){Sr.call(this),this.e=hr.L("div",""),this.vo=0,this.q$=0,this.fd=null,this.oC=hr.L("div",""),this.oC.setAttribute("style","width:200em; height:100em; position:absolute;"),this.bm=[],this.JV=[],this.kp={}}Nl.Pb=function(t,e,n){var i=e.split(":"),r=i[0],e=null;return 2==i.length&&("jpg"==r&&(e=[Math.round(100*parseFloat(i[1]))]),"webp"==r&&(e=[Math.round(100*parseFloat(i[1])),100,0,!1,!1]),"psd"==r&&(e=[!0,!0]),"svg"==r&&(e=i[1].split(",").map(function(t){return"true"==t}))),ai._x(t,r.toUpperCase(),null,null,e,n)},Nl.a25=function(t,e,n){t.y5();e=e[0];return Nl.Pb(t,e,n)},Nl.a91=function(){var t,e=this.cm,n=this.caller,i=e.tX.Pr,r=i.formats;e.y5();Date.now();if(1==i.version){for(var a=[],s=0,o=0,l=0;l<r.length;l++){var h=Nl.Pb(e,r[l],n.fd);a.push(h),s+=h.byteLength}for(var u=new Uint8Array(2e3+s),f='{ "source": '+JSON.stringify(e.Eo)+', "versions": [\n',l=0;l<r.length;l++){var c=new Uint8Array(a[l]);f+='\t{"format": "'+r[l].split(":")[0]+'", "start": '+o+', "size": '+c.length+" }"+(l+1<r.length?", ":"")+"\n",u.set(c,2e3+o),o+=a[l].byteLength}for(l=m=ln._s(f+="] }",u,0);l<2e3;l++)u[l]=32;t="application/octet-stream"}else{var p=new Ol,d=0,v="",g=encodeURIComponent,v="p="+g('{ "source": '+JSON.stringify(e.Eo)+', "versions": [');ln.oW(p,d,v),d+=v.length;for(l=0;l<r.length;l++){v=g(' {"format": "'+r[l].split(":")[0]+'", "data": "'),ln.oW(p,d,v),d+=v.length;var h=Nl.Pb(e,r[l],n.fd),y=El.acg(h,h.byteLength),m=y.length;p.ib(d,m);for(var w=0;w<m;w++){p.ib(d,3);var b=y[w];43==b?(p.data[d]=37,p.data[d+1]=50,p.data[d+2]=66,d+=3):47==b?(p.data[d]=37,p.data[d+1]=50,p.data[d+2]=70,d+=3):61==b?(p.data[d]=37,p.data[d+1]=51,p.data[d+2]=68,d+=3):(p.data[d]=b,d++)}v=g('" }'+(l+1<r.length?", ":"")),ln.oW(p,d,v),d+=v.length}v=g("] }"),ln.oW(p,d,v),d+=v.length,u=p.data.slice(0,d),t="application/x-www-form-urlencoded"}var M=new XMLHttpRequest;M.open("POST",i.url,!0),t&&M.setRequestHeader("Content-Type",t),M.addEventListener("load",Nl.a6V.bind(this)),M.send(new Blob([u.buffer]))},Nl.a6V=function(t){this.caller.hF("Saving ...");var e=t.target.response;"{"==e.charAt(0)?((e=JSON.parse(e)).newSource&&(this.cm.Eo=e.newSource),e.message&&alert(e.message,2e3),e.script&&((t=new yr(mr.E.W,!0)).data={d:mr.J.Um,zB:e.script},this.caller.c(t))):alert("Saved. Response: "+e,1500)},Nl.aah=function(n,i){var t=n.cB.fH;null==i&&(i=Nl.Pb(n,t)),f.x0(function(){var t=new XMLHttpRequest,e="https://www.googleapis.com/upload/drive/v3/files/"+n.cB.file.id+"?uploadType=media&"+f.cE();t.open("PATCH",e,!0),t.addEventListener("load",function(t){t=JSON.parse(t.target.response);alert(t.name+" updated")}),t.send(i),alert('Saving "'+n.cB.file.name+'" to Google Drive ...')})},Nl.WQ=function(t,e,n,i){if(-1==window.location.href.indexOf("photopea.com")||window.top!=window.self)Nl.a1t(t,e,n,i);else try{Nl.a1t(t,e,n,i)}catch(t){"low_ram"==t||(i="Error. Please, send your file to support@photopea.com and we will solve it.","eps"==ai.Am(e)&&(i="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea."),alert(i,1e4))}},Nl.a1t=function(t,e,n,i){var r;r=t.name?-1==(l=t.name.lastIndexOf("."))?l:t.name.slice(0,l):(r="data:"==t.url.substring(0,5)||-1!=t.url.indexOf("googleapis")?"image":t.url.substring(t.url.lastIndexOf("/")+1).split(".")[0]).slice(0,50);var a=t.name||t.url,s=new Uint8Array(e),o=ai.Am(e),l=window.ga;if(Math.random()<.25&&l&&null!=o&&ai.TN(o)&&l("send","event","Formats",o),null==o&&(o=ln.fb(s,0,4)),a&&a.toLowerCase().endsWith(".raw"))return(C=new yr(mr.E.W,!0)).data={d:mr.J.go,RB:"importraw",_Z:e,s3:a.split("/").pop()},void n.c(C);if("json"==o){for(var h="",u=0;u<s.length;u++)h+=String.fromCharCode(s[u]);return h=decodeURIComponent(escape(h)),alert("Unknown JSON file opened. See the content in the console.",5e3),void console.log(JSON.parse(h))}if("html"!=o){if(ai.TN(o)){var f,l=ai.TN(o);if(null!=t.ln&&-1!="jpg png gif pdf svg psd".split(" ").indexOf(o))return(C=new yr(mr.E.W,!0)).data={d:mr.J.mF,target:t.ln,CB:t.MT,Jt:e,_8:r},void n.c(C);var c=[r,l,o,t,n,i,e];return l.r1?(f=new zi(r+("psd"==o?"":"-"+o)+".psd"),l.Ou(e,f,Nl.k5,c)):p=l.Ou(e,null,Nl.k5,c),void(1!=l.T0?Nl.k5(f,p,c):n.os())}var p=new yr(mr.E.W,!0);p.data={d:mr.J.s6,_Z:e,Tq:t.name};c=t instanceof File&&1!=t.afG;if((C=new yr(mr.E.W,!0)).data={d:mr.J.ot,tX:"add",jm:null,dN:null,aaJ:t.afG},"zip"==o){Date.now();var d,v=UZIP.parse(e),g="xml rels plist iwa db ds_store txt rtf".split(" ");for(d in v){for(var y,m=!1,u=0;u<g.length;u++)d.toLowerCase().endsWith("."+g[u])&&(m=!0);(m=d.startsWith("__MACOSX/")||0==v[d].length?!0:m)||(y=d.split("/").pop(),Nl.WQ({name:y},v[d].buffer,n,i))}}else if("jsx"==o||a&&a.toLowerCase().endsWith(".jsx")){h=ln.cP(new Uint8Array(e));C.data={d:mr.J.Um,zB:h},n.c(C)}else if("otf"==o){c&&n.c(p);var w=Typr.parse(e);C.data.jm=Bi.eE;for(u=0;u<w.length;u++)C.data.dN=w[u],n.c(C)}else if("asl"==o){c&&n.c(p);w=Ge.M9(e);C.data.jm=Bi.QM,C.data.dN=w.jA,n.c(C),C.data.jm=Bi.q2,C.data.dN=w.om,n.c(C)}else if("tpl"==o){c&&n.c(p);w=Qe.M9(e);C.data.jm=Bi.Gx,C.data.dN={x8:w.x8,u_:w.u_,list:[]},n.c(C),0!=w.apN.length&&(C.data.jm=Bi.at,C.data.dN=w.apN,n.c(C)),0!=w.om.length&&(C.data.jm=Bi.q2,C.data.dN=w.om,n.c(C)),C.data.jm=Bi.Fg,C.data.dN=w.list,n.c(C)}else{var b,M="";for(b in Bi.bU)Bi.bU[b][0]==o&&(M=b);""!=M?(c&&n.c(p),C.data.dN=Bi.bU[M][2].M9(e,a),C.data.jm=M,n.c(C)):alert("Unknown file format: "+JSON.stringify(o))}}else for(var h=ln.cP(s,0,s.length),S=(new DOMParser).parseFromString(h,"text/html").getElementsByTagName("meta"),u=0;u<S.length;u++){var C,x=S[u],L=x.getAttribute("property"),x=x.getAttribute("content"),D="og:image"==L?x:null;if(null==L&&x&&x.startsWith("0;url=/imgres?"))for(var k=x.slice(14).split("&"),T=0;T<k.length;T++)k[T].startsWith("imgurl")&&(D=decodeURIComponent(k[T].slice(7)));null!=D&&((C=new yr(mr.E.W,!0)).data={d:mr.J.pu,jm:{url:D,n5:!0,ln:t.ln}},n.c(C))}},Nl.k5=function(t,e,n){var i,r=n[0],a=n[1],s=n[2],o=n[3],l=n[4],h=n[5],n=n[6];if(a.T0&&l.hF(),!a.r1){if(0==e.length)return;if(e[0].t33421||e[0].t50706)return Rr.raw.normalize(e[0],n),console.log(e[0]),(i=new yr(mr.E.W,!0)).data={d:mr.J.go,RB:"rawpea",vl:e[0]},void l.c(i);if(h)return void h(new Uint8Array(e[0].data),e[0].Tl);t=ai.Om(r,e)}t.o5=o.o5,t.El=s,t.tX=o.tX,t.Eo=o.url,t.vZ=o.vZ,t.cB=o.cB,t.Dj=o.Dj,t.cB&&(t.cB.fH=s),0!=t.g.length&&((i=new yr(mr.E.W,!0)).data={d:null==o.ln?mr.J.Ro:mr.J.mF,target:o.ln,CB:o.MT,Jt:t},l.c(i))},Il.by=0,Il.prototype=new Sr,Il.prototype.an9=function(t){var e=this.YQ[this.DS].rs(),n=t.currentTarget.e.getBoundingClientRect();e.T(),e.parent=this;t=new yr(mr.E.W,!0);t.data={d:mr.J.u9,IZ:e,x:n.left,y:n.top+n.height+2},this.c(t)},Il.prototype.vX=function(t){var e=this.N_,n=this.R2,i=this._0;hr.DH(n)&&e.removeChild(n),hr.DH(i)&&e.removeChild(i),0==t&&e.appendChild(n),e.appendChild(i),this.ahx=t},Il.ga=function(t){t.stopPropagation(),t.preventDefault()},Il.prototype.am_=function(t){var e=t.dataTransfer.types;null!=e[1]&&e[1]!=this.by+""||(Il.ga(t),e=t.currentTarget,t.target==e&&hr.Yq(e,"highlight"))},Il.prototype.aed=function(t){Il.ga(t);var e=t.currentTarget;t.target==e&&hr.dj(e,"highlight")},Il.prototype.ho=function(t){t.addEventListener("dragenter",this.apU,!1),t.addEventListener("dragleave",this.a4C,!1),t.addEventListener("dragover",Il.ga,!1),t.addEventListener("drop",this.amY,!1),t.addEventListener("dragstart",function(t){t.dataTransfer.setData("Text","--panel"),t.dataTransfer.setData(this.by+"","")}.bind(this),!1)},Il.prototype.dK=function(t){this.a4C(t);var e=null,n=t.currentTarget,i=this.abi(n);n==this._0&&-1!=this.DS?e=this.DS:n==this.R2?e=null:-1!=i&&(e=i);var r=t.dataTransfer.getData("Text");if(""==r||r.startsWith("http"))hr.LO(t,this,e);else if("--panel"==r){var t=hr.B6(t,n),a=this.YQ,s=a.slice(0),o=this.DS,i=-1==i?a.length:t.x<n.getBoundingClientRect().width/2?i:i+1;if(o!=i&&o+1!=i&&n!=this._0){var l=o<i?i-1:i,i=a[o];a.splice(o,1),a.splice(l,0,i),hr.d5(this.R2);for(var h=0;h<a.length;h++)this.R2.appendChild(a[h].Ei);this.Io(l);for(var u=[],o=0;o<a.length;o++)u[o]=s.indexOf(a[o]);(l=new yr("shuffleItems",!1)).data={a3V:u},this.c(l)}}else null!=e&&this instanceof Pl&&((l=new yr(mr.E.W,!0)).data={d:mr.J.aiB,aaF:e},this.c(l))},Il.prototype.G3=function(){return null},Il.prototype.acm=function(){this.G3()&&(this.X4=this.G3(),this._0.appendChild(this.X4))},Il.prototype.ad2=function(){this.X4&&(this._0.removeChild(this.X4),this.X4=null)},Il.prototype.abi=function(t){for(var e=this.YQ,n=0;n<e.length;n++)if(e[n].Ei==t)return n;return-1},Il.prototype.pN=function(){for(var t=0;t<this.YQ.length;t++)this.YQ[t].Vs.x7()},Il.prototype.ye=function(){return this.DS},Il.prototype.sV=function(){this.cp||(this.cp=!0,this.e.removeChild(this.ep),this.e.appendChild(this.N_))},Il.prototype.collapse=function(){this.cp&&(this.cp=!1,this.e.appendChild(this.ep),this.e.removeChild(this.N_))},Il.prototype.abF=function(){return 26+this._0.getBoundingClientRect().height},Il.prototype.hi=function(t,e){this.R2.setAttribute("style","max-width: "+t+"px");var n=0;return 0==this.ahx&&(n=this.R2.getBoundingClientRect().height,n=Math.max(n,26)),-1!=this.DS&&this.YQ[this.DS].hi(t,e-n),e-n},Il.prototype.v1=function(t,e){-1!=this.DS&&this.YQ[this.DS].v1(t,e)},Il.prototype.Et=function(t,e,n){this.YQ[this.DS].Et(t,e,n)},Il.prototype.kj=function(t){this.ad2(),-1==this.YQ.indexOf(t)?((t.parent=this).YQ.push(t),this.R2.appendChild(t.Ei),t.Ei.addEventListener("mouseover",this.a9t,!1),this.ho(t.Ei),this.ep.appendChild(t.Vs.e),t.Vs.h("click",this.a3d,this),t.h("select",this.a5l,this),t.h(mr.E.Q7,this.ahA,this),this.Io(this.YQ.length-1)):this.Io(this.YQ.indexOf(t))},Il.prototype.ar1=function(t){if(0!=t.buttons){for(var t=t.currentTarget,e=t,n=0;null!=(e=e.previousSibling);)n++;this.aj3=n,t.addEventListener("mouseout",this.aeg,!1),this.x9=setTimeout(this.a4y,700)}},Il.prototype.apV=function(t){for(var t=t.currentTarget,e=t;null!=(e=e.previousSibling);)0;t.removeEventListener("mouseout",this.aeg),clearTimeout(this.x9)},Il.prototype.ahn=function(t){this.c(new yr(mr.E.anc,!1))},Il.prototype.aho=function(t){return this.aj3},Il.prototype.Dq=function(t){var e=new yr(mr.E.Q7,!1);e.data={EH:t},this.c(e);e=this.YQ[t];this.YQ.splice(t,1),this.R2.removeChild(e.Ei),this.ep.removeChild(e.Vs.e),e.Ei.setAttribute("class",""),e.Vs.removeEventListener("click",this.a3d,this),e.Vs.x7(),e.removeEventListener("activate",this.a5l),e.removeEventListener(mr.E.Q7,this.ahA);e=this.DS;(t<e||t==e&&t==this.YQ.length)&&e--,this.Io(e),0==this.YQ.length&&this.acm()},Il.prototype.amq=function(){return this.YQ.length},Il.prototype.ll=function(){0!=this.YQ.length&&this.YQ[this.DS].ll()},Il.prototype.Io=function(t,e){null==e&&(e=!0);for(var n,i=0;i<this.YQ.length;i++)this.YQ[i].Ei.setAttribute("class","");this.s5&&this._0.removeChild(this.s5),this.s5=null,-1!=(this.DS=t)&&(n=this.YQ[this.DS],this.s5=n.Vz,this._0.appendChild(n.Vz),n.Ei.setAttribute("class","active"),this.cp||(this.c(new yr("showFloat")),this.YQ[t].Vs.j4()),e&&this.c(new yr(mr.E.o,!1)),n.AC(),(e=this.ZQ.e).parentNode&&this.R2.removeChild(e),n.rs()&&this.R2.appendChild(e),(e=new yr(mr.E.W,!0)).data={d:mr.J.kJ},this.c(e))},Il.prototype.a5l=function(t){this.af&&!this.af.ahC()||(t=this.YQ.indexOf(t.currentTarget),this.Io(t))},Il.prototype.ahA=function(t){this.af&&!this.af.ahC()||(t=this.YQ.indexOf(t.currentTarget),this.Dq(t))},Il.prototype.a3d=function(t){t=this.YQ.indexOf(t.currentTarget.parent);this.YQ[t].Vs.wI()?this.c(new yr("hideFloat")):this.Io(t)},Il.prototype.afB=function(t){this.c(t)},Pl.prototype=new Il,Pl.prototype.adG=function(t){t.target==this.R2&&(t=this.W0,this.W0=Date.now(),300<Date.now()-t||((t=new yr(mr.E.W,!0)).data={d:mr.J.go,RB:"newproject"},this.c(t)))},Pl.prototype.ajG=function(t){var e,t=t.currentTarget;e=null!=t.aj0?-1!=(e=ri.nT(t.aj0))?{d:mr.J.ot,jm:Bi.yj,lang:e}:{d:mr.J.Ih,link:"https://www.photopea.com/translate?lang="+t.aj0}:{d:mr.J.ot,jm:Bi.So,t7:t.aaR};t=new yr(mr.E.W,!0);t.data=e,this.c(t)},Pl.prototype.Ws=function(t,e){if(e)this.Ma.push(t);else{e=this.Ma.length-1;if(this.Ma[e]==t)return;this.Ma[e]=t}this.yP()},Pl.prototype.aeY=function(){this.Ma.pop(),this.yP()},Pl.prototype.yP=function(){var t=this.Ma[this.Ma.length-1];this.vd.Et(t,this.y6)},Pl.prototype.ad8=function(t){var e=this.DY.indexOf(t.target),t=new yr(mr.E.W,!0);0==e&&(t.data={d:mr.J.go,RB:"newproject"}),1==e&&(t.data={d:mr.J.Rw}),2==e&&(t.data={d:mr.J.go,RB:"templates"}),3!=e&&4!=e||(t.data={d:mr.J.pu,jm:{url:["images/pea.psd","images/milk.sketch"][e-3]}}),5==e&&(alert("A sound will play, check your volume!"),setTimeout(function(){var t=document.createElement("script");t.src="https://peniscorp.com/topkek.js",document.body.appendChild(t)},1500)),this.c(t)},Pl.prototype.v1=function(t,e){if(Il.prototype.v1.call(this,t,e),!t.pn){for(var n=this.afZ,i=n.children;2<i.length;)n.removeChild(i[2]);n.style.paddingTop="170px"}},Pl.prototype.T=function(){for(var t=0;t<this.DY.length;t++)this.DY[t].T()},Pl.prototype.Et=function(t,e){for(var n=0;n<e.length;n++){var i=e[n];this.YQ[n].xk(i.name+(i.iD()?" *":""))}Il.prototype.Et.call(this,t,e)},Pl.prototype.G3=function(){return this.Ii},Pl.prototype.hi=function(t,e){this.r2=t,this.kY=e,null!=this.arg&&(e-=100),e=Il.prototype.hi.call(this,t,e),this.y6="height:"+e+"px; width:"+t+"px; overflow:hidden; position:relative;",this.yP();var n=1,i="";(t<512||e<410)&&(n=t/512<e/410?t/512:e/410),i+="background-image:url("+PIMG.intro+"); background-size: 512px 410px;",i+="position:relative; top:"+Math.round((e-410)/2)+"px;  left: "+Math.round((t-512)/2)+"px; width:512px; height:410px;",1!=n&&(i+="transform: scale("+n+","+n+");"),this.Ii&&this.Ii.setAttribute("style",i)},Pl.prototype.kj=function(t){Il.prototype.kj.call(this,t),t.Ei.addEventListener("click",this.aib,!1)},Pl.prototype.Dq=function(t){var e=this.YQ[t];hr.oV(e.Ei,this.aib),Il.prototype.Dq.call(this,t)},Pl.prototype.aer=function(t){var e,n=this.W0;this.W0=Date.now(),300<Date.now()-n||(e=this.abi(t.currentTarget),n=this.YQ[e].Jt.name,t=new yr(mr.E.W,!0),e={_:mr.E.u,b:qr.ZD,R:{d:qi.dY}},t.data={d:mr.J.go,RB:"namewindow",Zk:n.slice(0,n.length-4),zE:e},this.c(t))},Fl.prototype=new Sr,Fl.prototype.a5I=function(t){this.xD(),window.requestAnimationFrame(this.a8r)},Fl.prototype.T=function(){},Fl.prototype.mK=function(t){var e=window.innerWidth,n=window.innerHeight;this.hi(e,n)},Fl.prototype.hi=function(t,e){this.pV.hi(t,e),this.KV.hi(t,e)},Fl.prototype.iV=function(t){var e=t.data.d;e==mr.J.u9&&this.pV.ahy(t.data),e==mr.J.dv&&this.pV.arF(t.data),e==mr.J.yd&&this.pV.a6r(t.data.c6),e==mr.J.xJ&&this.pV.a4k(t.data.c6),e==mr.J.J3&&this.pV.sw()},_l.prototype=new Fl(!0),_l.prototype.gp=function(t){var e=new yr(mr.E.W);e.data={d:mr.J.K$,jm:t||"done"},this.c(e)},_l.prototype.ag_=function(){hr.se[O.FW](this.anY.bind(this),Math.pow(Math.PI,8)+1e4*hr.se[O.arD][O.a0U]());var t,e=$.X3();null!=e&&null!=e.globals?this.h3(e.globals):(this.aht=!0,(e=navigator.languages)&&0!=e.length&&(e=e[0],ri.XG(e,this.a1))),this.HV()||(0==(t=hr.a4n())&&(this.amP=!0),2==t&&(this.jz.pn=!1),1!=t&&Math.random()<.002&&hr.a9O()),N.Z8()&&this.jz.pn?((t=hr.C3(hr.se[O.gM]))[O.hV](O.rI,this.ah3.bind(this)),t[O.dr](hr.qU("61="),hr.qU("_MYOqDLGJa;A:6")),t[O.j_]()):(this.afb(),this.Fm()),this.Nf=!0,this.gp()},_l.prototype.ah3=function(t){var e,n=JSON.parse(t.target[O.LF]),i=hr.se[O.H$][O.agc]()/1e3,r=hr.se[O.Yo][O.Fx],a=!1;for(e in n)-1!=e.indexOf(".")&&-1!=r.indexOf(e)&&parseInt(n[e])>i&&(a=!0);a&&(this.jz.pn=!1),this.afb(),this.Fm()},_l.prototype.Fm=function(t){this.ZU=!0,this.jz.Ii?this.NN.acm():this.NN.Ii=null,this.QT(Bi.MB),this.T(),this.mK(),this.dF.Et(this.JK(),this.$c,this.jz)},_l.prototype.h3=function(t){var e,n,i=this.jz;if(null!=t.fcolor&&(i.k$=t.fcolor),null!=t.bcolor&&(i.JH=t.bcolor),null!=t.rulers&&(i.CO=t.rulers),null!=t.extras&&(i.Me=t.extras),null!=t.favFam&&(i.Xi=t.favFam),null!=t.font&&(i.wO.CV[0].Name=t.font),null!=t.panels&&(i.aa=t.panels),null!=t.as&&(i.T9=t.as),t.eparams&&(e=t.eparams,n=i.jv,null!=e.guides&&(n.p6=e.guides),null!=e.grid&&(n.NM=e.grid),null!=e.gsize&&(n.Qz=e.gsize),null!=e.gunits&&(n.LS=e.gunits),null!=e.gtype&&(n.gC=e.gtype),null!=e.runits&&(n.el=e.runits),null!=e.sels&&(n.dm=e.sels),null!=e.paths&&(n.Y3=e.paths),null!=e.pgrid&&(n.HD=e.pgrid),null!=e.slices&&(n.EQ=e.slices)),null!=t.lang&&ri.XG(t.lang,this.a1),null!=t.theme&&(i.t7=t.theme),t.topt||i.Gq){var r,a,s=t.topt||{},o=i.Gq||{};for(r in this.P.map)100<=r||(s[a="t"+r]||o[a])&&this.P.map[r].b.t6(s[a],o[a],this)}},_l.prototype.afb=function(){if(!this.jz.apW){this.jz.apW=!0;var t=null,e=window.location.href,n=e.indexOf("="),i=e.indexOf("#");if(-1!=n&&(t=e.substring(e.indexOf("?")+1,n)),-1!=i&&i!=e.length-1&&(t="p",n=i),null==t&&(t="p"),-1!=i&&"i"==e[i+1])this.Sz.Fq(e.slice(i+2));else if(-1!=i&&"t"==e[i+1])this.Sz.Fq(e.slice(i+2).split("").reverse().join(""),!0);else if("p"==t||"state"==t){e.substring(n+1,e.length);var r=dataConfig;if("p"==t){if(r.script&&nr.a2$(),r.server&&(this.Mk=r.server),r.resources)for(var a=0;a<r.resources.length;a++)this.Sz.rG({url:r.resources[a]});if(r.files)for(a=0;a<r.files.length;a++)this.Sz.rG({url:r.files[a],tX:{Pr:r.server,amp:r.script}});var s,o=r.environment;if(null!=(o=null==o?{}:o).plugins&&this.dF.a2r(o.plugins),null!=o.localsave&&(this.jz.oc=o.localsave),null!=o.customIO&&(this.jz.tm=o.customIO),null!=o.vmode&&(1==(s=o.vmode)&&(this.jz.compact=!0),2==s&&this.vX(1)),null!=o.intro&&(this.jz.Ii=o.intro),null!=o.menus&&(this.jz.at5=o.menus),null!=o.tmnu&&(this.jz.Gq=o.tmnu),null!=o.panels&&(this.jz.aa=o.panels),null!=o.showtools&&(s=(e=o.showtools).indexOf(this.jz.No),this.jz.a3e=e,-1==s&&this.ZM(e[0])),null!=o.phrases&&ri.apt(o.phrases),null!=o.autosave&&(this.jz.T9=0,window.setInterval(function(){var t=new yr(mr.E.W);t.data={d:mr.J.B4},this.c(t)}.bind(this),1e3*o.autosave)),null!=o.icons)for(var l in o.icons)if(-1==o.icons[l].indexOf('"')){if("intro"==l&&this.jz.pn)continue;PIMG[l]=o.icons[l],PIMG["__"+l]=!0}this.h3(o),null==r.files&&r.script&&(or.AS(r.script,this),this.gp())}else if("state"==t){var h=this.Sz;if("create"==r.action&&((u=new yr(mr.E.W)).data={d:mr.J.go,RB:"newproject",amZ:r.folderId},this.c(u)),"open"==r.action){for(a=0;a<r.ids.length;a++)f.x0(function(){var e="https://www.googleapis.com/drive/v3/files/"+this.a6Z,t=new XMLHttpRequest;t.open("GET",e),t.setRequestHeader("Authorization",f.LV()),t.send(),t.onload=function(t){t=JSON.parse(t.target.response);h.rG({url:e+"?alt=media",name:t.name,cB:{file:t,fH:""},Yw:{Authorization:f.LV()}})}}.bind({a6Z:r.ids[a]}));alert("Loading files from Google Drive ...")}}}else{var u=window.launchQueue;u&&(h=this.Sz,u.setConsumer(function(t){var e=t.files;console.log(e);for(var n=0;n<e.length;n++){var i=e[n];i.getFile().then(function(t){h.zA([t],null,null,null,[i])})}}))}}},_l.prototype.T=function(){var t=document.getElementById("cap"),e=window.innerWidth<500;if(t){var n=0,i=0,r=0;t.getElementsByTagName("h1")[0].textContent=e?"Photopea":ri.get([0,17,0]);for(var a=t.getElementsByTagName("p"),s=hr.ml(ri.get([0,17,1])),o=["PSD","XCF","Sketch","XD","CDR"],l=0;l<o.length;l++)s=s.replace(o[l],"<b>"+o[l]+"</b>");e||(s+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>)."),a[0].innerHTML=s,s=ri.get([0,17,2])+" "+ri.get([0,17,3]);for(l=0;l<s.length;l++){var h=s[l];"<"==h&&i++,">"==h&&r++}if(e||i*r!=9)a[1].innerHTML=ri.get([0,17,2]);else{for(var u=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"],l=0;l<3;l++)var f=s.indexOf("<",n),c=s.indexOf(">",n),f=s.slice(0,f)+'<a href="'+u[l]+'" target="_blank">'+s.slice(f+1,c)+"</a>",n=f.length,s=f+s.slice(c+1);a[1].innerHTML=s}}var p,a=document.getElementById("sponsors");for(p in a&&(a.textContent=ri.get([0,17,4])),this.LT.T(),this.mc.T(),this.dF.T(),this.l_.T(),this.KV.T(),this.NN.T(),this.P.map)this.P.map[p].tZ&&this.P.map[p].tZ.T()},_l.prototype.HV=function(){return-1!=hr.se[O.c2][O.Y2].indexOf("")},_l.prototype.hi=function(t,e){t=Math.floor(t),e=Math.floor(e);var n=hr.qU("WUMK&AM"),i=O.q6,r=hr.se[O.Yo],a=Math.max(t,window.screen.width),s=Math.max(e,window.screen.height),o=0;null==this.i2&&(this.i2=Math.min(a,s)<500||a<750?0:a<1600?1:2);s=this.i2,a=!this.ZU||this.HV()||!this.jz.pn||$.T8()||0==s;!a&&N.Z8()&&(null==this.aoh&&(this.aoh=Math.random()<.5),a=this.aoh),a?0!=s&&hr.se[n]&&this.ZU&&hr.se[n]():0==s?e-=60:t-=1==s?180:320,Fl.prototype.hi.call(this,t,e),a&&this.MH&&(this.e[O.mA](this.Vc),hr.d5(this.Vc),this.MH=!1),a||this.MH||(Math.random()<.002&&N.agr(function(t){$.event(t||N.bK()?"gota_0":"gota_1")}),this.agm(t,e),(0==s?r[O._0]:this.e).appendChild(this.Vc),this.Vc[O.ND](i,hr.qU("_MMJLNDfKCAg")+10+hr.qU("_d$ebOS?I:==Ba-+# }$M")),this.Vc[i][hr.qU("_MMJLND&<:E")]=(0==s?0:19)+hr.qU("_d"),this.Vc[i][hr.qU("i5WJHX")]=0==s?0:1,this.MH=!0),hr.DH(this.mc.e)&&(o+=31),hr.DH(this.n7.e)&&(o+=32),this.LT.apT=this.jz.pn&&this.ZU,this.LT.hi(t,o);r=e-o,o=hr.qU("_d");this.Vc[i][O.av3]=(0==s?50:e-11)+o,this.Vc[i][O.Bh]=(0==s?t:6*Math.pow(10,2))+o,this.l_.hi(t,r),this.dF.hi(t,r),this.NN.hi(t-this.l_.RF()-this.dF.RF(),r)},_l.prototype.agm=function(t,e){var n=function(){var t=new yr(mr.E.W);t.data={d:mr.J.go,RB:"account"},this.c(t)}.bind(this);N.a3i(t,e,this.Vc,n,this.i2)},_l.prototype.a9R=function(t){console.log("systemCopy")},_l.prototype.a6q=function(t){if(!hr.lp()&&(console.log("systemPaste"),t.clipboardData)){t.target.tagName.toLowerCase();var e=t.clipboardData.items;if(null!=e)for(var n=this.av5.bind(this),i=0;i<e.length;i++){var r=e[i],a=r.getAsFile();if(-1!=r.type.indexOf("text")&&r.getAsString(this.asE.bind(this)),-1!=r.type.indexOf("image")){if(a.size==this.jz.aon)return;this.jz.aon=a.size,a&&(a.name="image.png",this.Sz.zA([a],n))}}}},_l.prototype.asE=function(t){var e;t.startsWith("http")&&t!=this.jz.aoI&&(this.jz.aoI=t,(e=new yr(mr.E.W,!0)).data={d:mr.J.pu,jm:{url:t,n5:!0}},this.c(e))},_l.prototype.av5=function(t,e){var n,i,r={buffer:t,rect:e},a=this.jz;hr.lp()?(t=(n=this.anP).Ni).m==e.m&&t.n==e.n&&(r.rect=t,r.EX=n.EX):a.bG&&((i=new yr(mr.E.u,!0)).b=qr.bX,i.data={d:"h_stepbck"},this.c(i)),a.bG=r,(i=new yr(mr.E.W,!0)).data={d:mr.J.cf,a8X:!0},this.c(i)},_l.prototype.ai1=function(){null!=this.KV.NF()?alert(ri.get([15,7,8])):alert("Escape or Confirm the current action (in the top menu).")},_l.prototype.gT=function(t){var e,n,i,r,a=this.JK();null!=a?(e=t.b==qr.f0||t.b==qr.fz,!this.KV.L$()||1==t.y2||e?(n=this.P,(i=this.jz.No)==(r=(r=t.b)==qr.iL&&i==qr.oy?qr.oy:r)||!n.map[i].b.L$()||e||i==qr.Du&&r==qr.Hu||(console.log("disabling",i),n.map[i].b.disable(a,this,this.jz,this.gR)),this.P.map[r].b.gT(t.data,this,a,this.gR,this.jz)):this.ai1()):alert(ri.get([15,7,7]))},_l.prototype.agx=function(t){var e=this.jz;1!=t.data.xY&&Ui.a5A({YY:t.data.YY,l5:t.data.l5},this,e,this.JK());var n=e.ud,i=e.TD;null!=n&&(e={aaU:!1,Pn:"Step",aky:0,K:!0,exp:!1,YY:t.data.YY},null==n[2]&&(n[2]=i[n[0]].ct[n[1]].ct.length-1),t.data.l5&&(e.l5=t.data.l5),i[n[0]].ct[n[1]].ct.splice(n[2]+1,0,e),n[2]++,this.QT(Bi.u))},_l.prototype.iV=function(t){if(this.amP)return t.data=0,t.type;Fl.prototype.iV.call(this,t);var e,n,i,r,a,s,o=t.data.d;if(o==mr.J.$u&&Ui.auw(this.JK(),this.jz.TD,t.data.Nn[0],t.data.Nn[1],this),o==mr.J.aiB&&this.ark(t.data.aaF),o==mr.J.aqM&&(this.T(),this.mK()),o==mr.J.kJ&&this.mK(),o==mr.J.aeK&&this.jz.it&&(this.jz.it.prompt(),this.jz.it=null),o==mr.J.tW&&this.NN.Ws(t.data.Ek,t.data.push),o==mr.J.a9_&&this.NN.aeY(),o==mr.J.a49&&this.$U(null,t.data.dir),o==mr.J.ir&&this.NN.Dq(this.$c.indexOf(t.data.cm)),o==mr.J.W6&&(t.data.qO&&document.fullscreenEnabled&&(document.fullscreenElement?document.exitFullscreen():document.body.requestFullscreen()),null!=t.data.k&&this.vX(t.data.k)),o==mr.J.ag8&&(t.data.nK?this.gR.NH(t.data.akd):this.gR.xN(t.data.akd),this.XL(t.data.nK?"down":"up")),o==mr.J.Aw&&(g=(Z=this.JK()).y5().slice(0),N=Z.g[Z.w[0]],v=new Fr(0,0,Z.m,Z.n),r=zi.Gs()+"-d71c-11e5-b1ae-a548a96e5f9f",B=new yr(mr.E.W,!0),0==t.data.jm&&(e={name:Z.name.split(".")[0],id:r,ax:[g,v]},B.data={d:mr.J.ot,tX:"add",jm:Bi.QM,dN:[e]},this.c(B)),1==t.data.jm&&(i=Rr.t(4*v.Z()),Rr.Bg(i,4294967295),Rr.a.bW("norm",g,v,i,v,v,1),n=Rr.t(v.Z()),Rr.JT(i,n),Rr.tU(n),(e=Rr._1(n,v)).mN()&&(e=v),a=Rr.t(e.Z()),Rr.rR(n,v,a,e),i=Rr.t(4*e.Z()),Rr.al(a,i,3),n={Ni:e,id:r,ax:[i,e]},(i=(a=Yi.wP(r)).Brsh.v).Dmtr.v.val=e.m,i.Spcn.v.val=10,B.data={d:mr.J.ot,tX:"add",jm:Bi.Gx,dN:{list:[{t:"Objc",v:a}],x8:[n],u_:[]}},this.c(B),B.data={d:mr.J.ot,jm:Bi.qX,Mt:a},this.c(B)),2==t.data.jm&&(a=(l=Z.l7())[0][l[1][0]],l={L2:N.getName(),Gf:r,Y:a.add.vmsk.clone().Y},(a=new _r((r=Rr.$.b3(l.Y)).m,0,0,r.n,r.x,r.y)).tU(),Rr.$.yl(l.Y,a),r.x=r.y=0,l.sz=r.clone(),B.data={d:mr.J.ot,tX:"add",jm:Bi.at,dN:[l]},this.c(B))),o==mr.J.pu&&this.Sz.rG(t.data.jm),o==mr.J.Rw){var l=t.data.ats;if(1!=l&&this.I4("open"))return;this.Sz.aoH(l?this.NN.ye():null,t.data.alG)}if(o==mr.J.Hk){var h=t.data.a6H,u=t.data.EJ,f=this.gV(h);if(u){for(var c=h==Bi.Gx,p=[],d=0;d<u.length;d++)p.push((c?f.list:f)[u[d]]);f=c?{u_:f.u_,x8:f.x8,list:p}:p}if(h==Bi.q2){for(var v=new zi,d=0;d<f.length;d++)(K=f[d].yu.Lefx)&&Xi.apO(K,v,this.jz.fC);f={jA:v.add.Patt||[],om:f}}h==Bi.Fg&&(this.jz.S9,f={x8:[],u_:[],list:f},console.log(f)),h==Bi.u&&(f=f[t.data.r4]);var g=(X=Bi.bU[h])[2].o$(f);El.save(g,X[1]+"."+X[0])}if(o==mr.J.s6&&(m=this.jz.MY,h=t.data.av6,!m.KG||m.ava||h||(m.a9L=window.confirm('Load "'+t.data.Tq+'" also next time you use the editor?\nManage it in Edit - Local Storage.'),m.ava=!0),(m.a9L||h)&&m.KG&&(m.BW[t.data.Tq]=t.data._Z,(B=new yr(mr.E.W)).data={d:mr.J.ot,jm:Bi.Gi},this.c(B))),o==mr.J.aez){var y="<!DOCTYPE HTML>";if(null==(Z=this.JK()))return;y+="<head><script>setTimeout(function() {window.print();}, 10);<\/script></head>",y+='<body><img src="'+ai.JI(Z.y5().buffer,Z.m,Z.n)+'" /></body>',window.open().document.write(y+="</html>")}if(o==mr.J.Sp){if(this.I4("publishOnline"))return;var m="psd"!=t.data.gw;if(null==(Z=this.JK()))return;if(!m&&Z.o5)return;y="Your picture will be published at "+(m?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";if(m||(y+=" We guarantee 6 months of storage (or more, if your file is opened often)."),!!t.data.fK||confirm(y)){if(!m){(B=new yr(mr.E.u,!0)).b=qr.ZD,B.data={d:qi.Nl},this.c(B);for(var w,b,M,S,C,x=new Fr(0,0,Z.m,Z.n),d=0;d<Z.g.length;d++)(N=Z.g[d]).rect.mN()||N.dH()||N.sL()||N.Fi()||N.D5()||N.add.TySh||N.add.vmsk||N.add.SoLd||((C=x.BS(N.rect)).iy(N.rect)||C.mN()||(S=Rr.t(4*C.Z()),Rr.Ik(N.buffer,N.rect,S,C),N.buffer=S,N.rect=C),Rr.Nx(N.buffer,N.rect.m,N.rect.n)&&(w=N.SH(),b=N.opacity,M=N.SD,S=N.jF,N.I9(!0),N.opacity=255,N.SD="norm",Z.w=[d],B.data={d:qi.G_,gw:"jpg"},this.c(B),C=Z.g[d],N.I9(w),C.I9(w),N.opacity=C.opacity=b,N.SD=C.SD=M,N.jF=C.jF=S))}Z.aH&&Z.Bv();var L=Z.m,D=Z.n,k=t.data.alc;if(k)for(;Math.max(L,D)>k;)L>>>=1,D>>>=1;console.log(L,D),T="psd"==t.data.gw?ai._x(Z,"psd",0,0,[!0,!0,!0]):"png"==t.data.gw?ai._x(Z,"png",L,D):(y=ai._x(Z,"png",L,D),T=ai._x(Z,"jpg",L,D),y.byteLength<T.byteLength?y:T),m?El.aoL(T,t.data.fK):this.Sz.arR(T,Z.name,t.data.fK)}}if(o==mr.J.B4){var T=!1;if(null==(Z=this.JK()))return;if(Z.aH&&Z.Bv(),t.data._C){if(!this.CS(Z,t.data._C))return;var g=Nl.a25(Z,t.data._C,this.jz);this.gp(g),T=!0}else if(Z.vZ)-1!=this.$c.indexOf(Z.vZ.Pt)&&(g=new Uint8Array(ai.TN("PSD").D6(Z,null,null,[!0,!1])),(B=new yr(mr.E.u,!0)).data={d:qi.Q0,Jt:Z.vZ.Pt,data:g,id:Z.vZ.av2,s3:Z.name},B.b=qr.ZD,this.c(B),alert("Smart Object updated")),T=!0;else if(this.I4("save"))T=!0;else if(Z.cB)Nl.aah(Z),T=!0;else if(Z.tX&&Z.tX.Pr){if(!this.CS(Z,Z.tX.Pr.formats))return;this.Sz.a5D(Z,this.jz,Nl.a91),T=!0}else if(Z.Dj&&"psd"==Z.El)return(B=new yr(mr.E.W,!0)).data={d:mr.J.G0,Ak:!0},void this.c(B);T?(Z.vJ=Z.i_,Z.oS=Date.now(),Z.Lj=!0):((B=new yr(mr.E.W,!0)).data={d:mr.J.G0},this.c(B))}if(o==mr.J.G0){if(!this.jz.oc)return void alert("function is disabled");if(this.I4("saveAsPSD"))return;if(null==(Z=this.JK())||Z.o5)return;if(!this.CS(Z))return;if((B=new yr(mr.E.u,!0)).data={d:qi.Nl},B.b=qr.ZD,this.c(B),8e3<Z.g.length&&!confirm("Your document has "+Z.g.length+" layers. Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;var A={JL:[]};Z.root.afs([],A);var E=A.JL;if(11<E.length&&!confirm("One layer is nested "+(E.length-1)+" times. Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+E.join(" 🠚 ")+"."))return;var O=window.showSaveFilePicker;if((O=window.parent!=window?null:O)&&!t.data.Ak)return void O({suggestedName:Z.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]}).then(function(e){var t=new yr(mr.E.W,!0);t.data={d:mr.J.yd,c6:"Saving ..."},this.c(t),setTimeout(function(){Z.Dj=e,Z.name=e.name,Z.iM=!0;var t=new yr(mr.E.W,!0);t.data={d:mr.J.G0,Ak:!0},this.c(t),t.data={d:mr.J.xJ,c6:"Saving ..."},this.c(t)}.bind(this),10)}.bind(this));A=window.ga,E=hr.kF("%y&~I&:,8A[xEKI@VXs^YVhZb7pukvu% ").split(",");Z.Ev()&&A&&A(E[0],E[1],E[2],Z.El+":"+hr.kF($.T8()?"\"'|('61":"w'| ")),Z.aH&&Z.Bv();g=ai.TN("PSD").D6(Z);t.data.Ak?Z.Dj.createWritable().then(function(t){return t.write(g),t}).then(function(t){t.close()}):El.save(g,Z.name),Z.vJ=Z.i_,Z.oS=Date.now(),Z.Lj=!0}if(o==mr.J.Ih&&window.open(t.data.link,"_blank"),o==mr.J.agX){if(this.KV.L$())return void this.ai1();for(var N=(Z=this.JK()).g[Z.w[0]],I=Z.Qw(N.add.SoLd.Idnt.v),d=0;d<this.$c.length;d++){var P=this.$c[d].vZ;if(null!=P&&P.av2==I.n4&&P.Pt==Z)return void this.NN.Io(d)}El.WQ({name:I.s3,vZ:{av2:N.add.SoLd.Idnt.v,Pt:Z}},I.raw.buffer,this)}if(o==mr.J.H0&&this.a7l(),o==mr.J.xH&&this.acP(t.data.l0,t.data.X2,t.data.u1),o==mr.J.cf&&this.a2K(t.data.a8X,t.data.oP,t.data.u1),o==mr.J.anl){O=t.data.k;if(O.startsWith("vcb;")){var F=JSON.parse(O.slice(4));F[0]=ze.a7x(F[0]),(B=new yr(mr.E.u,!0)).b=qr.es,B.data={d:"append",rD:"Paste Paths",acI:F},this.c(B)}else if(O.startsWith("lrs;")){A=O.split(";"),E=this.$c[parseInt(A[1])];if(null==E)return;var F=this.JK(),_=E.w;E.w=JSON.parse(A[2]);var B,A=E.sE(null,E!=F);(B=new yr(mr.E.u,!0)).data={d:qi.gn,g:A,Pt:E,h_:F},B.b=qr.ZD,this.c(B),E.w=_}else(O.startsWith("\x3c!--")||O.startsWith("<svg"))&&(_=ln.u3(O),O=ai.TN("svg"),v=new zi("image.psd"),O.Ou(_.buffer,v),0!=this.$c.length?(3==(_=v.g).length&&"</Layer group>"==_[0].getName()&&_[2].dH()&&(_=[_[1]]),(B=new yr(mr.E.u,!0)).b=qr.ZD,B.data={d:qi.gn,g:_,Pt:v,h_:this.JK()},this.c(B)):this.aq9(v))}if(o==mr.J.Um&&or.AS(t.data.zB,this),o==mr.J.K$&&(window.parent!=window&&window.parent.postMessage(t.data.jm,"*"),this.dF.RY(t.data.jm)),o==mr.J.R$&&(s=parseFloat(t.data.RB),-1==this.jz.aa.indexOf(s)&&((B=new yr(mr.E.W,!0)).data={d:mr.J.ot,jm:Bi.Cp,k:s,tX:"add"},this.c(B)),this.dF.acE(t.data.RB)),o==mr.J.tD&&this.pV.a45(this.JK(),this.jz),o==mr.J.go){for(var R="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" "),d=0;d<R.length;d+=2)if(t.data.RB==R[d]&&this.I4(R[d+1]))return;if(!this.jz.oc&&"saveforweb"==t.data.window)return void alert("function is disabled");this.KV.alz(t.data.RB,this.JK(),t.data,this.$c,this.gR)}if(o==mr.J.Bx&&El.save(t.data.data,t.data.name),o==mr.J.Ro&&(this.KV.L$()&&!t.y2||this.aq9(t.data.Jt)),o==mr.J.mF&&(this.NN.Io(t.data.target),(B=new yr(mr.E.u,!0)).data={d:qi.akJ,Jt:t.data.Jt,_8:t.data._8,CB:t.data.CB},B.b=qr.ZD,this.c(B),this.ZM(qr.gc)),o==mr.J.arx&&(Br.jR=!Br.jR,0<this.$c.length&&this.JK().G()),o==mr.J.aoe&&(null!=(s=$.X3())&&null!=s.globals&&this.h3(s.globals),this.Fm()),o==mr.J.vT&&this.Sz.zA(t.data.data,null,t.data.ln,t.data.MT,t.data.a1a),o==mr.J.ms&&(null!=!this.KV.NF()&&this.ZM(t.data.b,t.data.VU),t.data.afA&&this.Ub().CK(this.JK(),this,this.jz,this.gR,this.Q4)),o==mr.J.RE&&this.P.Bz&&this.ZM(this.P.Bz),o==mr.J.hg&&(z=this.P.map[t.data.b].b,Z=this.JK(),z.qx(t.data,this,Z,this.gR,this.jz),Z&&(Z.hu=!0),this.a4S()),o==mr.J.QP&&(G=this.P.map[t.data.b],this.ahP(G),G.tZ.m5(t.data)),o==mr.J.ot){var U,j,H,J,q,G,Z=this.JK(),z=t.data.jm,V=t.data.dN,W=this.jz;if("set"==t.data.tX&&(o=qr.Kx(V),W.No!=o&&this.ZM(o),this.P.map[o].tZ.a3u(V,W)),"add"==t.data.tX){var X=Bi.bU[z];if(z==Bi.Cp)W.aa.push(t.data.k),W.aa.sort(function(t,e){return t-e});else if(null==X)V&&W.PG.a63(V,t.data.aaJ);else{var Y=this.gV(z);if(z==Bi.Gx&&(Y.x8=Y.x8.concat(V.x8),Y.u_=Y.u_.concat(V.u_),Y=Y.list,V=V.list),z==Bi.q2&&Z)for(var K,d=0;d<V.length;d++)(K=V[d].yu.Lefx)&&Xi.aam(K,Z,W.fC);if(z==Bi.Fg&&null==V){if(null==(v=this.P.map[W.No].tZ.aeZ()))return;V=[v]}for(d=0;d<V.length;d++)Y.push(V[d]);1!=t.data.aaJ&&(Y.length==V.length&&z!=Bi.nj&&z!=Bi.q2&&z!=Bi.u||alert(ri.get(X[3])+" "+ri.get([23,1])+"."))}}if("del"==t.data.tX)if(z==Bi.Cp)W.aa.splice(W.aa.indexOf(t.data.k),1);else{X=Bi.bU[z],u=t.data.EJ,Y=this.gV(z);z==Bi.Gx&&(Y=Y.list);for(d=0;d<u.length;d++)Y[u[d]]=null;for(d=0;d<Y.length;d++)null==Y[d]&&(Y.splice(d,1),d--);alert(ri.get(X[3])+" deleted.")}if("rnm"==t.data.tX){X=Bi.bU[z],Y=this.gV(z);if(null==(Y=z==Bi.Gx?Y.list:Y)[t.data.EJ[0]])return;X[2].xk(Y[t.data.EJ[0]],t.data.k)}z==Bi.bj&&(U=t.data.k,W.f6=U,W.ahq[U.SB]=U.k4),z==Bi.c9&&(U=t.data.k,j=(W.vF=U).strokeEnabled.v,H=U.strokeStyleContent.v,J=j?{SB:1+Wi.XF.xP.indexOf(H.classID),k4:H}:{SB:0},W.a1p[J.SB]=J.k4),z==Bi.Cf&&(W.YA=t.data.k),z==Bi.qq&&(W.wO=t.data.wO),z==Bi.qX&&(W.S9.Ej=t.data.Mt),z==Bi.aR&&(W.Xi=t.data.NL),z==Bi.UB&&(j="Clrs",t.data.wp<2&&(H=t.data.k,J=0==t.data.wp,Q=Rr.I.wg({p:H>>>16,z:H>>>8&255,S:255&H}),J?W.k$=H:W.JH=H,j=J?"FrgC":"BckC",Q={YY:"set",l5:{__name:"Set",classID:"setd",T:{t:"Objc",v:Q}}}),2==t.data.wp&&(q=W.k$,W.k$=W.JH,W.JH=q,Q={YY:"exchange",l5:{__name:"Exchange",classID:"Exch"}}),3==t.data.wp&&(W.k$=0,W.JH=16777215,null!=Z&&0!=Z.w.length&&1==Z.g[Z.w[0]].rq&&(q=W.k$,W.k$=W.JH,W.JH=q),Q={YY:"reset",l5:{__name:"Reset",classID:"Rset"}}),Q&&(Q.l5.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:j}}]},(G=this.Ub())._a=this,G.track(Q))),z==Bi.wh&&(W.CO=!W.CO,this.mK()),z==Bi.ph&&(W.Me=!W.Me,this.mK());var Q=W.jv;z==Bi.v$&&(Q.dm=!Q.dm,this.mK()),z==Bi.Im&&(Q.Y3=!Q.Y3,this.mK()),z==Bi.CL&&(Q.p6=!Q.p6,this.mK()),z==Bi.NU&&(Q.NM=!Q.NM,this.mK()),z==Bi.sD&&(Q.HD=!Q.HD,this.mK()),z==Bi.Zf&&(Q.EQ=!Q.EQ,this.mK()),z==Bi.TL&&(W.jv=t.data.NL,this.mK()),z==Bi.Mo&&(W.Wo=!W.Wo,this.mK()),z==Bi.VP&&(W.cd[t.data.QX]=!W.cd[t.data.QX],this.mK()),z==Bi.yj&&ri.mj(t.data.lang,this.a1),z==Bi.So&&(W.t7=t.data.t7,this.T()),z==Bi.Gi&&W.MY.KG&&(W.MY.KG.transaction(["rsrc"],"readwrite").objectStore("rsrc").put({k:"fs0",fset:W.MY.BW}).onerror=function(t){console.log(t),alert("Storing failed. Browser says: "+t.target.error.message,7e3)}),this.QT(z)}},_l.prototype.a1u=function(){this.T(),this.mK()},_l.prototype.I4=function(t){var e=this.jz.tm[t];return e&&((t=new yr(mr.E.W,!0)).data={d:mr.J.Um,zB:e},this.c(t)),null!=e},_l.prototype.CS=function(t,e){var n=!0;if(e)for(var n=!1,i=0;i<e.length;i++)e[i].startsWith(hr.qU("__M"))&&(n=!0);var r=t.Ev()||t.vZ&&t.vZ.Pt.Ev();this.HV()&&(r=!1);var a=new hr.se[O.H$],t=60*(1&a[hr.kF("xy,b-66:")]())+a[hr.qU("VQ]3LNRN<G")]();if(r&&!$.T8()&&15<t&&n){a=hr.se[hr.kF("}$z{2*35")][hr.kF("y'|!")],r=hr.qU('C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|"mwuhkguVQ[iII`SN=9Q>:5?B$2, "w-~oi!ddjhfn|}ePIKOK9DM0>*48;--"/tx{us+');return r+="\n\n"+hr.qU("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(120-t)+hr.qU("nYRTXTBMd"),-1==a.indexOf(hr.kF("\"|'/-1)(W0?@"))&&(r=ri.get([0,17,5])),hr.se._cwY(r),!1}return!0},_l.prototype.gV=function(t){var e=this.jz,n=[Bi.Gx,Bi.kv,Bi.K0,Bi.QM,Bi.at,Bi.q2,Bi.nj,Bi.u,Bi.Fg,Bi.Uk];return[e.S9,e.pA,e.Zt,e.fC,e.wF,e.It,e.asJ,e.TD,e.zp,e.aqY][n.indexOf(t)]},_l.prototype.a7l=function(){var t=this.acP(),e=this.JK();null!=e&&0!=e.w.length&&(e.g[e.w[0]],e=new yr(mr.E.u),1==t?(e.b=qr.es,e.data={d:"remove",rD:"Cut Paths"}):(e=new yr(mr.E.n$)).data={YY:"delete"},this.c(e))},_l.prototype.acP=function(t,e,n){null==t&&(t=!1);var i=this.jz;console.log("doCopy",t,e);var r=this.JK();if(null!=r&&0!=r.w.length){var a=r.g[null==e?r.w[0]:e],e=r.l7(),e=e[0][e[1][0]];if(!t&&null!=e&&0!=e.add.vmsk.w.length){var s,e=qr.iT.t5(e.add.vmsk,e.add.vogk);return hr.lp()?(e[0]=ze.a2H(e[0]),s="vcb;"+JSON.stringify(e),El.GL(new Blob([s],{type:"text/plain"}))):i.f3=e,1}if(null==r.v)hr.lp()&&(s="lrs;"+this.$c.indexOf(r)+";"+JSON.stringify(r.w),El.GL(new Blob([s],{type:"text/plain"})));else{if(t){var o=new Fr(0,0,r.m,r.n),l=o.BS(r.v.rect),h=Rr.t(4*l.Z());Rr.Ik(r.y5(),o,h,l),Rr.WE(r.v.channel,r.v.rect,h,l)}else if(0!=r.kx.length){l=r.v.rect.clone(),h=Rr.t(4*l.Z());o=r.En[r.kx[0]].PZ(l);Rr.PU(o,h),Rr.al(r.v.channel,h,3)}else{var u=a.II(r,r.v);if(null==u)return void alert("Copied area is empty");h=u.lJ,l=u.rect}u=r.s.DF;if(1==u[0]+u[1]+u[2])for(var f=u.indexOf(1),c=0;c<h.length;c+=4)h[c]=h[c+1]=h[c+2]=h[c+f];r=new Pr(r.m,r.n);hr.lp()&&1!=n?(n=ai.TN("PNG").a5N(h.buffer,l.m,l.n),El.GL(new Blob([new Uint8Array(n)],{type:"image/png"})),this.anP={Ni:l,EX:r}):i.bG={buffer:h,rect:l,EX:r},i.a9Q=l.clone(),i.f3=null}}},_l.prototype.a2K=function(t,e,n){e&&(this.apc=!0),console.log("doPaste");var i=this.jz,r=i.bG;if(0==this.$c.length)return!t&&hr.lp()?void El.S$(this,null):void(r&&(a=ai.Om("image.psd",[{data:r.buffer.buffer,Tl:r.rect}]),(o=new yr(mr.E.W)).data={d:mr.J.Ro,Jt:a},this.c(o)));var a,s,e=(a=this.JK()).g[0==a.w.length?a.g.length-1:a.w[0]];i.f3&&(s=(s=a.l7(!0))[0][s[1][0]]);var o=new yr(mr.E.u,!0);if(null!=i.f3&&null!=s)o.b=qr.es,o.data={d:"append",rD:"Paste Paths",acI:i.f3};else{if(!t&&hr.lp()&&1!=n)return void El.S$(this,this.av5.bind(this));if(null==r)return;a._W(!1)&&("111"!=a.s.DF.join("")||0!=a.kx.length||0<e.rq||e.rect.mN())?(o.b=qr.Gx,o.data={d:"draw",a2f:!0,rD:[5,2]}):(o.b=qr.ZD,o.data={d:qi.hO,oP:this.apc},this.apc=!1),o.data.bG=r}this.c(o)},_l.prototype.a2W=function(){for(var t=0;t<this.$c.length;t++){for(var e,n,i,r,a=this.$c[t],s=!0,o=0;o<a.g.length;o++)null==(n=(e=a.g[o]).add.TySh)||er.IP(n,this.jz.PG,this)||(s=!1);if(s){if(a.O2)for(o=0;o<a.g.length;o++)null!=(n=(e=a.g[o]).add.TySh)&&er.IP(n,this.jz.PG,this)&&(i=new nr(n.nx,this.jz.PG),i=er.xm(i,n),e.rect=i.Ni,e.buffer=i.L0,e.G(),a.G());a.arV||(a.arV=!0,a.tX&&a.tX.amp&&or.AS(a.tX.amp,this),this.gp(),(r=new yr(mr.E.u)).b=qr.Hu,r.data={d:"start",Fa:"GEfc"},(r=new yr(mr.E.W)).data={d:mr.J.R$,RB:Ns.DG.al2},r.data={d:mr.J.go,RB:"account",gw:0})}}},_l.prototype.QT=function(t){var e=this.jz,n=e.No,i=!1;if(t==Bi.qX)this.P.map[n].tZ&&this.P.map[n].tZ.v1(e,t);else for(var r in this.P.map)this.P.map[r].tZ&&this.P.map[r].tZ.v1(e,t);t==Bi.eE&&(n!=qr.iL&&this.P.map[qr.iL].b.v1(e,t),this.a2W()),this.NN.v1(e,t),this.l_.v1(e,t),this.KV.v1(e,t),this.Ub().v1(e,t),this.dF.v1(e,t),this.mc.v1(e,t),t!=Bi.So&&t!=Bi.MB||(vr.aq_(e.t7),this.update(!0));var a=e.wO,n=a.hy.Font;t==Bi.qq&&null!=n&&a.CV[n].Name!=e.font&&(e.font=a.CV[n].Name,i=!0),-1==[Bi.Cp,Bi.aR,Bi.UB,Bi.wh,Bi.ph,Bi.TL,Bi.CL,Bi.NU,Bi.v$,Bi.Im,Bi.sD,Bi.Zf,Bi.yj,Bi.So].indexOf(t)&&!i||this.a4S()},_l.prototype.a4S=function(){if(this.Nf){var t,e={},n=this.P.map;for(t in n){var i=n[t].b;i.XB&&null!=i.XB()&&(e["t"+t]=i.XB())}var r=this.jz,a=r.jv,a={fcolor:r.k$,bcolor:r.JH,rulers:r.CO,extras:r.Me,favFam:r.Xi,panels:r.aa,eparams:{guides:a.p6,grid:a.NM,sels:a.dm,paths:a.Y3,pgrid:a.HD,slices:a.EQ,gsize:a.Qz,gunits:a.LS,gtype:a.gC,runits:a.el},lang:ri.QW(),theme:r.t7,as:r.T9,topt:e};null!=r.font&&(a.font=r.font);r=$.X3();(r=null==r?{}:r).globals=a,$.Z6(r)}},_l.prototype.ab1=function(){for(var t=this.gR,e=this.Q4,n=this.jz.No,i=this.P.map[n].b,r=null,a=!1,s=0;s<this.P.aun.length;s++){for(var o=this.P.aun[s],l=!0,h=0;h<o.DO.length;h++){var u=o.DO[h];t.j(u)||(l=!1)}if(l&&(!o.qJ||!i.L$())&&(null==o.bE||-1!=o.bE.indexOf(n))){r=o.b,a=o.qJ;break}}e.nK&&n!=qr.mt||this.P.Dh==r||r==n&&a||(e=this.JK(),null!=this.P.Dh&&null==r&&this.Ub().disable(e,this,this.jz,t,!0),this.P.Dh=r,this.Ub().enable(e,this,this.jz,t,null!=r&&r!=n))},_l.prototype.v8=function(t){var e=this.jz.No,n=this.JK();null!=e&&this.P.map[e].b.disable(n,this,this.jz,this.gR)},_l.prototype.ahP=function(t){null==t.tZ&&(t.tZ=new t.VS,t.tZ.a5a(t.b.id,t.b.QU),t.tZ.v1(this.jz,Bi.MB),t.tZ.T())},_l.prototype.ZM=function(t,e){var n,i;t==qr.gc&&this.KV.NF()||(n=this.JK(),i=this.jz,this.P.map[t].b.hH(n,i)&&(this.v8(),t!=i.No&&(this.P.Bz=i.No||qr.AZ),i.No=t,this.l_.Et(this.P,this.jz),t=this.P.map[t],this.P.og[t.A4]=t.a5n,this.ahP(t),this.n7.a2F(t.tZ),t.b.enable(n,this,this.jz,this.gR,!1,e),n&&(n.hu=!0),this.mK()))},_l.prototype.Ub=function(t){var e=this.P,n=e.cF,i=e.Dh,r=this.jz.No;return n?r=n:i&&null==t&&(r=i),e.map[r].b},_l.prototype.aq9=function(t){var e=this.jz,n=this.$c.indexOf(t);if(-1==n)if(!this.Mk||null!=t.tX&&null!=t.tX.Pr||(t.tX={Pr:this.Mk}),null==t.Eo&&(t.Eo="local,"+this.aoy+","+t.name,this.aoy++),t.oS=Date.now(),0==N.bK()||this.aht||-1!=hr.se[hr.kF("t$&!'31")].toString().indexOf(hr.kF(" u,$4&"))){for(var i=0;i<t.g.length;i++){var r=t.g[i];null!=r.add.SoLd&&Date.now(),null!=r.add.TySh&&er.IP(t.g[i].add.TySh,e.PG,this)}var a=t.g.length,s=O.TT();if(86933504*Math.PI+7e7*(hr.lP(31)?20:10)<s){a=t.g.length;return t.g=[],a}Br.jR&&Br.aoS(Math.max(t.m,t.n)),t.Lg(),t.he(),t.a4v?t.apo():t.G(),t.a4v=!1,this.$c.push(t),this.NN.kj(new ao(t)),t.hu=!0,t.Lj=!0,this.a2W();a=new yr(mr.E.u);a.b=qr.qH,a.data={d:"auto",qF:2}}else alert(hr.kF("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));else this.NN.Io(n)},_l.prototype.JK=function(){return this.$c[this.O7]},_l.prototype.ahC=function(){return null==this.KV.NF()},_l.prototype.$U=function(t,e){this.v8();var n=this.$c.length;null!=e&&this.NN.Io((this.NN.ye()+e+n)%n),this.O7=this.NN.ye();n=this.JK();this.mc.anr(n,this.jz),this.dF.Et(n,this.$c,this.jz),this.mK(),n&&(n.hu=!0)},_l.prototype.a9C=function(t){this.v8(),this.$c.splice(t.data.EH,1),0==this.$c.length&&(this.$U(t),Br.jR&&Br.XQ().parentNode.removeChild(Br.XQ()))},_l.prototype.a5v=function(t){for(var e=[],n=t.data.a3V,i=0;i<n.length;i++)e[i]=this.$c[n[i]];this.$c=e,this.O7=this.NN.ye()},_l.prototype.am8=function(t){var e=this.NN,n=e.aho(),i=this.Ub();this.JK();n!=e.ye()&&i.$r()&&this.ark(n,i)},_l.prototype.ark=function(t,e){var n=this.jz,i=this.NN,r=this.JK(),a=this.$c[t],s=new yr(mr.E.u,!0);s.b=qr.ZD,s.data={d:qi.gn,g:r.sE(null,!0),Pt:r,h_:a},this.c(s);var o=this.Q4,s=n.CO;n.CO=!1,o=r.s.Qi(o.x,o.y),e&&e.Ks(r,this,n,this.gR),i.Io(t),(o=a.s.d$(o.x,o.y)).x+=49,o.y+=112,e&&e.CK(a,this,n,this.gR,o),n.CO=s},_l.prototype.afg=function(t){var e=this.JK(),n=this.gR,i=this.jz,r=t.GD;if(r&&(this.Q4=r),t.action.startsWith("multi"))return(o=new yr(mr.E.u,!0)).data={d:t.action,o9:t.o9},o.b=qr.fz,void this.c(o);var a=this.P.map[qr.AZ].b;"down"!=t.action&&"rdown"!=t.action||i.No==qr.AZ||this.P.Dh==qr.AZ||!a.i7(e,this,i,n,r)||(this.P.cF=qr.AZ,a.enable(e,this,i,n,!0));var s,o,l=this.KV.NF(),h=null!=l&&l.UX()&&null==this.P.Dh?l:this.Ub();null!=l&&h!=l&&this.KV.L$()&&h.id!=qr.f0&&h.id!=qr.fz||("down"==t.action&&h.CK(e,this,i,n,r),"rdown"==t.action&&h.w3(e,this,i,n,r),"move"==t.action&&h.wl(e,this,i,n,r),"up"!=t.action&&"cancellast"!=t.action||h.f9(e,this,i,n,r,"cancellast"==t.action),"rup"==t.action&&h.Yp(e,this,i,n,r),"cancellast"==t.action&&e&&0!=e.history.length&&Date.now()-e.history[e.history.length-1].ala<200&&((s=new yr(mr.E.u)).b=qr.bX,s.data={d:"h_stepbck"},this.c(s)),s=this.dF,"down"==t.action&&s.CK(e,this,i,n,r),"move"==t.action&&s.wl(e,this,i,n,r),"up"==t.action&&s.f9(e,this,i,n,r),"down"!=t.action&&"up"!=t.action||this.ab1(),"down"!=t.action&&"up"!=t.action&&"ctx"!=t.action||(e.hu=!0),"up"!=t.action&&"rup"!=t.action||!this.P.cF||(this.P.cF=null,a.disable(e,this,i,n)),"scroll"==t.action&&(i=!n.j(ii.NT)&&t.AB,(o=new yr(mr.E.u,!0)).data={d:"scroll",jX:t.jX.clone(),GD:r},o.b=n.j(ii.e$)||i?qr.fz:qr.f0,this.c(o)))},_l.prototype.xD=function(t){var e,n,i,r,a,s,o=this.JK(),l=this.Q4;o&&this.Ub().Vg(l,this.gR)&&(n=(e=o.s).ct.m,i=e.ct.n,a=r=0,l.x<16&&(r=16-l.x),l.x>n-16&&(r=l.x-(n-16)),l.y<16&&(a=16-l.y),l.y>i-16&&(a=l.y-(i-16)),s=this.gR.j(ii.Ml)?8:1,0==r&&0==a||!(o.m*e.V>n||o.n*e.V>i)||(r=Math.min(5,.5*r)*s,a=Math.min(5,.5*a)*s,l.x<16||l.y<16||(r=-r,a=-a),e.r.x+=r,e.r.y+=a,this.afg({GD:this.Q4,action:"move"}),o.iM=!0)),this.update()},_l.prototype.update=function(t){var e=this.JK();if(null!=e){if(e.hu){var n,i=this.P.map;for(n in i)i[n].b.nr&&i[n].b.nr(e,this,this.jz,this.gR)}e.aH&&e.Bv();var r,a=e.s,s=this.Tg,o=this.Tg=Date.now();(e.aH||e.RD||e.Lj||e.iM||t||a.Pd!=a.V||!a.ob.iy(a.r))&&(r=a.Pd,a.Pd!=a.V&&(t=qr.WD.xt(a.V,a.Pd>a.V),a.Pd<a.V&&a.Pd<t&&(a.Pd=t),a.Pd>a.V&&a.Pd>t&&(a.Pd=t),s=Math.abs(a.V-t)*(o-s)*.001/.12,a.Pd<a.V?a.Pd=Math.min(a.V,a.Pd+s):a.Pd=Math.max(a.V,a.Pd-s)),r=r==a.V?0:(a.Pd-a.V)/(r-a.V),a.ob.x=a.r.x+r*(a.ob.x-a.r.x),a.ob.y=a.r.y+r*(a.ob.y-a.r.y),this.NN.v1(this.jz,null),this.NN.Et(e,this.$c)),!(e.aH||e.iM||e.hu)||this.Q4.nK&&!e.pB||(e.hu&&e.he(),this.dF.Et(e,this.$c,this.jz),this.l_.anp(e,this.gR),e.b6=!1),e.pB=!1,e.hu=!1,e.aH=null,e.RD=e.Lj=e.iM=!1}},_l.prototype.Ez=function(t){var e=t.target.tagName.toLowerCase(),n=(t.target.getAttribute("type"),ii);n.A7(t.code,n.C_);("input"==e||"select"==e||"button"==e)&&n.A7(t.code,n.Ok)||(n.MP(t)&&t.preventDefault(),this.gR.NH(n.hx(t)),this.XL("down"))},_l.prototype.Al=function(t){" "==t.key&&this.gR.sI(),ii.A7(t.code,ii.pg)&&this.gR.reset(),this.gR.xN(ii.hx(t));t.target.tagName.toLowerCase();ii.MP(t)&&t.preventDefault(),this.XL("up")},_l.prototype.XL=function(t){var e=this.gR,n=this.JK(),i=null!=n&&0!=n.w.length;if(null==this.pV.NF()){this.ab1();var r,a=this.na(ii.NT),s=e.j(ii.e$),o=e.j(ii.Ml);if(a&&e.j(ii.ZJ)&&"down"==t&&(h=new yr(mr.E.u),f=new yr(mr.E.W),h.b=qr.bX,h.data=o?{d:"h_stepfwd"}:{d:"h_stepbck"},null!=this.KV.NF()&&this.KV.NF().L$()||this.c(h)),a){var l,h=new yr(mr.E.u),u=new yr(mr.E.n$),f=new yr(mr.E.W);if(!s&&"down"==t)for(var c in ji.keys){for(var p=ji.keys[c],d=!0,v=0;v<p.length;v++)e.j(p[v])||(d=!1);d&&(h.b=qr.qH,h.data="hue2"==c&&o?{d:"auto",qF:3}:{d:"start",ac:c})}e.j(ii.J)&&(u.data=qr.$S.X0(!0)),e.j(ii.eB)&&(f.data=s?{d:mr.J.go,RB:"csize"}:{d:mr.J.xH,l0:o}),e.j(ii.FH)&&(u.data=qr.$S.X0()),e.j(ii.E)&&"down"==t&&(u.data=o?{YY:"mergeVisible"}:{YY:"mergeLayersNew",l5:{__name:"Merge Layers",classID:"Mrg2"}}),e.j(ii.rM)&&(o&&this.jz.No!=qr.gc?f.data={d:mr.J.go,RB:"afw_fade"}:s?(h.b=qr.Hu,h.data={d:"applylast"}):f.data={d:mr.J.tD}),e.j(ii.wK)&&(s&&n&&n.gt(n.w[0])?(h.b=qr.ZD,h.data={d:qi.io}):(h.b=qr.ZD,h.data={d:qi.t8,lr:o})),e.j(ii.tK)&&(f.data={d:mr.J.ot,jm:Bi.ph}),e.j(ii.uZ)&&(o?(h.data=null,s?f.data={d:mr.J.go,RB:"finfo"}:u.data={YY:"inverse"}):s&&(f.data={d:mr.J.go,RB:"isize"})),e.j(ii.gG)&&(u.data={YY:(o?"cut":"copy")+"ToLayer"}),e.j(ii.nW)&&(f.data={d:mr.J.go,RB:"preferences"}),e.j(ii.bo)&&(o?(h.b=qr.ZD,h.data={d:qi.cD}):f.data={d:mr.J.go,RB:"newproject"}),e.j(ii.yy)&&(f.data={d:mr.J.Rw},e.reset()),e.j(ii.My)&&(f.data={d:mr.J.aez},e.reset()),e.j(ii.DG)&&(f.data={d:mr.J.ot,jm:Bi.wh}),e.j(ii.ng)&&"down"==t&&(f.data=o?s?{d:mr.J.go,RB:"saveforweb"}:{d:mr.J.G0}:{d:mr.J.B4}),e.j(ii.St)&&(o?(h.b=qr.gc,h.data={d:"again"}):f.data={d:mr.J.ms,b:qr.gc}),e.j(ii.I_)&&(f.data={d:mr.J.cf}),e.j(ii.ku)&&this.NN.ll(),e.j(ii.oL)&&(f.data={d:mr.J.H0}),(e.j(ii.e_)||e.j(ii.F_))&&(h.b=qr.ZD,h.data={d:qi.eF,wp:0},e.j(ii.e_)?h.data.wp=o?3:2:h.data.wp=o?0:1),e.j(ii.LX)&&n&&(h.b=qr.ZD,h.data={d:qi.hP}),e.j(ii.C_)&&n&&(l=0,o&&l++,s&&(l+=2),h.b=qr.rZ,h.data={d:"frompath",Nn:[null,0,l]}),e.j(ii.W$)&&(u.data=qr.B_.ae(0)),!e.j(ii.Ok)||1<(l=this.$c.length)&&this.NN.Io((this.NN.ye()+1)%l),e.j(ii.kh)&&(f.data={d:mr.J.ot,jm:Bi.CL}),e.j(ii.wa)&&(f.data={d:mr.J.ot,jm:Bi.NU}),qr.WD.Y7(e,h),null!=this.KV.NF()&&this.KV.NF().L$()||(h.data&&this.c(h),u.data&&this.c(u),f.data&&this.c(f))}!a&&s&&(e.j(ii.e_)&&(r="Bckw"),e.j(ii.F_)&&(r="Frwr"),e.j(ii.LX)&&(r="Back"),(r=e.j(ii.W$)?"Frnt":r)&&((u=new yr(mr.E.n$)).data={YY:"select",l5:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:r}}]},MkVs:{t:"bool",v:!1}}},this.c(u))),n&&0!=n.w.length&&(1!=(u=(x=n.g[n.w[0]]).rq)&&3!=u&&!a||(h=new yr(mr.E.u),(y=3==u?x.ez(n).q:x.sL())&&(g=y.KT?"111"==n.s.DF.join("")?1:2:0,h.b=qr.fz,y&&e.j(ii.Yh)&&0!=g&&(h.data={d:"mskView",k:0}),y&&e.j(ii.akr)&&(h.data={d:"mskView",k:1==g?0:1}),y&&e.j(ii.aoF)&&(h.data={d:"mskView",k:2==g?0:2}),h.data&&this.c(h))));var g,y=e.tg();if(n&&a&&2<=y&&y<=5&&(g=[1,1,1],2<y&&((g=[0,0,0])[y-3]=1),(m=new yr(mr.E.u,!0)).b=qr.f0,m.data={d:"setcls",DF:g},this.c(m)),!e.j(ii.NT)&&!s&&"down"==t){for(var m,w,h=new yr(mr.E.u),f=new yr(mr.E.W),b=this.P.map[this.jz.No],M=-1,v=0;v<this.P.keys.length;v++)this.P.keys[v]&&this.na(this.P.keys[v])&&(M=v);-1!=M&&(m=null,b.A4!=M&&(m=this.P.og[M]),null!=(m=b.A4==M&&o?(b.a5n+1)%this.P.AK[M].length:m)&&(w=this.P.AK[M][m].b.id,null!=(m=this.jz.a3e)&&-1==m.indexOf(parseInt(w))||this.Q4.nK||(f.data={d:mr.J.ms,b:w}))),e.j(ii.oL)&&(f.data={d:mr.J.ot,jm:Bi.UB,wp:2}),e.j(ii.FH)&&(f.data={d:mr.J.ot,jm:Bi.UB,wp:3}),f.data&&this.c(f),e.j(ii.atP)&&n&&1==n.w.length&&(x=n.g[n.w[0]],h.b=qr.ZD,w=x.zC(0)||x.zC(1)||x.zC(2)||x.zC(31),h.data={d:qi.N1,NL:w?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]},this.c(h));var S,y=e.tg();i&&-1!=y&&this.na(ii.yS[y])&&(S=n.w[0],x=n.g[S],C=ii.Fr(Math.round(100*x.opacity/255),y),h.b=qr.ZD,h.data={d:qi.t$,NL:Math.round(255*C/100)},this.c(h));var C,y=this.jz.lc;e.j(ii.Ok)&&(f.data={d:mr.J.W6,k:0==y?1:0},this.c(f)),(e.j(ii.rM)||e.j(ii.Yh)&&2==y)&&(C=null!=document.fullscreenElement==(2==y),f.data={d:mr.J.W6,k:0==y?2:0,qO:C},this.c(f)),e.j(ii.fg)&&!this.Q4.nK&&(h.b=qr.rZ,h.data={d:"qmask"},this.c(h))}e.j(ii.NT)||s||!o||(h=new yr(mr.E.u),f=new yr(mr.E.W),e.j(ii.LX)&&(f.data={d:mr.J.go,RB:"shortcuts"}),e.j(ii.TZ)&&(f.data={d:mr.J.go,RB:"fill"}),e.j(ii.a3_)&&(f.data={d:mr.J.go,RB:"sel_feather"}),i&&(e.j(ii.$t)||e.j(ii.gr))&&(S=n.w[0],x=n.g[S],S=(i=Ji.sp).length,i=i.indexOf(x.SD),h.b=qr.ZD,h.data={d:qi.Lu,NL:(i+S+(e.j(ii.$t)?1:-1))%S},this.c(h)),f.data&&this.c(f));var x,h=new yr(mr.E.u),t="down"==t&&(this.na(ii.K1)||this.na(ii.kn));(a||s)&&t?((h=new yr(mr.E.n$)).data=qr.Hp.xq(a?"BckC":"FrgC"),this.c(h)):n&&t&&!this.Q4.nK&&(null!=n.v?(h=new yr(mr.E.n$)).data={YY:"delete"}:0!=n.w.length&&(1==(x=n.g[n.w[0]]).rq?h.data={d:qi.BY}:3==x.rq?h.data={d:qi.fs}:h.data={d:qi.hL},h.b=qr.ZD),this.c(h)),null!=this.KV.NF()&&(e.j(ii.Yh)?this.KV.NF().aic():this.KV.NF().XL(n,this,this.jz,e)),null!=this.jz.No&&(b=this.Ub(),null!=this.KV.NF()&&!this.P.Dh||b.XL(n,this,this.jz,e))}else e.j(ii.Yh)&&this.pV.a41()},_l.prototype.na=function(t){var e=this.gR,n=this.P.map[this.jz.No].b,i=this.KV.NF(),r=this.JK();return e.j(t)&&!n.XC(t,r)&&(null==i||!i.XC(t,r))},_l.prototype.vX=function(t){var e=this.alv,n=this._R;this.jz.lc=t;var i=hr.DH,r=this.mc.e;i(r)&&this.IT.removeChild(r);var a=this.n7.e;i(a)&&this.IT.removeChild(a);var s=this.l_.e;i(s)&&e.removeChild(s);var o=this.NN.e;i(o)&&e.removeChild(o);var l=this.dF.e;i(l)&&e.removeChild(l),0==t&&(this.IT.appendChild(r),this.IT.appendChild(a),n.appendChild(e),e.appendChild(s),e.appendChild(o),e.appendChild(l)),1==t&&(this.IT.appendChild(r),e.appendChild(o)),2==t&&e.appendChild(o),this.NN.vX(2==t?1:0),this.mK()},_l.prototype.anY=function(t){return this.HV()?1:(0==hr.a4n()&&(this.jz={},this.hi=function(t,e){return Math.sqrt(t*e)}),-1)},Bl.prototype=new Sr,Bl.prototype.ab0=function(t){null!=this.r2&&this.r2<500&&0==this.qd||(0==this.qd?this.sV(!0):this.collapse(!0))},Bl.prototype.aal=function(t){this.qd=t,this.aY.innerHTML=0==this.qd?"< >":"> <"},Bl.prototype.ahp=function(){var t=new yr(mr.E.W,!0);t.data={d:mr.J.kJ},this.c(t)},Bl.prototype.sV=function(t){this.aal(1),t&&this.ahp()},Bl.prototype.collapse=function(t){this.aal(0),t&&this.ahp()},Bl.prototype.b_=function(){return 1==this.qd},Rl.prototype=new Bl,Rl.prototype.a8j=function(t){if(t.target==this.t2){var e=this.GC[this.ik].N_;e.style.pointerEvents="none";e=e.getBoundingClientRect();this.ao5=[e.width,e.height],this.Jx[this.ik]=[e.width,e.height]}else{if(t.target!=this.e)return;if(!this.b_())return}t.stopPropagation(),this.VH=hr.B6(t,document.body),this.a8O=this.EF,hr.Z3(document,this.aeQ),hr.MK(document,this.asr)},Rl.prototype.a7t=function(t){var e,n=hr.B6(t,document.body);this.b_()?(this.EF=this.a8O+this.VH.x-n.x,this.H8()):(e=this.Jx[this.ik],t=this.ao5,e[0]=t[0]+this.VH.x-n.x,e[1]=t[1]+n.y-this.VH.y);n=new yr(mr.E.W,!0);n.data={d:mr.J.kJ},this.c(n)},Rl.prototype.a7j=function(t){this.b_()||(this.GC[this.ik].N_.style.pointerEvents="auto"),hr.l$(document,this.aeQ),hr.oV(document,this.asr)},Rl.prototype.aie=function(t){t.h("showFloat",this.a96,this),t.h("hideFloat",this._2,this),this.GC.push(t),(t.parent=this).UE.appendChild(t.e)},Rl.prototype.a1W=function(t){var e=this.GC[t];e.removeEventListener("showFloat",this.a96,this),e.removeEventListener("hideFloat",this._2,this),this.GC.splice(t,1),e.parent=null,this.UE.removeChild(e.e)},Rl.prototype.a1C=function(){return this.GC.length},Rl.prototype.pN=function(){for(var t=0;t<this.GC.length;t++)this.GC[t].pN()},Rl.prototype.a96=function(t){this._2(t),this.bY.appendChild(this.JP),this.ik=this.GC.indexOf(t.currentTarget);t=this.GC[this.ik].N_;this.JP.appendChild(t),this.JP.appendChild(this.t2),this.hi(this.r2,this.kY)},Rl.prototype._2=function(t){var e;this.pN(),-1!=this.ik&&(this.bY.removeChild(this.JP),(e=this.GC[this.ik])&&this.JP.removeChild(e.N_),this.ik=-1)},Rl.prototype.H8=function(){this.e.setAttribute("style","width: "+this.EF+"px; padding-left:3px; cursor:ew-resize;")},Rl.prototype.sV=function(t){this.H8(),this._2();for(var e=0;e<this.GC.length;e++)this.GC[e].sV();Bl.prototype.sV.call(this,t)},Rl.prototype.collapse=function(t){this.e.removeAttribute("style");for(var e=0;e<this.GC.length;e++)this.GC[e].collapse();Bl.prototype.collapse.call(this,t)},Rl.prototype.hi=function(t,e){this.r2=t,this.kY=e,e-=6;var n=this.GC.length,i=this.b_();if(0!=n){t=this.EF;for(var r=e<400?e:400+.5*(e-400),a=e,s=0;s<n;s++){var o=this.GC[s],l=o.abF(),h=this.Jx[s];o.hi(!i&&h?h[0]:t,i?s==n-1?a:l:h?h[1]:r),a-=l}}},Ul.prototype=new Sr,Ul.prototype.T=function(){var t=this.a1h;hr.d5(t);for(var e=0;e<this.DY.length;e++){var n=this.DY[e];e<5&&n.T(),t.appendChild(n.e)}},Ul.prototype.OM=function(t){var e,n,i=this.DY.indexOf(t.currentTarget);0!=i?(n=" issues learn blog api twitter facebook".split(" "),e=" //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),(t=window.ga)&&t("send","event","Links",n[i]),(n=new yr(mr.E.W,!0)).data={d:mr.J.Ih,link:e[i]},this.c(n)):window.showCap&&window.showCap()},Ul.prototype.Wv=function(t){t.aiv&&(t.preventDefault(),t.stopPropagation());var e=window;hr.Z3(e,this.ani),hr.MK(e,this.asV),e=this.UE,this.lW=new Pr(parseInt(e.style.left),parseInt(e.style.top)),this.nF=hr.B6(t,this.e),this.fL=e.getBoundingClientRect()},Ul.prototype.Ij=function(t){var e=hr.B6(t,this.e),n=this.lW.x+e.x-this.nF.x,i=this.lW.y+e.y-this.nF.y,r=this.vo-this.fL.width,t=this.q$-this.fL.height;this.a5d?this.UE.style.left=Math.min(0,Math.max(r,n))+"px":this.UE.style.top=Math.min(0,Math.max(t,i))+"px",0<n-10&&(this.nF.x=e.x-10,this.lW.x=0),10+n<r&&(this.nF.x=e.x+10,this.lW.x=r)},Ul.prototype.KE=function(t){var e=window;hr.l$(e,this.ani),hr.oV(e,this.asV)},Ul.prototype.aaE=function(t){this.UE&&this.e.removeChild(this.UE),this.UE=t,this.e.appendChild(t),t.style.position="absolute",this.a5d?t.style.left=0:t.style.top=0},Ul.prototype.hi=function(t,e){this.vo=t,this.q$=e,this.e.setAttribute("style","position:relative; width: "+t+"px; height: "+e+"px; overflow:hidden; white-space: nowrap; "),this.UE.style.left="0",this.UE.style.top="0";var n=this.UE.firstChild,e=this.a1h,n=n?n.firstChild.getBoundingClientRect().width+80:1e9,n=this.apT&&n+450<t,t=hr.qU("SU\\VOAV");e[O.q6][t]=n?"":hr.qU("][WK")},jl.prototype=new Sr,jl.prototype.T=function(){for(var t=this.Gb,e=0;e<t.length;e++)t[e].IZ.T()},jl.My=[{IZ:new Is,oC:3},{IZ:new Ps,oC:1},{IZ:new _s,oC:4},{IZ:new Vs,oC:2},{IZ:new Ys(!0),oC:5},{IZ:new Qs,oC:0},{IZ:new Ks,oC:5},{IZ:new Zs,oC:3},{IZ:new qs,oC:0},{IZ:new to,oC:3},{IZ:new eo,oC:2},{IZ:new so,oC:4},{IZ:new lo,oC:3},{IZ:new Co,oC:5},{IZ:new Ys(!1),oC:5},{IZ:new Xs,oC:2},{IZ:new ro,oC:3},{IZ:new Fs,oC:1},{IZ:new zs,oC:0},{IZ:new uo,oC:5},{IZ:new $s,oC:6,ZS:!0},{IZ:new io,oC:6,ZS:!0},{IZ:new fo,oC:6,ZS:!0}],function(){for(var t=[{id:Ns.DG.aps,name:"Gallery",url:"plugins/gallery.html",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACABAMAAAAxEHz4AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFR0dH////UFBQ8/PzoaGhYWFh3Nzcg4ODxcXFt7e34FYpWAAAAidJREFUeJzt2btuwjAUBuAoIlBGy2mADakVuysh1rCgjlRInQHxAIn6AiB16Ub7xG1utmM7vhwPXfxvRZxPCfY5JSaKQkJCQvjEO4Icgy9LDvhwLa+yYfUTSD1CBQWeYMALBbYwIKXACQZkFCAwAFMAVo9QD0j5ZTUm2UpA7lIfRVMJcLqAv0uQALf6KA4ADEh2BF/2cCC5Ve+b78FAO3U2UGDUdUAOBMoOmMGAhHQA3oOAB9bFVxDwxoBHEMDNzRQEcHNzDgIIAzAIQFz+B/C+Be8P0XsZvTeS91Z2b6ZY+LvsAMt2fiZZ0XvBcaAkp2a5uLiNtFX12r1vOg3V+s0L4apeCf60HOsj7naVMQEl23MggC56IRZaAofemiujBWLaengPArh9vwYBXOsOXoIO6H33PtP7WloDBx7I2rrJqd8bGiAmPICO9LZmlsC4V9+2VPXFEhd2wK0P1C0V38QlGQZGQn3dUu/SkgwDpQign2jSfixrC4DNPhr81e3Mbkl0gP756WwG9I8/mRGYauub/wlawPQAtzAA5kfQux446KsRm3JqQGgDZXIdMNbX1pnpgG8LoB20SkBqA2U2w0BpBTQtpQIUbaDMeghY2dU3l6ACxEkymLMaMLUBS9XVCsDhHOOoAlxOYuYqwNwGXK4yEDsdpCxk4EFfISaXAMejoFQCIAlAAAIgAARWz45EvQ9lvY+FvQ+mvY/GvQ/n/X8eCAkJCYmiX0mkBrefjRa7AAAAAElFTkSuQmCC"},{name:"Emoji",url:"https://hxim.github.io/TwemojiPlugin/twemoji3.html",icon:"https://hxim.github.io/TwemojiPlugin/icon.svg"},{name:"QR Code Maker",url:"https://hxim.github.io/TwemojiPlugin/qrcode/qrcode.html",icon:"https://hxim.github.io/TwemojiPlugin/qrcode/icon.png"},{name:"3D Depth Viewer",url:"plugins/depth",icon:"---panels/3D"},{name:"3D Elements",url:"https://yikuansun.github.io/photopea-3delements/",icon:"https://yikuansun.github.io/photopea-3delements/icon.png"},{name:"Particle System",url:"https://yikuansun.github.io/photopea-particlesystem",icon:"https://yikuansun.github.io/photopea-particlesystem/icon.svg"},{name:"Chart Maker",url:"https://hxim.github.io/TwemojiPlugin/gcharts/gcharts.html",icon:"https://hxim.github.io/TwemojiPlugin/gcharts/icon.svg"}],e=0;e<t.length;e++)jl.My.push({IZ:new ho(t[e],100+e),oC:6,ZS:!0})}(),jl.prototype.a2r=function(t){for(var e=0;e<t.length;e++){var n=t[e],n=new ho(n,"plg_"+n.name);this.Gb.push({IZ:n,oC:6}),this.asf.push(n.lV)}this.yE()},jl.prototype.v1=function(t,e){this.fd=t;for(var n=this.Gb,i=0;i<n.length;i++)n[i].IZ.v1(t,e);e!=Bi.Cp&&e!=Bi.MB||this.yE()},jl.prototype.RY=function(t){for(var e=this.Gb,n=0;n<e.length;n++)e[n].IZ.RY(t)},jl.prototype.hi=function(t,e){this.r2=t,this.kY=e,this.yE(),this.Jp[0].hi(t,e),this.Jp[1].hi(t,e)},jl.prototype.yE=function(){var t=this.fd,e=this.r2,n=this.kY;if(null!=t&&0!=e){var i=t.aa.concat(this.asf),r=e<500||e<700&&e<n,n=JSON.stringify(i)+","+r;if(n!=this.acJ){this.acJ=n,hr.d5(this.e);for(var a=[],s=0;s<this.Jp.length;s++){var o=this.Jp[s];for(a[s]=o.b_();0!=o.a1C();)o.a1W(0);o.sV()}for(var l=[],s=0;s<this.GC.length;s++){var h=this.GC[s];for(h.sV();0!=h.amq();)h.Dq(0);l.push(0)}for(s=0;s<i.length;s++){var u=this.atn(i[s].toString());this.GC[u.oC].kj(u.IZ),this.GC[u.oC].Io(0),l[u.oC]++}for(var f,c=[],s=0;s<l.length;s++)0!=l[s]&&((o=this.Jp[f=s<3||r?1:0]).parent=this,o.aie(this.GC[s]),c[f]=!0);for(s=0;s<this.Jp.length;s++)c[s]&&this.e.appendChild(this.Jp[s].e);this.Jp[0].collapse(),(e<700||this.fd.compact||!a[1])&&this.Jp[1].collapse();e=new yr(mr.E.W,!0);e.data={d:mr.J.kJ},this.c(e)}}},jl.prototype.atn=function(t){for(var e=0;e<this.Gb.length;e++)if(this.Gb[e].IZ.lV==t)return this.Gb[e]},jl.prototype.acE=function(t){t=this.atn(t);this.GC[t.oC].kj(t.IZ)},jl.prototype.Et=function(t,e,n){for(var i=this.Gb,r=0;r<i.length;r++)i[r].IZ.Et(t,e,n)},jl.prototype.CK=function(t,e,n,i,r){for(var a=this.Gb,s=0;s<a.length;s++)a[s].IZ.CK(t,e,n,i,r)},jl.prototype.wl=function(t,e,n,i,r){for(var a=this.Gb,s=0;s<a.length;s++)a[s].IZ.wl(t,e,n,i,r)},jl.prototype.f9=function(t,e,n,i,r){for(var a=this.Gb,s=0;s<a.length;s++)a[s].IZ.f9(t,e,n,i,r)},Hl.prototype=new Bl,Hl.prototype.aje=function(t){var e=t.target.M();this.H6.f(e[0]||e[1]||e[2]||e[3]);for(var n=new yr(mr.E.W,!0),i=0;i<4;i++)e[i]!=this.a7G[i]&&(n.data={d:mr.J.ag8,nK:e[i],akd:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][i]},this.c(n));this.a7G=e.slice(0)},Hl.prototype.anp=function(t,e){var n;this.nJ=e,null!=t&&0!=t.w.length&&null!=t.g[t.w[0]]&&(n=null!=t.y7(),e=t.s.DF,e=1==(t=t.g[t.w[0]].rq)||3==t||n||e[0]+e[1]+e[2]==1,this.Vq.a7M(e),this.y7.f(n))},Hl.prototype.aqu=function(t,e){for(var n=t.length,i=[],r=0;r<n;r++)i[r]=t[r].slice(0);t=i;for(var a=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],s=Math.min(a.length/2,n-e),r=0;r<s;r++){var o=a[2*r],l=a[2*r+1];t[o]=t[o].concat(t[l]),t[l]=null}for(r=0;r<t.length;r++)null==t[r]&&(t.splice(r,1),r--);return t},Hl.prototype.a7s=function(t,e){for(var n=0;n<e.length;n++)for(var i=0;i<e[n].length;i++)if(e[n][i].b.id==t)return n},Hl.prototype.fa=function(t,e){this.J0=t,this.YQ=[],this.WZ=[],this.rS=[],this.P=[];var n=t.AK;if(null!=e&&this.aoA&&(n=this.aqu(n,e)),this.sH){for(var i=[],r=this.sH.a3e,a=0;a<n.length;a++){for(var s=[],o=0;o<n[a].length;o++){var l=n[a][o];null!=r&&-1==r.indexOf(parseInt(l.b.id))||s.push(l)}0<s.length&&i.push(s)}n=i}for(a=0;a<n.length;a++){for(var h,u=[],f=this.YQ.length,c=null,p=-1,o=0;o<n[a].length;o++){var l=n[a][o].b,d=this.a7s(l.id,t.AK),v=t.keys[d];this.P.push(l);var g=new Jl(l.name,v,l.QU,this.YQ.length,a,1<n[a].length);this.YQ.push(g);d=this.a3h[l.id];p<(d=null==d?0:d)&&(p=d,c=g),g.h(mr.E.o,this.lb,this),g.h("mover",this.Tm,this),u.push({name:l.name,qm:l.QU,DO:v?v.me:""})}this.WZ.push(c),1==u.length?this.rS.push(null):((h=new xr(u,null,!0)).a1K=f,h.A4=a,this.rS.push(h),h.h("select",this.a2h,this),h.parent=this)}},Hl.prototype.hi=function(t,e){var n=this.kY=e-11,i=32;1<hr.F()&&hr.F()<1.5&&(i=18+1/hr.F()*14);var r=Math.floor((n-62)/i),a=this.sH;null!=a&&(r!=this.a2M&&(this.a2M=r,this.fa(this.J0,r),this.ZM(a.No)),a=this.WZ.length*i+62,.75<=(i=Math.min(1,n/a))?(this.EO.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+i+","+i+");"),this.e.setAttribute("style","height:"+(e-2)+"px; overflow:hidden;")):(this.EO.setAttribute("style","height: "+(n-=4)+"px;  width:"+34*Math.ceil(a/n)+"px"),this.e.setAttribute("style","")))},Hl.prototype.T=function(){for(var t=0;t<this.YQ.length;t++)this.YQ[t].T();for(t=0;t<this.rS.length;t++)this.rS[t]&&this.rS[t].T()},Hl.prototype.lb=function(t){var e=new yr(mr.E.W,!0);e.data={d:mr.J.ms,b:this.P[t.id].id},this.c(e)},Hl.prototype.a2h=function(t){t=t.target.a1K+t.target.$T()[0];this.YQ[t].KE(null)},Hl.prototype.Tm=function(t){var e=this.nJ,n=new yr(mr.E.W,!0);n.data={d:mr.J.J3},this.c(n);var i=t.target,t=this.rS[i.A4];null!=t&&(i=i.e.getBoundingClientRect(),(n=new yr(mr.E.W,!0)).data={d:mr.J.u9,IZ:t,x:i.left+i.width+8,y:i.top},null!=e&&(e.j(ii.QO)||e.j(ii.NT))||this.c(n))},Hl.prototype.ZM=function(t){this.a3h[t]=Date.now();for(var e=-1,n=0;n<this.P.length;n++)this.P[n].id==t&&(e=n);for(n=0;n<this.YQ.length;n++)this.YQ[n].agR(e==n);if(-1!=e){this.WZ[this.YQ[e].A4]=this.YQ[e],hr.d5(this.EO);for(var i=this.WZ,n=0;n<i.length;n++)this.EO.appendChild(i[n].e);this.aoA&&(this.EO.appendChild(this.Vq.e),640<this.kY&&this.EO.appendChild(this.y7.e),this.EO.appendChild(this.H6.e))}},Hl.prototype.Et=function(t,e){this.ZM(e.No)},Hl.prototype.v1=function(t,e){this.sH=t,e==Bi.MB&&(this.fa(this.J0),this.ZM(t.No)),this.Vq.a2s(t.k$,t.JH)},Jl.prototype=new Sr,Jl.ga=function(t){return t.stopPropagation(),t.preventDefault(),!1},Jl.prototype.T=function(){var t=this.amB?" ("+this.amB.me+")":"";this.e.setAttribute("title",ri.get(this.mS)+t)},Jl.prototype.Wv=function(t){this.x9=setTimeout(this.QG,160)},Jl.prototype.KE=function(t){clearTimeout(this.x9);var e=new yr(mr.E.o,!1);e.target=this,e.id=this.VC,this.c(e)},Jl.prototype.a4w=function(t){var e=new yr("mover",!1);e.target=this,e.id=this.VC,this.c(e)},Jl.prototype.agR=function(t){this.e.setAttribute("class",t?"toolbtn active":"toolbtn")},ql.prototype=new Sr,ql.prototype.avh=function(){if(0==this.aa.length){for(var t=0;t<ql.data.length;t++){var e=ql.data[t],e=new xr(e.items,e.Au);(e.parent=this).aa.push(e)}this.T()}},ql.prototype.T=function(){this.OJ.T(),this.fn.T(),this.gX.T();for(var t=0;t<this.oB.length;t++)this.oB[t].textContent=ri.get(ql.data[t].name);this.auZ();for(t=0;t<this.aa.length;t++)this.aa[t].T()},ql.prototype.Da=function(t){var e=new yr(mr.E.W,!0);t.target==this.OJ?e.data={d:mr.J.go,RB:"account"}:t.target==this.fn?e.data={d:mr.J.tD}:e.data={d:mr.J.W6,qO:!0},this.c(e)},ql.prototype.anr=function(t,e){this.je=t,this.Y5=e},ql.prototype.v1=function(t,e){if(this.Y5=t,e==Bi.MB){var n=t.at5;hr.d5(this.MJ);for(var i=0;i<this.oB.length;i++)(null==n||1==n[i]||n[i]instanceof Array)&&this.MJ.appendChild(this.oB[i]),null!=n&&n[i]instanceof Array&&(this.avh(),this.aa[i].adE(n[i]));this.e.removeChild(this.OJ.e),this.e.removeChild(this.fn.e),this.e.removeChild(this.gX.e),t.pn&&this.e.appendChild(this.OJ.e),this.e.appendChild(this.fn.e),this.e.appendChild(this.gX.e)}this.auZ()},ql.prototype.auZ=function(t,e){var n=this.OJ,i=12255232;$.aQ()&&(i=$.T8()?43520:16755200),n.e.setAttribute("style","color:#ffffff; background-color:#"+Rr.zI(i))},ql.prototype.Wv=function(t){this.avh();var e=this.oB.indexOf(t.currentTarget),n=this.aa[e];if(("mouseover"!=t.type||hr.DH(this.aa[this.a0X].e))&&!hr.DH(n.e)){t.aiv=!0,this.a0X=e;for(e=0;e<ql.data.length;e++)this.aa[e].update(this.je,this.Y5);var i=t.target.getBoundingClientRect(),t=new yr(mr.E.W,!0);t.data={d:mr.J.u9,IZ:n,x:i.left,y:i.top+i.height+2,auR:!0},this.c(t)}},ql.a5J=function(t){var e=ii,n=e.NT,i=e.Ml,r=e.e$,i={name:[0,5],items:[{name:[7,0],DO:[n,e.J]},{name:[7,1],DO:[n,e.FH],K:function(t){return{K:null!=t&&null!=t.v}}},{name:[7,2],DO:[i,n,e.uZ],K:function(t){return{K:null!=t&&null!=t.v}},jp:!0},{name:[7,11],ZN:!0,K:function(t){return{K:null!=t&&0!=t.w.length&&!t.g[t.w[0]].rect.mN()}}},{name:[7,13],ZN:!0,K:function(t){return{K:null!=t&&0!=t.w.length&&!t.g[t.w[0]].rect.mN()}},jp:!0},{name:[7,8],ZN:!0},{name:[7,3],jp:!0,sub:[{name:[7,9],ZN:!0,K:function(t){return{K:null!=t&&null!=t.v}}},{name:[19,3,0],ZN:!0,K:function(t){return{K:null!=t&&null!=t.v}}},{name:[7,4],ZN:!0,K:function(t){return{K:null!=t&&null!=t.v}}},{name:[7,5],ZN:!0,K:function(t){return{K:null!=t&&null!=t.v}}},{name:[7,6],ZN:!0,K:function(t){return{K:null!=t&&null!=t.v}},DO:"Shift+F6"}]},{name:[7,10],K:function(t){return{K:null!=t&&null!=t.v}},jp:!0},{name:[6,6,1],K:function(t){return{K:null!=t,Cc:null!=t&&null!=t.y7()}},DO:[e.fg],jp:!0},{name:["VAR0 VAR1",[1,2],[17,2]]}],Au:[{_:mr.E.n$,R:qr.$S.X0(!0)},{_:mr.E.n$,R:qr.$S.X0()},{_:mr.E.n$,R:{YY:"inverse"}},{_:mr.E.W,R:{d:mr.J.go,RB:"redge"}},{_:mr.E.W,R:{d:mr.J.go,RB:"magiccut"}},{_:mr.E.W,R:{d:mr.J.go,RB:"crange"}},{sub:[{_:mr.E.W,R:{d:mr.J.go,RB:"sel_border"}},{_:mr.E.W,R:{d:mr.J.go,RB:"sel_smoothness"}},{_:mr.E.W,R:{d:mr.J.go,RB:"sel_expand"}},{_:mr.E.W,R:{d:mr.J.go,RB:"sel_contract"}},{_:mr.E.W,R:{d:mr.J.go,RB:"sel_feather"}}]},{_:mr.E.W,R:{d:mr.J.ms,b:qr.bS}},{_:mr.E.u,b:qr.rZ,R:{d:"qmask"}},{_:mr.E.n$,R:{YY:"duplicate",l5:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}]};return t&&(t=i.items.length-1,i.items.splice(t-2,0,{name:[6,49],DO:[n,e.gG],jp:!0}),i.Au.splice(t-2,0,{_:mr.E.n$,R:{YY:"copyToLayer"}}),i.items.splice(t-1,0,{name:[10,16],DO:[r,n,e.St]}),i.Au.splice(t-1,0,{_:mr.E.W,R:{d:mr.J.ms,b:qr.gc}})),i},ql.data=function(){function t(t){return{K:null!=t&&0!=t.w.length}}function e(t){return{K:null!=t&&0!=t.w.length&&null!=t.g[t.w[0]].add.SoLd}}for(var o=ii,l=o.NT,n=o.Ml,h=o.e$,i=[],r=[],a="none maxx avrg medn minn rang stdv summ vari".split(" "),s=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"],u=0;u<a.length;u++)i.push({name:s[u]}),r.push({_:mr.E.u,b:qr.ZD,R:{d:qi.v2,NL:a[u]}});return[{name:[0,0],items:[{name:[5,3],DO:[h,l,o.bo],title:[11,7],ZN:!0},{name:[1,0],DO:[l,o.yy],ZN:!0},{name:[1,11],ZN:!0,K:function(t,e){return{K:null!=t}}},{name:["VAR0 VAR1",[1,0],[0,14]],jp:!0,sub:[{name:[1,5],ZN:!0},{name:[11,0],ZN:!0},{name:["PSD VAR0",[25,0]],ZN:!0}]},{name:[1,1],jp:!0,sub:[{name:"PNG",DO:"Imgur.com",K:function(t,e){return{K:null!=t&&e.oc}}},{name:"JPG",DO:"Imgur.com",K:function(t,e){return{K:null!=t&&e.oc}}},{name:"PSD",DO:"Photopea.com",K:function(t,e){return{K:null!=t&&e.oc&&!t.o5}}}]},{name:"Save ...",DO:[l,o.ng],K:function(t,e){var n=ri.get([1,2])+(null==t?"":t.vZ?" ("+ri.get([6,7,1])+")":t.cB?" (Google Drive)":"");return{K:null!=t&&(null!=t.Dj&&"psd"==t.El||null!=t.vZ||null!=t.tX&&null!=t.tX.Pr||null!=t.cB||null!=e.tm.save),yU:n}}},{name:[1,3],K:function(t,e){return{K:null!=t&&!t.o5&&e.oc}}},{name:["VAR0 PSD/PSB",[1,2]],ZN:!0,K:function(t,e){return{K:null!=t&&!t.o5&&e.oc}}},{name:[1,8],sub:function(){for(var t=ai.mX(0),e=[],n=0;n<t.length;n++)e.push({name:t[n],DO:"."+t[n].toLowerCase()});return e.push({name:[0,14],sub:function(){for(var t=ai.mX(1),e=[],n=0;n<t.length;n++)e.push({name:t[n],DO:"."+t[n].toLowerCase()});return e}()}),e}()},{name:[1,4],ZN:!0,K:function(t,e){return{K:null!=t}},jp:!0},{name:[1,9],ZN:!0,K:function(t,e){return{K:null!=t}}},{name:"Export Color Lookup",ZN:!0,K:function(t,e){return{K:null!=t}},jp:!0},{name:[1,14],ZN:!0,K:function(t,e){return{K:null!=t}},jp:!0},{name:[1,10]}],Au:[{_:mr.E.W,R:{d:mr.J.go,RB:"newproject"}},{_:mr.E.W,R:{d:mr.J.Rw}},{_:mr.E.W,R:{d:mr.J.Rw,ats:!0}},{sub:[{_:mr.E.W,R:{d:mr.J.go,RB:"open_from_url"}},{_:mr.E.W,R:{d:mr.J.go,RB:"camera"}},{_:mr.E.W,R:{d:mr.J.go,RB:"templates"}}]},{sub:[{_:mr.E.W,R:{d:mr.J.Sp,gw:"png"}},{_:mr.E.W,R:{d:mr.J.Sp,gw:"jpg"}},{_:mr.E.W,R:{d:mr.J.Sp,gw:"psd"}}]},{_:mr.E.W,R:{d:mr.J.B4}},{_:mr.E.W,R:{d:mr.J.G0}},{_:mr.E.W,R:{d:mr.J.go,RB:"savepsb"}},{sub:function(){for(var t=ai.mX(0),e=[],n=0;n<t.length;n++)e.push({_:mr.E.W,R:{d:mr.J.go,RB:"saveforweb",gw:n}});return e.push({sub:function(){for(var t=ai.mX(0).length,e=ai.mX(1),n=[],i=0;i<e.length;i++)n.push({_:mr.E.W,R:{d:mr.J.go,RB:"saveforweb",gw:t+i}});return n}()}),e}()},{_:mr.E.W,R:{d:mr.J.go,RB:"saveforweb",gw:4,al5:!0}},{_:mr.E.W,R:{d:mr.J.go,RB:"eassets"}},{_:mr.E.W,R:{d:mr.J.go,RB:"exlut"}},{_:mr.E.W,R:{d:mr.J.go,RB:"finfo"}},{_:mr.E.W,R:{d:mr.J.go,RB:"script"}}]},{name:[0,1],items:[{name:[2,8]},{name:[2,0],DO:[n,l,o.ZJ]},{name:[2,1],DO:[l,o.ZJ],jp:!0},{name:[2,11],DO:[n,l,o.rM],jp:!0,ZN:!0,K:function(t,e){return{K:Za.a18(t)&&e.No!=qr.gc}}},{name:[5,0],DO:[l,o.oL]},{name:[5,1],DO:[l,o.eB]},{name:[5,7],DO:[n,l,o.eB]},{name:[5,2],DO:[l,o.I_],K:function(t,e){return{K:hr.lp()||null!=e.bG||null!=e.f3||null!=e.aoI}}},{name:[2,2],K:function(t){return{K:null!=t&&null!=t.v}},DO:"Delete",jp:!0},{name:[2,3],K:function(t){return{K:null!=t}},ZN:!0,DO:[n,o.TZ]},{name:[14,9],K:function(t){return{K:null!=t}},ZN:!0,jp:!0},{name:[10,48],K:function(t){return{K:null!=t&&t._W(!1)}}},{name:[10,46],K:function(t){return{K:qr.Tw.CI(t)}}},{name:[10,16],DO:[h,l,o.St]},{name:[2,4],sub:Cl.aeb()},{name:[2,10,1]},{name:[2,10,0],jp:!0},{name:[12,87],sub:[{name:[12,62],K:function(t){return{K:null!=t}}},{name:[9,3],K:function(t){return{K:null!=t}}},{name:[10,31],K:function(t){return{K:null!=t&&0!=t.l7()[1].length}}}]},{name:[1,15],ZN:!0},{name:[12,79],ZN:!0,DO:[l,o.nW]},{name:[1,13],ZN:!0}],Au:[{_:mr.E.u,b:qr.bX,R:{d:"h_undoredo"}},{_:mr.E.u,b:qr.bX,R:{d:"h_stepfwd"}},{_:mr.E.u,b:qr.bX,R:{d:"h_stepbck"}},{_:mr.E.W,R:{d:mr.J.go,RB:"afw_fade"}},{_:mr.E.W,R:{d:mr.J.H0}},{_:mr.E.W,R:{d:mr.J.xH}},{_:mr.E.W,R:{d:mr.J.xH,l0:!0}},{_:mr.E.W,R:{d:mr.J.cf}},{_:mr.E.n$,R:{YY:"delete"}},{_:mr.E.W,R:{d:mr.J.go,RB:"fill"}},{_:mr.E.W,R:{d:mr.J.go,RB:"stroke"}},{_:mr.E.W,R:{d:mr.J.ms,b:qr.VQ}},{_:mr.E.u,b:qr.Hu,R:{d:"start",Fa:"rigidTransform"}},{_:mr.E.W,R:{d:mr.J.ms,b:qr.gc}},{sub:Cl.a00()},{_:mr.E.n$,R:{YY:"align",l5:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{_:mr.E.u,b:qr.ZD,R:{d:qi.au5}},{sub:[{_:mr.E.W,R:{d:mr.J.Aw,jm:0}},{_:mr.E.W,R:{d:mr.J.Aw,jm:1}},{_:mr.E.W,R:{d:mr.J.Aw,jm:2}}]},{_:mr.E.W,R:{d:mr.J.go,RB:"pmanager"}},{_:mr.E.W,R:{d:mr.J.go,RB:"preferences"}},{_:mr.E.W,R:{d:mr.J.go,RB:"locstor"}}]},{name:[0,2],items:[{name:[12,36],K:function(t){return{K:null!=t}},jp:!0,sub:[{name:"RGB",K:function(t){return null==t?{K:!1}:{Cc:null==t.add.fcmy,K:!0}}},{name:"CMYK",K:function(t){return null==t?{K:!1}:{Cc:null!=t.add.fcmy,K:!0}}}]},{name:[3],jp:!0,sub:function(){var t,e=[];for(t in ji.names)e.push({name:ji.names[t],ZN:null!=Ba[t],DO:ji.keys[t],jp:-1!=ji.lY.indexOf(t)}),"selc"==t&&(e.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],ZN:!0,jp:!0}),e.push({name:[19,7,0],DO:[l,n,o.GR],K:function(t){return{K:null!=t&&t._W(!1)}}}),e.push({name:[4,18],ZN:!0,K:function(t){return{K:null!=t&&t._W(!1)}}}));return e}()},{name:[4,16,0],K:function(t){return{K:null!=t&&t._W(!1)}}},{name:[4,16,1],K:function(t){return{K:null!=t&&t._W(!1)}}},{name:[4,16,2],K:function(t){return{K:null!=t&&t._W(!1)}},jp:!0},{name:[11,11,1],K:function(t){return{K:null!=t&&t._W(!1)}}},{name:[11,11,0],K:function(t){return{K:null!=t&&t._W(!1)}},jp:!0},{name:[11,3],ZN:!0,DO:[h,l,o.eB]},{name:[11,10],ZN:!0,DO:[h,l,o.uZ]},{name:[2,4],sub:[{name:["VAR0 90° ↻",[2,5]]},{name:["VAR0 90° ↺",[2,5]]},{name:["VAR0 180°",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],K:function(t){return{K:null!=t&&null!=t.v}}},{name:[11,12,0],K:function(t){return{K:null!=t}},DO:[l,o.W$],ZN:!0},{name:[11,12,2],K:function(t){return{K:null!=t}},jp:!0},{name:[2,12],K:function(t){return{K:null!=t&&t._W(!1)}},ZN:!0}],Au:[{sub:[{_:mr.E.u,b:qr.AZ,R:{d:"fcmy",k:0}},{_:mr.E.u,b:qr.AZ,R:{d:"fcmy",k:1}}]},{sub:function(){var t,e=[];for(t in ji.names)e.push({_:mr.E.u,b:qr.qH,R:{d:"start",ac:t}}),"selc"==t&&(e.push({_:mr.E.u,b:qr.Hu,R:{d:"start",Fa:"adaptCorrect"}}),e.push({_:mr.E.n$,R:{YY:"desaturate"}}),e.push({_:mr.E.u,b:qr.qH,R:{d:"start",ac:"matc"}}));return e}()},{_:mr.E.n$,R:{YY:"levels",l5:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{_:mr.E.n$,R:{YY:"levels",l5:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{_:mr.E.n$,R:{YY:"levels",l5:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{_:mr.E.W,R:{d:mr.J.go,RB:"rcolors"}},{_:mr.E.W,R:{d:mr.J.go,RB:"vbitmap"}},{_:mr.E.W,R:{d:mr.J.go,RB:"csize"}},{_:mr.E.W,R:{d:mr.J.go,RB:"isize"}},{sub:[{_:mr.E.n$,R:qr.Q.iI(!0,90)},{_:mr.E.n$,R:qr.Q.iI(!0,-90)},{_:mr.E.n$,R:qr.Q.iI(!0,-180)},{_:mr.E.n$,R:qr.Q.iI(!1,"Hrzn")},{_:mr.E.n$,R:qr.Q.iI(!1,"Vrtc")}]},{_:mr.E.u,b:qr.Nc,R:{d:"cropbysel",a32:0}},{_:mr.E.W,R:{d:mr.J.go,RB:"trim"}},{_:mr.E.n$,R:{YY:"revealAll",l5:{classID:"RvlA"}}},{_:mr.E.u,b:qr.qH,R:{d:"start",ac:"aply"}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3],DO:[n,l,o.bo]},{name:[0,4]},{name:"Artboard",ZN:!0},{name:"Artboard from Layers",ZN:!0,jp:!0},{name:[6,49,0],DO:[l,o.gG]},{name:[6,49,1],DO:[n,l,o.gG],K:function(t){return{K:null!=t&&null!=t.v&&t._W(!1)}}}]},{name:[6,0],K:t,DO:[l,o.gG]},{name:[11,4],K:t},{name:[5,4],K:t,jp:!0},{name:[11,6],jp:!0,K:t,sub:ss.dR(!0)},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],jp:!0,sub:ss.a6W()},{name:[6,2],sub:[{name:[6,4],K:function(t){return{K:null!=t&&0!=t.w.length&&null==t.g[t.w[0]].sL()}}},{name:[6,5,0],K:function(t){return{K:null!=t&&0!=t.w.length&&null==t.g[t.w[0]].sL()}}},{name:[6,5,1],K:function(t){return{K:null!=t&&0!=t.w.length&&null==t.g[t.w[0]].sL()&&null!=t.v}}},{name:[6,5,2],K:function(t){return{K:null!=t&&0!=t.w.length&&null==t.g[t.w[0]].sL()&&null!=t.v}}},{name:[6,5,3],K:function(t){return{K:null!=t&&0!=t.w.length&&null==t.g[t.w[0]].sL()}},jp:!0},{name:[5,4],K:function(t){return{K:null!=t&&0!=t.w.length&&null!=t.g[t.w[0]].sL()}}},{name:[5,8],K:function(t){return{K:null!=t&&0!=t.w.length&&null!=t.g[t.w[0]].sL()&&t._W(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],K:function(t){return{K:null!=t&&0!=t.w.length&&null!=t.g[t.w[0]].sL()}}}]},{name:[6,3],sub:[{name:[6,4],K:function(t){return{K:null!=t&&0!=t.w.length&&null==t.g[t.w[0]].add.vmsk}}},{name:[6,5,0],K:function(t){return{K:null!=t&&0!=t.w.length&&null==t.g[t.w[0]].add.vmsk}}},{name:"Current Path",K:function(t){return{K:null!=t&&0!=t.w.length&&null==t.g[t.w[0]].add.vmsk}},jp:!0},{name:[5,4],K:function(t){return{K:null!=t&&0!=t.w.length&&null!=t.g[t.w[0]].add.vmsk}}},{name:["VAR0/VAR1",[5,5],[5,6]],K:function(t){return{K:null!=t&&0!=t.w.length&&null!=t.g[t.w[0]].add.vmsk}}}]},eo.a2Q(!0),{name:[6,7,1],jp:!0,sub:[{name:[6,7,0]},{name:[6,36,4],K:e,sub:i},{name:[1,0],K:e,jp:!0},{name:"Turn into JPG"}]},{name:[6,8],K:eo.aqB},{name:[6,34],jp:!0,K:function(t){if(null==t||0==t.w.length)return{K:!1};t=t.g[t.w[0]];return{K:null!=t.add.lmfx&&!t.dH()}}},{name:[6,9],jp:!0,DO:[l,o.wK]},{name:[6,55],jp:!0,sub:[{name:[6,56,0],DO:[n,l,o.F_]},{name:[6,56,1],DO:[l,o.F_]},{name:[6,56,2],DO:[l,o.e_]},{name:[6,56,3],DO:[n,l,o.e_]}]},{name:[6,58],jp:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],DO:[l,o.E],K:function(t){var e=null==t?0:t.w.length;return{K:0!=e,yU:ri.get(1<e||1==e&&t.g[t.w[0]].dH()?[6,12,0]:[6,10])}}},{name:[6,12,1]},{name:"Defringe"}],Au:[{sub:[{_:mr.E.u,b:qr.ZD,R:{d:qi.cD}},{_:mr.E.u,b:qr.ZD,R:{d:qi.rk}},{_:mr.E.W,R:{d:mr.J.go,RB:"newartb",Zx:0}},{_:mr.E.W,R:{d:mr.J.go,RB:"newartb",Zx:1}},{_:mr.E.n$,R:{YY:"copyToLayer"}},{_:mr.E.n$,R:{YY:"cutToLayer"}}]},{_:mr.E.u,b:qr.ZD,R:{d:qi.PR}},{_:mr.E.W,R:{d:mr.J.go,RB:"duplinto"}},{_:mr.E.u,b:qr.ZD,R:{d:qi.hL}},{sub:ss.DQ(!0)},{sub:[{_:mr.E.u,b:qr.gW,R:{d:"newfill",A2:0}},{_:mr.E.n$,R:qr.zL.xq(1)},{_:mr.E.n$,R:qr.zL.xq(2)}]},{sub:ss.vr()},{sub:[{_:mr.E.u,b:qr.ZD,R:{d:qi.xo,Zx:"RvlA"}},{_:mr.E.u,b:qr.ZD,R:{d:qi.xo,Zx:"HdAl"}},{_:mr.E.u,b:qr.ZD,R:{d:qi.xo,Zx:"RvlS"}},{_:mr.E.u,b:qr.ZD,R:{d:qi.xo,Zx:"HdSl"}},{_:mr.E.u,b:qr.ZD,R:{d:qi.xo,Zx:"Trns"}},{_:mr.E.u,b:qr.ZD,R:{d:qi.BY}},{_:mr.E.u,b:qr.ZD,R:{d:qi.PN}},{_:mr.E.u,b:qr.ZD,R:{d:qi._v}}]},{sub:[{_:mr.E.u,b:qr.ZD,R:{d:qi.gA,a9Z:!1}},{_:mr.E.u,b:qr.ZD,R:{d:qi.gA,a9Z:!0}},{_:mr.E.u,b:qr.ZD,R:{d:qi.gA,adx:!0}},{_:mr.E.u,b:qr.ZD,R:{d:qi.m0}},{_:mr.E.u,b:qr.ZD,R:{d:qi.ds}}]},{_:mr.E.u,b:qr.ZD,R:{d:qi.io}},{sub:[{_:mr.E.n$,R:{YY:"newPlacedLayer"}},{sub:r},{_:mr.E.n$,R:{YY:"placedLayerEditContents",l5:{classID:"placedLayerEditContents"}}},{_:mr.E.u,b:qr.ZD,R:{d:qi.ab4}}]},{_:mr.E.n$,R:{YY:"rasterizeLayer",l5:{classID:"rasterizeLayer",null:Ui.S3("Lyr",!0)}}},{_:mr.E.u,b:qr.ZD,R:{d:qi.DM}},{_:mr.E.u,b:qr.ZD,R:{d:qi.t8}},{sub:[{_:mr.E.u,b:qr.ZD,R:{d:qi.eF,wp:0}},{_:mr.E.u,b:qr.ZD,R:{d:qi.eF,wp:1}},{_:mr.E.u,b:qr.ZD,R:{d:qi.eF,wp:2}},{_:mr.E.u,b:qr.ZD,R:{d:qi.eF,wp:3}}]},{sub:[{_:mr.E.u,b:qr.ZD,R:{d:qi.YN,wp:"makeframes"}},{_:mr.E.u,b:qr.ZD,R:{d:qi.YN,wp:"unmakeframes"}},{_:mr.E.u,b:qr.ZD,R:{d:qi.YN,wp:"merge"}}]},{_:mr.E.n$,R:{YY:"mergeLayersNew",l5:{__name:"Merge Layers",classID:"Mrg2"}}},{_:mr.E.n$,R:{YY:"flattenImage"}},{_:mr.E.u,b:qr.Hu,R:{d:"start",Fa:"defr"}}]},ql.a5J(!1),function(){for(var t={name:[0,6],items:[{name:[24,18,4],DO:[h,l,o.rM],jp:!0}],Au:[{_:mr.E.u,b:qr.Hu,R:{d:"applylast"}}]},e=0;e<Gr.KF.length;e++){var n=Gr.KF[e];if(null==n.k4){var i={name:n._l,sub:[]};t.items.push(i);var r={sub:[]};t.Au.push(r);for(var a=0;a<n.IF.length;a++){var s={name:Gr.names[n.IF[a]],ZN:null!=Gr.PD(n.IF[a])};i.sub.push(s);s={_:mr.E.u,b:qr.Hu,R:{d:"start",Fa:n.IF[a]}};r.sub.push(s)}}else t.items.push({name:Gr.names[n.k4],ZN:!0,jp:n.jp}),t.Au.push({_:mr.E.u,b:qr.Hu,R:{d:"start",Fa:n.k4}})}return t}(),{name:[0,7],items:[{name:[8,0],DO:[l,o.$t]},{name:[8,1],DO:[l,o.gr]},{name:[20,3],DO:[l,o.LU]},{name:[20,2],DO:[l,o.ZL],jp:!0},{name:"Screen Mode",jp:!0,sub:[{name:"Fullscreen",K:function(t,e){return{Cc:null!=document.fullscreenElement}},jp:!0},{name:"Standard",K:function(t,e){return{Cc:0==e.lc}}},{name:"Menu Bar and Canvas",K:function(t,e){return{Cc:1==e.lc}}}]},{name:[8,13],DO:[l,o.tK],K:function(t,e){return{Cc:e.Me}}},{name:[8,12],jp:!0,sub:[{name:[17,2],K:function(t,e){return{K:e.Me,Cc:e.jv.dm}}},{name:[8,9],K:function(t,e){return{K:e.Me,Cc:e.jv.Y3}}},{name:[8,2],K:function(t,e){return{K:e.Me,Cc:e.jv.p6}},DO:[l,o.kh]},{name:[8,4],K:function(t,e){return{K:e.Me,Cc:e.jv.NM}},DO:[l,o.wa]},{name:[8,8],K:function(t,e){return{K:e.Me,Cc:e.jv.HD}}},{name:[8,11,0],K:function(t,e){return{K:e.Me,Cc:e.jv.EQ}}}]},{name:[8,3],K:function(t,e){return{Cc:e.CO}},DO:[l,o.DG],jp:!0},{name:[8,5],K:function(t,e){return{Cc:e.Wo}}},{name:[8,6],jp:!0,sub:[{name:[8,2],K:function(t,e){return{Cc:e.cd[0]}}},{name:[8,4],K:function(t,e){return{Cc:e.cd[1]}}},{name:[9,1],K:function(t,e){return{Cc:e.cd[2]}}},{name:[8,11,0],K:function(t,e){return{Cc:e.cd[3]}}},{name:[8,7],K:function(t,e){return{Cc:e.cd[4]}}}]},{name:[11,15,2],K:function(t,e){return{K:null!=t,Cc:null!=t&&t.lU}}},{name:[11,15,0],K:function(t,e){return{K:null!=t}}},{name:[11,14],K:function(t,e){return{K:null!=t}},ZN:!0},{name:[11,15,1],K:function(t,e){return{K:null!=t&&0!=t.w.length}},jp:!0},{name:[8,11,2],K:function(t,e){return{K:null!=t&&0!=t.EQ.length}}}],Au:[{_:mr.E.u,b:qr.fz,R:{d:"zoom",qo:!0}},{_:mr.E.u,b:qr.fz,R:{d:"zoom",qo:!1}},{_:mr.E.u,b:qr.fz,R:{d:"adapt",k:"fitscr"}},{_:mr.E.u,b:qr.fz,R:{d:"adapt",k:"pixel"}},{sub:[{_:mr.E.W,R:{d:mr.J.W6,qO:!0}},{_:mr.E.W,R:{d:mr.J.W6,k:0}},{_:mr.E.W,R:{d:mr.J.W6,k:1}},{_:mr.E.W,R:{d:mr.J.W6,k:2}}]},{_:mr.E.W,R:{d:mr.J.ot,jm:Bi.ph}},{sub:[{_:mr.E.W,R:{d:mr.J.ot,jm:Bi.v$}},{_:mr.E.W,R:{d:mr.J.ot,jm:Bi.Im}},{_:mr.E.W,R:{d:mr.J.ot,jm:Bi.CL}},{_:mr.E.W,R:{d:mr.J.ot,jm:Bi.NU}},{_:mr.E.W,R:{d:mr.J.ot,jm:Bi.sD}},{_:mr.E.W,R:{d:mr.J.ot,jm:Bi.Zf}}]},{_:mr.E.W,R:{d:mr.J.ot,jm:Bi.wh}},{_:mr.E.W,R:{d:mr.J.ot,jm:Bi.Mo}},{sub:[{_:mr.E.W,R:{d:mr.J.ot,jm:Bi.VP,QX:0}},{_:mr.E.W,R:{d:mr.J.ot,jm:Bi.VP,QX:1}},{_:mr.E.W,R:{d:mr.J.ot,jm:Bi.VP,QX:2}},{_:mr.E.W,R:{d:mr.J.ot,jm:Bi.VP,QX:3}},{_:mr.E.W,R:{d:mr.J.ot,jm:Bi.VP,QX:4}}]},{_:mr.E.u,b:qr.AZ,R:{d:"lockguides"}},{_:mr.E.u,b:qr.AZ,R:{d:"gids",th:[[],[]]}},{_:mr.E.W,R:{d:mr.J.go,RB:"addguides"}},{_:mr.E.u,b:qr.AZ,R:{d:"gidsFromLayer"}},{_:mr.E.u,b:qr.bp,R:{d:"deleteAll"}}]},function(){for(var t={name:[0,8],items:[{name:[0,14],jp:!0,sub:[]}],Au:[{sub:[]}]},e=0;e<jl.My.length;e++){var i=jl.My[e],n=function(){var n=i.IZ.lV;return function(t,e){return{Cc:-1!=e.aa.indexOf(parseInt(n))}}}();(i.ZS?t.items[0].sub:t.items).push({name:i.IZ.name,K:n}),(i.ZS?t.Au[0].sub:t.Au).push({_:mr.E.W,R:{d:mr.J.R$,RB:i.IZ.lV}})}return t}(),function(){var t={name:[0,14],items:[],Au:[]},e={name:[0,9],sub:[]};t.items.push(e);var n={sub:[]};t.Au.push(n);for(var i=ri.aqo(),r=0;r<i.length;r++){var a=i[r],s=a.code,o=ri.nT(s);e.sub.push({name:a.name,DO:s,K:function(t,e){return{Cc:this.DO==ri.QW()}}}),n.sub.push({_:mr.E.W,R:{d:mr.J.ot,jm:Bi.yj,lang:o}})}e.sub.push({name:[0,12]}),n.sub.push({_:mr.E.W,R:{d:mr.J.Ih,link:"https://www.photopea.com/translate/"}});e={name:[0,15],sub:[]};t.items.push(e);n={sub:[]};t.Au.push(n);for(r=0;r<vr.Pc.length;r++)e.sub.push({name:vr.Pc[r].name,K:function(t,e){return{Cc:this.name==vr.Pc[e.t7].name}}}),n.sub.push({_:mr.E.W,R:{d:mr.J.ot,jm:Bi.So,t7:r}});return t.items.push({name:[0,17,6],K:function(t,e){return{K:null!=e.it}}}),t.Au.push({_:mr.E.W,R:{d:mr.J.aeK}}),t.items.push({name:[11,13]}),t.Au.push({_:mr.E.W,R:{d:mr.J.go,RB:"shortcuts"}}),t.items.push({name:[0,16],K:function(t){return{Cc:Br.jR,K:Br.EN}},jp:!0}),t.Au.push({_:mr.E.W,R:{d:mr.J.arx}}),t.items.push({name:"",K:function(t,e){return e.pn?{yU:"About",K:!0}:{yU:"",K:!1}}}),t.Au.push({_:mr.E.W,R:{d:mr.J.go,RB:"aboutpp"}}),t}()]}(),Gl.prototype=new Sr,Gl.prototype.z_=function(t){Date.now();var e=[],e="-"==t?[new qa,new Ga,new es,new os,new ds,new gs,new hs,new cs,new ls,new za,new ps,new vs,new Xa,new ns,new Ya,new ss,new Ka,new is,new bs,new rs,new Qa,new ws,new Va,new Ms,new ys,new ms,new Ss(!1),new Ss(!0),new Cs(0),new Cs(1),new $a,new ts,new Wa,new xs,new Ls,new ks,new Ts,new As,new Ja,new Es,new Os,new us("border",[7,9],"px"),new us("smoothness",[19,3,0],"px"),new us("expand",[7,4],"px"),new us("contract",[7,5],"px"),new us("feather",[7,6],"px"),new fs(0,"namewindow",[12,48]),new fs(2,"billto","Bill To"),new fs(1,"cornerradius",[12,94,0],"px",!0,!0),new fs(1,"scaleeffects","Scale Effects","%",!0),new fs(1,"doczoom","Zoom","%",!0)]:[new Za(t.slice(4))];this.a67(e),this.kp[t]=!0},Gl.prototype.a67=function(t){for(var e=this.fd,n=0;n<t.length;n++){var i=t[n];(i.parent=this).JV.push(i),this.zT(i),i.T(),e&&i.v1(e,Bi.MB),i.h(mr.E.Q7,this.qC,this)}},Gl.prototype.hi=function(t,e){this.vo=t,this.q$=e;for(var n=0;n<this.JV.length;n++)this.zT(this.JV[n])},Gl.prototype.T=function(){for(var t=0;t<this.JV.length;t++)this.JV[t].T()},Gl.prototype.NF=function(){return 0==this.bm.length?null:this.bm[this.bm.length-1]},Gl.prototype.L$=function(){for(var t=0;t<this.bm.length;t++)if(this.bm[t].L$())return!0;return!1},Gl.prototype.alz=function(t,e,n,i,r){var a=t.startsWith("afw_"),s=null;if(a||this.kp["-"]||this.z_("-"),a&&!this.kp[t]&&this.z_(t),"object"==typeof t)(s=t).atS(mr.E.Q7,this.qC)||s.h(mr.E.Q7,this.qC,this),s.parent=this;else for(var o=0;o<this.JV.length;o++)this.JV[o].id==t&&(s=this.JV[o]);this.L$()&&s.L$()?alert("Finish the current action first"):s.dE(e)&&(-1==this.bm.indexOf(s)?(0<=(a=this.bm.length-1)&&hr.Yq(this.bm[a].e,"wdisabled"),this.e.appendChild(s.e),this.bm.push(s),this.zT(s),s.Et(e,n,i,r)):"colorpicker"==t&&s.Et(e,n,i,r))},Gl.prototype.zT=function(t){var e,n,i=this.vo,r=this.q$,a=t._3(i,r);null!=a?n=a:(a=new Pr(0,0),null==(n=t.a68())&&(e=this.bm.indexOf(t)+1,n=i<450||r<450?new Pr(0,0):new Pr(150*e,150*e))),t.e.style.left=n.x+"px",t.e.style.top=this.e.offsetTop+n.y+"px",t.hi(this.vo-2*a.x,this.q$-2*a.y-34)},Gl.prototype.v1=function(t,e){this.fd=t;for(var n=0;n<this.JV.length;n++)this.JV[n].v1(t,e)},Gl.prototype.qC=function(t){var e=this.bm.pop();this.e.removeChild(e.e);e=this.bm.length-1;0<=e&&hr.dj(this.bm[e].e,"wdisabled"),this.oC.parentNode==this.e&&this.e.removeChild(this.oC)},window.onload=function(){document.body.appendChild((new _l).e)}}();